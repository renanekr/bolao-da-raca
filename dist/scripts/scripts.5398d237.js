"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(){angular.module("bolaosocialApp",["appCore","myBets","user","admin"]),angular.module("appCore",["ngMessages","ngResource","ngSanitize","ui.router","firebase","angulartics"]),angular.module("myBets",["ui.bootstrap"]),angular.module("user",[]),angular.module("admin",[])}(),function(){function a(a,b){a.registerUrl({"default":b.fbUrl,users:b.fbUrl+"users","public":b.fbUrl+"public",tournament:b.fbUrl+"tournament",tourconfig:b.fbUrl+"tournament/config",tourrank:b.fbUrl+"tournament/ranking",teams:b.fbUrl+"tournament/teams",matches:b.fbUrl+"tournament/matches",players:b.fbUrl+"tournament/players",leagues:b.fbUrl+"leagues",admin:b.fbUrl+"admin",pending:b.fbUrl+"admin/pending",promo:b.fbUrl+"promo"})}function b(a,b,c){b.otherwise("/dashboard"),a.state("app",{"abstract":!0,url:"",views:{navigation:{templateUrl:"views/navigation.html",controller:"NavigationController",controllerAs:"navigation"},content:{template:"<ui-view></ui-view>"}},resolve:{user:["$firebaseAuthService","userService",function(a,b){return a.$requireSignIn().then(function(a){return console.log("$stateProvider resolve"),b.getUser(a.uid)})}]}}).state("app.dashboard",{url:"/dashboard",templateUrl:"views/dashboard.html",controller:"DashboardController",controllerAs:"dashboard",params:{temporary:!1}}).state("app.myBets",{url:"/mybets",templateUrl:"views/bets.html",controller:"BetsController",controllerAs:"bets",params:{filter:!0}}).state("app.rules",{url:"/rules}",templateUrl:"views/rules.html"}).state("app.contact",{url:"/contact",templateUrl:"views/contact.html"})}function c(a,b){a.$on("$stateChangeError",function(a,c,d,e,f,g){"AUTH_REQUIRED"===g?b.go("login"):console.error(g)})}angular.module("appCore").constant("APP_CONFIG",{fbUrl:"https://bolao-da-raca-b8d39.firebaseio.com/",timeLimit:18e5,matchFields:["group","round","datetime","location","home","away"],teamFields:["longName","shortName","ISO","iconImg"],rules:{exactResult:9,exactResultBonus:3,resultDraw:4,winnerScore:6,loserScore:3,resultDifScore:1,result:3,matchBonusGoals:5},leagues:["Brasileirão Series A e B 2019","Brasileirão Serie B 2018"],currentLeague:["Brasileirão Series A e B 2019"],currentYear:["2019"],phases:["Fase 1","Fase 2","Fase 3","Fase 4","Fase 5","Fase 6","Fase 7"],startTime:15540876e5}).config(b).config(a).run(c),a.$inject=["$firebaseRefProvider","APP_CONFIG"],b.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"],c.$inject=["$rootScope","$state"]}(),function(){function a(a,b,c){var d=this;d.userService=b,d.user=c,d.state=a}angular.module("appCore").controller("NavigationController",a),a.$inject=["$state","userService","user"]}(),function(){function a(a,b,c,d){function e(a){var b=f.users.map(function(b){var c={};return c.name=b.name,c.league=b.league,c.uid=b.uid,b.bets&&b.bets.matches?(c.home=b.bets.matches[a.$id].home,c.away=b.bets.matches[a.$id].away,c.points=b.bets.matches[a.$id].points,console.log("prepUser",c)):c.points=0,c});return b}var f=this;f.current=a,f.user=b,f.users=c["public"],f.userList=e(a),f.now=(new Date).getTime(),b.league&&b.league.length&&(f.leagueFilter=b.league[0]),f.now<a.datetime-d.timeLimit?(a.status="open",f.sort="name",f.reverse=!1):a.result?(a.status="closed",f.sort="points",f.reverse=!0):(a.status="running",f.sort="name",f.reverse=!1),f.matchCss=function(a){var b="label-";switch(a){case 15:case 12:b+="success";break;case 9:b+="primary";break;case 6:b+="default";break;case 4:b+="info";break;case 3:b+="warning";break;default:b+="danger"}return b}}angular.module("appCore").controller("MatchController",a),a.$inject=["match","user","userService","APP_CONFIG"]}(),function(){function a(a,b,c,d,e,f){function g(a){try{var b=a.split("\n").map(function(a){var b=a.split(";");if(b.length!==f.teamFields.length)throw new Error("Número de campos incorreto!");var c={};return b.forEach(function(a,b){var d=f.teamFields[b];c[d]=a.trim()}),c});return x.teams.$loaded().then(function(a){return c.all(b.map(function(b){return a.$add(b)}))})}catch(d){return c.reject(d)}}function h(a){return x.teams.$loaded().then(function(b){var c=b.find(function(b){return b.shortName===a});return c})}function i(a){return x.teams.$loaded().then(function(b){var c=b.$indexFor(a.$id);return b[c]=a,b.$save(c)})}function j(a){return x.teams.$loaded().then(function(b){return b.$remove(a)})}function k(a,b){return x.players.$loaded().then(function(d){var e=a.map(function(a){if(a.length){var c={};return c.name=a.trim(),c.team=b.$id,d.$add(c)}});return c.all(e)})}function l(a){return x.players.$loaded().then(function(b){return b.$remove(a)})}function m(a){var b=u(a),d=void 0;try{d=b.map(function(a){return a=v(a),a=t(a),a.datetime=r(a.datetime),s(a),a})}catch(e){return c.reject(e)}return x.matches.$loaded().then(function(a){return d.forEach(function(b){a.$add(b)}),a})}function n(a){return x.matches.$loaded().then(function(b){return b.$getRecord(a)})}function o(a){return x.matches.$loaded().then(function(b){var c=b.$indexFor(a.$id);return b.$save(c)})}function p(){var a;console.log("getRankingLastUpdate"),x.ranking.$loaded().then(function(b){return a=b.$getRecord("lastUpdate").$value,console.log(a),a})}function q(a,b){var e=new RegExp("^[0-9].*[0-9]$");if(a.result={},b&&(b=b.trim()),!e.test(b)&&b){var f=new Error("O primeiro e último caractere do resultado devem ser o números");return c.reject(f)}return e.test(b)&&(b=b.split(""),a.result.home=b[0],a.result.away=b[b.length-1]),o(a).then(function(b){return d.updateUserScores(a)})}function r(a){var b=new Date(a);if("Invalid Date"===b)throw new Error("Formato de data inválido.");return b.getTime()}function s(a){var b=w(a.home.trim()),c=w(a.away.trim());if(!b||!c)throw find.home?(console.log(a.away+" não está na lista",a),new Error(a.away+" não está na lista (fora)")):(console.log(a.home+" não está na lista",a),new Error(a.home+" não está na lista (casa)"));a.home=b,a.away=c}function t(a){var b={};if(a.length===f.matchFields.length)return a.forEach(function(a,c){var d=f.matchFields[c];b[d]=a}),b;throw new Error("O número de colunas está incorreto.")}function u(a){return a.split("\n")}function v(a){return a.split(";")}function w(a){return x.teams.find(function(b){return b.shortName===a||b.longName===a?!0:!1})}var x={};return x.teams=a(b.teams),x.matches=a(b.matches),x.players=a(b.players),x.scores=a(b["public"]),x.config=a(b.tourconfig),x.ranking=a(b.tourrank),{data:x,addTeams:g,getTeam:h,saveTeam:i,removeTeam:j,addPlayers:k,removePlayer:l,uploadMatches:m,getMatch:n,saveMatch:o,updateResult:q,getRankingLastUpdate:p}}angular.module("appCore").factory("tournamentService",a),a.$inject=["$firebaseArray","$firebaseRef","$q","scoreService","userService","APP_CONFIG"]}(),function(){function a(a){function b(b,c,d){b.$watch(d.ebFocus,function(b){b?a(function(){c[0].focus(),c[0].selectionStart=0,c[0].selectionEnd=c[0].value.length},0):c[0].blur()})}return{restrict:"A",link:b}}angular.module("appCore").directive("ebFocus",a),a.$inject=["$timeout"]}(),function(){function a(){return function(a,b){var c=[];return a=a||[],a.forEach(function(a){a.team===b&&c.push(a)}),c}}function b(a){return function(b,c,d){var e=[];return b=b||[],d=d||(new Date).getTime(),c?(b.forEach(function(b){d<b.datetime-a.timeLimit&&!b.result&&e.push(b)}),e):(b.forEach(function(b){(d>b.datetime-a.timeLimit||b.result)&&e.push(b)}),e)}}function c(){return function(a){var b=[];return a=a||[],a.forEach(function(a){a.result||b.push(a)}),b}}function d(a){return function(a){var b=[];return a=a||[],a.forEach(function(a){a.result&&b.push(a)}),b}}function e(){return function(a,b){var c=[];return b?(a.forEach(function(a){if("object"===_typeof(a.league)){var d=a.league.find(function(a){return a===b});d&&c.push(a)}else"string"==typeof a.league&&a.league===b&&c.push(a)}),c):a}}angular.module("appCore").filter("team",a).filter("open",b).filter("noResult",c).filter("result",d).filter("league",e),b.$inject=["APP_CONFIG"],d.$inject=["APP_CONFIG"]}(),function(){function a(a,b,c,d,e){function f(b){return d.getUserList().then(function(c){if(b){var e=c.map(function(a){return g(a,b)});return a.all(e.map(function(b){return d.saveUser(b).then(function(c){return a.resolve(b)})}))}return a.resolve(c)}).then(function(b){var c=b.map(function(a){return k(a)});return a.all(c)}).then(function(b){return a.all(b.map(function(a){return d.saveUser(a)}))})}function g(a,b){return a.bets&&a.bets.matches?(a.bets.matches[b.$id]&&b.result?(a.bets.matches[b.$id].points=h(a,b.result,a.bets.matches[b.$id]),a.bets.matches[b.$id].exactResult=m):a.bets.matches[b.$id]&&(a.bets.matches[b.$id].points=null),a):a}function h(a,b,c){var d=0,e=0;if(m=!1,c){var f=i(b),g=i(c),h=j(b);j(c);e=parseInt(c.home)+parseInt(c.away),f===g&&(console.log("result"),d+=l.result),b.home===c.home&&b.away===c.away&&(console.log("exactResult",d),d+=e>=l.matchBonusGoals?l.exactResult+l.exactResultBonus:l.exactResult,m=!0),"draw"!=f&&m===!1?(console.log("NOT draw"),f===g&&b.home-b.away===c.home-c.away&&(console.log("diffScore"),d+=l.resultDifScore),console.log("placar",b[f],c[f]),f===g&&b[h][0]===c[h][0]&&(console.log("loserScore"),d+=l.loserScore),f===g&&b[f][0]===c[f][0]&&(console.log("winnerScore"),d+=l.winnerScore)):m===!1&&"draw"===i(b)&&"draw"===i(c)&&(console.log("incorrect draw"),d+=l.resultDraw),console.log("total score: "+d)}return d}function i(a){var b=void 0;return b=a.home>a.away?"home":a.home<a.away?"away":"draw"}function j(a){var b=void 0;return b="home"===i(a)?"away":"home"}function k(b){if(!b.uid){var c=new Error(b+" não tem uid!");return a.reject(c)}return d.getUserMatchBets(b.uid).then(function(c){var d=c.reduce(function(a,b){return b.points&&(a+=b.points),a},0),e=b.extraPoints||0;b.totalScore=d+e;var f=c.reduce(function(a,b){return b.exactResult&&a++,a},0);return b.exactResults=f,a.resolve(b)})}var l=e.rules,m=void 0;return{updateUserScores:f}}angular.module("appCore").factory("scoreService",a),a.$inject=["$q","$firebaseObject","$firebaseRef","userService","APP_CONFIG"]}(),function(){function a(a,b,c,d,e,f,g,h){function i(a){var b=new RegExp("^[0-9].*[0-9]$"),c=void 0,d=void 0;if(a=a.trim(),!b.test(a))throw new Error("O formato do palpite é inválido");return a=a.split(""),c=a[0],d=a[a.length-1],{home:c,away:d,updated:j.now}}var j=this;if(j.tour=e,j.user=f,j.users=c["public"],j.timeLimit=h.timeLimit,j.leagues=h.leagues,j.leagueFilter=h.currentLeague,j.promo=d.promo,j.betDefault="",j.betDefaultDate,j.betDefaultHist,j.betDefaultEdit=!1,j.phases=h.phases,j.now=(new Date).getTime(),b(function(){j.now=(new Date).getTime()},1e4),f&&(f.lastLogin=j.now,c.saveUser(f)),f.bets&&f.bets["default"]?(j.betDefault=f.bets["default"].home+"x"+f.bets["default"].away,j.betDefaultDate=f.bets["default"].updated,j.betDefaultHist=f.bets["default"].history||{}):(j.betDefaultEdit=!0,toastr.warning("Você não informou um palpite padrão!","Palpite Padrão")),f.league&&f.league.length&&(j.leagueFilter=f.league[0]),a.params.temporary){var k=g.open({templateUrl:"views/password_modal.html",controller:"PasswordController",controllerAs:"password",animation:!0,backdrop:"static",keyboard:!1,size:"sm",resolve:{user:function(){return f}}});k.result.then(function(a){toastr.success(a)})["catch"](function(a){console.error(a)})}if(!f.name){console.log("User name not found. Show welcome modal");var l=g.open({templateUrl:"views/welcome_modal.html",controller:"modalController",controllerAs:"modal",animation:!0,backdrop:"static",keyboard:!1,resolve:{user:function(){return f}}});l.result.then(function(a){toastr.success(a)})["catch"](function(a){console.error(a)})}j.showPromo=function(a,b){if(j.now<j.promo.validTo){var c=b.league.find(function(b){return a.league===b});return c}return!1},j.replyToPromo=function(a,b,c){d.addPromoReply(a,b,c).then(function(){toastr.success("Obrigado pelo feedback!")})["catch"](function(a){console.error(a)})},j.getObjSize=function(a){return null==a?0:Object.keys(a).length},j.changeTournament=function(a){console.log("changeTournament to",a),j.leagueFilter=a},j.filterRanking=function(a){j.users.forEach(function(b){var c=0;void 0!=b.bets&&Object.values(b.bets.matches).forEach(function(b){void 0!=b.points&&(b.group==a||"Todas"==a)&&(c+=b.points)}),b.score=c})},j.updateBetDefault=function(a){var b={},d={};if(j.user){if(b=i(a),j.user.bets){j.user.bets["default"]&&(d={away:j.user.bets["default"].away,home:j.user.bets["default"].home,updated:j.user.bets["default"].updated}),j.user.bets["default"]=j.user.bets["default"]||{},j.user.bets["default"].home=b.home,j.user.bets["default"].away=b.away,j.user.bets["default"].updated=b.updated;var e=void 0==j.user.bets["default"].history?0:Object.keys(j.user.bets["default"].history).length;0==e?j.user.bets["default"].history={0:d}:j.user.bets["default"].history[e]=d}else j.user.bets={"default":b};c.saveUser(f).then(function(){f&&(toastr.success("Palpite padrão salvo com sucesso!"),j.betDefaultEdit=!1)}),j.loadBetDefault(f.bets["default"])}},j.submitBetDefaultOnEnter=function(a,b){13===a.keyCode&&j.updateBetDefault(b)},j.loadBetDefault=function(a){a&&(j.betDefault=a.home+"x"+a.away,j.betDefaultDate=j.now)},j.matchCss=function(a){var b="label-";switch(a){case 15:case 12:b+="success";break;case 9:b+="primary";break;case 6:b+="default";break;case 4:b+="info";break;case 3:b+="warning";break;default:b+="danger"}return b}}angular.module("appCore").controller("DashboardController",a),a.$inject=["$state","$interval","userService","adminService","tournamentService","user","$uibModal","APP_CONFIG"]}(),function(){function a(a,b,c){var d=this;d.user=c,d.saveUser=function(d,e){if(!d)throw new Error("Nenhum nome informado");c.name=d,e&&(c.company=e),b.saveUser(c).then(function(b){a.close("Dados alterados com sucesso!")})}}angular.module("appCore").controller("modalController",a),a.$inject=["$uibModalInstance","userService","user"]}(),function(){function a(a,b,c){var d=this;d.user=c,console.log(d.user),d.turnOffAlert=function(c){console.log("turnOffAlert",c.alerts),c.alerts=c.alers||{},c.alerts.ruleAlert=!1,b.saveUser(c).then(function(b){a.close("Ok! Você não receberá mais notificações.")})},d.closeAlert=function(){a.close()}}angular.module("appCore").controller("RuleModalController",a),a.$inject=["$uibModalInstance","userService","user"]}(),function(){function a(a,b,c){var d=this;d.changePassword=function(d){var e={email:a.email,newPassword:d.password,oldPassword:d.tempPassword};b.changePassword(e).then(function(a){c.close("Elmentettük a jelszavadat!")})["catch"](function(a){console.error(a)})}}angular.module("appCore").controller("PasswordController",a),a.$inject=["user","userService","$uibModalInstance"]}(),function(){function a(a,b,c,d,e){var f=this,g=b;f.inputs={},f.matchBet={},f.now=(new Date).getTime(),f.data=g.data,f.user=c,f.timeLimit=e.timeLimit,f.startTime=e.startTime,f.onlyOpen=a.params.filter,f.now<f.startTime-f.timeLimit?c.bets&&c.bets.winner&&c.bets.topScorer?f.showTopForm=!1:f.showTopForm=!0:f.showTopForm=!1,f.addWinnerAndScorer=function(a){var b=(new Date).getTime();b<f.startTime-f.timeLimit?d.saveWinner(a,c).then(function(){toastr.success("Favorito salvo com sucesso!"),f.showTopForm=!1})["catch"](function(a){toastr.error(a.message)}):toastr.error("Você não pode mais palpitar no campeão e goleiro")},f.loadBets=function(){f.topForm={},f.topForm.winner=c.bets.winner,f.topForm.topScorer=c.bets.topScorer},f.updateBet=function(a,b){d.saveMatchBet(a,b,c).then(function(){a&&toastr.success("Palpite salvo com sucesso!"),f.inputs[b]=!1,f.matchBet[b]=void 0})["catch"](function(a){toastr.error(a.message),f.inputs[b]=!1,f.matchBet[b]=void 0})},f.submitBetOnEnter=function(a,b,c){console.log(b),13===a.keyCode&&f.updateBet(b,c)},f.loadMatchBet=function(a,b){a&&(f.matchBet[b]=a.home+"x"+a.away)}}angular.module("myBets").controller("BetsController",a),a.$inject=["$state","tournamentService","user","betService","APP_CONFIG"]}(),function(){function a(a,b,c,d){function e(a,c){return c.bets=c.bets||{},c.bets.winner=a.winner,c.bets.topScorer=a.topScorer,b.saveUser(c)}function f(e,f,h){return c.getMatch(f).then(function(c){var i=(new Date).getTime(),j=c.datetime,k=d.timeLimit,l=c.round,m=c.group;if(i>j-k){var n=new Error("O palpite para este jogo está encerrado.");return a.reject(n)}if(h.bets=h.bets||{},h.bets.matches=h.bets.matches||{},e){try{e=g(e,l,m)}catch(n){return a.reject(n)}h.bets.matches[f]=e}return b.saveUser(h)})}function g(a,b,c){var d=new RegExp("^[0-9].*[0-9]$"),e=void 0,f=void 0,g=void 0,h=void 0,i=void 0;if(a=a.trim(),!d.test(a))throw new Error("O formato é inválido");return a=a.split(""),e=a[0],f=a[a.length-1],g=b,h=c,i=(new Date).getTime(),{home:e,away:f,round:g,group:h,updated:i}}return{saveWinner:e,saveMatchBet:f}}angular.module("myBets").factory("betService",a),a.$inject=["$q","userService","tournamentService","APP_CONFIG"]}(),function(){function a(){return{require:"ngModel",link:b}}function b(a,b,c,d){d.$validators.listToValidate=function(b,e){var f=c.listToValidate,g=a.bets.data;if(d.$isEmpty(b))return!0;var h=g[f].find(function(a){return a.longName===e||a.name===e});return h?!0:!1}}angular.module("myBets").directive("listToValidate",a)}(),function(){function a(a){var b=this;b.user=a,b.loading=!1,b.login=function(c){c.email=c.email.toLowerCase(),b.loading=!0,a.login(c)["catch"](function(a){console.log(a),toastr.error(a.message),b.loading=!1})}}angular.module("user").controller("LoginController",a),a.$inject=["userService"]}(),function(){function a(a){var b=this;b.loading=!1,b.registerUser=function(c,d){b.loading=!0;var e={email:c.toLowerCase(),password:d};a.register(e)["catch"](function(a){"IE Object doesn't support property or method 'find'"===a&&(b.errorMessage="O sistema não é suportado neste navegador. Entre com Chrome ou o Firefox!"),b.loading=!1,toastr.error(a.message),console.error(a)})}}angular.module("user").controller("UserRegisterController",a),a.$inject=["userService"]}(),function(){function a(a,b,c){var d=this;d.user=b,d.form={},d.editParam=function(a){d.form[a]=b[a]},d.saveParam=function(a,e){e&&e!==b[a]&&(b[a]=e,c.saveUser(b).then(function(a){toastr.success("Dados salvos com sucesso!")})["catch"](function(a){toastr.error(a.message)})),d.form[a]=!1},d.deleteProfile=function(d){var e={email:b.email,password:d};c.login(e).then(function(){var d=a.confirm("Tem certeza de que deseja se excluir? Com isso, todos os seus palpites e resultados serão perdidos.");return d?c.removeUser(e,b):void(profile.showPassword=!1)})["catch"](function(a){toastr.error(a.message)})},d.changePassword=function(a){var e={email:b.email,newPassword:a.password,oldPassword:a.oldPassword};c.changePassword(e).then(function(a){toastr.success("Senha alterada com sucesso."),d.showPasswordChange=!1})["catch"](function(a){console.error(a)})},d.reset=function(a){a.$setPristine(),a.$setUntouched()}}angular.module("user").controller("ProfileController",a),a.$inject=["$window","user","userService"]}(),function(){function a(a,b,c,d){var e=this,f=c;e.user=a,e.matches=f.data.matches,e.now=(new Date).getTime(),e.start=d.startTime,e.matchCss=function(a){var b="label-";switch(a){case 15:case 12:b+="success";break;case 9:b+="primary";break;case 6:b+="default";break;case 4:b+="info";break;case 3:b+="warning";break;default:b+="danger"}return b}}angular.module("user").controller("PublicController",a),a.$inject=["currentUser","userService","tournamentService","APP_CONFIG"]}(),function(){function a(a,b){var c=this;c.resetPassword=function(c){b.resetPassword({email:c}).then(function(b){toastr.success("Sua nova senha foi enviada por e-mail."),a.go("login")})["catch"](function(a){"The specified user does not exist."===a.message?toastr.error("E-mail não cadastado no bolão"):console.error(a)})}}angular.module("user").controller("ResetPasswordController",a),a.$inject=["$state","userService"]}(),function(){function a(a,b,c,d,e,f,g,h){function i(a){return u.$loaded().then(function(b){return b.$getRecord(a)})}function j(b){var d=firebase.database().ref("users/"+b+"/bets/matches"),e=c(d);if(e)return e.$loaded();var f="Falha ao carregar palpites";return a.reject(f)}function k(){return u.$loaded()}function l(a){console.log("userService.login",a);var b=new Date;return t.$signInWithEmailAndPassword(a.email,a.password).then(function(a){return console.log("data",a),i(a.uid)}).then(function(a){return console.log("user",a),a?(a.lastLogin=b.getTime(),p(a)):void 0})}function m(){t.$signOut()}function n(a,c,d,f){var g=b(e.users);return g.$loaded().then(function(b){var e=new Date,g={email:c,name:d,createdAt:e.getTime(),admin:!1,active:!0,uid:a,league:[f],totalScore:0,extraPoints:0,exactResults:0};return b[a]=g,b.$save()}).then(function(a){return v.$loaded()}).then(function(b){return b.$add({uid:a,email:c,active:!0,league:[f],score:0})})}function o(c){var d=void 0,f=void 0,g=void 0;return h.getPendingList().then(function(b){if(g=b,f=b.find(function(a){var b=a.email.toLowerCase();return b===c.email}))return t.$createUserWithEmailAndPassword(c.email,c.password);var d=new Error("Você não pode se registrar com este endereço de e-mail. Entre em os organizadores (Renan ou Betão)!");return a.reject(d)}).then(function(a){return d=a.uid,t.$signInWithEmailAndPassword(c.email,c.password)}).then(function(){g.$remove(f);var a=b(e.users);return a.$loaded()}).then(function(a){var b=new Date,e={email:c.email,createdAt:b.getTime(),admin:!1,active:!0,uid:d,league:[f.league]};return a[d]=e,a.$save()}).then(function(a){return v.$loaded()}).then(function(a){return a.$add({uid:d,email:newEmail,active:!0,league:[f.league],score:0,exactResults:0})})}function p(a){return u.$save(a).then(function(a){return v.$loaded()}).then(function(b){var c=b.find(function(b){return b.uid===a.uid});return c?(c.name=a.name||null,c.score=a.totalScore||0,c.exactResults=a.exactResults,c.league=a.league,c.bets=a.bets||null,c.email=a.email||null,c.active=a.active||!1,b.$save(c)):b.$add({name:a.name||null,uid:a.uid,score:a.totalScore||0,exactResults:a.exactResults||0,league:a.league,bets:a.bets||null,email:a.email||null,active:a.active||!0})})}function q(a,b){return u.$remove(b).then(function(){return v.$loaded()}).then(function(a){var c=a.find(function(a){return a.uid===b.uid});return a.$remove(c)}).then(function(){return t.$deleteUser()})}function r(a){return t.$sendPasswordResetEmail(a.email)}function s(a){return t.$updatePassword(a.newPassword)}var t=d,u=c(e.users),v=c(e["public"]);return t.$onAuthStateChanged(function(a){a?("login"===f.current.name||"register"===f.current.name)&&f.go("app.dashboard",{temporary:!1}):f.go("login")}),{"public":v,login:l,logout:m,register:o,getUser:i,createUser:n,getUserMatchBets:j,saveUser:p,removeUser:q,getUserList:k,resetPassword:r,changePassword:s}}angular.module("user").factory("userService",a),a.$inject=["$q","$firebaseObject","$firebaseArray","$firebaseAuthService","$firebaseRef","$state","APP_CONFIG","adminService"]}(),function(){function a(a){a.state("app.profile",{url:"/profile",templateUrl:"views/profile.html",controller:"ProfileController",controllerAs:"profile"}).state("app.public",{url:"/public/:uid",templateUrl:"views/public_profile.html",controller:"PublicController",controllerAs:"public",params:{uid:null},resolve:{currentUser:["$stateParams","userService",function(a,b){return b["public"].$loaded().then(function(b){return b.find(function(b){return b.uid===a.uid})})}]}}).state("app.match",{url:"/match/:matchId",templateUrl:"views/match.html",controller:"MatchController",controllerAs:"match",resolve:{match:["$stateParams","tournamentService",function(a,b){return b.getMatch(a.matchId)}]}}).state("login",{url:"/login",views:{content:{templateUrl:"views/login.html",controller:"LoginController",controllerAs:"login"}}}).state("register",{url:"/register",views:{content:{templateUrl:"views/register.html",controller:"UserRegisterController",controllerAs:"register"}}}).state("reset",{url:"/reset",views:{content:{templateUrl:"views/reset.html",controller:"ResetPasswordController",controllerAs:"reset"}}})}angular.module("user").config(a),a.$inject=["$stateProvider"]}(),function(){function a(a){var b=this;b.state=a}angular.module("admin").controller("AdminController",a),a.$inject=["$state"]}(),function(){function a(a){a.state("app.admin",{url:"/admin",templateUrl:"views/admin.html",controller:"AdminController",controllerAs:"admin",resolve:{admin:["$q","user",function(a,b){return b.admin?a.resolve(!0):a.reject("Sem acesso de Administrador!")}]}}).state("app.admin.teamList",{url:"/teams",templateUrl:"views/teams.html",controller:"TeamsController",controllerAs:"teams"}).state("app.admin.teamDetails",{url:"/teams/:team",templateUrl:"views/teamdetails.html",controller:"TeamDetailsController",controllerAs:"team",resolve:{team:["tournamentService","$stateParams",function(a,b){return a.getTeam(b.team)}]}}).state("app.admin.matches",{url:"/matches",templateUrl:"views/matches.html",controller:"MatchesController",controllerAs:"matches"}).state("app.admin.participants",{url:"/participants",templateUrl:"views/participants.html",controller:"ParticipantsController",controllerAs:"participants",resolve:{userList:["userService",function(a){return a.getUserList()}],pendingList:["adminService",function(a){return a.getPendingList()}]}}).state("app.admin.ranking",{url:"/ranking",templateUrl:"views/ranking.html",controller:"RankingController",controllerAs:"ranking",resolve:{userList:["userService",function(a){return a.getUserList()}],pendingList:["adminService",function(a){return a.getPendingList()}]}}).state("app.admin.configuration",{url:"/config",templateUrl:"views/configuration.html",controller:"ConfigController",controllerAs:"config"})}angular.module("admin").config(a),a.$inject=["$stateProvider"]}(),function(){function a(a){var b=this,c=a;b.data=c.data,b.disableUpload=!1,b.reset=function(a){b.form={},a.$setPristine(),a.$setUntouched()},b.upload=function(a,d){c.addTeams(a).then(function(a){a&&(toastr.success("Equipes importadas com sucesso"),b.uploadForm=!1,b.reset(d))})["catch"](function(a){toastr.error(a)})}}angular.module("admin").controller("TeamsController",a),a.$inject=["tournamentService"]}(),function(){function a(a){var b=this,c=a;b.uploadForm=!1,b.data=c.data,b.table={},b.table.sortColumn="datetime",b.table.reverse=!1,b.table.editDate=!1,b.table.editResult=!1,b.reset=function(a){b.form={},a.$setPristine(),a.$setUntouched()},b.upload=function(a,d){c.uploadMatches(a).then(function(a){a&&(toastr.success("Jogos importados com sucesso!"),b.uploadForm=!1,b.reset(d))})["catch"](function(a){toastr.error(a.message)})},b.updateResult=function(a,d){c.updateResult(a,d).then(function(c){d?(toastr.success(a.home.longName+" x "+a.away.longName+" resultado do jogo: "+a.result.home+"x"+a.result.away),b.table.result[a.$id]=null):toastr.success(a.home.longName+"-"+a.away.longName+" resultado da partida excluído."),b.table.editResult=!1})["catch"](function(a){console.log(a),toastr.error("ERROR: "+a.message)})},b.updateResults=function(){c.data.matches.forEach(function(a){var b=a.result?a.result.home+a.result.away:null;c.updateResult(a,b).then(function(b){toastr.success(a.home.longName+" x "+a.away.longName+" resultado do jogo: "+a.result.home+"x"+a.result.away)})})}}angular.module("admin").controller("MatchesController",a),a.$inject=["tournamentService"]}(),function(){function a(a,b,c,d,e,f,g){var h=this;h.players=b,h.pending=c,h.leagues=g.leagues,h.orderBy="name",h.reverse=!1,h.leagueFilter=h.leagues[0],h.promo=e.promo,h.players.forEach(function(a,b){console.log(b,a.name,a.league)}),h.activateUser=function(a){var b;a.active=!a.active,b=a.active?"ativado":"inativado",d.saveUser(a).then(function(){toastr.success(a.email+" foi "+b+".")})["catch"](function(a){toastr.error(a)})},h.adminUser=function(a){var b;a.admin=!a.admin,b=a.admin?"tornou-se":"NÃO é mais",d.saveUser(a).then(function(){toastr.success(a.email+" "+b+" administrador.")})["catch"](function(a){toastr.error(a)})},h.addNewEmails=function(a,b){if(a){a=a.replace(/\n/g,"");var c=a.trim().split(","),d=c.map(function(a){return a.toLowerCase()});e.addNewEmails(d,b).then(function(a){a.length?(toastr.success(a.length+" novos endereços adicionados à fila"),h.form.newEmails=void 0,h.showAddEmails=!1):toastr.warning(a.length+" um novo título foi adicionado à lista de espera")})["catch"](function(a){console.error(a)})}},h.addNewParticipant=function(a,b,c,e){d.createUser(a,b,c,e).then(function(a){toastr.success("Usuário "+c+" adicionado com sucesso!"),h.form.uid=void 0,h.form.email=void 0,h.form.name=void 0,h.showAddParticipant=!1})["catch"](function(a){console.error(a)})},h.deletePending=function(a){e.deletePending(a).then(function(b){toastr.success(a.email+" cancelado")})["catch"](function(a){console.error(a)})},h.checkLeague=function(a,b){return a.league&&a.league.length?a.league.find(function(a){return a===b}):!1},h.addLeague=function(a,b){a.league=a.league||[],a.league.push(b),d.saveUser(a,!1).then(function(){toastr.success(a.name+" a "+b+" tornou-se um membro")})["catch"](function(a){toastr.error(a)})},h.addExtraPoints=function(a,b){a.extraPoints=a.extraPoints||0,a.extraPoints+=b,a.extraPoints<7?d.saveUser(a).then(function(){return f.updateUserScores()}).then(function(){console.log("Recalculated")})["catch"](function(a){console.error(a)}):toastr.error("Máximo 6 pontos extras permitidos")}}angular.module("admin").controller("ParticipantsController",a),a.$inject=["$window","userList","pendingList","userService","adminService","scoreService","APP_CONFIG"]}(),function(){function a(a,b,c,d,e,f){var g=this;g.players=b,g.leagues=f.leagues,g.orderBy="name",g.reverse=!1,g.phases=f.phases,g.userBets={},g.getObjSize=function(a){return null==a?0:Object.keys(a).length},g.filterRanking=function(a){g.players.forEach(function(b){var c=0;void 0!=b.bets&&Object.values(b.bets.matches).forEach(function(b){void 0!=b.points&&(b.group==a||"Todas"==a)&&(c+=b.points)}),b.totalScore=c})},g.resetRanking=function(){g.players.forEach(function(a){console.log(a.totalScore),a.totalScore=0,c.saveUser(a)})}}angular.module("admin").controller("RankingController",a),a.$inject=["$window","userList","userService","adminService","scoreService","APP_CONFIG"]}(),function(){function a(a,b,c,d){var e=this;e.tour=d.data.config,e.user=b,e.form={},e.editParam=function(a){},e.saveParam=function(a,d){d&&d!==b[a]&&(b[a]=d,c.saveUser(b).then(function(a){toastr.success("Configurações salvas!")})["catch"](function(a){toastr.error(a.message)})),e.form[a]=!1},e.changePassword=function(a){var d={email:b.email,newPassword:a.password,oldPassword:a.oldPassword};c.changePassword(d).then(function(a){toastr.success("Elmentettük az új jelszavadat"),e.showPasswordChange=!1})["catch"](function(a){console.error(a)})},e.reset=function(a){a.$setPristine(),a.$setUntouched()}}angular.module("admin").controller("ConfigController",a),a.$inject=["$window","user","userService","tournamentService"]}(),function(){function a(){return{require:"ngModel",link:b}}function b(a,b,c,d){d.$validators.duplicate=function(c,e){var f=b.context.name,g=a.teams.data.teams;if(d.$isEmpty(c))return!0;var h=g.find(function(a){return a[f]===e});return h?!1:!0}}angular.module("admin").directive("duplicate",a)}(),function(){function a(a,b){var c=this,d=b;c.current=a,c.data=d.data,c.addPlayers=function(a,b){var c=b.trim().split(",");d.addPlayers(c,a).then(function(b){toastr.success(a.longName+": "+b.length+" jogador adicionado")})["catch"](function(a){toastr.error(a)})},c.removePlayer=function(a){d.removePlayer(a).then(function(){toastr.success(a.name+" excluído")})["catch"](function(a){toastr.error(a)})},c.reset=function(a){c.form={},a.$setPristine(),a.$setUntouched()}}angular.module("admin").controller("TeamDetailsController",a),a.$inject=["team","tournamentService"]}(),function(){function a(a,b,c,d){function e(b,c){var d=[];return i.$loaded().then(function(e){return b.forEach(function(a){a=a.trim();var b=/^.*@.*\..*$/,f=e.find(function(b){
return b.email===a});b.test(a)&&!f&&d.push(e.$add({email:a,league:c}))}),a.all(d)})}function f(){return i.$loaded()}function g(a){return i.$remove(a)}function h(a,b,c){return j.$loaded().then(function(d){return d.users=d.users||{},d.users[b.uid]=d.users[b.uid]||{},d.users[b.uid][a.id]=c,d.$save()})}var i=b(d.pending),j=c(d.promo);return{addNewEmails:e,getPendingList:f,deletePending:g,promo:j,addPromoReply:h}}angular.module("admin").factory("adminService",a),a.$inject=["$q","$firebaseArray","$firebaseObject","$firebaseRef"]}(),angular.module("bolaosocialApp").run(["$templateCache",function(a){a.put("views/admin.html",'<div class="container"> <ul class="nav nav-tabs"> <!-- <ul class="nav nav-pills"> --> <li role="presentation" ng-class="{\'active\': admin.state.current.name == \'app.admin.matches\'}"> <a ui-sref="app.admin.matches">Partidas</a></li> <li role="presentation" ng-class="{\'active\': admin.state.current.name == \'app.admin.teamList\' || admin.state.current.name == \'app.admin.teamDetails\'  }"> <a ui-sref="app.admin.teamList">Equipes</a></li> <li role="presentation" ng-class="{\'active\': admin.state.current.name == \'app.admin.participants\'}"> <a ui-sref="app.admin.participants">Participantes</a></li> <li role="presentation" ng-class="{\'active\': admin.state.current.name == \'app.admin.ranking\'}"> <a ui-sref="app.admin.ranking">Ranking</a></li> <li role="presentation" ng-class="{\'active\': admin.state.current.name == \'app.admin.configuration\'}"> <a ui-sref="app.admin.configuration">Configurações</a></li> </ul> </div> <div class="inner-content"> <ui-view></ui-view> </div>'),a.put("views/bets.html",'<div class="container"> <!-- Winner form --> <!--\n	<div class="jumbotron" ng-if = "bets.showTopForm">\n		<div class="row">\n			<div class="col-xs-12">\n				<form class="" name="topForm" ng-submit="bets.addWinnerAndScorer(bets.topForm)" autocomplete="off">\n					<div class="form-group col-xs-12">\n						<h2>Tippeld meg a győztest és a gólkirályt!</h2>\n					</div>\n					<div class="form-group col-xs-12 col-sm-6" ng-class="{\'has-error\': topForm.winner.$invalid && topForm.winner.$touched}">\n						<input\n							required\n							name="winner"\n							list-to-validate = "teams" \n							type="text" \n							class="form-control input-lg" \n							uib-typeahead="team as team.longName for team in bets.data.teams | filter: {longName: $viewValue}" \n							ng-model="bets.topForm.winner"\n							placeholder="Győztes"\n							ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 300, \'blur\': 0 } }">\n						<div ng-messages = "topForm.winner.$error" ng-if="topForm.winner.$touched">\n							<p class="help-block" ng-message="required">Ne felejtsd el megadni a győztest</p>\n							<p class="help-block" ng-message="listToValidate">Nincs ilyen csapat az adatbázisban</p>\n						</div>\n					</div>\n					<div class="form-group col-xs-12 col-sm-6" ng-class="{\'has-error\': topForm.scorer.$invalid && topForm.scorer.$touched}">\n						<input \n							required\n							name="scorer"\n							type="text" \n							class="form-control input-lg"\n							ng-model="bets.topForm.topScorer"\n							placeholder="Gólkirály"\n							ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 300, \'blur\': 0 } }">\n						<div ng-messages = "topForm.scorer.$error" ng-if="topForm.scorer.$touched">\n							<p class="help-block" ng-message="required">Ne felejtsd el megadni a gólkirályt</p>\n						</div>\n					</div>\n					<div class="form-group col-xs-12 col-sm-12">\n						<p class="help-block">Ezeket a tippeket az első meccs kezdetéig még akármikor módosíthatod.</p>\n					</div>\n					<div class="form-group col-xs-12 col-sm-12">\n						<span class="pull-right">\n							<button type="reset" class="btn btn-lg btn-default" ng-click = "bets.showTopForm = false">Mégse</button>\n							<button type="submit" class="btn btn-lg btn-primary" ng-disabled="topForm.$invalid">Mentés</button>\n						</span>\n					</div>\n				</form>\n			</div>\n		</div>\n	</div>\n--> <!-- Winner bets --> <!--\n	<div class="row" ng-if="!bets.showTopForm">\n\n		<div class="col-xs-12 well" ng-show="bets.user.bets.winner || bets.user.bets.topScorer">\n			<strong ng-show="bets.user.bets.winner || bets.user.bets.topScorer">Favoritok:</strong> \n			<span ng-show="bets.user.bets.winner">\n				<span class="flag-icon" ng-class="{\'flag-icon-{{bets.user.bets.winner.ISO}}\': true}"></span> <strong>{{bets.user.bets.winner.longName}}</strong> lesz az Európa-bajnok, és\n			</span>\n			<span ng-show="bets.user.bets.topScorer">\n				<strong>{{bets.user.bets.topScorer}}</strong> a gólkirály.\n			</span>\n			<a ng-show="bets.now < bets.startTime - bets.timeLimit" href class="pull-right" ng-click="bets.showTopForm = true; bets.loadBets()">Módosítom</a>\n		</div>\n	--> <!-- Empty state --> <!--\n		<div class="alert alert-danger" ng-hide="bets.user.bets.winner || bets.user.bets.topScorer || bets.now > bets.startTime - bets.timeLimit">\n			<span>\n				Nem tippeltél a győztesre és a gólkirályra! \n			</span>\n			<a href class="alert-link" ng-click="bets.showTopForm = true">Kattints ide a tippeléshez!</a>\n		</div>\n	</div>\n--> <!-- Match bets --> <div class="row"> <div class="col-xs-12"> <ul class="nav nav-tabs"> <li role="presentation" ng-class="{\'active\': bets.onlyOpen}"> <a href ng-click="bets.onlyOpen = true">Meus Palpites</a> </li> <li role="presentation" ng-class="{\'active\': !bets.onlyOpen}"> <a href ng-click="bets.onlyOpen = false">Jogos Encerrados</a> </li> </ul> </div> <div class="col-xs-12"> <h3 ng-show="bets.onlyOpen"><small>Você pode alterar seus palpites até <b>{{bets.timeLimit / 60000}} minutos</b> antes do início da partida. Clique no campo ao lado do jogo para alterá-lo!</small></h3> <h3 ng-hide="bets.onlyOpen"><small>Você não pode mais mudar estes palpites. Quando o resultado de partida for lançado, você verá a sua pontuação.</small></h3> </div> <div class="col-xs-12 match-block" ng-repeat="match in bets.data.matches | orderBy: \'datetime\' : !bets.onlyOpen | open: bets.onlyOpen : bets.now"> <div class="col-sm-9"> <h4> <span class="label label-info" ng-show="bets.now < match.datetime - bets.timeLimit && !match.result"><span class="glyphicon glyphicon-pencil"></span> Aberto</span> <span class="label label-default" ng-show="bets.now > match.datetime - bets.timeLimit && !match.result"><span class="glyphicon glyphicon-ban-circle"></span> Fechado</span> <span class="label label-primary" ng-show="match.result"><span class="glyphicon glyphicon-ok"></span> Resultado</span> <small ng-show="bets.now < match.datetime - bets.timeLimit && !match.result"> {{match.datetime | date: \'dd/MM H:mm\'}}</small> <!-- <small> {{match.datetime | date: \'dd/MM H:mm\'}}</small> --> </h4> </div> <div class="col-sm-9 hidden-xs"> <h3> <small>{{match.group}} | {{match.round}} | {{match.location}}</small> <br> <span ng-show="match.home.ISO!=\'\'" class="flag-icon" ng-class="{\'flag-icon-{{match.home.ISO}}\': true}"></span> <img ng-show="match.home.iconImg!=\'\'" class="teamIcon30" ng-src="images/teams/{{match.home.iconImg}}"> {{match.home.longName}} x {{match.away.longName}} <img ng-show="match.away.iconImg!=\'\'" class="teamIcon30" ng-src="images/teams/{{match.away.iconImg}}"> <span ng-show="match.away.ISO!=\'\'" class="flag-icon" ng-class="{\'flag-icon-{{match.away.ISO}}\': true}"></span> </h3> </div> <div class="col-sm-9 visible-xs-block text-center"> <h3> <small>{{match.group}} | {{match.round}} | {{match.location}}</small> <br> <span ng-show="match.home.ISO!=\'\'" class="flag-icon" ng-class="{\'flag-icon-{{match.home.ISO}}\': true}"></span> <img ng-show="match.home.iconImg!=\'\'" class="teamIcon30" ng-src="images/teams/{{match.home.iconImg}}"> {{match.home.longName}} <br> x <br> <img ng-show="match.away.iconImg!=\'\'" class="teamIcon30" ng-src="images/teams/{{match.away.iconImg}}"> <span ng-show="match.away.ISO!=\'\'" class="flag-icon" ng-class="{\'flag-icon-{{match.away.ISO}}\': true}"></span> {{match.away.longName}} </h3> </div> <div class="col-xs-12 col-sm-3 text-center"> <h3 ng-hide="bets.now > match.datetime - bets.timeLimit || match.result"> <small ng-show="bets.user.bets.matches[match.$id]"> Alterar Palpite</small> <br> <a href ng-click="bets.inputs[match.$id] = true; bets.loadMatchBet(bets.user.bets.matches[match.$id], match.$id)" ng-hide="bets.inputs[match.$id]"> <span ng-show="bets.user.bets.matches[match.$id]"> {{bets.user.bets.matches[match.$id].home}} x {{bets.user.bets.matches[match.$id].away}} </span> </a> <small ng-show="!bets.user.bets.matches[match.$id]">Informe o Palpite</small> <input ng-if="bets.inputs[match.$id] || !bets.user.bets.matches[match.$id]" name="matchBet" size="3" class="form-control bet-input" type="text" eb-focus="bets.inputs[match.$id]" ng-model="bets.matchBet[match.$id]" ng-blur="bets.updateBet(bets.matchBet[match.$id], match.$id)" placeholder="Formato: 0x0" ng-keypress="bets.submitBetOnEnter($event, bets.matchBet[match.$id], match.$id)"> </h3> <small ng-show="bets.user.bets.matches[match.$id]">(Atualizado em: <b>{{bets.user.bets.matches[match.$id].updated | date: \'dd/MM/yyyy HH:mm:ss\'}}</b>)</small> <h3 ng-show="bets.now > match.datetime - bets.timeLimit && !match.result"> <span ng-show="bets.user.bets.matches[match.$id]"> <small>Palpite: {{bets.user.bets.matches[match.$id].home}} x {{bets.user.bets.matches[match.$id].away}} </small> <button type="button" ui-sref="app.match({matchId: match.$id})" class="btn btn-warning btn-xs">Ver Todos os Palpites</button> </span> <small ng-hide="bets.user.bets.matches[match.$id]">(Não palpitou)</small> </h3> <h3> <span class="label label-success" ng-show="bets.user.bets.matches[match.$id].points"><span class="glyphicon glyphicon-ok"></span> {{bets.user.bets.matches[match.$id].points}} pontos</span> <span class="label label-default" ng-hide="bets.user.bets.matches[match.$id].points || !match.result"><span class="glyphicon glyphicon-remove"></span> 0 pontos</span> </h3> </div> <div class="col-xs-12"> <h5 ng-show="match.result" class="help-block"> {{match.result.home}} x {{match.result.away}} <span ng-show="bets.user.bets.matches[match.$id]"> (Palpite: {{bets.user.bets.matches[match.$id].home}} x {{bets.user.bets.matches[match.$id].away}}) </span> <span ng-hide="bets.user.bets.matches[match.$id]">(Não palpitou)</span> <!-- <a ui-sref="app.match({matchId: match.$id})"> --> <button type="button" ui-sref="app.match({matchId: match.$id})" class="btn btn-warning btn-xs">Ver Todos os Palpites</button> <!-- </a> --> </h5> </div> </div> </div> </div>'),a.put("views/configuration.html",'<div class="container"> <div class="row"> <div class="col-xs-12"> <h3>Configurações</h3> <hr> <h5> <span class="glyphicon glyphicon-user text-info"></span> <strong>Limite para Palpitar</strong> </h5> <span ng-hide="config.betTimeLimit">{{config.tour.data.betTimeLimit}} <small> <a href ng-click="config.editParam(\'betTimeLimit\')">(Alterar)</a> </small> </span> <form class="form-horizontal" ng-submit="config.saveParam(\'betTimeLimit\',config.betTimeLimit)" ng-show="config.tour.data.betTimeLimit"> <div class="form-group"> <div class="col-xs-8 col-sm-6 col-lg-3"> <input type="text" class="form-control" ng-model="config.tour.data.betTimeLimit" ng-blur="config.saveParam(\'betTimeLimit\',config.tour.data.betTimeLimit)"> </div> <button type="submit" class="btn btn-primary">Salvar</button> </div> </form> <hr> <!-- <h5>\n				<span class="glyphicon glyphicon-briefcase text-info"></span>\n				<strong>Empresa </strong>\n			</h5>\n				<span ng-hide="profile.form.company">{{profile.user.company}}\n				<small>\n					<a href ng-click="profile.editParam(\'company\')">(Alterar)</a>\n				</small>\n				</span>\n\n			<form class="form-horizontal" ng-submit="profile.saveParam(\'company\',profile.form.company)" ng-show="profile.form.company">\n				<div class="form-group">\n					<div class="col-xs-8 col-sm-6 col-lg-3">\n						<input type="text" class="form-control" ng-model="profile.form.company" ng-blur="profile.saveParam(\'company\',profile.form.company)">		\n					</div>\n					<button type="submit" class="btn btn-primary">Salvar</button>\n				</div>\n			</form>\n			<hr>\n		</div>\n		\n		<div class="col-xs-12">\n			<h4>Alterar senha</h4>\n			<a href ng-click="profile.showPasswordChange = true" ng-hide="profile.showPasswordChange">Quero alterar a minha senha</a>\n			\n\n			<form name="passForm" ng-if="profile.showPasswordChange" class="col-xs-4">\n\n				<div class="form-group" ng-class="{\'has-error\': passForm.oldPassword.$touched && passForm.oldPassword.$invalid, \'has-success\': passForm.oldPassword.$dirty && passForm.oldPassword.$touched}">\n				    <div class="input-group">\n				    	<div class="input-group-addon"><span class="glyphicon glyphicon-lock"></span></div>\n						<input \n							required\n							type="password" \n							class="form-control" \n							id="passwordInput" \n							name="oldPassword" \n							ng-model="form.oldPassword" \n							placeholder="Senha atual"\n							ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 300, \'blur\': 0 } }">\n				    </div>\n				    <div ng-messages="passForm.oldPassword.$error" ng-if="passForm.oldPassword.$touched">\n				    	<p class="help-block" ng-message="required">Campo Obrigatório</p>\n				    </div>\n				</div>\n\n				<div class="form-group" ng-class="{\'has-error\': passForm.password.$touched && passForm.password.$invalid,\'has-success\': passForm.password.$dirty && passForm.password.$touched}">\n				    <div class="input-group">\n				    	<div class="input-group-addon"><span class="glyphicon glyphicon-lock"></span></div>\n						<input \n							required\n							minlength="6" \n							type="password" \n							class="form-control" \n							id="passwordInput" \n							name="password" \n							ng-model="form.password" \n							placeholder="Nova senha"\n							ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 300, \'blur\': 0 } }">\n				    </div>\n				    <div ng-messages="passForm.password.$error" ng-if="passForm.password.$touched">\n				    	<p class="help-block" ng-message="required">Senha requerida</p>\n				    	<p class="help-block" ng-message="minlength">A senha deve ter pelo menos 6 caracteres</p>\n				    </div>\n				</div> --> <!-- Password check --> <!-- <div class="form-group" ng-class="{\'has-error\': form.password !== form.passwordCheck && passForm.passwordCheck.$touched, \'has-success\': form.password === form.passwordCheck && passForm.passwordCheck.$dirty}">\n				    <div class="input-group">\n				    	<div class="input-group-addon"><span class="glyphicon glyphicon-lock"></span></div>\n						<input \n							required \n							type="password" \n							class="form-control" \n							id="passwordInput" \n							name="passwordCheck" \n							ng-model="form.passwordCheck" \n							placeholder="Confirme a nova senha"\n							ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 300, \'blur\': 0 } }"\n							ng-disabled="passForm.password.$invalid">\n				    </div>\n					<div class="help-block" ng-show="form.password !== form.passwordCheck && passForm.passwordCheck.$touched">As senhas informadas são diferentes</div>\n				</div>\n				<button class="btn btn-primary" ng-click="profile.changePassword(form)">Salvar</button>\n				<button class="btn btn-default" ng-click="profile.showPasswordChange=false; profile.reset(passForm)">Cancelar</button>\n			</form>			 --> </div> <!-- <div class="col-xs-12" ng-hide="profile.showPassword">\n			<hr>\n			<button class="btn btn-danger" ng-click="profile.showPassword = true">Excluir perfil</button>\n			<span class="text-danger"><strong>&nbsp ATENÇÃO! </strong> Isto irá eliminá-lo do jogo. Todos os seus palpites e sua pontuação serão perdidos.</span>\n		</div>\n		<form class="col-md-6 cl-lg-3" ng-show="profile.showPassword" name="passwordForm">\n			<hr>\n			<div class="form-group">\n				<label>Senha</label>\n				<input type="password" class="form-control" ng-model="profile.form.password" eb-focus="profile.showPassword" required>\n			</div>\n			<button class="btn btn-danger" ng-click="profile.deleteProfile(profile.form.password)" ng-disabled = "passwordForm.$invalid">Desejo excluir meu perfil</button>\n		</form> --> </div> </div>'),a.put("views/contact.html",'<div class="container"> <div class="row"> <div class="jumbotron col-xs-12"> <h4>Em caso de dúvidas, críticas ou sugestões, entre em contato con a administração do Bolão Social!</h4> Nosso e-mail: <a href="mailto: contato@bolaosocial.com.br">contato@bolaosocial.com.br</a> </div> </div> </div>'),a.put("views/dashboard.html",'<div class="container"> <div class="row"> <!-- <div ng-if="dashboard.showPromo(dashboard.promo.current, dashboard.user)">\n			<div class="col-xs-12 promobox bg-warning text-warning">\n				<h3></span> {{dashboard.promo.current.title}}</h3>\n				<p>{{dashboard.promo.current.message}}</p>\n				<a class="btn btn-success" ng-hide="dashboard.promo.users[dashboard.user.uid]" href ng-click="dashboard.replyToPromo(dashboard.promo.current, dashboard.user, true)">Estou chegando!</a>\n				<em ng-show="dashboard.promo.users[dashboard.user.uid]">Você marcou que está vindo <a href ng-click="dashboard.replyToPromo(dashboard.promo.current, dashboard.user, null)">Não estou indo</a></em>			\n			</div>	\n		</div> \n\n		<div class="form-group">\n			<select class="form-control" \n				ng-options="league for league in dashboard.leagues" \n				ng-model="league"\n				ng-change="dashboard.changeTournament(league)"\n			>\n				{{league}}\n				<option value="" disabled selected hidden>Selecione o Bolão</option>\n			</select>\n		</div>\n		--> <div class="col-xs-12 col-md-6"> <div class="row"> <div class="col-xs-12"> <div class="panel panel-info" ng-class="{\'panel-info\': dashboard.user.bets, \'panel-warning\': !dashboard.user.bets}"> <div class="panel-heading"> <h3 class="panel-title"> <span class="glyphicon glyphicon-calendar"></span> Próximos Jogos </h3> </div> <div class="panel-body" ng-class="{\'bg-warning\': !dashboard.user.bets}"> <div class="match-entry" ng-repeat="match in dashboard.tour.data.matches | orderBy: \'datetime\' : true | open: false | noResult | limitTo: 2 as currentMatches"> <span class="label label-danger" ng-show="dashboard.now > match.datetime - dashboard.timeLimit">ENCERRADO</span><small> {{match.datetime | date: \'dd/MM H:mm\'}} | {{match.location}}</small><br> <span ng-show="match.home.ISO!=\'\'" class="flag-icon" ng-class="{\'flag-icon-{{match.home.ISO}}\': true}"></span> <img ng-show="match.home.iconImg!=\'\'" class="teamIcon25" ng-src="images/teams/{{match.home.iconImg}}"> <a ui-sref="app.match({matchId: match.$id})"> <span class="hidden-xs">{{match.home.longName}} x {{match.away.longName}}</span> <span class="visible-xs-inline">{{match.home.shortName}} x {{match.away.shortName}}</span> </a> <img ng-show="match.away.iconImg!=\'\'" class="teamIcon25" ng-src="images/teams/{{match.away.iconImg}}"> <span ng-show="match.away.ISO!=\'\'" class="flag-icon" ng-class="{\'flag-icon-{{match.away.ISO}}\': true}"></span> <strong class="pull-right" ng-show="dashboard.user.bets.matches[match.$id]"> {{dashboard.user.bets.matches[match.$id].home}} x {{dashboard.user.bets.matches[match.$id].away}} </strong> <strong class="pull-right text-danger" ng-hide="dashboard.user.bets.matches[match.$id]"> <span class="glyphicon glyphicon-flash"></span> <span class="hidden-xs">Não palpitou</span> </strong> </div> <div class="match-entry" ng-repeat="match in dashboard.tour.data.matches | orderBy: \'datetime\' | open: true | limitTo: 4 - currentMatches.length" ng-show="dashboard.user.bets"> <span class="label label-warning" ng-show="dashboard.now + 7200000 > match.datetime">ENCERRANDO (2 horas)</span><small> {{match.datetime | date: \'dd/MM H:mm\'}} | {{match.location}}</small><br> <span ng-show="match.home.ISO!=\'\'" class="flag-icon" ng-class="{\'flag-icon-{{match.home.ISO}}\': true}"></span> <img ng-show="match.home.iconImg!=\'\'" class="teamIcon25" ng-src="images/teams/{{match.home.iconImg}}"> <span class="hidden-xs">{{match.home.longName}} x {{match.away.longName}}</span> <span class="visible-xs-inline">{{match.home.shortName}} x {{match.away.shortName}}</span> <img ng-show="match.away.iconImg!=\'\'" class="teamIcon25" ng-src="images/teams/{{match.away.iconImg}}"> <span ng-show="match.away.ISO!=\'\'" class="flag-icon" ng-class="{\'flag-icon-{{match.away.ISO}}\': true}"></span> <strong class="pull-right" ng-show="dashboard.user.bets.matches[match.$id]"> {{dashboard.user.bets.matches[match.$id].home}} x {{dashboard.user.bets.matches[match.$id].away}} </strong> <strong class="pull-right text-danger" ng-hide="dashboard.user.bets.matches[match.$id]"> <span class="glyphicon glyphicon-flash"></span> <span class="hidden-xs">Não palpitou</span> </strong> </div> <div class="text-center"> <div ng-hide="dashboard.user.bets"> <span class="label label-danger text-center">ATENÇÃO: você ainda não fez nenhum palpite!</span> <br> <button class="btn btn-warning" ui-sref="app.myBets({filter: true})">Cadastrar Palpites!</button> </div> <button class="btn btn-warning" ui-sref="app.myBets({filter: true})" ng-show="dashboard.user.bets">Palpites Em Aberto</button> </div> </div> </div> </div> <div class="col-xs-12"> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title"> <span class="glyphicon glyphicon-ok-circle"></span> Últimas Pontuações </h3> <small>(clique no jogo para ver todos os palpites)</small> </div> <div class="panel-body"> <div ng-hide="matches.length" class="empty-state-message text-center"> Aqui você verá seus pontos recentemente somados. </div> <div class="player-entry" ng-repeat="match in dashboard.tour.data.matches | orderBy: \'datetime\' : true | result | limitTo: 4 as matches"> <span ng-show="match.home.ISO!=\'\'" class="flag-icon" ng-class="{\'flag-icon-{{match.home.ISO}}\': true}"></span> <img ng-show="match.home.iconImg!=\'\'" class="teamIcon25" ng-src="images/teams/{{match.home.iconImg}}"> <!-- Link para abrir a página da partida com todas as apostas --> <a ui-sref="app.match({matchId: match.$id})"> <span class="hidden-xs">{{match.home.longName}} <strong>{{match.result.home}} x {{match.result.away}}</strong> {{match.away.longName}}</span> <span class="visible-xs-inline">{{match.home.shortName}} <strong>{{match.result.home}} x {{match.result.away}}</strong> {{match.away.shortName}}</span> </a> <img ng-show="match.away.iconImg!=\'\'" class="teamIcon25" ng-src="images/teams/{{match.away.iconImg}}"> <span ng-show="match.away.ISO!=\'\'" class="flag-icon" ng-class="{\'flag-icon-{{match.away.ISO}}\': true}"></span> <br> <small class="align-center">(Palpite: <strong>{{dashboard.user.bets.matches[match.$id].home}} x {{dashboard.user.bets.matches[match.$id].away}}</strong>)</small> <span class="pull-right point-label"> <span class="label" ng-class="dashboard.matchCss(dashboard.user.bets.matches[match.$id].points)" ng-show="dashboard.user.bets.matches[match.$id].points"> <span class="glyphicon glyphicon-ok"></span> {{dashboard.user.bets.matches[match.$id].points}} pontos </span> <span class="label label-danger" ng-hide="dashboard.user.bets.matches[match.$id].points || !match.result"><span class="glyphicon glyphicon-remove"></span> 0 pontos</span> </span> <hr style="margin: 5px"> </div> <div class="text-center"> <button class="btn btn-warning" ui-sref="app.myBets({filter:false})">Jogos Encerrados</button> </div> </div> </div> </div> </div> </div> <div class="col-xs-12 col-md-6"> <div class="panel panel-danger"> <div class="panel-heading"> <h3 class="panel-title"> <span class="glyphicon glyphicon-pushpin"></span> Palpite Padrão </h3> </div> <div class="panel-body"> <strong>Este placar será usado caso você deixe palpites em branco!</strong> <div ng-show="dashboard.betDefaultEdit || !dashboard.user.bets.default"> <small>Informe o seu palpite padrão (time da casa x time visitante)</small> <input name="betDefault" size="3" class="form-control bet-input" type="text" ng-model="dashboard.betDefault" eb-focus="dashboard.betDefaultEdit" placeholder="Formato: 0x0 ou 00" ng-keypress="dashboard.submitBetDefaultOnEnter($event, dashboard.betDefault)"> <br> <small>(Para salvar, pressione enter)</small> </div> <div class="text-center" ng-show="!dashboard.betDefaultEdit" ng-hide="!dashboard.user.bets.default"> <small>(Clique no palpite para alterar)</small> <h1> <a href ng-click="dashboard.betDefaultEdit = true"> <span class="label label-success">{{dashboard.betDefault}}</span> </a> </h1> <small>Atualizado em <b>{{dashboard.betDefaultDate | date: \'dd/MM/yyyy HH:mm:ss\'}}</b></small> </div> </div> <div class="panel-footer" ng-show="dashboard.user.bets.default.history"> <a data-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample"> <span class="glyphicon glyphicon-time"></span> <small>Ver histórico</small> </a> <div class="collapse" id="collapseExample"> <table class="table table-striped table-hover table-condensed table-responsive"> <thead> <tr> <th scope="col">Palpite anterior</th> <th scope="col">Inserido em</th> </tr> </thead> <tbody> <tr scope="row" ng-repeat="hist in dashboard.user.bets.default.history | orderBy: \'updated\' : true"> <td>{{hist.home}} x {{hist.away}}</td> <td>{{hist.updated | date: \'dd/MM/yyyy HH:mm:ss\'}}</td> </tr> </tbody> </table> </div> </div> </div> </div> <div class="col-xs-12 col-md-6"> <div class="panel panel-success"> <div class="panel-heading"> <h3 class="panel-title"> <span class="glyphicon glyphicon-star-empty"></span> Ranking Geral <!-- <small class="pull-right">atualizado em {{dashboard.rankingLastUpdate}}</small> --> </h3> </div> <div class="panel-body"> <form class="form-inline"> <div class="form-group"> <label for="filter">Filtrar por</label> <select id="filter" ng-model="filter" ng-change="dashboard.filterRanking(filter)" class="form-control"> <option selected>Todas</option> <option ng-repeat="phase in dashboard.phases">{{phase}}</option> <!-- <option>Fase 2</option>\n										<option>Fase 3</option>\n										<option>Fase 4</option> --> </select> </div> </form> <table class="table table-sm table-striped table-dark table-responsive table-hover"> <thead> <tr class="table-active"> <th scope="col">#</th> <!-- <th scope="col">&nbsp;</th> --> <th scope="col">Nome</th> <th scope="col">Cravadas</th> <th scope="col">Pontuação</th> </tr> </thead> <tbody> <tr>{{dashboard.tour.data.matches.match[0]}}</tr> <tr ng-show="{{player.active}}" ng-repeat="player in dashboard.users | orderBy: [\'score\', \'exactResults\'] : true | league: dashboard.leagueFilter track by player.uid"> <td>{{$index +1}}</td> <!-- <td>\n									<span class="glyphicon glyphicon-chevron-up" style="color:green"></span>\n									<span class="glyphicon glyphicon-chevron-down" style="color:red"></span>\n									<span class="glyphicon glyphicon-stop" style="color:gray"></span>\n								</td> --> <td ng-show="{{player.active}}"> <a ui-sref="app.public({uid: player.uid})">{{player.name ? player.name : (player.email ? player.email : player.uid)}}</a> </td> <td>{{player.exactResults}}</td> <td>{{player.score}}</td> </tr> </tbody> </table> </div> <div class="panel-footer"> <a ui-sref="app.rules"> <span class="glyphicon glyphicon-question-sign"></span> Como funciona a pontuação? </a> </div> </div> </div> <div class="col-xs-12 col-md-12" ng-show="false"> <!-- ng-show="dashboard.user.admin"> --> <ul class="nav nav-tabs" ng-if="dashboard.user.league[1]"> <li role="presentation" ng-class="{\'active\': dashboard.leagueFilter === league}" ng-repeat="league in dashboard.user.league"><a href ng-click="dashboard.leagueFilter = league">{{league}}</a></li> </ul> <div class="player-entry" ng-repeat="player in dashboard.users | orderBy: [\'score\', \'exactResults\'] : true | league: dashboard.leagueFilter track by player.uid" ng-class="{\'text-info player-bold\': dashboard.user.uid === player.uid}"> <span class="player-position"> {{$index +1}} </span> <span> <span class="glyphicon glyphicon-star-empty" ng-hide="dashboard.user.uid === player.uid" style="color: #fff"></span> <span class="glyphicon glyphicon-star" ng-show="dashboard.user.uid === player.uid"></span> <a ui-sref="app.public({uid: player.uid})">{{player.name}}</a> </span> <span> <small>(Cravadas: <b>{{player.exactResults}}</b>)</small> </span> <span class="pull-right"> {{player.score}} pontos </span> <hr> </div> </div> </div> </div>'),a.put("views/footer.html",'<footer class="eb-footer"> <div class="container"> <div class="row"> <div class="col-md-6"> <p>Bolão Social &copy; <span id="year"></span> - <a href="http://renan.inf.br" target="_blank">renan.inf.br</a></p> </div> <div class="col-md-6 text-right"> <a href ui-sref="app.contact"> <span class="glyphicon glyphicon-envelope"></span> Contato </a> </div> </div> </div> <script>document.getElementById("year").innerHTML = new Date().getFullYear();</script> </footer>'),a.put("views/login-fade.html",'<div class="container"> <div class="wrapper fadeInDown"> <div id="formContent"> <!-- Tabs Titles --> <!-- Icon --> <div class="fadeIn first"> <img src="images/logo.png" id="icon" alt="Logo"> <h1>Bolão Social</h1> </div> <!-- Login Form --> <form name="loginForm" class="form" ng-submit="login.login(login.form)"> <input type="text" id="email" ng-model="login.form.email" required class="fadeIn second" name="email" placeholder="Usuário"> <input type="password" id="password" ng-model="login.form.password" required class="fadeIn third" name="login" placeholder="Senha"> <!-- <input type="submit" class="fadeIn fourth" value="Log In"> --> <button type="submit" class="btn btn-primary btn-block" ng-disabled="loginForm.$invalid || login.loading"> <span ng-hide="login.loading">Entrar</span> <span ng-show="login.loading">Efetuando login...</span> </button> </form> <!-- Remind Passowrd --> <div id="formFooter"> <a class="underlineHover" href="http://bolaosocial.com.br/assets/regras_bolao_social.pdf" target="_blank">Ver as Regras</a> </div> </div> </div> </div>'),a.put("views/login.html",'<div class="container"> <div class="row"> <img src="images/logo.png" class="img-responsive"> </div> <div class="row"> <div class="col-xs-12 col-sm-8 col-sm-offset-2 col-lg-6 col-lg-offset-3"> <!-- <div class="col-xs-12 col-sm-8 col-lg-6 user-form"> --> <form name="loginForm" class="form" ng-submit="login.login(login.form)"> <!-- <center><h4>Bolão Social</h4></center> --> <br> <div class="form-group"> <a class="btn btn-default btn-block" href="http://bolaosocial.com.br/assets/regras_bolao_social.pdf" target="_blank">Ver as Regras</a> </div> <div class="form-group"> <div class="input-group"> <div class="input-group-addon"><span class="glyphicon glyphicon-envelope"></span></div> <input type="email" class="form-control" name="email" placeholder="Email" ng-model="login.form.email" required> </div> </div> <div class="form-group"> <div class="input-group"> <div class="input-group-addon"><span class="glyphicon glyphicon-lock"></span></div> <input type="password" class="form-control" name="password" placeholder="Senha" ng-model="login.form.password" required> </div> </div> <div class="form-group"> <button type="submit" class="btn btn-primary btn-block" ng-disabled="loginForm.$invalid || login.loading"> <span ng-hide="login.loading">Entrar</span> <span ng-show="login.loading">Efetuando login...</span> </button> <div class="text-center"> <br> <a ui-sref="reset">Esqueci minha senha.</a> </div> <hr> <div class="col-xs-12"> <p class="text-center">Caso ainda não tenha cadastro, clique para se <a ui-sref="register">cadastrar agora!</a></p> </div> </div> </form> </div> </div> </div>'),a.put("views/match.html",'<div class="container"> <div class="row"> <div class="col-xs-12 col-md-10"> <h3> <span class="label label-warning" ng-show="match.current.status === \'open\'">NÃO REALIZADO</span> <span class="label label-danger" ng-show="match.current.status === \'running\'">ENCERRADO</span> <small> {{match.current.datetime | date: \'dd/MM H:mm\'}} | {{match.current.location}}</small> </h3> <h1 class="hidden-xs"> <span ng-show="match.current.home.ISO!=\'\'" class="flag-icon" ng-class="{\'flag-icon-{{match.current.home.ISO}}\': true}"></span> <img ng-show="match.current.home.iconImg!=\'\'" class="teamIcon40" ng-src="images/teams/{{match.current.home.iconImg}}"> <span>{{match.current.home.longName}} x {{match.current.away.longName}}</span> <img ng-show="match.current.away.iconImg!=\'\'" class="teamIcon40" ng-src="images/teams/{{match.current.away.iconImg}}"> <span ng-show="match.current.away.ISO!=\'\'" class="flag-icon" ng-class="{\'flag-icon-{{match.current.away.ISO}}\': true}"></span> <br> <small ng-show="match.current.status === \'closed\'">Resultado:&nbsp;</small> <span class="label label-danger" ng-show="match.current.status === \'closed\'">{{match.current.result.home}} x {{match.current.result.away}}</span> </h1> <h3 class="visible-xs-inline"> <span ng-show="match.current.home.ISO!=\'\'" class="flag-icon" ng-class="{\'flag-icon-{{match.current.home.ISO}}\': true}"></span> <img ng-show="match.current.home.iconImg!=\'\'" class="teamIcon25" ng-src="images/teams/{{match.current.home.iconImg}}"> <span>{{match.current.home.shortName}} x {{match.current.away.shortName}}</span> <img ng-show="match.current.away.iconImg!=\'\'" class="teamIcon25" ng-src="images/teams/{{match.current.away.iconImg}}"> <span ng-show="match.current.away.ISO!=\'\'" class="flag-icon" ng-class="{\'flag-icon-{{match.current.away.ISO}}\': true}"></span> <span class="label label-danger pull-right" ng-show="match.current.status === \'closed\'">{{match.current.result.home}} x {{match.current.result.away}}</span> <small class="pull-right" ng-show="match.current.status === \'closed\'">Resultado:&nbsp;</small> </h3> </div> </div> <hr> <!--\n	<div class="row" ng-hide="match.current.status === \'open\'">\n		<div class="col-xs-12 col-md-6">\n			<div>Participante</div>\n			<div class="pull-right">Palpite</div>\n		</div>\n	</div>\n--> <div class="row" ng-hide="match.current.status === \'open\'"> <div class="col-xs-12 col-md-6"> <!-- <ul class="nav nav-tabs"> --> <ul class="nav nav-tabs" ng-if="match.user.league[1]"> <li role="presentation" ng-class="{\'active\': match.leagueFilter === league}" ng-repeat="league in match.user.league"><a href ng-click="match.leagueFilter = league">{{league}} Campeonato</a></li> </ul> <h4 ng-repeat="user in match.userList | orderBy: match.sort : match.reverse | league: match.leagueFilter" class="match-entry"> <a ui-sref="app.public({uid: user.uid})">{{user.name}}</a> <span class="pull-right" ng-show="match.current.status === \'closed\'"> <span class="label" ng-class="match.matchCss(user.points)" ng-show="user.points"> <span class="glyphicon glyphicon-ok"></span> {{user.points}} pontos</span> <span class="label label-danger" ng-show="!user.points"><span class="glyphicon glyphicon-remove"></span> 0 pontos</span> </span> <span class="pull-right" ng-show="match.current.status === \'running\'"> {{user.home}} x {{user.away}} </span> <small ng-show="match.current.status === \'closed\' && user.home==null"><div>Palpite não informado</div></small> <small ng-show="match.current.status === \'closed\' && user.home!=null"><div>Palpite: {{user.home}} x {{user.away}}</div></small> </h4> </div> </div> </div>'),
a.put("views/matches.html",'<div class="container"> <div class="row"> <!-- 	<a ng-click="matches.updateResults()">Atualizar Ranking</a> --> <button class="btn btn-success" ng-click="matches.updateResults()">Atualizar Ranking</button> <div class="col-xs-12" ng-show="matches.uploadForm"> <h4>Importar partidas</h4> <form name="matchesForm" ng-submit="matches.upload(matches.form.list, matchesForm)"> <div class="form-group"> <label>Lista de jogos</label> <textarea required class="form-control" name="matchList" id="matchList" cols="30" rows="10" placeholder="Formato: Grupo; Data; Local; Código Casa; Código Visitante" ng-model="matches.form.list"></textarea> </div> <p class="help-block" ng-show="matchesForm.matchList.$touched && matchesForm.matchList.$invalid">Copie dos dados da Partida!</p> <button class="btn btn-primary" type="submit" ng-disabled="matchesForm.$invalid">Importar</button> <button class="btn btn-default" type="reset" ng-click="matches.uploadForm=false; matches.reset(matchesForm)">Cancelar</button> </form> </div> <div class="col-xs-12" ng-hide="matches.uploadForm"> <form> <div class="form-group"> <label for="filter">Filtro</label> <input type="text" class="form-control" name="filter" ng-model="matches.table.filter" placeholder="Digite o nome longo ou curto da equipe"></div> </form> <table class="table table-hover"> <thead> <th>#</th> <th class="text-center col-xs-2" ng-click="matches.table.sortColumn = \'group\'; matches.table.reverse = !matches.table.reverse"> <span class="glyphicon glyphicon-triangle-bottom" ng-show="matches.table.sortColumn == \'group\' && matches.table.reverse"></span> <span class="glyphicon glyphicon-triangle-top" ng-show="matches.table.sortColumn == \'group\' && !matches.table.reverse"></span> Grupo </th> <th class="text-center col-xs-2">Rodada</th> <th class="text-center col-xs-3" ng-click="matches.table.sortColumn = \'datetime\'; matches.table.reverse = !matches.table.reverse"> <span class="glyphicon glyphicon-triangle-bottom" ng-show="matches.table.sortColumn == \'datetime\' && matches.table.reverse"></span> <span class="glyphicon glyphicon-triangle-top" ng-show="matches.table.sortColumn == \'datetime\' && !matches.table.reverse"></span> Data </th> <th class="text-center col-xs-3">Equipes</th> <th class="text-center col-xs-2">Placar</th> </thead> <tbody> <tr class="text-center" ng-repeat="match in matches.data.matches | orderBy: matches.table.sortColumn : matches.table.reverse | filter: matches.table.filter"> <th scope="row">{{$index +1}}</th> <td>{{match.group}}</td> <td>{{match.round}}</td> <td class="text-center"> <div ng-click="matches.table.editDate = match.$id"> {{match.datetime | date : \'dd/MM H:mm\'}} <span class="glyphicon glyphicon-pencil"></span> </div> <form ng-if="matches.table.editDate == match.$id" name="dateForm" class="form-inline" ng-submit="matches.updateDate(match, matches.table.datetime)"> <div class="form-group"> <div class="input-group date" id="datetimepicker1"> <input type="text" class="form-control"> <span class="input-group-addon"> <span class="glyphicon glyphicon-calendar"></span> <a href ng-click="matches.table.editDate = false"><span class="text-danger glyphicon glyphicon-remove"></span></a> </span> </div> <script type="text/javascript">$(function () {\n										$(\'#datetimepicker1\').datetimepicker();\n									});</script> <!-- REF: \n									https://eonasdan.github.io/bootstrap-datetimepicker/ \n									http://embed.plnkr.co/DyLAAX/\n								--> <!-- <datepicker>\n									<input \n										autofocus \n										eb-focus = "matches.table.editDate === match.$id"\n										size="3"\n										type="text" \n										class="form-control"\n										ng-model="matches.table.datetime">\n								</datepicker> --> </div> </form> </td> <td class="text-center">{{match.home.longName}} x {{match.away.longName}}</td> <td class="text-center"> <!-- <div ng-hide="matches.table.editResult == match.$id" ng-click="matches.table.editResult = match.$id"> --> <div ng-click="matches.table.editResult = match.$id"> <span ng-show="match.result.home">{{match.result.home}}x{{match.result.away}}</span> <span ng-show="!match.result.home">-x-</span> <span class="glyphicon glyphicon-pencil"></span> </div> <form ng-if="matches.table.editResult == match.$id" name="resultForm" class="form-inline" ng-submit="matches.updateResult(match, matches.table.result[match.$id])"> <div class="form-group"> <input autofocus eb-focus="matches.table.editResult === match.$id" size="3" type="text" class="form-control" ng-model="matches.table.result[match.$id]"> <!-- <a href ng-click="matches.table.editResult = false">Cancelar</a> --> <a href ng-click="matches.table.editResult = false"><span class="text-danger glyphicon glyphicon-remove"></span></a> </div> </form> </td> </tr> </tbody> </table> </div> <div class="col-xs-12" ng-hide="matches.uploadForm"> <a href ng-click="matches.uploadForm = true"><span class="glyphicon glyphicon-plus"></span> Importar partidas...</a> </div> </div> </div>'),a.put("views/navigation.html",'<div class="header"> <div class="navbar navbar-default" role="navigation"> <div class="container"> <div class="navbar-header"> <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#js-navbar-collapse"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" ui-sref="app.dashboard"> <span> <img src="images/logo_brand.png"></span> <!-- <span class="glyphicon glyphicon-saved"></span> --> <!-- <span class="glyphicon glyphicon-thumbs-up"></span> --> <!-- Bolão Social --> </a> </div> <div class="collapse navbar-collapse" id="js-navbar-collapse"> <ul class="nav navbar-nav"> <li ng-class="{\'active\': navigation.state.is(\'app.dashboard\')}"><a ui-sref="app.dashboard"><span class="glyphicon glyphicon-home"></span> Home</a></li> <li ng-class="{\'active\': navigation.state.is(\'app.myBets\')}"><a ui-sref="app.myBets"><span class="glyphicon glyphicon-check"></span> Meus Palpites</a></li> <li ng-class="{\'active\': navigation.state.is(\'app.rules\')}"><a ui-sref="app.rules"><span class="glyphicon glyphicon-info-sign"></span> Regras</a></li> <li ng-show="navigation.user.admin" ng-class="{\'active\': navigation.state.includes(\'app.admin\')}"><a ui-sref="app.admin.matches"><span class="glyphicon glyphicon-wrench"></span> Admin</a></li> </ul> <div class="navbar-right"> <ul class="nav navbar-nav"> <li ng-class="{\'active\': navigation.state.includes(\'app.profile\')}"> <a ui-sref="app.profile"> <span class="glyphicon glyphicon-user"></span>&nbsp Perfil ({{navigation.user.name}}) </a> </li> </ul> <form class="navbar-form navbar-right"> <button class="btn btn-danger" ng-click="navigation.userService.logout()">Sair <span class="glyphicon glyphicon-log-out"></span></button> </form> </div> </div> </div> </div> </div> <!-- auto colapse do menu quando em dispositivo móvel --> <script>$(document).on(\'click\',\'.navbar-collapse.in\',function(e) {\n  if( $(e.target).is(\'a:not(".dropdown-toggle")\') ) {\n      $(this).collapse(\'hide\');\n  }\n});</script>'),a.put("views/participants.html",'<div class="container"> <div class="row"> <div class="col-xs-12"> <h4>Jogadores registrados <small>Total {{participants.players.length}}</small></h4> <form> <div class="form-group"> <input type="text" class="form-control" placeholder="Pesquisar..." ng-model="participants.listFilter" ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 300, \'blur\': 0 } }"> </div> </form> <a class="pull-right" href ng-click="participants.onlyEmail = true" ng-hide="participants.onlyEmail">Apenas e-mails</a> <ul class="nav nav-tabs"> <li role="presentation" ng-class="{\'active\': participants.leagueFilter === league}" ng-repeat="league in participants.leagues"><a href ng-click="participants.leagueFilter = league">{{league}} <span class="badge" ng-show="participants.leagueFilter === league">{{result.length}}</span></a></li> </ul> <div ng-show="participants.onlyEmail"> <div ng-repeat="user in participants.players | orderBy: participants.orderBy : participants.reverse | filter: participants.listFilter | league: participants.leagueFilter as result">{{user.email}},</div> <a href ng-click="participants.onlyEmail = false">Voltar</a> </div> <table class="table table-hover table-striped table-bordered table-responsive" ng-hide="participants.onlyEmail"> <thead> <th ng-click="participants.orderBy = \'name\' ; participants.reverse = !participants.reverse">Nome <span class="glyphicon glyphicon-triangle-top" ng-show="participants.orderBy === \'name\' && !participants.reverse"></span> <span class="glyphicon glyphicon-triangle-bottom" ng-show="participants.orderBy === \'name\' && participants.reverse"></span> </th> <th class="text-center">User ID</th> <th ng-click="participants.orderBy = \'email\' ; participants.reverse = !participants.reverse">Email <span class="glyphicon glyphicon-triangle-top" ng-show="participants.orderBy === \'email\' && !participants.reverse"></span> <span class="glyphicon glyphicon-triangle-bottom" ng-show="participants.orderBy === \'email\' && participants.reverse"></span> </th> <!-- <th class="text-center" ng-click="participants.orderBy = \'company\' ; participants.reverse = !participants.reverse">Empresa\n						<span class="glyphicon glyphicon-triangle-top" ng-show="participants.orderBy === \'company\' && !participants.reverse"></span>\n						<span class="glyphicon glyphicon-triangle-bottom" ng-show="participants.orderBy === \'company\' && participants.reverse"></span>\n					</th> --> <th class="text-center" ng-click="participants.orderBy = \'lastLogin\' ; participants.reverse = !participants.reverse">Último login <span class="glyphicon glyphicon-triangle-top" ng-show="participants.orderBy === \'lastLogin\' && !participants.reverse"></span> <span class="glyphicon glyphicon-triangle-bottom" ng-show="participants.orderBy === \'lastLogin\' && participants.reverse"></span> </th> <!-- <th class="text-center">Campeão</th>\n					<th class="text-center">Goleiro</th> --> <th class="text-center">Padrão</th> <th class="text-center">Ativo</th> <th class="text-center">Admin</th> <!-- <th class="text-center">Pontos Extra</th> --> </thead> <tbody> <tr ng-repeat="user in participants.players | orderBy: participants.orderBy : participants.reverse | filter: participants.listFilter | league: participants.leagueFilter" ng-class="{\'success\': user.admin, \'danger\': !user.active}"> <td nowrap>{{user.name}}</td> <td class="text-center" nowrap>{{user.uid}}</td> <td><span uib-tooltip="{{user.uid}}">{{user.email}}</span></td> <!-- <td class="text-center" nowrap>{{user.company}}</td> --> <td class="text-center" nowrap>{{user.lastLogin | date: \'dd/MM H:mm\'}}</td> <!-- <td class="text-center">\n							{{user.bets.winner.longName}}\n							<span ng-hide="user.bets.topScorer && user.bets.winner"><span class="glyphicon glyphicon-remove text-danger"></span></span>\n						</td>\n						<td class="text-center">\n							{{user.bets.topScorer}}\n							<span ng-hide="user.bets.topScorer && user.bets.winner"><span class="glyphicon glyphicon-remove text-danger"></span></span>\n						</td> --> <td class="text-center" nowrap> <span ng-show="!user.bets.default" class="text-danger glyphicon glyphicon-thumbs-down"></span> <span ng-show="user.bets.default" class="text-primary font-weight-bold">{{user.bets.default.home}}x{{user.bets.default.away}}</span> </td> <td class="text-center" nowrap> <!-- <a ng-hide="!user.active" ng-click="participants.activateUser(user)"><span class="glyphicon glyphicon-ok"></span></a>\n							<a ng-hide="user.active" ng-click="participants.activateUser(user)"><span class="glyphicon glyphicon-remove"></span></a> --> <a ng-click="participants.activateUser(user)"><span ng-class="{\'text-danger\': !user.active, \'text-success\': user.active, \'glyphicon\': true, \'glyphicon-ok\': user.active, \'glyphicon-remove\': !user.active }"></span></a> </td> <td class="text-center" nowrap> <a ng-click="participants.adminUser(user)"><span ng-class="{\'text-danger\': !user.admin, \'text-success\': user.admin, \'glyphicon\': true, \'glyphicon-ok\': user.admin, \'glyphicon-remove\': !user.admin }"></span></a> <!-- <a ng-hide="!user.admin" ng-click="participants.makeUserSimple(user)"><span class="glyphicon glyphicon-remove"></span></a> --> </td> <!-- <td class="text-left" nowrap>\n							<span class="label label-success" ng-show="user.extraPoints">{{user.extraPoints}}</span>\n							<span ng-hide="user.extraPoints">0</span>\n							<span class="pull-right">\n								<a href ng-click="participants.addExtraPoints(user,1)" ng-hide="user.extraPoints === 6"><span class="glyphicon glyphicon-plus-sign"></span></a>\n								<a href ng-click="participants.addExtraPoints(user,-1)" ng-show="user.extraPoints"><span class="glyphicon glyphicon-minus-sign"></span></a>\n							</span>\n						</td> --> </tr> </tbody> </table> <hr> </div> <div class="col-xs-4"> <h4>Aguardando cadastro <small>Total {{participants.pending.length}}</small></h4> <div ng-hide="participants.pending.length"> <span><em>Ninguém na lista de espera.</em></span> </div> <div ng-repeat="item in participants.pending | league: participants.leagueFilter"> <span>{{item.email}} ({{item.league}})</span> <a href ng-click="participants.deletePending(item)">Cancelar</a> </div> </div> <div class="col-xs-4"> <div> <h4>Adicionar novos e-mails</h4> <a href ng-hide="participants.showAddEmails" ng-click="participants.showAddEmails = true"><span class="glyphicon glyphicon-plus"></span> Adicionar e-mails</a> </div> <form ng-show="participants.showAddEmails"> <div class="form-group"> <textarea class="form-control" name="newEmails" cols="30" rows="10" placeholder="email@email.com, email@email.com, ..." ng-model="participants.form.newEmails"></textarea> </div> <p class="help-block">E-mails separados por vírgula.</p> <div class="form-group"> <label>Qual campeonato?</label> <select class="form-control" ng-options="league for league in participants.leagues" ng-model="participants.form.league">{{league}} <option value="" disabled selected hidden>Selecione</option> </select> </div> <button class="btn btn-primary" ng-click="participants.addNewEmails(participants.form.newEmails, participants.form.league)">Adicionar</button> <button class="btn btn-default" ng-click="participants.form.newEmails = undefined; participants.showAddEmails = false">Cancelar</button> </form> </div> <div class="col-xs-4"> <div> <h4>Adicionar participantes</h4> <a href ng-hide="participants.showAddParticipant" ng-click="participants.showAddParticipant = true"><span class="glyphicon glyphicon-plus"></span> Adicionar e-mails</a> </div> <form ng-show="participants.showAddParticipant"> <div class="form-group"> <label>User ID</label> <input class="form-control" name="uid" placeholder="User ID" ng-model="participants.form.uid"> </div> <div class="form-group"> <label>E-mail</label> <input class="form-control" name="email" placeholder="email@email.com" ng-model="participants.form.email"> </div> <div class="form-group"> <label>Nome</label> <input class="form-control" name="name" placeholder="Nome" ng-model="participants.form.name"> </div> <div class="form-group"> <label>Qual campeonato?</label> <select class="form-control" ng-options="league for league in participants.leagues" ng-model="participants.form.league">{{league}} <option value="" disabled selected hidden>Selecione</option> </select> </div> <button class="btn btn-primary" ng-click="participants.addNewParticipant(participants.form.uid, participants.form.email, participants.form.name, participants.form.league)">Adicionar</button> <button class="btn btn-default" ng-click="participants.form.uid = undefined; participants.form.email = undefined; participants.form.name = undefined; participants.showAddParticipant = false">Cancelar</button> </form> </div> </div> </div>'),a.put("views/password_modal.html",'<div class="row"> <div class="col-xs-12"> <div class="modal-header"> <h3 class="modal-title">Adj meg egy új jelszót!</h3> </div> <div class="modal-body"> <form name="passForm"> <div class="form-group" ng-class="{\'has-success\': passForm.tempPassword.$dirty && passForm.tempPassword.$touched}"> <div class="input-group"> <div class="input-group-addon"><span class="glyphicon glyphicon-lock"></span></div> <input required type="password" class="form-control" id="passwordInput" name="tempPassword" ng-model="form.tempPassword" placeholder="Ideiglenes jelszó" ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 300, \'blur\': 0 } }"> </div> <div ng-messages="passForm.tempPassword.$error" ng-if="passForm.tempPassword.$touched"> <p class="help-block" ng-message="required">Kötelező megadni</p> </div> </div> <div class="form-group" ng-class="{\'has-error\': passForm.password.$touched && passForm.password.$invalid,\'has-success\': passForm.password.$dirty && passForm.password.$touched}"> <div class="input-group"> <div class="input-group-addon"><span class="glyphicon glyphicon-lock"></span></div> <input required minlength="6" type="password" class="form-control" id="passwordInput" name="password" ng-model="form.password" placeholder="Új jelszó" ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 300, \'blur\': 0 } }"> </div> <div ng-messages="passForm.password.$error" ng-if="passForm.password.$touched"> <p class="help-block" ng-message="required">Kötelező jelszót megadni</p> <p class="help-block" ng-message="minlength">Legalább 6 karakter hosszú jelszót adj meg</p> </div> </div> <!-- Password check --> <div class="form-group" ng-class="{\'has-error\': form.password !== form.passwordCheck && passForm.passwordCheck.$touched, \'has-success\': form.password === form.passwordCheck && passForm.passwordCheck.$dirty}"> <div class="input-group"> <div class="input-group-addon"><span class="glyphicon glyphicon-lock"></span></div> <input required type="password" class="form-control" id="passwordInput" name="passwordCheck" ng-model="form.passwordCheck" placeholder="Új jelszó megerősítése" ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 300, \'blur\': 0 } }" ng-disabled="passForm.password.$invalid"> </div> <div class="help-block" ng-show="form.password !== form.passwordCheck && passForm.passwordCheck.$touched">Nem egyezik a két jelszó</div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" ng-disabled="resetForm.$invalid" ng-click="password.changePassword(form)">Rendben</button> </div> </div> </div>'),a.put("views/profile.html",'<div class="container"> <div class="row"> <div class="col-sm-12 col-md-12 col-xl-8"> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title"> <span class="glyphicon glyphicon-user"></span> Perfil </h3> </div> <div class="panel-body"> <h5> <span class="glyphicon glyphicon-envelope text-info"></span> <strong>E-mail</strong> </h5> <span>{{profile.user.email}}</span> <small class="help-block"><span class="glyphicon glyphicon-lock"></span> Você não pode mudar seu endereço de email.</small> <hr> <h5> <span class="glyphicon glyphicon-user text-info"></span> <strong>Nome</strong> </h5> <span ng-hide="profile.form.name">{{profile.user.name}} <small> <a href ng-click="profile.editParam(\'name\')">(Alterar)</a> </small> </span> <form class="form-horizontal" ng-submit="profile.saveParam(\'name\',profile.form.name)" ng-show="profile.form.name"> <div class="form-group"> <div class="col-xs-8 col-sm-6 col-lg-3"> <input type="text" class="form-control" ng-model="profile.form.name" ng-blur="profile.saveParam(\'name\',profile.form.name)"> </div> <button type="submit" class="btn btn-primary">Salvar</button> </div> </form> <hr> <!-- <h5>\n						<span class="glyphicon glyphicon-briefcase text-info"></span>\n						<strong>Empresa </strong>\n					</h5>\n						<span ng-hide="profile.form.company">{{profile.user.company}}\n						<small>\n							<a href ng-click="profile.editParam(\'company\')">(Alterar)</a>\n						</small>\n						</span>\n		\n					<form class="form-horizontal" ng-submit="profile.saveParam(\'company\',profile.form.company)" ng-show="profile.form.company">\n						<div class="form-group">\n							<div class="col-xs-8 col-sm-6 col-lg-3">\n								<input type="text" class="form-control" ng-model="profile.form.company" ng-blur="profile.saveParam(\'company\',profile.form.company)">		\n							</div>\n							<button type="submit" class="btn btn-primary">Salvar</button>\n						</div>\n					</form>\n					<hr> --> <div class="col-xs-12 col-sm-6 col-xl-6"> <h4>Alterar senha</h4> <a href ng-click="profile.showPasswordChange = true" ng-hide="profile.showPasswordChange">Quero alterar a minha senha</a> <form name="passForm" ng-if="profile.showPasswordChange" class="col-xs-12"> <div class="form-group" ng-class="{\'has-error\': passForm.oldPassword.$touched && passForm.oldPassword.$invalid, \'has-success\': passForm.oldPassword.$dirty && passForm.oldPassword.$touched}"> <div class="input-group"> <div class="input-group-addon"><span class="glyphicon glyphicon-lock"></span></div> <input required type="password" class="form-control" id="passwordInput" name="oldPassword" ng-model="form.oldPassword" placeholder="Senha atual" ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 300, \'blur\': 0 } }"> </div> <div ng-messages="passForm.oldPassword.$error" ng-if="passForm.oldPassword.$touched"> <p class="help-block" ng-message="required">Campo Obrigatório</p> </div> </div> <div class="form-group" ng-class="{\'has-error\': passForm.password.$touched && passForm.password.$invalid,\'has-success\': passForm.password.$dirty && passForm.password.$touched}"> <div class="input-group"> <div class="input-group-addon"><span class="glyphicon glyphicon-lock"></span></div> <input required minlength="6" type="password" class="form-control" id="passwordInput" name="password" ng-model="form.password" placeholder="Nova senha" ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 300, \'blur\': 0 } }"> </div> <div ng-messages="passForm.password.$error" ng-if="passForm.password.$touched"> <p class="help-block" ng-message="required">Senha requerida</p> <p class="help-block" ng-message="minlength">A senha deve ter pelo menos 6 caracteres</p> </div> </div> <!-- Password check --> <div class="form-group" ng-class="{\'has-error\': form.password !== form.passwordCheck && passForm.passwordCheck.$touched, \'has-success\': form.password === form.passwordCheck && passForm.passwordCheck.$dirty}"> <div class="input-group"> <div class="input-group-addon"><span class="glyphicon glyphicon-lock"></span></div> <input required type="password" class="form-control" id="passwordInput" name="passwordCheck" ng-model="form.passwordCheck" placeholder="Confirme a nova senha" ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 300, \'blur\': 0 } }" ng-disabled="passForm.password.$invalid"> </div> <div class="help-block" ng-show="form.password !== form.passwordCheck && passForm.passwordCheck.$touched">As senhas informadas são diferentes</div> </div> <button class="btn btn-primary" ng-click="profile.changePassword(form)">Salvar</button> <button class="btn btn-default" ng-click="profile.showPasswordChange=false; profile.reset(passForm)">Cancelar</button> </form> </div> <!-- <div class="col-xs-12" ng-hide="profile.showPassword">\n					<hr>\n					<button class="btn btn-danger" ng-click="profile.showPassword = true">Excluir perfil</button>\n					<span class="text-danger"><strong>&nbsp ATENÇÃO! </strong> Isto irá eliminá-lo do jogo. Todos os seus palpites e sua pontuação serão perdidos.</span>\n				</div>\n				<form class="col-md-6 cl-lg-3" ng-show="profile.showPassword" name="passwordForm">\n					<hr>\n					<div class="form-group">\n						<label>Senha</label>\n						<input type="password" class="form-control" ng-model="profile.form.password" eb-focus="profile.showPassword" required>\n					</div>\n					<button class="btn btn-danger" ng-click="profile.deleteProfile(profile.form.password)" ng-disabled = "passwordForm.$invalid">Desejo excluir meu perfil</button>\n				</form> --> </div> </div> </div> </div> </div>'),a.put("views/public_profile.html",'<div class="container"> <div class="row"> <div class="col-xs-12"> <!-- <div class="jumbotron"> --> <h1> <span class="glyphicon glyphicon-bullhorn"></span> {{public.user.name}} <small>{{public.user.company}}</small> </h1> <!-- </div> --> <h4 ng-hide="public.now < public.start || !public.user.bets.winner || !public.user.bets.topScorer"><span class="flag-icon" ng-class="{\'flag-icon-{{public.user.bets.winner.ISO}}\': true}"></span> {{public.user.bets.winner.longName}} | <span class="glyphicon glyphicon-star-empty"></span> {{public.user.bets.topScorer}}</h4> <!-- <h4 ng-hide="public.user.bets.winner || public.user.bets.topScorer"><small>Nenhum favorito informado</small></h4> --> </div> </div> <br> <div class="row"> <div class="col-xs-12 col-md-8"> <h2>Extrato dos Palpites <span class="label label-success pull-right">{{public.user.score}} pontos</span></h2> <hr> <h4 ng-repeat="match in public.matches | orderBy: \'datetime\' : true | result as result" class="match-entry"> <span ng-show="match.home.ISO!=\'\'" class="flag-icon" ng-class="{\'flag-icon-{{match.home.ISO}}\': true}"></span> <img ng-show="match.home.iconImg!=\'\'" class="teamIcon25" ng-src="images/teams/{{match.home.iconImg}}"> <a ui-sref="app.match({matchId: match.$id})"> <span class="hidden-xs">{{match.home.longName}} x {{match.away.longName}}</span> <span class="visible-xs-inline">{{match.home.shortName}} x {{match.away.shortName}}</span> </a> <img ng-show="match.away.iconImg!=\'\'" class="teamIcon25" ng-src="images/teams/{{match.away.iconImg}}"> <span ng-show="match.away.ISO!=\'\'" class="flag-icon" ng-class="{\'flag-icon-{{match.away.ISO}}\': true}"></span> <span ng-show="public.user.bets.matches[match.$id].points" class="label" ng-class="public.matchCss(public.user.bets.matches[match.$id].points)"> <span class="glyphicon glyphicon-ok"></span> {{public.user.bets.matches[match.$id].points}} pontos </span> <!-- <span class="label label-success pull-right" ng-show="public.user.bets.matches[match.$id].points">\n					<span class="glyphicon glyphicon-ok"></span> {{public.user.bets.matches[match.$id].points}} pontos\n				</span> --> <span class="label label-danger pull-right" ng-hide="public.user.bets.matches[match.$id].points || !match.result"> <span class="glyphicon glyphicon-remove"></span> 0 pontos </span> <span ng-show="!match.result" class="pull-right"><small>Resultado não cadastrado.</small></span> <div> <b>{{public.user.bets.matches[match.$id].home}}x{{public.user.bets.matches[match.$id].away}}</b> <small> (Resultado: {{match.result.home}}x{{match.result.away}})</small></div>  </h4> <h4><small ng-hide="result.length">Pontos marcados nos jogos serão mostrados aqui.</small></h4> </div> </div> </div>'),a.put("views/ranking.html",'<div class="container"> <div class="row"> <form class="form-inline"> <label for="filter">Filtrar por</label> <select id="filter" ng-model="filter" class="form-control"> <option selected>Todas</option> <option ng-repeat="phase in ranking.phases">{{phase}}</option> <!-- <option>Fase 1</option>\n				<option>Fase 2</option>\n				<option>Fase 3</option>\n				<option>Fase 4</option>	 --> </select> <button class="btn btn-success" ng-click="ranking.filterRanking(filter)">Filtrar</button> <button class="btn btn-danger" ng-click="ranking.resetRanking()">Zerar Ranking</button> </form> </div> <hr> <div class="row"> <div class="col-xs-12 col-md-12"> <table class="table table-sm table-striped table-dark table-responsive"> <thead> <tr> <th scope="col" class="text-center" colspan="4">RANKING</th> </tr> <tr> <th scope="col">#</th> <th scope="col">Nome</th> <th scope="col">Palpites</th> <th scope="col">Cravadas</th> <th scope="col">Pontuação</th> </tr> </thead> <tbody> <tr ng-show="{{player.active}}" ng-repeat="player in ranking.players | orderBy: [\'totalScore\', \'exactResults\'] : true | league: ranking.leagueFilter track by player.uid"> <th scope="row">{{$index +1}}</th> <td>{{player.name}}</td> <td>{{ranking.getObjSize(player.bets.matches)}} <small>(Ver)</small></td> <!-- <td>{{ranking.filterScore(player, filter)}}</td> --> <td>{{player.exactResults}}</td> <td>{{player.totalScore}}</td> </tr> </tbody> </table> </div> </div> </div>'),a.put("views/register.html",'<div class="container"> <div class="row"> <img src="images/b12.jpg" class="img-responsive"> </div> <div class="row"> <div class="col-xs-12 col-sm-8 col-sm-offset-2 col-lg-6 col-lg-offset-3"> <div class="alert alert-danger text-center" ng-show="register.errorMessage">{{register.errorMessage}}</div> <form name="regForm" class="form" ng-submit="register.registerUser(form.email, form.password)" novalidate autocomplete="false"> <center><h4>Cadastro no Bolão</h4></center> <p class="text-warning">Você só poderá se cadastrar com o endereço de e-mail que os organizadores autorizaram. <br>Se você não tem certeza qual o email autorizado, entre em contato com os organizadores (Renan ou Betão)!</p> <!-- Email --> <div class="form-group" ng-class="{ \'has-error\': regForm.email.$touched && regForm.email.$invalid, \'has-success\': regForm.email.$touched && regForm.email.$valid }"> <div class="input-group"> <div class="input-group-addon"><span class="glyphicon glyphicon-envelope"></span></div> <input required type="email" class="form-control" id="emailInput" name="email" ng-model="form.email" placeholder="Email" ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 300, \'blur\': 0 } }"> </div> <div ng-messages="regForm.email.$error" ng-if="regForm.email.$touched"> <p class="help-block" ng-message="required">E-mail obrigatório</p> <p class="help-block" ng-message="email">Digite o e-mail completo</p> </div> </div> <!-- Password --> <div class="form-group" ng-class="{\'has-error\': regForm.password.$touched && regForm.password.$invalid,\'has-success\': regForm.password.$dirty && regForm.password.$touched}"> <div class="input-group"> <div class="input-group-addon"><span class="glyphicon glyphicon-lock"></span></div> <input required minlength="6" type="password" class="form-control" id="passwordInput" name="password" ng-model="form.password" placeholder="Senha" ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 300, \'blur\': 0 } }"> </div> <div ng-messages="regForm.password.$error" ng-if="regForm.password.$touched"> <p class="help-block" ng-message="required">Senha obrigatória</p> <p class="help-block" ng-message="minlength">A senha deve ter no mínimo 6 caracteres</p> </div> </div> <!-- Password check --> <div class="form-group" ng-class="{\'has-error\': form.password !== form.passwordCheck && regForm.passwordCheck.$touched, \'has-success\': form.password === form.passwordCheck && regForm.passwordCheck.$dirty}"> <div class="input-group"> <div class="input-group-addon"><span class="glyphicon glyphicon-lock"></span></div> <input required type="password" class="form-control" id="passwordInput" name="passwordCheck" ng-model="form.passwordCheck" placeholder="Confirme a senha" ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 300, \'blur\': 0 } }" ng-disabled="regForm.password.$invalid"> </div> <div class="help-block" ng-show="form.password !== form.passwordCheck && regForm.passwordCheck.$touched">As senhas são diferentes</div> </div> <!-- Submit button --> <div class="form-group"> <button type="submit" class="btn btn-info btn-block" ng-disabled="regForm.$invalid || form.password !== form.passwordCheck || register.loading"> <span ng-hide="register.loading">Cadastrar</span> <span ng-show="register.loading">Cancelar...</span> </button> <hr> <div class="col-xs-12"> <p class="text-center">Já tem cadastro? <a ui-sref="login">Clique aqui para efetuar o login.</a></p> </div> </div> </form> </div> </div> </div>'),a.put("views/reset.html",'<div class="container"> <div class="row"> <img src="images/b12.jpg" class="img-responsive"> </div> <div class="row"> <div class="col-xs-12 col-sm-8 col-sm-offset-2 col-lg-6 col-lg-offset-3"> <form name="resetForm"> <center><h4>Esqueci minha senha</h4></center> <div class="form-group"> <div class="input-group"> <div class="input-group-addon"><span class="glyphicon glyphicon-envelope"></span></div> <input type="email" class="form-control" placeholder="Digite seu e-mail" ng-model="reset.form.email" required> </div> </div> <button class="btn btn-primary btn-block" ng-click="reset.resetPassword(reset.form.email)" ng-disabled="resetForm.$invalid">Receber nova senha</button> <br> <p class="text-center"><a ui-sref="login">Não, eu sei minha senha!</a></p> </form> </div> </div> </div>'),
a.put("views/rule_modal.html",'<div class="row"> <div class="col-xs-12"> <div class="modal-header"> <h2 class="modal-title">Regras do Bolão da Raça</h2> </div> <div class="modal-body"> <h4>Sistema de nocaute</h4> <ul> <li>As partidas serão adicionadas ao sistema após as partidas do grupo e após as rodadas eliminatórias. A adivinhação é normal (5 minutos antes do jogo).</li> <li>As dicas referem-se ao tempo de reprodução normal, ou seja, 90 minutos e 120 minutos para uma extensão.</li> <li>O 11º duelo não conta para marcar, então se alguém tiver uma dica de empate, ele acha que 11 partidas serão disputadas. Se, por exemplo, 90 minutos após 1-1, mas na prorrogação um gol é marcado, então 2-1 é a ponta direita.</li> </ul> <h4>Calor de matar (mata mata?)</h4> <ul> <li>Duas das mesmas pontuações serão encaminhadas, cuja equipe final ganha mais no EB.</li> <li>Se esta é a mesma equipe / ele fez o mesmo, o goleiro que marca mais gols conta</li> <li>Se esse for o caso, o hit de dois pontos será contado</li> </ul> <a ui-sref="app.rules" ng-click="ruleModal.closeAlert()">Regulamento do Bolão</a> </div> <div class="modal-footer"> <button class="btn btn-primary" ng-click="ruleModal.turnOffAlert(ruleModal.user)">Ok!</button> </div> </div> </div>'),a.put("views/rules.html",'<div class="container"> <div class="row"> <div class="col"> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title"> <span class="glyphicon glyphicon-copy"></span> Regras do Bolão Social </h3> </div> <div class="panel-body"> <h3>Campeonato Brasileiro Séries A e B 2019.</h3> <hr> <h4><a name="pontok"></a>1. Da entrada no Bolão</h4> <ul> <li>somente será incluído/mantido no grupo do bolão quem estiver “às vera”, ou seja, depositado o valor de R$ 150,00 nas contas a seguir indicadas, pagamento este que pode ser feito em 5 (cinco) parcelas de R$ 30,00 (trinta reais) sendo que o palpiteiro(a) <b>deve obrigatoriamente</b> enviar o comprovante de TED/Depósito <b>NO PRIVADO</b> para Betão (48) 99176-1767;</li> </ul> <h4><a name="pontok"></a>2. Da Administração</h4> <ul> <li>O “Bolão Social - Série A e B” será administrado exclusivamente pelo Betão e Renan - não será cobrado nenhum tipo de taxa de administração, apenas a isenção do valor da inscrição para o administrador do sistema (Renan), 95% do dia valor arrecadado será revertido (distribuído) entre o(a)s melhores palpiteiros(as), conforme premiação a seguir descrita, e 5% (cinco por cento) será destinada a alguma ação social. </li> <li><b>2.1.</b>Casos omissos a regra serão decididos conjuntamente entre os administradores e terão força de lei.</li> </ul> <h4><a name="pontok"></a>3. Das pontuações</h4> <ul> <li>O participante pontuará em cada jogo em apenas uma das 7 (sete) formas de pontuar abaixo descritas, se não se encaixar em nenhuma será atribuída a pontuação <span class="label label-danger">0 (zero)</span>.</li> <li><b>3.1. <span class="label label-success">15 pontos</span> Placar Exato com 5 ou mais gols na partida</b> <br>Resultado do Jogo:TIME A 3x2 TIME B. Palpite do Apostador: TIME A 3x2 TIME B </li> <li><b>3.2. <span class="label label-success">12 pontos</span> Placar Exato</b> <br>Resultado do Jogo: TIME A 2x0 TIME B. Palpite do Apostador: TIME A 2x0 TIME B </li> <li><b>3.3. <span class="label label-warning">9 pontos</span> Placar do Vencedor</b> <br>Resultado do Jogo: TIME A 2x0 TIME B. Palpite do Apostador: TIME A 2x1 TIME B </li> <li><b>3.4. <span class="label label-warning">7 pontos</span> Empate Incorreto</b> <br>Resultado do Jogo: TIME A 0x0 TIME B. Palpite do Apostador: TIME A 1X1 TIME B </li> <li><b>3.5. <span class="label label-warning">6 pontos</span> Placar do Perdedor</b> <br>Resultado do Jogo: TIME A 2x0 TIME B. Palpite do Apostador: TIME A 1x0 TIME B </li> <li><b>3.6. <span class="label label-primary">4 pontos</span> Diferença de gols</b> <br>Resultado do Jogo: TIME A 2x0 TIME B. Palpite do Apostador: TIME A 3X1 TIME B </li> <li><b>3.7. <span class="label label-primary">3 pontos</span> Acertar o vencedor da partida sem nenhuma das combinações acima</b> <br>Resultado do Jogo: TIME A 2x0 TIME B. Palpite do Apostador: TIME A 4X1 TIME B </li> </ul> <h4><a name="pontok"></a>4. Critério de Desempate</h4> <ul> <li>Em havendo empate em número de pontos (ao final da fase ou do bolão) o critério de desempate será pelo maior número de placares <b>EXATOS</b> (3.1 + 3.2) que tenha acertado o palpiteiro(a), permanecendo o empate o valor será dividido igualmente entre os palpiteiros(as).</li> </ul> <h4><a name="pontok"></a>5. Do envio dos palpites</h4> <ul> <li>Após confirmado o depósito será enviado ao palpiteiro um link ao site oficial do Bolão (<a href="bolaosocial.com.br">http://bolaosocial.com.br</a>), onde com seu e-mail e senha realizará seus palpites da rodada, podendo inserir e/ou alterar até 30 minutos antes do início da partida. </li> <br> <li><b>5.1.</b>Caso haja alguma inconsistência no sistema devido a problemas técnicos o palpiteiro deverá enviar seus palpites (digitado, foto ou print da tela) por WhatsApp (✔✔), <b>DIRETAMENTE</b>, para o administrador do sistema (Renan) no número (48) 99145-4664, até 30 minantes do início de cada jogo;</li> <li><b>5.2.</b>Em caso de envio do palpite seja realizado pelo aplicativo WhatsApp <b>não será admitido substituição de palpite</b>, ou seja, palpite envido e recebido (dentro do prazo) será registrado, o palpite recebido em duplicidade será desconsiderado;</li> </ul> <h4><a name="pontok"></a>6. Da Aposta Automática</h4> <ul> <li>A aposta automática é um benefício que o apostador tem caso o mesmo esqueça de colocar seus resultados. A partir da sua primeira aposta no bolão, o apostador deixa um resultado que valerá para todos os jogos se o mesmo esquecer de apostar, tentando prejudicar o menos possível em caso de esquecimento em alguma rodada.</li> </ul> <h4><a name="pontok"></a>7. Dos jogos selecionados e fases</h4> <ul> <li>A cada rodada serão selecionados os jogos envolvendo os Clubes Catarinenses das Séries A e B (<b>Avaí, Chapecoense, Figueirense e Criciúma</b>) e dos Gaúchos <b>Grêmio e Internacional</b>.</li> <br> <li><b>5.1.</b> A cada determinado período de tempo vamos ter o início de uma fase, sendo todo o Campeonato Brasileiro divididos em 7 (sete) fases, assim pré-estabelecidas:</li> <li><b>Fase 1</b>: de 26/04 à 23/05 ao meio dia</li> <li><b>Fase 2</b>: de 23/05 à 18/07 ao meio dia</li> <li><b>Fase 3</b>: de 18/07 à 22/08 ao meio dia</li> <li><b>Fase 4</b>: de 22/08 à 19/09 ao meio dia</li> <li><b>Fase 5</b>: de 19/09 à 17/10 ao meio dia</li> <li><b>Fase 6</b>: de 17/10 à 07/11 ao meio dia</li> <li><b>Fase 7</b>: de 07/11 ao final das Séries A e B</li> </ul> <h4><a name="pontok"></a>8. Da premiação</h4> <ul> <li>Será paga (repassada aos felizardos palpiteiros) até o primeiro dia útil após o término da última fase e definição dos “rabudos(as), os prêmios em dinheiro serão repassado aos felizardos palpiteiros(as) advindo da receita arrecadada por todos partícipes do bolão na forma proporcional a seguir descrita:</li> <br> <li><b>1º Lugar Geral:</b> 35% (trinta e cinco por cento) do total arrecadado;</li> <li><b>2º Lugar Geral:</b> 25% (vinte e cinco por cento) do total arrecadado;</li> <li><b>3º Lugar Geral:</b> 14% (quatorze por cento) do total arrecadado;</li> <br> <li><b>8.1.</b> Ao término de cada fase o melhor desempenho receberá uma premiação de 3% (três por cento) do total arrecadado;</li> <li><b>8.2. O percentual de 5% de todo o dinheiro arredado será investido em algum projeto social, até mesmo aquisição de brinquedos para o Natal Solidário de crianças carentes.</b></li> </ul> <h4><a name="pontok"></a>9. Pagamento do Bolão</h4> <ul> <li>*Pode ser realizado pessoalmente e apenas em dinheiro, para qualquer um dos administradores ou através de TED/Depósito em qualquer das contas a seguir listadas:</li> </ul> <b>Dados Bancários:</b><br> <br> Titular: <b>Norberto Becker Neto</b><br> CPF/MF: <b>867.205.899-20</b><br> <br> 🇮🇲 Banco Bradesco 🇮🇲( <b>237</b> )<br> Agência <b>0348-4</b><br> Conta Corrente <b>2202-0</b><br> <br> 🇻🇨 Banco SICOOB 🇻🇨 ( <b>756</b> )<br> Agência <b>3326-0</b><br> Conta Corrente <b>27309-0</b><br> <br> 🇲🇦 Banco ITAÚ 🇲🇦 ( <b>341</b> )<br> Agência <b>7433</b><br> Conta Corrente <b>17871-7</b><br> <br> 🇪🇺 Banco Caixa Econômica Federal 🇪🇺 ( <b>104</b> )<br> Agência <b>1875</b><br> Operação <b>013</b><br> Conta Poupança <b>21346-5</b><br> <br> 🇧🇷 Banco do Brasil 🇧🇷 ( <b>001</b> )<br> Agência <b>5251-5</b><br> Variação <b>51</b><br> Conta Poupança <b>12739-6</b><br> <h4><a name="pontok"></a>10. Sugestões e colaborações para o bolão</h4> <ul> <li>Serão sempre bem vindas, e em estando em consentâneo como lóbi de nossa guilda, compreenderão o arcabouço das Regras do Bolão Social 🤗</li> </ul> </div> </div> </div> </div> </div>'),a.put("views/teamdetails.html",'<div class="container"> <div class="row"> <div class="col-xs-12 col-sm-6"> <a ui-sref="app.admin.teamList">Voltar</a> <h4> <span ng-show="team.current.ISO!=\'\'" class="flag-icon" ng-class="{\'flag-icon-{{team.current.ISO}}\': true}"></span> <img ng-show="team.current.iconImg!=\'\'" ng-src="images/teams/{{team.current.iconImg}}"> {{team.current.longName}} <small>({{team.current.shortName}})</small> </h4> <p class="player" ng-repeat="player in team.data.players | team: team.current.$id track by player.$id ">{{player.name}} <a href ng-click="team.removePlayer(player)"><span class="glyphicon glyphicon-remove"></span></a></p> </div> <!-- ADD TEAM FORM --> <div class="col-xs-12 col-sm-6"> <form name="playerForm"> <h4>Adicionar jogadores</h4> <div class="form-group"> <!-- Players --> <div class="form-group"> <textarea required class="form-control" id="" cols="30" rows="10" ng-model="team.form.players" placeholder="Lista de jogadores"></textarea> <div class="help-block">Inserir jogadores separados por vírgula.</div> </div> <button class="btn btn-primary" ng-click="team.addPlayers(team.current, team.form.players); team.reset(playerForm)" ng-disabled="playerForm.$invalid">Cadastrar</button> </div></form> </div> </div> </div>'),a.put("views/teams.html",'<div class="container"> <div class="row"> <!-- TEAM LIST --> <div class="col-md-6" ng-hide="teams.uploadForm"> <ul class="list-group"> <li class="list-group-item" ng-repeat="team in teams.data.teams | orderBy: \'shortName\'"> <span ng-show="team.ISO!=\'\'" class="flag-icon" ng-class="{\'flag-icon-{{team.ISO}}\': true}"></span> <img ng-show="team.iconImg!=\'\'" class="teamIcon20" ng-src="images/teams/{{team.iconImg}}"> {{team.longName}} ({{team.shortName}}) <span class="list-edit-controls pull-right text-danger"> <a href ui-sref="app.admin.teamDetails({team: team.shortName})" title="Jogadores"><span class="glyphicon glyphicon-user"></span>&nbspJogadores</a> </span> </li> </ul> </div> </div> <div class="row"> <div class="col-xs-12" ng-show="teams.uploadForm"> <h4>Importar equipes</h4> <form name="teamsForm" ng-submit="teams.upload(teams.form.list, teamsForm)"> <div class="form-group"> <label>Lista de Equipes</label> <textarea required class="form-control" name="teamList" id="teamList" cols="30" rows="10" placeholder="Formato: Nome; Apelido; Código ISO (css); Escudo (Imagem)" ng-model="teams.form.list"></textarea> </div> <p class="help-block" ng-show="teamsForm.teamList.$touched && teamsForm.teamList.$invalid">Copie as informações da equipe!</p> <button class="btn btn-primary" type="submit" ng-disabled="teamsForm.$invalid">Importar</button> <button class="btn btn-default" type="reset" ng-click="teams.uploadForm=false; teams.reset(teamsForm)">Cancelar</button> </form> </div> <div class="col-xs-12" ng-hide="teams.uploadForm || teams.disableUpload"> <a href ng-click="teams.uploadForm = true"> <span class="glyphicon glyphicon-plus"></span> Importar equipes</a> </div> </div> </div>'),a.put("views/welcome_modal.html",'<div class="row"> <div class="col-xs-12"> <div class="modal-header"> <h2 class="modal-title">Bem vindo ao Bolão da Raça!</h2> </div> <div class="modal-body"> <h4>Regras gerais</h4> <ul> <li>Você é o responsável por cadastrar os seus palpites.</li> <li>Para ver as regras de pontuação, consulte o regulamento no menu <b>[Regras]</b></li> <li>Os palpites devem ser feitos antes <b>30 minutos</b> antes do início de cada jogo.</li> <li>Os palpites podem ser alterados quantas vezes você quiser, respeitando o horário limite.</li> </ul> <p>Antes de iniciar, informe seu nome ou apelido.</p> <form name="modalForm" class="form"> <div class="form-group" ng-class="{\'has-error\': modalForm.name.$touched && modalForm.name.$invalid, \'has-success\': modalForm.name.$touched && modalForm.name.$valid}"> <label>Nome:</label> <div class="input-group"> <input type="text" class="form-control" name="name" ng-model="modal.form.name" placeholder="Nome ou Apelido" required ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 300, \'blur\': 0 } }"> <div class="input-group-addon" ng-if="!modalForm.name.$touched"><span class="glyphicon glyphicon-user"></span></div> <div class="input-group-addon" ng-if="modalForm.name.$touched && modalForm.name.$valid"><span class="glyphicon glyphicon-ok"></span></div> <div class="input-group-addon" ng-if="modalForm.name.$touched && modalForm.name.$invalid"><span class="glyphicon glyphicon-alert"></span></div> </div> <div class="help-block" ng-hide="modalForm.name.$invalid && modalForm.name.$touched">Todos os jogadores verão esse nome. Você pode alterá-lo a qualquer momento no seu perfil de usuário.</div> <div ng-messages="modalForm.name.$error" ng-if="modalForm.name.$touched"> <p class="help-block" ng-message="required">Você deve informar seu nome.</p> </div> </div> <!-- <div class="form-group" ng-class="{\'has-success\': modal.form.company}">\n					<label>Empresa:</label>\n					<div class="input-group">\n						<input type="text" class="form-control" name="company" ng-model="modal.form.company" placeholder="pl. Acme Inc" ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 300, \'blur\': 0 } }">\n						<div class="input-group-addon" ng-if="modalForm.company.$pristine || !modal.form.company"><span class="glyphicon glyphicon-briefcase"></span></div>\n						<div class="input-group-addon" ng-if="modal.form.company"><span class="glyphicon glyphicon-ok"></span></div>\n					</div>\n					<div class="help-block">Desta forma, podemos comparar os resultados entre as empresas. Você pode alterá-lo a qualquer momento.</div>\n				</div> --> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" ng-disabled="modalForm.$invalid" ng-click="modal.saveUser(modal.form.name, modal.form.company)">Ok, entrar no Bolão!</button> </div> </div> </div>')}]);