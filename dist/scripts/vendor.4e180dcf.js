if(function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a){var b=!!a&&"length"in a&&a.length,c=fa.type(a);return"function"===c||fa.isWindow(a)?!1:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}function d(a,b,c){if(fa.isFunction(b))return fa.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return fa.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(pa.test(b))return fa.filter(b,a,c);b=fa.filter(b,a)}return fa.grep(a,function(a){return _.call(b,a)>-1!==c})}function e(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function f(a){var b={};return fa.each(a.match(va)||[],function(a,c){b[c]=!0}),b}function g(){X.removeEventListener("DOMContentLoaded",g),a.removeEventListener("load",g),fa.ready()}function h(){this.expando=fa.expando+h.uid++}function i(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Ca,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:Ba.test(c)?fa.parseJSON(c):c}catch(e){}Aa.set(a,b,c)}else c=void 0;return c}function j(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return fa.css(a,b,"")},i=h(),j=c&&c[3]||(fa.cssNumber[b]?"":"px"),k=(fa.cssNumber[b]||"px"!==j&&+i)&&Ea.exec(fa.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,fa.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}function k(a,b){var c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&fa.nodeName(a,b)?fa.merge([a],c):c}function l(a,b){for(var c=0,d=a.length;d>c;c++)za.set(a[c],"globalEval",!b||za.get(b[c],"globalEval"))}function m(a,b,c,d,e){for(var f,g,h,i,j,m,n=b.createDocumentFragment(),o=[],p=0,q=a.length;q>p;p++)if(f=a[p],f||0===f)if("object"===fa.type(f))fa.merge(o,f.nodeType?[f]:f);else if(La.test(f)){for(g=g||n.appendChild(b.createElement("div")),h=(Ia.exec(f)||["",""])[1].toLowerCase(),i=Ka[h]||Ka._default,g.innerHTML=i[1]+fa.htmlPrefilter(f)+i[2],m=i[0];m--;)g=g.lastChild;fa.merge(o,g.childNodes),g=n.firstChild,g.textContent=""}else o.push(b.createTextNode(f));for(n.textContent="",p=0;f=o[p++];)if(d&&fa.inArray(f,d)>-1)e&&e.push(f);else if(j=fa.contains(f.ownerDocument,f),g=k(n.appendChild(f),"script"),j&&l(g),c)for(m=0;f=g[m++];)Ja.test(f.type||"")&&c.push(f);return n}function n(){return!0}function o(){return!1}function p(){try{return X.activeElement}catch(a){}}function q(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)q(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=o;else if(!e)return a;return 1===f&&(g=e,e=function(a){return fa().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=fa.guid++)),a.each(function(){fa.event.add(this,b,e,d,c)})}function r(a,b){return fa.nodeName(a,"table")&&fa.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function s(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function t(a){var b=Sa.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function u(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(za.hasData(a)&&(f=za.access(a),g=za.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)fa.event.add(b,e,j[e][c])}Aa.hasData(a)&&(h=Aa.access(a),i=fa.extend({},h),Aa.set(b,i))}}function v(a,b){var c=b.nodeName.toLowerCase();"input"===c&&Ha.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}function w(a,b,c,d){b=Z.apply([],b);var e,f,g,h,i,j,l=0,n=a.length,o=n-1,p=b[0],q=fa.isFunction(p);if(q||n>1&&"string"==typeof p&&!da.checkClone&&Ra.test(p))return a.each(function(e){var f=a.eq(e);q&&(b[0]=p.call(this,e,f.html())),w(f,b,c,d)});if(n&&(e=m(b,a[0].ownerDocument,!1,a,d),f=e.firstChild,1===e.childNodes.length&&(e=f),f||d)){for(g=fa.map(k(e,"script"),s),h=g.length;n>l;l++)i=e,l!==o&&(i=fa.clone(i,!0,!0),h&&fa.merge(g,k(i,"script"))),c.call(a[l],i,l);if(h)for(j=g[g.length-1].ownerDocument,fa.map(g,t),l=0;h>l;l++)i=g[l],Ja.test(i.type||"")&&!za.access(i,"globalEval")&&fa.contains(j,i)&&(i.src?fa._evalUrl&&fa._evalUrl(i.src):fa.globalEval(i.textContent.replace(Ta,"")))}return a}function x(a,b,c){for(var d,e=b?fa.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||fa.cleanData(k(d)),d.parentNode&&(c&&fa.contains(d.ownerDocument,d)&&l(k(d,"script")),d.parentNode.removeChild(d));return a}function y(a,b){var c=fa(b.createElement(a)).appendTo(b.body),d=fa.css(c[0],"display");return c.detach(),d}function z(a){var b=X,c=Va[a];return c||(c=y(a,b),"none"!==c&&c||(Ua=(Ua||fa("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=Ua[0].contentDocument,b.write(),b.close(),c=y(a,b),Ua.detach()),Va[a]=c),c}function A(a,b,c){var d,e,f,g,h=a.style;return c=c||Ya(a),g=c?c.getPropertyValue(b)||c[b]:void 0,""!==g&&void 0!==g||fa.contains(a.ownerDocument,a)||(g=fa.style(a,b)),c&&!da.pixelMarginRight()&&Xa.test(g)&&Wa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0!==g?g+"":g}function B(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function C(a){if(a in db)return a;for(var b=a[0].toUpperCase()+a.slice(1),c=cb.length;c--;)if(a=cb[c]+b,a in db)return a}function D(a,b,c){var d=Ea.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function E(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=fa.css(a,c+Fa[f],!0,e)),d?("content"===c&&(g-=fa.css(a,"padding"+Fa[f],!0,e)),"margin"!==c&&(g-=fa.css(a,"border"+Fa[f]+"Width",!0,e))):(g+=fa.css(a,"padding"+Fa[f],!0,e),"padding"!==c&&(g+=fa.css(a,"border"+Fa[f]+"Width",!0,e)));return g}function F(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ya(a),g="border-box"===fa.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=A(a,b,f),(0>e||null==e)&&(e=a.style[b]),Xa.test(e))return e;d=g&&(da.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+E(a,b,c||(g?"border":"content"),d,f)+"px"}function G(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=za.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&Ga(d)&&(f[g]=za.access(d,"olddisplay",z(d.nodeName)))):(e=Ga(d),"none"===c&&e||za.set(d,"olddisplay",e?c:fa.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function H(a,b,c,d,e){return new H.prototype.init(a,b,c,d,e)}function I(){return a.setTimeout(function(){eb=void 0}),eb=fa.now()}function J(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=Fa[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function K(a,b,c){for(var d,e=(N.tweeners[b]||[]).concat(N.tweeners["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function L(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},n=a.style,o=a.nodeType&&Ga(a),p=za.get(a,"fxshow");c.queue||(h=fa._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,fa.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],j=fa.css(a,"display"),k="none"===j?za.get(a,"olddisplay")||z(a.nodeName):j,"inline"===k&&"none"===fa.css(a,"float")&&(n.display="inline-block")),c.overflow&&(n.overflow="hidden",l.always(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],gb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(o?"hide":"show")){if("show"!==e||!p||void 0===p[d])continue;o=!0}m[d]=p&&p[d]||fa.style(a,d)}else j=void 0;if(fa.isEmptyObject(m))"inline"===("none"===j?z(a.nodeName):j)&&(n.display=j);else{p?"hidden"in p&&(o=p.hidden):p=za.access(a,"fxshow",{}),f&&(p.hidden=!o),o?fa(a).show():l.done(function(){fa(a).hide()}),l.done(function(){var b;za.remove(a,"fxshow");for(b in m)fa.style(a,b,m[b])});for(d in m)g=K(o?p[d]:0,d,l),d in p||(p[d]=g.start,o&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function M(a,b){var c,d,e,f,g;for(c in a)if(d=fa.camelCase(c),e=b[d],f=a[c],fa.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=fa.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function N(a,b,c){var d,e,f=0,g=N.prefilters.length,h=fa.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=eb||I(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:fa.extend({},b),opts:fa.extend(!0,{specialEasing:{},easing:fa.easing._default},c),originalProperties:b,originalOptions:c,startTime:eb||I(),duration:c.duration,tweens:[],createTween:function(b,c){var d=fa.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(M(k,j.opts.specialEasing);g>f;f++)if(d=N.prefilters[f].call(j,a,k,j.opts))return fa.isFunction(d.stop)&&(fa._queueHooks(j.elem,j.opts.queue).stop=fa.proxy(d.stop,d)),d;return fa.map(k,K,j),fa.isFunction(j.opts.start)&&j.opts.start.call(a,j),fa.fx.timer(fa.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function O(a){return a.getAttribute&&a.getAttribute("class")||""}function P(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(va)||[];if(fa.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Q(a,b,c,d){function e(h){var i;return f[h]=!0,fa.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===Ab;return e(b.dataTypes[0])||!f["*"]&&e("*")}function R(a,b){var c,d,e=fa.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&fa.extend(!0,a,d),a}function S(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function T(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function U(a,b,c,d){var e;if(fa.isArray(b))fa.each(b,function(b,e){c||Eb.test(a)?d(a,e):U(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==fa.type(b))d(a,b);else for(e in b)U(a+"["+e+"]",b[e],c,d)}function V(a){return fa.isWindow(a)?a:9===a.nodeType&&a.defaultView}var W=[],X=a.document,Y=W.slice,Z=W.concat,$=W.push,_=W.indexOf,aa={},ba=aa.toString,ca=aa.hasOwnProperty,da={},ea="2.2.4",fa=function(a,b){return new fa.fn.init(a,b)},ga=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ha=/^-ms-/,ia=/-([\da-z])/gi,ja=function(a,b){return b.toUpperCase()};fa.fn=fa.prototype={jquery:ea,constructor:fa,selector:"",length:0,toArray:function(){return Y.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:Y.call(this)},pushStack:function(a){var b=fa.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return fa.each(this,a)},map:function(a){return this.pushStack(fa.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:$,sort:W.sort,splice:W.splice},fa.extend=fa.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||fa.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(fa.isPlainObject(d)||(e=fa.isArray(d)))?(e?(e=!1,f=c&&fa.isArray(c)?c:[]):f=c&&fa.isPlainObject(c)?c:{},g[b]=fa.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},fa.extend({expando:"jQuery"+(ea+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===fa.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return!fa.isArray(a)&&b-parseFloat(b)+1>=0},isPlainObject:function(a){var b;if("object"!==fa.type(a)||a.nodeType||fa.isWindow(a))return!1;if(a.constructor&&!ca.call(a,"constructor")&&!ca.call(a.constructor.prototype||{},"isPrototypeOf"))return!1;for(b in a);return void 0===b||ca.call(a,b)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?aa[ba.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=fa.trim(a),a&&(1===a.indexOf("use strict")?(b=X.createElement("script"),b.text=a,X.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(ha,"ms-").replace(ia,ja)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var d,e=0;if(c(a))for(d=a.length;d>e&&b.call(a[e],e,a[e])!==!1;e++);else for(e in a)if(b.call(a[e],e,a[e])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(ga,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?fa.merge(d,"string"==typeof a?[a]:a):$.call(d,a)),d},inArray:function(a,b,c){return null==b?-1:_.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,d){var e,f,g=0,h=[];if(c(a))for(e=a.length;e>g;g++)f=b(a[g],g,d),null!=f&&h.push(f);else for(g in a)f=b(a[g],g,d),null!=f&&h.push(f);return Z.apply([],h)},guid:1,proxy:function(a,b){var c,d,e;return"string"==typeof b&&(c=a[b],b=a,a=c),fa.isFunction(a)?(d=Y.call(arguments,2),e=function(){return a.apply(b||this,d.concat(Y.call(arguments)))},e.guid=a.guid=a.guid||fa.guid++,e):void 0},now:Date.now,support:da}),"function"==typeof Symbol&&(fa.fn[Symbol.iterator]=W[Symbol.iterator]),fa.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){aa["[object "+b+"]"]=b.toLowerCase()});var ka=function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,n,o=b&&b.ownerDocument,p=b?b.nodeType:9;if(c=c||[],"string"!=typeof a||!a||1!==p&&9!==p&&11!==p)return c;if(!d&&((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,I)){if(11!==p&&(j=ra.exec(a)))if(e=j[1]){if(9===p){if(!(g=b.getElementById(e)))return c;if(g.id===e)return c.push(g),c}else if(o&&(g=o.getElementById(e))&&M(b,g)&&g.id===e)return c.push(g),c}else{if(j[2])return $.apply(c,b.getElementsByTagName(a)),c;if((e=j[3])&&v.getElementsByClassName&&b.getElementsByClassName)return $.apply(c,b.getElementsByClassName(e)),c}if(v.qsa&&!T[a+" "]&&(!J||!J.test(a))){if(1!==p)o=b,n=a;else if("object"!==b.nodeName.toLowerCase()){for((h=b.getAttribute("id"))?h=h.replace(ta,"\\$&"):b.setAttribute("id",h=N),l=z(a),f=l.length,i=ma.test(h)?"#"+h:"[id='"+h+"']";f--;)l[f]=i+" "+m(l[f]);n=l.join(","),o=sa.test(a)&&k(b.parentNode)||b}if(n)try{return $.apply(c,o.querySelectorAll(n)),c}catch(q){}finally{h===N&&b.removeAttribute("id")}}}return B(a.replace(ha,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>w.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[N]=!0,a}function e(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=c.length;d--;)w.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||V)-(~a.sourceIndex||V);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function l(){}function m(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function n(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[P,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(j=b[N]||(b[N]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===P&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function o(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function p(a,c,d){for(var e=0,f=c.length;f>e;e++)b(a,c[e],d);return d}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function r(a,b,c,e,f,g){return e&&!e[N]&&(e=r(e)),f&&!f[N]&&(f=r(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,r=d||p(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?r:q(r,m,a,h,i),t=c?f||(d?a:o||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=q(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?aa(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=q(t===g?t.splice(o,t.length):t),f?f(null,g,t,i):$.apply(g,t)})}function s(a){for(var b,c,d,e=a.length,f=w.relative[a[0].type],g=f||w.relative[" "],h=f?1:0,i=n(function(a){return a===b},g,!0),j=n(function(a){return aa(b,a)>-1},g,!0),k=[function(a,c,d){var e=!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];e>h;h++)if(c=w.relative[a[h].type])k=[n(o(k),c)];else{if(c=w.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!w.relative[a[d].type];d++);return r(h>1&&o(k),h>1&&m(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ha,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&m(a))}k.push(c)}return o(k)}function t(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],r=[],s=C,t=d||f&&w.find.TAG("*",j),u=P+=null==s?1:Math.random()||.1,v=t.length;for(j&&(C=g===G||g||j);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0,g||k.ownerDocument===G||(F(k),h=!I);m=a[l++];)if(m(k,g||G,h)){i.push(k);break}j&&(P=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,r,g,h);if(d){if(n>0)for(;o--;)p[o]||r[o]||(r[o]=Y.call(i));r=q(r)}$.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(P=u,C=s),p};return e?d(g):g}var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+1*new Date,O=a.document,P=0,Q=0,R=c(),S=c(),T=c(),U=function(a,b){return a===b&&(E=!0),0},V=1<<31,W={}.hasOwnProperty,X=[],Y=X.pop,Z=X.push,$=X.push,_=X.slice,aa=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},ba="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ca="[\\x20\\t\\r\\n\\f]",da="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ea="\\["+ca+"*("+da+")(?:"+ca+"*([*^$|!~]?=)"+ca+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+da+"))|)"+ca+"*\\]",fa=":("+da+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ea+")*)|.*)\\)|)",ga=new RegExp(ca+"+","g"),ha=new RegExp("^"+ca+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ca+"+$","g"),ia=new RegExp("^"+ca+"*,"+ca+"*"),ja=new RegExp("^"+ca+"*([>+~]|"+ca+")"+ca+"*"),ka=new RegExp("="+ca+"*([^\\]'\"]*?)"+ca+"*\\]","g"),la=new RegExp(fa),ma=new RegExp("^"+da+"$"),na={ID:new RegExp("^#("+da+")"),CLASS:new RegExp("^\\.("+da+")"),TAG:new RegExp("^("+da+"|[*])"),ATTR:new RegExp("^"+ea),PSEUDO:new RegExp("^"+fa),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ca+"*(even|odd|(([+-]|)(\\d*)n|)"+ca+"*(?:([+-]|)"+ca+"*(\\d+)|))"+ca+"*\\)|)","i"),bool:new RegExp("^(?:"+ba+")$","i"),needsContext:new RegExp("^"+ca+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ca+"*((?:-\\d)?\\d*)"+ca+"*\\)|)(?=[^-]|$)","i")},oa=/^(?:input|select|textarea|button)$/i,pa=/^h\d$/i,qa=/^[^{]+\{\s*\[native \w/,ra=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,sa=/[+~]/,ta=/'|\\/g,ua=new RegExp("\\\\([\\da-f]{1,6}"+ca+"?|("+ca+")|.)","ig"),va=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},wa=function(){F()};try{$.apply(X=_.call(O.childNodes),O.childNodes),X[O.childNodes.length].nodeType}catch(xa){$={apply:X.length?function(a,b){Z.apply(a,_.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}v=b.support={},y=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},F=b.setDocument=function(a){var b,c,d=a?a.ownerDocument||a:O;return d!==G&&9===d.nodeType&&d.documentElement?(G=d,H=G.documentElement,I=!y(G),(c=G.defaultView)&&c.top!==c&&(c.addEventListener?c.addEventListener("unload",wa,!1):c.attachEvent&&c.attachEvent("onunload",wa)),v.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),v.getElementsByTagName=e(function(a){return a.appendChild(G.createComment("")),!a.getElementsByTagName("*").length}),v.getElementsByClassName=qa.test(G.getElementsByClassName),v.getById=e(function(a){return H.appendChild(a).id=N,!G.getElementsByName||!G.getElementsByName(N).length}),v.getById?(w.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&I){var c=b.getElementById(a);return c?[c]:[]}},w.filter.ID=function(a){var b=a.replace(ua,va);return function(a){return a.getAttribute("id")===b}}):(delete w.find.ID,w.filter.ID=function(a){var b=a.replace(ua,va);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),w.find.TAG=v.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):v.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},w.find.CLASS=v.getElementsByClassName&&function(a,b){return"undefined"!=typeof b.getElementsByClassName&&I?b.getElementsByClassName(a):void 0},K=[],J=[],(v.qsa=qa.test(G.querySelectorAll))&&(e(function(a){H.appendChild(a).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&J.push("[*^$]="+ca+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||J.push("\\["+ca+"*(?:value|"+ba+")"),a.querySelectorAll("[id~="+N+"-]").length||J.push("~="),a.querySelectorAll(":checked").length||J.push(":checked"),a.querySelectorAll("a#"+N+"+*").length||J.push(".#.+[+~]")}),e(function(a){var b=G.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&J.push("name"+ca+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(v.matchesSelector=qa.test(L=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&e(function(a){v.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",fa)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),b=qa.test(H.compareDocumentPosition),M=b||qa.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=b?function(a,b){if(a===b)return E=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c?c:(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!v.sortDetached&&b.compareDocumentPosition(a)===c?a===G||a.ownerDocument===O&&M(O,a)?-1:b===G||b.ownerDocument===O&&M(O,b)?1:D?aa(D,a)-aa(D,b):0:4&c?-1:1)}:function(a,b){if(a===b)return E=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===G?-1:b===G?1:e?-1:f?1:D?aa(D,a)-aa(D,b):0;if(e===f)return g(a,b);for(c=a;c=c.parentNode;)h.unshift(c);for(c=b;c=c.parentNode;)i.unshift(c);for(;h[d]===i[d];)d++;return d?g(h[d],i[d]):h[d]===O?-1:i[d]===O?1:0},G):G},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&F(a),c=c.replace(ka,"='$1']"),v.matchesSelector&&I&&!T[c+" "]&&(!K||!K.test(c))&&(!J||!J.test(c)))try{var d=L.call(a,c);if(d||v.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return b(c,G,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==G&&F(a);var c=w.attrHandle[b.toLowerCase()],d=c&&W.call(w.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==d?d:v.attributes||!I?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(E=!v.detectDuplicates,D=!v.sortStable&&a.slice(0),a.sort(U),E){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return D=null,a},x=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=x(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=x(b);return c},w=b.selectors={cacheLength:50,createPseudo:d,match:na,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ua,va),a[3]=(a[3]||a[4]||a[5]||"").replace(ua,va),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return na.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&la.test(c)&&(b=z(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ua,va).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+ca+")"+a+"("+ca+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:c?(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f.replace(ga," ")+" ").indexOf(d)>-1:"|="===c?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){for(;p;){for(m=b;m=m[p];)if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(m=q,l=m[N]||(m[N]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===P&&j[1],t=n&&j[2],m=n&&q.childNodes[n];m=++n&&m&&m[p]||(t=n=0)||o.pop();)if(1===m.nodeType&&++t&&m===b){k[a]=[P,n,t];break}}else if(s&&(m=b,l=m[N]||(m[N]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===P&&j[1],t=n),t===!1)for(;(m=++n&&m&&m[p]||(t=n=0)||o.pop())&&((h?m.nodeName.toLowerCase()!==r:1!==m.nodeType)||!++t||(s&&(l=m[N]||(m[N]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[P,t]),m!==b)););return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,c){var e,f=w.pseudos[a]||w.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[N]?f(c):f.length>1?(e=[a,a,"",c],w.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=aa(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=A(a.replace(ha,"$1"));return e[N]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),b[0]=null,!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return a=a.replace(ua,va),function(b){return(b.textContent||b.innerText||x(b)).indexOf(a)>-1}}),lang:d(function(a){return ma.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(ua,va).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!w.pseudos.empty(a)},header:function(a){return pa.test(a.nodeName)},input:function(a){return oa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:j(function(){return[0]}),last:j(function(a,b){return[b-1]}),eq:j(function(a,b,c){return[0>c?c+b:c]}),even:j(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:j(function(a,b){
for(var c=1;b>c;c+=2)a.push(c);return a}),lt:j(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},w.pseudos.nth=w.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[u]=h(u);for(u in{submit:!0,reset:!0})w.pseudos[u]=i(u);return l.prototype=w.filters=w.pseudos,w.setFilters=new l,z=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=w.preFilter;h;){(!d||(e=ia.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ja.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ha," ")}),h=h.slice(d.length));for(g in w.filter)!(e=na[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):S(a,i).slice(0)},A=b.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=z(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d)),f.selector=a}return f},B=b.select=function(a,b,c,d){var e,f,g,h,i,j="function"==typeof a&&a,l=!d&&z(a=j.selector||a);if(c=c||[],1===l.length){if(f=l[0]=l[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&v.getById&&9===b.nodeType&&I&&w.relative[f[1].type]){if(b=(w.find.ID(g.matches[0].replace(ua,va),b)||[])[0],!b)return c;j&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=na.needsContext.test(a)?0:f.length;e--&&(g=f[e],!w.relative[h=g.type]);)if((i=w.find[h])&&(d=i(g.matches[0].replace(ua,va),sa.test(f[0].type)&&k(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&m(f),!a)return $.apply(c,d),c;break}}return(j||A(a,l))(d,b,!I,c,!b||sa.test(a)&&k(b.parentNode)||b),c},v.sortStable=N.split("").sort(U).join("")===N,v.detectDuplicates=!!E,F(),v.sortDetached=e(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),v.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(ba,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);fa.find=ka,fa.expr=ka.selectors,fa.expr[":"]=fa.expr.pseudos,fa.uniqueSort=fa.unique=ka.uniqueSort,fa.text=ka.getText,fa.isXMLDoc=ka.isXML,fa.contains=ka.contains;var la=function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&fa(a).is(c))break;d.push(a)}return d},ma=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},na=fa.expr.match.needsContext,oa=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,pa=/^.[^:#\[\.,]*$/;fa.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?fa.find.matchesSelector(d,a)?[d]:[]:fa.find.matches(a,fa.grep(b,function(a){return 1===a.nodeType}))},fa.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(fa(a).filter(function(){for(b=0;c>b;b++)if(fa.contains(e[b],this))return!0}));for(b=0;c>b;b++)fa.find(a,e[b],d);return d=this.pushStack(c>1?fa.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"==typeof a&&na.test(a)?fa(a):a||[],!1).length}});var qa,ra=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,sa=fa.fn.init=function(a,b,c){var d,e;if(!a)return this;if(c=c||qa,"string"==typeof a){if(d="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:ra.exec(a),!d||!d[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(d[1]){if(b=b instanceof fa?b[0]:b,fa.merge(this,fa.parseHTML(d[1],b&&b.nodeType?b.ownerDocument||b:X,!0)),oa.test(d[1])&&fa.isPlainObject(b))for(d in b)fa.isFunction(this[d])?this[d](b[d]):this.attr(d,b[d]);return this}return e=X.getElementById(d[2]),e&&e.parentNode&&(this.length=1,this[0]=e),this.context=X,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):fa.isFunction(a)?void 0!==c.ready?c.ready(a):a(fa):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),fa.makeArray(a,this))};sa.prototype=fa.fn,qa=fa(X);var ta=/^(?:parents|prev(?:Until|All))/,ua={children:!0,contents:!0,next:!0,prev:!0};fa.fn.extend({has:function(a){var b=fa(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(fa.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=na.test(a)||"string"!=typeof a?fa(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&fa.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?fa.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?_.call(fa(a),this[0]):_.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(fa.uniqueSort(fa.merge(this.get(),fa(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),fa.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return la(a,"parentNode")},parentsUntil:function(a,b,c){return la(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return la(a,"nextSibling")},prevAll:function(a){return la(a,"previousSibling")},nextUntil:function(a,b,c){return la(a,"nextSibling",c)},prevUntil:function(a,b,c){return la(a,"previousSibling",c)},siblings:function(a){return ma((a.parentNode||{}).firstChild,a)},children:function(a){return ma(a.firstChild)},contents:function(a){return a.contentDocument||fa.merge([],a.childNodes)}},function(a,b){fa.fn[a]=function(c,d){var e=fa.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=fa.filter(d,e)),this.length>1&&(ua[a]||fa.uniqueSort(e),ta.test(a)&&e.reverse()),this.pushStack(e)}});var va=/\S+/g;fa.Callbacks=function(a){a="string"==typeof a?f(a):fa.extend({},a);var b,c,d,e,g=[],h=[],i=-1,j=function(){for(e=a.once,d=b=!0;h.length;i=-1)for(c=h.shift();++i<g.length;)g[i].apply(c[0],c[1])===!1&&a.stopOnFalse&&(i=g.length,c=!1);a.memory||(c=!1),b=!1,e&&(g=c?[]:"")},k={add:function(){return g&&(c&&!b&&(i=g.length-1,h.push(c)),function d(b){fa.each(b,function(b,c){fa.isFunction(c)?a.unique&&k.has(c)||g.push(c):c&&c.length&&"string"!==fa.type(c)&&d(c)})}(arguments),c&&!b&&j()),this},remove:function(){return fa.each(arguments,function(a,b){for(var c;(c=fa.inArray(b,g,c))>-1;)g.splice(c,1),i>=c&&i--}),this},has:function(a){return a?fa.inArray(a,g)>-1:g.length>0},empty:function(){return g&&(g=[]),this},disable:function(){return e=h=[],g=c="",this},disabled:function(){return!g},lock:function(){return e=h=[],c||(g=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],h.push(c),b||j()),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},fa.extend({Deferred:function(a){var b=[["resolve","done",fa.Callbacks("once memory"),"resolved"],["reject","fail",fa.Callbacks("once memory"),"rejected"],["notify","progress",fa.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return fa.Deferred(function(c){fa.each(b,function(b,f){var g=fa.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&fa.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?fa.extend(a,d):d}},e={};return d.pipe=d.then,fa.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=Y.call(arguments),g=f.length,h=1!==g||a&&fa.isFunction(a.promise)?g:0,i=1===h?a:fa.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?Y.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&fa.isFunction(f[e].promise)?f[e].promise().progress(j(e,c,b)).done(j(e,d,f)).fail(i.reject):--h;return h||i.resolveWith(d,f),i.promise()}});var wa;fa.fn.ready=function(a){return fa.ready.promise().done(a),this},fa.extend({isReady:!1,readyWait:1,holdReady:function(a){a?fa.readyWait++:fa.ready(!0)},ready:function(a){(a===!0?--fa.readyWait:fa.isReady)||(fa.isReady=!0,a!==!0&&--fa.readyWait>0||(wa.resolveWith(X,[fa]),fa.fn.triggerHandler&&(fa(X).triggerHandler("ready"),fa(X).off("ready"))))}}),fa.ready.promise=function(b){return wa||(wa=fa.Deferred(),"complete"===X.readyState||"loading"!==X.readyState&&!X.documentElement.doScroll?a.setTimeout(fa.ready):(X.addEventListener("DOMContentLoaded",g),a.addEventListener("load",g))),wa.promise(b)},fa.ready.promise();var xa=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===fa.type(c)){e=!0;for(h in c)xa(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,fa.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(fa(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},ya=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};h.uid=1,h.prototype={register:function(a,b){var c=b||{};return a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,writable:!0,configurable:!0}),a[this.expando]},cache:function(a){if(!ya(a))return{};var b=a[this.expando];return b||(b={},ya(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[b]=c;else for(d in b)e[d]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,fa.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=a[this.expando];if(void 0!==f){if(void 0===b)this.register(a);else{fa.isArray(b)?d=b.concat(b.map(fa.camelCase)):(e=fa.camelCase(b),b in f?d=[b,e]:(d=e,d=d in f?[d]:d.match(va)||[])),c=d.length;for(;c--;)delete f[d[c]]}(void 0===b||fa.isEmptyObject(f))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!fa.isEmptyObject(b)}};var za=new h,Aa=new h,Ba=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ca=/[A-Z]/g;fa.extend({hasData:function(a){return Aa.hasData(a)||za.hasData(a)},data:function(a,b,c){return Aa.access(a,b,c)},removeData:function(a,b){Aa.remove(a,b)},_data:function(a,b,c){return za.access(a,b,c)},_removeData:function(a,b){za.remove(a,b)}}),fa.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=Aa.get(f),1===f.nodeType&&!za.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=fa.camelCase(d.slice(5)),i(f,d,e[d])));za.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){Aa.set(this,a)}):xa(this,function(b){var c,d;if(f&&void 0===b){if(c=Aa.get(f,a)||Aa.get(f,a.replace(Ca,"-$&").toLowerCase()),void 0!==c)return c;if(d=fa.camelCase(a),c=Aa.get(f,d),void 0!==c)return c;if(c=i(f,d,void 0),void 0!==c)return c}else d=fa.camelCase(a),this.each(function(){var c=Aa.get(this,d);Aa.set(this,d,b),a.indexOf("-")>-1&&void 0!==c&&Aa.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){Aa.remove(this,a)})}}),fa.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=za.get(a,b),c&&(!d||fa.isArray(c)?d=za.access(a,b,fa.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=fa.queue(a,b),d=c.length,e=c.shift(),f=fa._queueHooks(a,b),g=function(){fa.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return za.get(a,c)||za.access(a,c,{empty:fa.Callbacks("once memory").add(function(){za.remove(a,[b+"queue",c])})})}}),fa.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?fa.queue(this[0],a):void 0===b?this:this.each(function(){var c=fa.queue(this,a,b);fa._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&fa.dequeue(this,a)})},dequeue:function(a){return this.each(function(){fa.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=fa.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=za.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Da=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ea=new RegExp("^(?:([+-])=|)("+Da+")([a-z%]*)$","i"),Fa=["Top","Right","Bottom","Left"],Ga=function(a,b){return a=b||a,"none"===fa.css(a,"display")||!fa.contains(a.ownerDocument,a)},Ha=/^(?:checkbox|radio)$/i,Ia=/<([\w:-]+)/,Ja=/^$|\/(?:java|ecma)script/i,Ka={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ka.optgroup=Ka.option,Ka.tbody=Ka.tfoot=Ka.colgroup=Ka.caption=Ka.thead,Ka.th=Ka.td;var La=/<|&#?\w+;/;!function(){var a=X.createDocumentFragment(),b=a.appendChild(X.createElement("div")),c=X.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),da.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",da.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var Ma=/^key/,Na=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Oa=/^([^.]*)(?:\.(.+)|)/;fa.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=za.get(a);if(q)for(c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=fa.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return"undefined"!=typeof fa&&fa.event.triggered!==b.type?fa.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(va)||[""],j=b.length;j--;)h=Oa.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=fa.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=fa.event.special[n]||{},k=fa.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&fa.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),fa.event.global[n]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=za.hasData(a)&&za.get(a);if(q&&(i=q.events)){for(b=(b||"").match(va)||[""],j=b.length;j--;)if(h=Oa.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=fa.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||fa.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)fa.event.remove(a,n+b[j],c,d,!0);fa.isEmptyObject(i)&&za.remove(a,"handle events")}},dispatch:function(a){a=fa.event.fix(a);var b,c,d,e,f,g=[],h=Y.call(arguments),i=(za.get(this,"events")||{})[a.type]||[],j=fa.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||j.preDispatch.call(this,a)!==!1){for(g=fa.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!a.isImmediatePropagationStopped();)(!a.rnamespace||a.rnamespace.test(f.namespace))&&(a.handleObj=f,a.data=f.data,d=((fa.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,h),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?fa(e,this).index(i)>-1:fa.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||X,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[fa.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Na.test(e)?this.mouseHooks:Ma.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new fa.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=X),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==p()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===p()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&fa.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return fa.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},fa.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},fa.Event=function(a,b){return this instanceof fa.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?n:o):this.type=a,b&&fa.extend(this,b),this.timeStamp=a&&a.timeStamp||fa.now(),void(this[fa.expando]=!0)):new fa.Event(a,b)},fa.Event.prototype={constructor:fa.Event,isDefaultPrevented:o,isPropagationStopped:o,isImmediatePropagationStopped:o,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=n,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=n,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=n,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},fa.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){fa.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!fa.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),fa.fn.extend({on:function(a,b,c,d){return q(this,a,b,c,d)},one:function(a,b,c,d){return q(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,fa(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=o),this.each(function(){fa.event.remove(this,a,c,b)})}});var Pa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Qa=/<script|<style|<link/i,Ra=/checked\s*(?:[^=]|=\s*.checked.)/i,Sa=/^true\/(.*)/,Ta=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;fa.extend({htmlPrefilter:function(a){return a.replace(Pa,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=fa.contains(a.ownerDocument,a);if(!(da.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||fa.isXMLDoc(a)))for(g=k(h),f=k(a),d=0,e=f.length;e>d;d++)v(f[d],g[d]);if(b)if(c)for(f=f||k(a),g=g||k(h),d=0,e=f.length;e>d;d++)u(f[d],g[d]);else u(a,h);return g=k(h,"script"),g.length>0&&l(g,!i&&k(a,"script")),h},cleanData:function(a){for(var b,c,d,e=fa.event.special,f=0;void 0!==(c=a[f]);f++)if(ya(c)){if(b=c[za.expando]){if(b.events)for(d in b.events)e[d]?fa.event.remove(c,d):fa.removeEvent(c,d,b.handle);c[za.expando]=void 0}c[Aa.expando]&&(c[Aa.expando]=void 0)}}}),fa.fn.extend({domManip:w,detach:function(a){return x(this,a,!0)},remove:function(a){return x(this,a)},text:function(a){return xa(this,function(a){return void 0===a?fa.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return w(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=r(this,a);b.appendChild(a)}})},prepend:function(){return w(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=r(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return w(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return w(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(fa.cleanData(k(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return fa.clone(this,a,b)})},html:function(a){return xa(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!Qa.test(a)&&!Ka[(Ia.exec(a)||["",""])[1].toLowerCase()]){a=fa.htmlPrefilter(a);try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(fa.cleanData(k(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return w(this,arguments,function(b){var c=this.parentNode;fa.inArray(this,a)<0&&(fa.cleanData(k(this)),c&&c.replaceChild(b,this))},a)}}),fa.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){fa.fn[a]=function(a){for(var c,d=[],e=fa(a),f=e.length-1,g=0;f>=g;g++)c=g===f?this:this.clone(!0),fa(e[g])[b](c),$.apply(d,c.get());return this.pushStack(d)}});var Ua,Va={HTML:"block",BODY:"block"},Wa=/^margin/,Xa=new RegExp("^("+Da+")(?!px)[a-z%]+$","i"),Ya=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},Za=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},$a=X.documentElement;!function(){function b(){h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",h.innerHTML="",$a.appendChild(g);var b=a.getComputedStyle(h);c="1%"!==b.top,f="2px"===b.marginLeft,d="4px"===b.width,h.style.marginRight="50%",e="4px"===b.marginRight,$a.removeChild(g)}var c,d,e,f,g=X.createElement("div"),h=X.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",da.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(h),fa.extend(da,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return null==d&&b(),d},pixelMarginRight:function(){return null==d&&b(),e},reliableMarginLeft:function(){return null==d&&b(),f},reliableMarginRight:function(){var b,c=h.appendChild(X.createElement("div"));return c.style.cssText=h.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",h.style.width="1px",$a.appendChild(g),b=!parseFloat(a.getComputedStyle(c).marginRight),$a.removeChild(g),h.removeChild(c),b}}))}();var _a=/^(none|table(?!-c[ea]).+)/,ab={position:"absolute",visibility:"hidden",display:"block"},bb={letterSpacing:"0",fontWeight:"400"},cb=["Webkit","O","Moz","ms"],db=X.createElement("div").style;fa.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=A(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=fa.camelCase(b),i=a.style;return b=fa.cssProps[h]||(fa.cssProps[h]=C(h)||h),g=fa.cssHooks[b]||fa.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Ea.exec(c))&&e[1]&&(c=j(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(fa.cssNumber[h]?"":"px")),da.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=fa.camelCase(b);return b=fa.cssProps[h]||(fa.cssProps[h]=C(h)||h),g=fa.cssHooks[b]||fa.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=A(a,b,d)),"normal"===e&&b in bb&&(e=bb[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),fa.each(["height","width"],function(a,b){fa.cssHooks[b]={get:function(a,c,d){return c?_a.test(fa.css(a,"display"))&&0===a.offsetWidth?Za(a,ab,function(){return F(a,b,d)}):F(a,b,d):void 0},set:function(a,c,d){var e,f=d&&Ya(a),g=d&&E(a,b,d,"border-box"===fa.css(a,"boxSizing",!1,f),f);return g&&(e=Ea.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=fa.css(a,b)),D(a,c,g)}}}),fa.cssHooks.marginLeft=B(da.reliableMarginLeft,function(a,b){return b?(parseFloat(A(a,"marginLeft"))||a.getBoundingClientRect().left-Za(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px":void 0}),fa.cssHooks.marginRight=B(da.reliableMarginRight,function(a,b){return b?Za(a,{display:"inline-block"},A,[a,"marginRight"]):void 0}),fa.each({margin:"",padding:"",border:"Width"},function(a,b){fa.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+Fa[d]+b]=f[d]||f[d-2]||f[0];return e}},Wa.test(a)||(fa.cssHooks[a+b].set=D)}),fa.fn.extend({css:function(a,b){return xa(this,function(a,b,c){var d,e,f={},g=0;if(fa.isArray(b)){for(d=Ya(a),e=b.length;e>g;g++)f[b[g]]=fa.css(a,b[g],!1,d);return f}return void 0!==c?fa.style(a,b,c):fa.css(a,b)},a,b,arguments.length>1)},show:function(){return G(this,!0)},hide:function(){return G(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Ga(this)?fa(this).show():fa(this).hide()})}}),fa.Tween=H,H.prototype={constructor:H,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||fa.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(fa.cssNumber[c]?"":"px")},cur:function(){var a=H.propHooks[this.prop];return a&&a.get?a.get(this):H.propHooks._default.get(this)},run:function(a){var b,c=H.propHooks[this.prop];return this.options.duration?this.pos=b=fa.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=fa.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){fa.fx.step[a.prop]?fa.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[fa.cssProps[a.prop]]&&!fa.cssHooks[a.prop]?a.elem[a.prop]=a.now:fa.style(a.elem,a.prop,a.now+a.unit)}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},fa.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},fa.fx=H.prototype.init,fa.fx.step={};var eb,fb,gb=/^(?:toggle|show|hide)$/,hb=/queueHooks$/;fa.Animation=fa.extend(N,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return j(c.elem,a,Ea.exec(b),c),c}]},tweener:function(a,b){fa.isFunction(a)?(b=a,a=["*"]):a=a.match(va);for(var c,d=0,e=a.length;e>d;d++)c=a[d],N.tweeners[c]=N.tweeners[c]||[],N.tweeners[c].unshift(b)},prefilters:[L],prefilter:function(a,b){b?N.prefilters.unshift(a):N.prefilters.push(a)}}),fa.speed=function(a,b,c){var d=a&&"object"==typeof a?fa.extend({},a):{complete:c||!c&&b||fa.isFunction(a)&&a,duration:a,easing:c&&b||b&&!fa.isFunction(b)&&b};return d.duration=fa.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in fa.fx.speeds?fa.fx.speeds[d.duration]:fa.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){fa.isFunction(d.old)&&d.old.call(this),d.queue&&fa.dequeue(this,d.queue)},d},fa.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Ga).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=fa.isEmptyObject(a),f=fa.speed(b,c,d),g=function(){var b=N(this,fa.extend({},a),f);(e||za.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=fa.timers,g=za.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&hb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&fa.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=za.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=fa.timers,g=d?d.length:0;for(c.finish=!0,fa.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),fa.each(["toggle","show","hide"],function(a,b){var c=fa.fn[b];fa.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(J(b,!0),a,d,e)}}),fa.each({slideDown:J("show"),slideUp:J("hide"),slideToggle:J("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){fa.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),fa.timers=[],fa.fx.tick=function(){var a,b=0,c=fa.timers;for(eb=fa.now();b<c.length;b++)a=c[b],
a()||c[b]!==a||c.splice(b--,1);c.length||fa.fx.stop(),eb=void 0},fa.fx.timer=function(a){fa.timers.push(a),a()?fa.fx.start():fa.timers.pop()},fa.fx.interval=13,fa.fx.start=function(){fb||(fb=a.setInterval(fa.fx.tick,fa.fx.interval))},fa.fx.stop=function(){a.clearInterval(fb),fb=null},fa.fx.speeds={slow:600,fast:200,_default:400},fa.fn.delay=function(b,c){return b=fa.fx?fa.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=X.createElement("input"),b=X.createElement("select"),c=b.appendChild(X.createElement("option"));a.type="checkbox",da.checkOn=""!==a.value,da.optSelected=c.selected,b.disabled=!0,da.optDisabled=!c.disabled,a=X.createElement("input"),a.value="t",a.type="radio",da.radioValue="t"===a.value}();var ib,jb=fa.expr.attrHandle;fa.fn.extend({attr:function(a,b){return xa(this,fa.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){fa.removeAttr(this,a)})}}),fa.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?fa.prop(a,b,c):(1===f&&fa.isXMLDoc(a)||(b=b.toLowerCase(),e=fa.attrHooks[b]||(fa.expr.match.bool.test(b)?ib:void 0)),void 0!==c?null===c?void fa.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=fa.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!da.radioValue&&"radio"===b&&fa.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(va);if(f&&1===a.nodeType)for(;c=f[e++];)d=fa.propFix[c]||c,fa.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}),ib={set:function(a,b,c){return b===!1?fa.removeAttr(a,c):a.setAttribute(c,c),c}},fa.each(fa.expr.match.bool.source.match(/\w+/g),function(a,b){var c=jb[b]||fa.find.attr;jb[b]=function(a,b,d){var e,f;return d||(f=jb[b],jb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,jb[b]=f),e}});var kb=/^(?:input|select|textarea|button)$/i,lb=/^(?:a|area)$/i;fa.fn.extend({prop:function(a,b){return xa(this,fa.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[fa.propFix[a]||a]})}}),fa.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&fa.isXMLDoc(a)||(b=fa.propFix[b]||b,e=fa.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=fa.find.attr(a,"tabindex");return b?parseInt(b,10):kb.test(a.nodeName)||lb.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),da.optSelected||(fa.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),fa.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){fa.propFix[this.toLowerCase()]=this});var mb=/[\t\r\n\f]/g;fa.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(fa.isFunction(a))return this.each(function(b){fa(this).addClass(a.call(this,b,O(this)))});if("string"==typeof a&&a)for(b=a.match(va)||[];c=this[i++];)if(e=O(c),d=1===c.nodeType&&(" "+e+" ").replace(mb," ")){for(g=0;f=b[g++];)d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=fa.trim(d),e!==h&&c.setAttribute("class",h)}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(fa.isFunction(a))return this.each(function(b){fa(this).removeClass(a.call(this,b,O(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a)for(b=a.match(va)||[];c=this[i++];)if(e=O(c),d=1===c.nodeType&&(" "+e+" ").replace(mb," ")){for(g=0;f=b[g++];)for(;d.indexOf(" "+f+" ")>-1;)d=d.replace(" "+f+" "," ");h=fa.trim(d),e!==h&&c.setAttribute("class",h)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):fa.isFunction(a)?this.each(function(c){fa(this).toggleClass(a.call(this,c,O(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c)for(d=0,e=fa(this),f=a.match(va)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(void 0===a||"boolean"===c)&&(b=O(this),b&&za.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":za.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;for(b=" "+a+" ";c=this[d++];)if(1===c.nodeType&&(" "+O(c)+" ").replace(mb," ").indexOf(b)>-1)return!0;return!1}});var nb=/\r/g,ob=/[\x20\t\r\n\f]+/g;fa.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=fa.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,fa(this).val()):a,null==e?e="":"number"==typeof e?e+="":fa.isArray(e)&&(e=fa.map(e,function(a){return null==a?"":a+""})),b=fa.valHooks[this.type]||fa.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=fa.valHooks[e.type]||fa.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(nb,""):null==c?"":c)}}}),fa.extend({valHooks:{option:{get:function(a){var b=fa.find.attr(a,"value");return null!=b?b:fa.trim(fa.text(a)).replace(ob," ")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(da.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!fa.nodeName(c.parentNode,"optgroup"))){if(b=fa(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=fa.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=fa.inArray(fa.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),fa.each(["radio","checkbox"],function(){fa.valHooks[this]={set:function(a,b){return fa.isArray(b)?a.checked=fa.inArray(fa(a).val(),b)>-1:void 0}},da.checkOn||(fa.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var pb=/^(?:focusinfocus|focusoutblur)$/;fa.extend(fa.event,{trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||X],n=ca.call(b,"type")?b.type:b,o=ca.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||X,3!==d.nodeType&&8!==d.nodeType&&!pb.test(n+fa.event.triggered)&&(n.indexOf(".")>-1&&(o=n.split("."),n=o.shift(),o.sort()),j=n.indexOf(":")<0&&"on"+n,b=b[fa.expando]?b:new fa.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:fa.makeArray(c,[b]),l=fa.event.special[n]||{},e||!l.trigger||l.trigger.apply(d,c)!==!1)){if(!e&&!l.noBubble&&!fa.isWindow(d)){for(i=l.delegateType||n,pb.test(i+n)||(g=g.parentNode);g;g=g.parentNode)m.push(g),h=g;h===(d.ownerDocument||X)&&m.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=m[f++])&&!b.isPropagationStopped();)b.type=f>1?i:l.bindType||n,k=(za.get(g,"events")||{})[b.type]&&za.get(g,"handle"),k&&k.apply(g,c),k=j&&g[j],k&&k.apply&&ya(g)&&(b.result=k.apply(g,c),b.result===!1&&b.preventDefault());return b.type=n,e||b.isDefaultPrevented()||l._default&&l._default.apply(m.pop(),c)!==!1||!ya(d)||j&&fa.isFunction(d[n])&&!fa.isWindow(d)&&(h=d[j],h&&(d[j]=null),fa.event.triggered=n,d[n](),fa.event.triggered=void 0,h&&(d[j]=h)),b.result}},simulate:function(a,b,c){var d=fa.extend(new fa.Event,c,{type:a,isSimulated:!0});fa.event.trigger(d,null,b)}}),fa.fn.extend({trigger:function(a,b){return this.each(function(){fa.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?fa.event.trigger(a,b,c,!0):void 0}}),fa.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){fa.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),fa.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),da.focusin="onfocusin"in a,da.focusin||fa.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){fa.event.simulate(b,a.target,fa.event.fix(a))};fa.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=za.access(d,b);e||d.addEventListener(a,c,!0),za.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=za.access(d,b)-1;e?za.access(d,b,e):(d.removeEventListener(a,c,!0),za.remove(d,b))}}});var qb=a.location,rb=fa.now(),sb=/\?/;fa.parseJSON=function(a){return JSON.parse(a+"")},fa.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return(!c||c.getElementsByTagName("parsererror").length)&&fa.error("Invalid XML: "+b),c};var tb=/#.*$/,ub=/([?&])_=[^&]*/,vb=/^(.*?):[ \t]*([^\r\n]*)$/gm,wb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,xb=/^(?:GET|HEAD)$/,yb=/^\/\//,zb={},Ab={},Bb="*/".concat("*"),Cb=X.createElement("a");Cb.href=qb.href,fa.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:qb.href,type:"GET",isLocal:wb.test(qb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":fa.parseJSON,"text xml":fa.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?R(R(a,fa.ajaxSettings),b):R(fa.ajaxSettings,a)},ajaxPrefilter:P(zb),ajaxTransport:P(Ab),ajax:function(b,c){function d(b,c,d,h){var j,l,s,t,v,x=c;2!==u&&(u=2,i&&a.clearTimeout(i),e=void 0,g=h||"",w.readyState=b>0?4:0,j=b>=200&&300>b||304===b,d&&(t=S(m,w,d)),t=T(m,t,w,j),j?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&(fa.lastModified[f]=v),v=w.getResponseHeader("etag"),v&&(fa.etag[f]=v)),204===b||"HEAD"===m.type?x="nocontent":304===b?x="notmodified":(x=t.state,l=t.data,s=t.error,j=!s)):(s=x,(b||!x)&&(x="error",0>b&&(b=0))),w.status=b,w.statusText=(c||x)+"",j?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=void 0,k&&o.trigger(j?"ajaxSuccess":"ajaxError",[w,m,j?l:s]),q.fireWith(n,[w,x]),k&&(o.trigger("ajaxComplete",[w,m]),--fa.active||fa.event.trigger("ajaxStop")))}"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=fa.ajaxSetup({},c),n=m.context||m,o=m.context&&(n.nodeType||n.jquery)?fa(n):fa.event,p=fa.Deferred(),q=fa.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!h)for(h={};b=vb.exec(g);)h[b[1].toLowerCase()]=b[2];b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=t[c]=t[c]||a,s[a]=b),this},overrideMimeType:function(a){return u||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>u)for(b in a)r[b]=[r[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){var b=a||v;return e&&e.abort(b),d(0,b),this}};if(p.promise(w).complete=q.add,w.success=w.done,w.error=w.fail,m.url=((b||m.url||qb.href)+"").replace(tb,"").replace(yb,qb.protocol+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=fa.trim(m.dataType||"*").toLowerCase().match(va)||[""],null==m.crossDomain){j=X.createElement("a");try{j.href=m.url,j.href=j.href,m.crossDomain=Cb.protocol+"//"+Cb.host!=j.protocol+"//"+j.host}catch(x){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=fa.param(m.data,m.traditional)),Q(zb,m,c,w),2===u)return w;k=fa.event&&m.global,k&&0===fa.active++&&fa.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!xb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(sb.test(f)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=ub.test(f)?f.replace(ub,"$1_="+rb++):f+(sb.test(f)?"&":"?")+"_="+rb++)),m.ifModified&&(fa.lastModified[f]&&w.setRequestHeader("If-Modified-Since",fa.lastModified[f]),fa.etag[f]&&w.setRequestHeader("If-None-Match",fa.etag[f])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Bb+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)w.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(n,w,m)===!1||2===u))return w.abort();v="abort";for(l in{success:1,error:1,complete:1})w[l](m[l]);if(e=Q(Ab,m,c,w)){if(w.readyState=1,k&&o.trigger("ajaxSend",[w,m]),2===u)return w;m.async&&m.timeout>0&&(i=a.setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,e.send(s,d)}catch(x){if(!(2>u))throw x;d(-1,x)}}else d(-1,"No Transport");return w},getJSON:function(a,b,c){return fa.get(a,b,c,"json")},getScript:function(a,b){return fa.get(a,void 0,b,"script")}}),fa.each(["get","post"],function(a,b){fa[b]=function(a,c,d,e){return fa.isFunction(c)&&(e=e||d,d=c,c=void 0),fa.ajax(fa.extend({url:a,type:b,dataType:e,data:c,success:d},fa.isPlainObject(a)&&a))}}),fa._evalUrl=function(a){return fa.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},fa.fn.extend({wrapAll:function(a){var b;return fa.isFunction(a)?this.each(function(b){fa(this).wrapAll(a.call(this,b))}):(this[0]&&(b=fa(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return fa.isFunction(a)?this.each(function(b){fa(this).wrapInner(a.call(this,b))}):this.each(function(){var b=fa(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=fa.isFunction(a);return this.each(function(c){fa(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){fa.nodeName(this,"body")||fa(this).replaceWith(this.childNodes)}).end()}}),fa.expr.filters.hidden=function(a){return!fa.expr.filters.visible(a)},fa.expr.filters.visible=function(a){return a.offsetWidth>0||a.offsetHeight>0||a.getClientRects().length>0};var Db=/%20/g,Eb=/\[\]$/,Fb=/\r?\n/g,Gb=/^(?:submit|button|image|reset|file)$/i,Hb=/^(?:input|select|textarea|keygen)/i;fa.param=function(a,b){var c,d=[],e=function(a,b){b=fa.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=fa.ajaxSettings&&fa.ajaxSettings.traditional),fa.isArray(a)||a.jquery&&!fa.isPlainObject(a))fa.each(a,function(){e(this.name,this.value)});else for(c in a)U(c,a[c],b,e);return d.join("&").replace(Db,"+")},fa.fn.extend({serialize:function(){return fa.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=fa.prop(this,"elements");return a?fa.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!fa(this).is(":disabled")&&Hb.test(this.nodeName)&&!Gb.test(a)&&(this.checked||!Ha.test(a))}).map(function(a,b){var c=fa(this).val();return null==c?null:fa.isArray(c)?fa.map(c,function(a){return{name:b.name,value:a.replace(Fb,"\r\n")}}):{name:b.name,value:c.replace(Fb,"\r\n")}}).get()}}),fa.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Ib={0:200,1223:204},Jb=fa.ajaxSettings.xhr();da.cors=!!Jb&&"withCredentials"in Jb,da.ajax=Jb=!!Jb,fa.ajaxTransport(function(b){var c,d;return da.cors||Jb&&!b.crossDomain?{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Ib[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}:void 0}),fa.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return fa.globalEval(a),a}}}),fa.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),fa.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=fa("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),X.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Kb=[],Lb=/(=)\?(?=&|$)|\?\?/;fa.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Kb.pop()||fa.expando+"_"+rb++;return this[a]=!0,a}}),fa.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Lb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Lb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=fa.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Lb,"$1"+e):b.jsonp!==!1&&(b.url+=(sb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||fa.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?fa(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Kb.push(e)),g&&fa.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),fa.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||X;var d=oa.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m([a],b,e),e&&e.length&&fa(e).remove(),fa.merge([],d.childNodes))};var Mb=fa.fn.load;fa.fn.load=function(a,b,c){if("string"!=typeof a&&Mb)return Mb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=fa.trim(a.slice(h)),a=a.slice(0,h)),fa.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&fa.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?fa("<div>").append(fa.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},fa.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){fa.fn[b]=function(a){return this.on(b,a)}}),fa.expr.filters.animated=function(a){return fa.grep(fa.timers,function(b){return a===b.elem}).length},fa.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=fa.css(a,"position"),l=fa(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=fa.css(a,"top"),i=fa.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),fa.isFunction(b)&&(b=b.call(a,c,fa.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},fa.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){fa.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,fa.contains(b,d)?(e=d.getBoundingClientRect(),c=V(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===fa.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),fa.nodeName(a[0],"html")||(d=a.offset()),d.top+=fa.css(a[0],"borderTopWidth",!0),d.left+=fa.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-fa.css(c,"marginTop",!0),left:b.left-d.left-fa.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===fa.css(a,"position");)a=a.offsetParent;return a||$a})}}),fa.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;fa.fn[a]=function(d){return xa(this,function(a,d,e){var f=V(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),fa.each(["top","left"],function(a,b){fa.cssHooks[b]=B(da.pixelPosition,function(a,c){return c?(c=A(a,b),Xa.test(c)?fa(a).position()[b]+"px":c):void 0})}),fa.each({Height:"height",Width:"width"},function(a,b){fa.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){fa.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return xa(this,function(b,c,d){var e;return fa.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?fa.css(b,c,g):fa.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),fa.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},size:function(){return this.length}}),fa.fn.andSelf=fa.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return fa});var Nb=a.jQuery,Ob=a.$;return fa.noConflict=function(b){return a.$===fa&&(a.$=Ob),b&&a.jQuery===fa&&(a.jQuery=Nb),fa},b||(a.jQuery=a.$=fa),fa}),function(a){"use strict";function b(a){return v(a)?(u(a.objectMaxDepth)&&(re.objectMaxDepth=c(a.objectMaxDepth)?a.objectMaxDepth:NaN),void(u(a.urlErrorParamsEnabled)&&J(a.urlErrorParamsEnabled)&&(re.urlErrorParamsEnabled=a.urlErrorParamsEnabled))):re}function c(a){return y(a)&&a>0}function d(a,b){b=b||Error;var c="https://errors.angularjs.org/1.7.8/",d=c.replace(".","\\.")+"[\\s\\S]*",e=new RegExp(d,"g");return function(){var d,f,g=arguments[0],h=arguments[1],i="["+(a?a+":":"")+g+"] ",j=W(arguments,2).map(function(a){return Aa(a,re.objectMaxDepth)});if(i+=h.replace(/\{\d+\}/g,function(a){var b=+a.slice(1,-1);return b<j.length?j[b].replace(e,""):a}),i+="\n"+c+(a?a+"/":"")+g,re.urlErrorParamsEnabled)for(f=0,d="?";f<j.length;f++,d="&")i+=d+"p"+f+"="+encodeURIComponent(j[f]);return new b(i)}}function e(a){if(null==a||E(a))return!1;if(A(a)||x(a)||oe&&a instanceof oe)return!0;var b="length"in Object(a)&&a.length;return y(b)&&(b>=0&&b-1 in a||"function"==typeof a.item)}function f(a,b,c){var d,g;if(a)if(C(a))for(d in a)"prototype"!==d&&"length"!==d&&"name"!==d&&a.hasOwnProperty(d)&&b.call(c,a[d],d,a);else if(A(a)||e(a)){var h="object"!=typeof a;for(d=0,g=a.length;g>d;d++)(h||d in a)&&b.call(c,a[d],d,a)}else if(a.forEach&&a.forEach!==f)a.forEach(b,c,a);else if(w(a))for(d in a)b.call(c,a[d],d,a);else if("function"==typeof a.hasOwnProperty)for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d,a);else for(d in a)ue.call(a,d)&&b.call(c,a[d],d,a);return a}function g(a,b,c){for(var d=Object.keys(a).sort(),e=0;e<d.length;e++)b.call(c,a[d[e]],d[e]);return d}function h(a){return function(b,c){a(c,b)}}function i(){return++Ee}function j(a,b){b?a.$$hashKey=b:delete a.$$hashKey}function k(a,b,c){for(var d=a.$$hashKey,e=0,f=b.length;f>e;++e){var g=b[e];if(v(g)||C(g))for(var h=Object.keys(g),i=0,l=h.length;l>i;i++){var m=h[i],n=g[m];c&&v(n)?z(n)?a[m]=new Date(n.valueOf()):D(n)?a[m]=new RegExp(n):n.nodeName?a[m]=n.cloneNode(!0):N(n)?a[m]=n.clone():(v(a[m])||(a[m]=A(n)?[]:{}),k(a[m],[n],!0)):a[m]=n}}return j(a,d),a}function l(a){return k(a,xe.call(arguments,1),!1)}function m(a){return k(a,xe.call(arguments,1),!0)}function n(a){return parseInt(a,10)}function o(a,b){return l(Object.create(a),b)}function p(){}function q(a){return a}function r(a){return function(){return a}}function s(a){return C(a.toString)&&a.toString!==Ae}function t(a){return"undefined"==typeof a}function u(a){return"undefined"!=typeof a}function v(a){return null!==a&&"object"==typeof a}function w(a){return null!==a&&"object"==typeof a&&!Be(a)}function x(a){return"string"==typeof a}function y(a){return"number"==typeof a}function z(a){return"[object Date]"===Ae.call(a)}function A(a){return Array.isArray(a)||a instanceof Array}function B(a){var b=Ae.call(a);switch(b){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return a instanceof Error}}function C(a){return"function"==typeof a}function D(a){return"[object RegExp]"===Ae.call(a)}function E(a){return a&&a.window===a}function F(a){return a&&a.$evalAsync&&a.$watch}function G(a){return"[object File]"===Ae.call(a)}function H(a){return"[object FormData]"===Ae.call(a)}function I(a){return"[object Blob]"===Ae.call(a)}function J(a){return"boolean"==typeof a}function K(a){return a&&C(a.then)}function L(a){return a&&y(a.length)&&Ge.test(Ae.call(a))}function M(a){return"[object ArrayBuffer]"===Ae.call(a)}function N(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function O(a){var b,c={},d=a.split(",");for(b=0;b<d.length;b++)c[d[b]]=!0;return c}function P(a){return ve(a.nodeName||a[0]&&a[0].nodeName)}function Q(a,b){return-1!==Array.prototype.indexOf.call(a,b)}function R(a,b){var c=a.indexOf(b);return c>=0&&a.splice(c,1),c}function S(a,b,d){function e(a,b,c){if(c--,0>c)return"...";var d,e=b.$$hashKey;if(A(a))for(var f=0,h=a.length;h>f;f++)b.push(g(a[f],c));else if(w(a))for(d in a)b[d]=g(a[d],c);else if(a&&"function"==typeof a.hasOwnProperty)for(d in a)a.hasOwnProperty(d)&&(b[d]=g(a[d],c));else for(d in a)ue.call(a,d)&&(b[d]=g(a[d],c));return j(b,e),b}function g(a,b){if(!v(a))return a;var c=i.indexOf(a);if(-1!==c)return k[c];if(E(a)||F(a))throw Ce("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var d=!1,f=h(a);return void 0===f&&(f=A(a)?[]:Object.create(Be(a)),d=!0),i.push(a),k.push(f),d?e(a,f,b):f}function h(a){switch(Ae.call(a)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new a.constructor(g(a.buffer),a.byteOffset,a.length);case"[object ArrayBuffer]":if(!a.slice){var b=new ArrayBuffer(a.byteLength);return new Uint8Array(b).set(new Uint8Array(a)),b}return a.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new a.constructor(a.valueOf());case"[object RegExp]":var c=new RegExp(a.source,a.toString().match(/[^\/]*$/)[0]);return c.lastIndex=a.lastIndex,c;case"[object Blob]":return new a.constructor([a],{type:a.type})}return C(a.cloneNode)?a.cloneNode(!0):void 0}var i=[],k=[];if(d=c(d)?d:NaN,b){if(L(b)||M(b))throw Ce("cpta","Can't copy! TypedArray destination cannot be mutated.");if(a===b)throw Ce("cpi","Can't copy! Source and destination are identical.");return A(b)?b.length=0:f(b,function(a,c){"$$hashKey"!==c&&delete b[c]}),i.push(a),k.push(b),e(a,b,d)}return g(a,d)}function T(a,b){return a===b||a!==a&&b!==b}function U(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var c,d,e,f=typeof a,g=typeof b;if(f===g&&"object"===f){if(!A(a)){if(z(a))return z(b)?T(a.getTime(),b.getTime()):!1;if(D(a))return D(b)?a.toString()===b.toString():!1;if(F(a)||F(b)||E(a)||E(b)||A(b)||z(b)||D(b))return!1;e=va();for(d in a)if("$"!==d.charAt(0)&&!C(a[d])){if(!U(a[d],b[d]))return!1;e[d]=!0}for(d in b)if(!(d in e)&&"$"!==d.charAt(0)&&u(b[d])&&!C(b[d]))return!1;return!0}if(!A(b))return!1;if((c=a.length)===b.length){for(d=0;c>d;d++)if(!U(a[d],b[d]))return!1;return!0}}return!1}function V(a,b,c){return a.concat(xe.call(b,c))}function W(a,b){return xe.call(a,b||0)}function X(a,b){var c=arguments.length>2?W(arguments,2):[];return!C(b)||b instanceof RegExp?b:c.length?function(){return arguments.length?b.apply(a,V(c,arguments,0)):b.apply(a,c)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function Y(b,c){var d=c;return"string"==typeof b&&"$"===b.charAt(0)&&"$"===b.charAt(1)?d=void 0:E(c)?d="$WINDOW":c&&a.document===c?d="$DOCUMENT":F(c)&&(d="$SCOPE"),d}function Z(a,b){return t(a)?void 0:(y(b)||(b=b?2:null),JSON.stringify(a,Y,b))}function $(a){return x(a)?JSON.parse(a):a}function _(a,b){a=a.replace(Le,"");var c=Date.parse("Jan 01, 1970 00:00:00 "+a)/6e4;return Fe(c)?b:c}function aa(a,b){return a=new Date(a.getTime()),a.setMinutes(a.getMinutes()+b),a}function ba(a,b,c){c=c?-1:1;var d=a.getTimezoneOffset(),e=_(b,d);return aa(a,c*(e-d))}function ca(a){a=oe(a).clone().empty();var b=oe("<div></div>").append(a).html();try{return a[0].nodeType===Se?ve(b):b.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(a,b){return"<"+ve(b)})}catch(c){return ve(b)}}function da(a){try{return decodeURIComponent(a)}catch(b){}}function ea(a){var b={};return f((a||"").split("&"),function(a){var c,d,e;a&&(d=a=a.replace(/\+/g,"%20"),c=a.indexOf("="),-1!==c&&(d=a.substring(0,c),e=a.substring(c+1)),d=da(d),u(d)&&(e=u(e)?da(e):!0,ue.call(b,d)?A(b[d])?b[d].push(e):b[d]=[b[d],e]:b[d]=e))}),b}function fa(a){var b=[];return f(a,function(a,c){A(a)?f(a,function(a){b.push(ha(c,!0)+(a===!0?"":"="+ha(a,!0)))}):b.push(ha(c,!0)+(a===!0?"":"="+ha(a,!0)))}),b.length?b.join("&"):""}function ga(a){return ha(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ha(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function ia(a,b){var c,d,e=Me.length;for(d=0;e>d;++d)if(c=Me[d]+b,x(c=a.getAttribute(c)))return c;return null}function ja(b){var c=b.currentScript;if(!c)return!0;if(!(c instanceof a.HTMLScriptElement||c instanceof a.SVGScriptElement))return!1;var d=c.attributes,e=[d.getNamedItem("src"),d.getNamedItem("href"),d.getNamedItem("xlink:href")];return e.every(function(a){if(!a)return!0;if(!a.value)return!1;var c=b.createElement("a");if(c.href=a.value,b.location.origin===c.origin)return!0;switch(c.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})}function ka(b,c){var d,e,g={};if(f(Me,function(a){var c=a+"app";!d&&b.hasAttribute&&b.hasAttribute(c)&&(d=b,e=b.getAttribute(c))}),f(Me,function(a){var c,f=a+"app";!d&&(c=b.querySelector("["+f.replace(":","\\:")+"]"))&&(d=c,e=c.getAttribute(f))}),d){if(!Ne)return void a.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");g.strictDi=null!==ia(d,"strict-di"),c(d,e?[e]:[],g)}}function la(b,c,d){v(d)||(d={});var e={strictDi:!1};d=l(e,d);var g=function(){if(b=oe(b),b.injector()){var e=b[0]===a.document?"document":ca(b);throw Ce("btstrpd","App already bootstrapped with this element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}c=c||[],c.unshift(["$provide",function(a){a.value("$rootElement",b)}]),d.debugInfoEnabled&&c.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]),c.unshift("ng");var f=pb(c,d.strictDi);return f.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),f},h=/^NG_ENABLE_DEBUG_INFO!/,i=/^NG_DEFER_BOOTSTRAP!/;return a&&h.test(a.name)&&(d.debugInfoEnabled=!0,a.name=a.name.replace(h,"")),a&&!i.test(a.name)?g():(a.name=a.name.replace(i,""),De.resumeBootstrap=function(a){return f(a,function(a){c.push(a)}),g()},void(C(De.resumeDeferredBootstrap)&&De.resumeDeferredBootstrap()));
}function ma(){a.name="NG_ENABLE_DEBUG_INFO!"+a.name,a.location.reload()}function na(a){var b=De.element(a).injector();if(!b)throw Ce("test","no injector found for element argument to getTestability");return b.get("$$testability")}function oa(a,b){return b=b||"_",a.replace(Oe,function(a,c){return(c?b:"")+a.toLowerCase()})}function pa(){var b;if(!Pe){var c=Ke();pe=t(c)?a.jQuery:c?a[c]:void 0,pe&&pe.fn.on?(oe=pe,l(pe.fn,{scope:hf.scope,isolateScope:hf.isolateScope,controller:hf.controller,injector:hf.injector,inheritedData:hf.inheritedData})):oe=Ma,b=oe.cleanData,oe.cleanData=function(a){for(var c,d,e=0;null!=(d=a[e]);e++)c=(oe._data(d)||{}).events,c&&c.$destroy&&oe(d).triggerHandler("$destroy");b(a)},De.element=oe,Pe=!0}}function qa(a,b,c){if(!a)throw Ce("areq","Argument '{0}' is {1}",b||"?",c||"required");return a}function ra(a,b,c){return c&&A(a)&&(a=a[a.length-1]),qa(C(a),b,"not a function, got "+(a&&"object"==typeof a?a.constructor.name||"Object":typeof a)),a}function sa(a,b){if("hasOwnProperty"===a)throw Ce("badname","hasOwnProperty is not a valid {0} name",b)}function ta(a,b,c){if(!b)return a;for(var d,e=b.split("."),f=a,g=e.length,h=0;g>h;h++)d=e[h],a&&(a=(f=a)[d]);return!c&&C(a)?X(f,a):a}function ua(a){for(var b,c=a[0],d=a[a.length-1],e=1;c!==d&&(c=c.nextSibling);e++)(b||a[e]!==c)&&(b||(b=oe(xe.call(a,0,e))),b.push(c));return b||a}function va(){return Object.create(null)}function wa(a){if(null==a)return"";switch(typeof a){case"string":break;case"number":a=""+a;break;default:a=!s(a)||A(a)||z(a)?Z(a):a.toString()}return a}function xa(a){function b(a,b,c){return a[b]||(a[b]=c())}var c=d("$injector"),e=d("ng"),f=b(a,"angular",Object);return f.$$minErr=f.$$minErr||d,b(f,"module",function(){var a={};return function(d,f,g){var h={},i=function(a,b){if("hasOwnProperty"===a)throw e("badname","hasOwnProperty is not a valid {0} name",b)};return i(d,"module"),f&&a.hasOwnProperty(d)&&(a[d]=null),b(a,d,function(){function a(a,b,c,d){return d||(d=i),function(){return d[c||"push"]([a,b,arguments]),m}}function b(a,b,c){return c||(c=i),function(e,f){return f&&C(f)&&(f.$$moduleName=d),c.push([a,b,arguments]),m}}if(!f)throw c("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",d);var i=[],j=[],k=[],l=a("$injector","invoke","push",j),m={_invokeQueue:i,_configBlocks:j,_runBlocks:k,info:function(a){if(u(a)){if(!v(a))throw e("aobj","Argument '{0}' must be an object","value");return h=a,this}return h},requires:f,name:d,provider:b("$provide","provider"),factory:b("$provide","factory"),service:b("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),decorator:b("$provide","decorator",j),animation:b("$animateProvider","register"),filter:b("$filterProvider","register"),controller:b("$controllerProvider","register"),directive:b("$compileProvider","directive"),component:b("$compileProvider","component"),config:l,run:function(a){return k.push(a),this}};return g&&l(g),m})}})}function ya(a,b){if(A(a)){b=b||[];for(var c=0,d=a.length;d>c;c++)b[c]=a[c]}else if(v(a)){b=b||{};for(var e in a)("$"!==e.charAt(0)||"$"!==e.charAt(1))&&(b[e]=a[e])}return b||a}function za(a,b){var d=[];return c(b)&&(a=De.copy(a,null,b)),JSON.stringify(a,function(a,b){if(b=Y(a,b),v(b)){if(d.indexOf(b)>=0)return"...";d.push(b)}return b})}function Aa(a,b){return"function"==typeof a?a.toString().replace(/ \{[\s\S]*$/,""):t(a)?"undefined":"string"!=typeof a?za(a,b):a}function Ba(c){l(c,{errorHandlingConfig:b,bootstrap:la,copy:S,extend:l,merge:m,equals:U,element:oe,forEach:f,injector:pb,noop:p,bind:X,toJson:Z,fromJson:$,identity:q,isUndefined:t,isDefined:u,isString:x,isFunction:C,isObject:v,isNumber:y,isElement:N,isArray:A,version:We,isDate:z,callbacks:{$$counter:0},getTestability:na,reloadWithDebugInfo:ma,$$minErr:d,$$csp:Je,$$encodeUriSegment:ga,$$encodeUriQuery:ha,$$lowercase:ve,$$stringify:wa,$$uppercase:we}),qe=xa(a),qe("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:Pc}),a.provider("$compile",Cb).directive({a:wg,input:Qg,textarea:Qg,form:Cg,script:Nh,select:Qh,option:Rh,ngBind:Ug,ngBindHtml:Wg,ngBindTemplate:Vg,ngClass:Yg,ngClassEven:$g,ngClassOdd:Zg,ngCloak:_g,ngController:ah,ngForm:Dg,ngHide:Gh,ngIf:dh,ngInclude:eh,ngInit:gh,ngNonBindable:vh,ngPluralize:zh,ngRef:Bh,ngRepeat:Ch,ngShow:Fh,ngStyle:Hh,ngSwitch:Ih,ngSwitchWhen:Jh,ngSwitchDefault:Kh,ngOptions:yh,ngTransclude:Mh,ngModel:sh,ngList:hh,ngChange:Xg,pattern:Th,ngPattern:Th,required:Sh,ngRequired:Sh,minlength:Vh,ngMinlength:Vh,maxlength:Uh,ngMaxlength:Uh,ngValue:Tg,ngModelOptions:uh}).directive({ngInclude:fh,input:Rg}).directive(xg).directive(bh),a.provider({$anchorScroll:qb,$animate:Af,$animateCss:Df,$$animateJs:yf,$$animateQueue:zf,$$AnimateRunner:Cf,$$animateAsyncRun:Bf,$browser:yb,$cacheFactory:zb,$controller:Ib,$document:Jb,$$isDocumentHidden:Kb,$exceptionHandler:Lb,$filter:id,$$forceReflow:Kf,$interpolate:Zb,$interval:$b,$$intervalFactory:_b,$http:Vb,$httpParamSerializer:Nb,$httpParamSerializerJQLike:Ob,$httpBackend:Xb,$xhrFactory:Wb,$jsonpCallbacks:Tf,$location:pc,$log:qc,$parse:Gc,$rootScope:Oc,$q:Hc,$$q:Ic,$sce:Uc,$sceDelegate:Tc,$sniffer:Vc,$$taskTrackerFactory:Wc,$templateCache:Ab,$templateRequest:Yc,$$testability:Zc,$timeout:$c,$window:fd,$$rAF:Nc,$$jqLite:ib,$$Map:of,$$cookieReader:hd})}]).info({angularVersion:"1.7.8"})}function Ca(){return++Ye}function Da(a){return Fa(a.replace($e,"ms-"))}function Ea(a,b){return b.toUpperCase()}function Fa(a){return a.replace(Ze,Ea)}function Ga(a){return!cf.test(a)}function Ha(a){var b=a.nodeType;return b===Qe||!b||b===Ue}function Ia(a){for(var b in Xe[a.ng339])return!0;return!1}function Ja(a,b){var c,d,e,g,h=b.createDocumentFragment(),i=[];if(Ga(a))i.push(b.createTextNode(a));else{for(c=h.appendChild(b.createElement("div")),d=(df.exec(a)||["",""])[1].toLowerCase(),e=ff[d]||ff._default,c.innerHTML=e[1]+a.replace(ef,"<$1></$2>")+e[2],g=e[0];g--;)c=c.lastChild;i=V(i,c.childNodes),c=h.firstChild,c.textContent=""}return h.textContent="",h.innerHTML="",f(i,function(a){h.appendChild(a)}),h}function Ka(b,c){c=c||a.document;var d;return(d=bf.exec(b))?[c.createElement(d[1])]:(d=Ja(b,c))?d.childNodes:[]}function La(a,b){var c=a.parentNode;c&&c.replaceChild(b,a),b.appendChild(a)}function Ma(a){if(a instanceof Ma)return a;var b;if(x(a)&&(a=He(a),b=!0),!(this instanceof Ma)){if(b&&"<"!==a.charAt(0))throw af("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Ma(a)}b?Ya(this,Ka(a)):C(a)?cb(a):Ya(this,a)}function Na(a){return a.cloneNode(!0)}function Oa(a,b){!b&&Ha(a)&&oe.cleanData([a]),a.querySelectorAll&&oe.cleanData(a.querySelectorAll("*"))}function Pa(a){var b;for(b in a)return!1;return!0}function Qa(a){var b=a.ng339,c=b&&Xe[b],d=c&&c.events,e=c&&c.data;e&&!Pa(e)||d&&!Pa(d)||(delete Xe[b],a.ng339=void 0)}function Ra(a,b,c,d){if(u(d))throw af("offargs","jqLite#off() does not support the `selector` argument");var e=Ta(a),g=e&&e.events,h=e&&e.handle;if(h){if(b){var i=function(b){var d=g[b];u(c)&&R(d||[],c),u(c)&&d&&d.length>0||(a.removeEventListener(b,h),delete g[b])};f(b.split(" "),function(a){i(a),_e[a]&&i(_e[a])})}else for(b in g)"$destroy"!==b&&a.removeEventListener(b,h),delete g[b];Qa(a)}}function Sa(a,b){var c=a.ng339,d=c&&Xe[c];d&&(b?delete d.data[b]:d.data={},Qa(a))}function Ta(a,b){var c=a.ng339,d=c&&Xe[c];return b&&!d&&(a.ng339=c=Ca(),d=Xe[c]={events:{},data:{},handle:void 0}),d}function Ua(a,b,c){if(Ha(a)){var d,e=u(c),f=!e&&b&&!v(b),g=!b,h=Ta(a,!f),i=h&&h.data;if(e)i[Fa(b)]=c;else{if(g)return i;if(f)return i&&i[Fa(b)];for(d in b)i[Fa(d)]=b[d]}}}function Va(a,b){return a.getAttribute?(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")>-1:!1}function Wa(a,b){if(b&&a.setAttribute){var c=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),d=c;f(b.split(" "),function(a){a=He(a),d=d.replace(" "+a+" "," ")}),d!==c&&a.setAttribute("class",He(d))}}function Xa(a,b){if(b&&a.setAttribute){var c=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),d=c;f(b.split(" "),function(a){a=He(a),-1===d.indexOf(" "+a+" ")&&(d+=a+" ")}),d!==c&&a.setAttribute("class",He(d))}}function Ya(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var c=b.length;if("number"==typeof c&&b.window!==b){if(c)for(var d=0;c>d;d++)a[a.length++]=b[d]}else a[a.length++]=b}}function Za(a,b){return $a(a,"$"+(b||"ngController")+"Controller")}function $a(a,b,c){a.nodeType===Ue&&(a=a.documentElement);for(var d=A(b)?b:[b];a;){for(var e=0,f=d.length;f>e;e++)if(u(c=oe.data(a,d[e])))return c;a=a.parentNode||a.nodeType===Ve&&a.host}}function _a(a){for(Oa(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function ab(a,b){b||Oa(a);var c=a.parentNode;c&&c.removeChild(a)}function bb(b,c){c=c||a,"complete"===c.document.readyState?c.setTimeout(b):oe(c).on("load",b)}function cb(b){function c(){a.document.removeEventListener("DOMContentLoaded",c),a.removeEventListener("load",c),b()}"complete"===a.document.readyState?a.setTimeout(b):(a.document.addEventListener("DOMContentLoaded",c),a.addEventListener("load",c))}function db(a,b){var c=jf[b.toLowerCase()];return c&&kf[P(a)]&&c}function eb(a){return lf[a]}function fb(a,b){var c=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var e=b[d||c.type],f=e?e.length:0;if(f){if(t(c.immediatePropagationStopped)){var g=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0,c.stopPropagation&&c.stopPropagation(),g&&g.call(c)}}c.isImmediatePropagationStopped=function(){return c.immediatePropagationStopped===!0};var h=e.specialHandlerWrapper||gb;f>1&&(e=ya(e));for(var i=0;f>i;i++)c.isImmediatePropagationStopped()||h(a,c,e[i])}};return c.elem=a,c}function gb(a,b,c){c.call(a,b)}function hb(a,b,c){var d=b.relatedTarget;(!d||d!==a&&!gf.call(a,d))&&c.call(a,b)}function ib(){this.$get=function(){return l(Ma,{hasClass:function(a,b){return a.attr&&(a=a[0]),Va(a,b)},addClass:function(a,b){return a.attr&&(a=a[0]),Xa(a,b)},removeClass:function(a,b){return a.attr&&(a=a[0]),Wa(a,b)}})}}function jb(a,b){var c=a&&a.$$hashKey;if(c)return"function"==typeof c&&(c=a.$$hashKey()),c;var d=typeof a;return c="function"===d||"object"===d&&null!==a?a.$$hashKey=d+":"+(b||i)():d+":"+a}function kb(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}function lb(a){return Function.prototype.toString.call(a)}function mb(a){var b=lb(a).replace(tf,""),c=b.match(pf)||b.match(qf);return c}function nb(a){var b=mb(a);return b?"function("+(b[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function ob(a,b,c){var d,e,g;if("function"==typeof a){if(!(d=a.$inject)){if(d=[],a.length){if(b)throw x(c)&&c||(c=a.name||nb(a)),uf("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",c);e=mb(a),f(e[1].split(rf),function(a){a.replace(sf,function(a,b,c){d.push(c)})})}a.$inject=d}}else A(a)?(g=a.length-1,ra(a[g],"fn"),d=a.slice(0,g)):ra(a,"fn",!0);return d}function pb(a,b){function c(a){return function(b,c){return v(b)?void f(b,h(a)):a(b,c)}}function d(a,b){if(sa(a,"service"),(C(b)||A(b))&&(b=w.instantiate(b)),!b.$get)throw uf("pget","Provider '{0}' must define $get factory method.",a);return u[a+p]=b}function e(a,b){return function(){var c=B.invoke(b,this);if(t(c))throw uf("undef","Provider '{0}' must return a value from $get factory method.",a);return c}}function g(a,b,c){return d(a,{$get:c!==!1?e(a,b):b})}function i(a,b){return g(a,["$injector",function(a){return a.instantiate(b)}])}function j(a,b){return g(a,r(b),!1)}function k(a,b){sa(a,"constant"),u[a]=b,y[a]=b}function l(a,b){var c=w.get(a+p),d=c.$get;c.$get=function(){var a=B.invoke(d,c);return B.invoke(b,null,{$delegate:a})}}function m(a){qa(t(a)||A(a),"modulesToLoad","not an array");var b,c=[];return f(a,function(a){function d(a){var b,c;for(b=0,c=a.length;c>b;b++){var d=a[b],e=w.get(d[0]);e[d[1]].apply(e,d[2])}}if(!s.get(a)){s.set(a,!0);try{x(a)?(b=qe(a),B.modules[a]=b,c=c.concat(m(b.requires)).concat(b._runBlocks),d(b._invokeQueue),d(b._configBlocks)):C(a)?c.push(w.invoke(a)):A(a)?c.push(w.invoke(a)):ra(a,"module")}catch(e){throw A(a)&&(a=a[a.length-1]),e.message&&e.stack&&-1===e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),uf("modulerr","Failed to instantiate module {0} due to:\n{1}",a,e.stack||e.message||e)}}}),c}function n(a,c){function d(b,d){if(a.hasOwnProperty(b)){if(a[b]===o)throw uf("cdep","Circular dependency found: {0}",b+" <- "+q.join(" <- "));return a[b]}try{return q.unshift(b),a[b]=o,a[b]=c(b,d),a[b]}catch(e){throw a[b]===o&&delete a[b],e}finally{q.shift()}}function e(a,c,e){for(var f=[],g=pb.$$annotate(a,b,e),h=0,i=g.length;i>h;h++){var j=g[h];if("string"!=typeof j)throw uf("itkn","Incorrect injection token! Expected service name as string, got {0}",j);f.push(c&&c.hasOwnProperty(j)?c[j]:d(j,e))}return f}function f(a){if(ne||"function"!=typeof a)return!1;var b=a.$$ngIsClass;return J(b)||(b=a.$$ngIsClass=/^class\b/.test(lb(a))),b}function g(a,b,c,d){"string"==typeof c&&(d=c,c=null);var g=e(a,c,d);return A(a)&&(a=a[a.length-1]),f(a)?(g.unshift(null),new(Function.prototype.bind.apply(a,g))):a.apply(b,g)}function h(a,b,c){var d=A(a)?a[a.length-1]:a,f=e(a,b,c);return f.unshift(null),new(Function.prototype.bind.apply(d,f))}return{invoke:g,instantiate:h,get:d,annotate:pb.$$annotate,has:function(b){return u.hasOwnProperty(b+p)||a.hasOwnProperty(b)}}}b=b===!0;var o={},p="Provider",q=[],s=new nf,u={$provide:{provider:c(d),factory:c(g),service:c(i),value:c(j),constant:c(k),decorator:l}},w=u.$injector=n(u,function(a,b){throw De.isString(b)&&q.push(b),uf("unpr","Unknown provider: {0}",q.join(" <- "))}),y={},z=n(y,function(a,b){var c=w.get(a+p,b);return B.invoke(c.$get,c,void 0,a)}),B=z;u["$injector"+p]={$get:r(z)},B.modules=w.modules=va();var D=m(a);return B=z.get("$injector"),B.strictDi=b,f(D,function(a){a&&B.invoke(a)}),B.loadNewModules=function(a){f(m(a),function(a){a&&B.invoke(a)})},B}function qb(){var a=!0;this.disableAutoScrolling=function(){a=!1},this.$get=["$window","$location","$rootScope",function(b,c,d){function e(a){var b=null;return Array.prototype.some.call(a,function(a){return"a"===P(a)?(b=a,!0):void 0}),b}function f(){var a=h.yOffset;if(C(a))a=a();else if(N(a)){var c=a[0],d=b.getComputedStyle(c);a="fixed"!==d.position?0:c.getBoundingClientRect().bottom}else y(a)||(a=0);return a}function g(a){if(a){a.scrollIntoView();var c=f();if(c){var d=a.getBoundingClientRect().top;b.scrollBy(0,d-c)}}else b.scrollTo(0,0)}function h(a){a=x(a)?a:y(a)?a.toString():c.hash();var b;a?(b=i.getElementById(a))?g(b):(b=e(i.getElementsByName(a)))?g(b):"top"===a&&g(null):g(null)}var i=b.document;return a&&d.$watch(function(){return c.hash()},function(a,b){(a!==b||""!==a)&&bb(function(){d.$evalAsync(h)})}),h}]}function rb(a,b){return a||b?a?b?(A(a)&&(a=a.join(" ")),A(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function sb(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.nodeType===wf)return c}}function tb(a){x(a)&&(a=a.split(" "));var b=va();return f(a,function(a){a.length&&(b[a]=!0)}),b}function ub(a){return v(a)?a:{}}function vb(a){var b=a.indexOf("#");return-1===b?"":a.substr(b)}function wb(a){return a.replace(/#$/,"")}function xb(a,b,c,d,e){function g(){w=null,i()}function h(){r=x(),r=t(r)?null:r,U(r,A)&&(r=A),A=r,s=r}function i(){var a=s;h(),(u!==j.url()||a!==r)&&(u=j.url(),s=r,f(y,function(a){a(j.url(),r)}))}var j=this,k=a.location,l=a.history,m=a.setTimeout,n=a.clearTimeout,o={},q=e(c);j.isMock=!1,j.$$completeOutstandingRequest=q.completeTask,j.$$incOutstandingRequestCount=q.incTaskCount,j.notifyWhenNoOutstandingRequests=q.notifyWhenNoPendingTasks;var r,s,u=k.href,v=b.find("base"),w=null,x=d.history?function(){try{return l.state}catch(a){}}:p;h(),j.url=function(b,c,e){if(t(e)&&(e=null),k!==a.location&&(k=a.location),l!==a.history&&(l=a.history),b){var f=s===e;if(b=_c(b).href,u===b&&(!d.history||f))return j;var g=u&&hc(u)===hc(b);return u=b,s=e,!d.history||g&&f?(g||(w=b),c?k.replace(b):g?k.hash=vb(b):k.href=b,k.href!==b&&(w=b)):(l[c?"replaceState":"pushState"](e,"",b),h()),w&&(w=b),j}return wb(w||k.href)},j.state=function(){return r};var y=[],z=!1,A=null;j.onUrlChange=function(b){return z||(d.history&&oe(a).on("popstate",g),oe(a).on("hashchange",g),z=!0),y.push(b),b},j.$$applicationDestroyed=function(){oe(a).off("hashchange popstate",g)},j.$$checkUrlChange=i,j.baseHref=function(){var a=v.attr("href");return a?a.replace(/^(https?:)?\/\/[^\/]*/,""):""},j.defer=function(a,b,c){var d;return b=b||0,c=c||q.DEFAULT_TASK_TYPE,q.incTaskCount(c),d=m(function(){delete o[d],q.completeTask(a,c)},b),o[d]=c,d},j.defer.cancel=function(a){if(o.hasOwnProperty(a)){var b=o[a];return delete o[a],n(a),q.completeTask(p,b),!0}return!1}}function yb(){this.$get=["$window","$log","$sniffer","$document","$$taskTrackerFactory",function(a,b,c,d,e){return new xb(a,d,b,c,e)}]}function zb(){this.$get=function(){function a(a,c){function e(a){a!==m&&(n?n===a&&(n=a.n):n=a,f(a.n,a.p),f(a,m),m=a,m.n=null)}function f(a,b){a!==b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw d("$cacheFactory")("iid","CacheId '{0}' is already taken!",a);var g=0,h=l({},c,{id:a}),i=va(),j=c&&c.capacity||Number.MAX_VALUE,k=va(),m=null,n=null;return b[a]={put:function(a,b){if(!t(b)){if(j<Number.MAX_VALUE){var c=k[a]||(k[a]={key:a});e(c)}return a in i||g++,i[a]=b,g>j&&this.remove(n.key),b}},get:function(a){if(j<Number.MAX_VALUE){var b=k[a];if(!b)return;e(b)}return i[a]},remove:function(a){if(j<Number.MAX_VALUE){var b=k[a];if(!b)return;b===m&&(m=b.p),b===n&&(n=b.n),f(b.n,b.p),delete k[a]}a in i&&(delete i[a],g--)},removeAll:function(){i=va(),g=0,k=va(),m=n=null},destroy:function(){i=null,h=null,k=null,delete b[a]},info:function(){return l({},h,{size:g})}}}var b={};return a.info=function(){var a={};return f(b,function(b,c){a[c]=b.info()}),a},a.get=function(a){return b[a]},a}}function Ab(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function Bb(){}function Cb(b,c){function d(a,b,c){var d=/^([@&]|[=<](\*?))(\??)\s*([\w$]*)$/,e=va();return f(a,function(a,f){if(a=a.trim(),a in D)return void(e[f]=D[a]);var g=a.match(d);if(!g)throw Ef("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",b,f,a,c?"controller bindings definition":"isolate scope definition");e[f]={mode:g[1][0],collection:"*"===g[2],optional:"?"===g[3],attrName:g[4]||f},g[4]&&(D[a]=e[f])}),e}function e(a,b){var c={isolateScope:null,bindToController:null};if(v(a.scope)&&(a.bindToController===!0?(c.bindToController=d(a.scope,b,!0),c.isolateScope={}):c.isolateScope=d(a.scope,b,!1)),v(a.bindToController)&&(c.bindToController=d(a.bindToController,b,!0)),c.bindToController&&!a.controller)throw Ef("noctrl","Cannot bind to controller without directive '{0}'s controller.",b);return c}function g(a){var b=a.charAt(0);if(!b||b!==ve(b))throw Ef("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",a);if(a!==a.trim())throw Ef("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",a)}function i(a){var b=a.require||a.controller&&a.name;return!A(b)&&v(b)&&f(b,function(a,c){var d=a.match(y),e=a.substring(d[0].length);e||(b[c]=d[0]+c)}),b}function j(a,b){if(a&&(!x(a)||!/[EACM]/.test(a)))throw Ef("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",a,b);return a||"EA"}var k={},m="Directive",n=/^\s*directive:\s*([\w-]+)\s+(.*)$/,s=/(([\w-]+)(?::([^;]+))?;?)/,w=O("ngSrc,ngSrcset,src,srcset"),y=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,z=/^(on[a-z]+|formaction)$/,D=va();this.directive=function M(a,c){return qa(a,"name"),sa(a,"directive"),x(a)?(g(a),qa(c,"directiveFactory"),k.hasOwnProperty(a)||(k[a]=[],b.factory(a+m,["$injector","$exceptionHandler",function(b,c){var d=[];return f(k[a],function(e,f){try{var g=b.invoke(e);C(g)?g={compile:r(g)}:!g.compile&&g.link&&(g.compile=r(g.link)),g.priority=g.priority||0,g.index=f,g.name=g.name||a,g.require=i(g),g.restrict=j(g.restrict,a),g.$$moduleName=e.$$moduleName,d.push(g)}catch(h){c(h)}}),d}])),k[a].push(c)):f(a,h(M)),this},this.component=function N(a,b){function c(a){function c(b){return C(b)||A(b)?function(c,d){return a.invoke(b,this,{$element:c,$attrs:d})}:b}var e=b.template||b.templateUrl?b.template:"",g={controller:d,controllerAs:Hb(b.controller)||b.controllerAs||"$ctrl",template:c(e),templateUrl:c(b.templateUrl),transclude:b.transclude,scope:{},bindToController:b.bindings||{},restrict:"E",require:b.require};return f(b,function(a,b){"$"===b.charAt(0)&&(g[b]=a)}),g}if(!x(a))return f(a,h(X(this,N))),this;var d=b.controller||function(){};return f(b,function(a,b){"$"===b.charAt(0)&&(c[b]=a,C(d)&&(d[b]=a))}),c.$inject=["$injector"],this.directive(a,c)},this.aHrefSanitizationWhitelist=function(a){return u(a)?(c.aHrefSanitizationWhitelist(a),this):c.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(a){return u(a)?(c.imgSrcSanitizationWhitelist(a),this):c.imgSrcSanitizationWhitelist()};var E=!0;this.debugInfoEnabled=function(a){return u(a)?(E=a,this):E};var G=!1;this.strictComponentBindingsEnabled=function(a){return u(a)?(G=a,this):G};var H=10;this.onChangesTtl=function(a){return arguments.length?(H=a,this):H};var I=!0;this.commentDirectivesEnabled=function(a){return arguments.length?(I=a,this):I};var K=!0;this.cssClassDirectivesEnabled=function(a){return arguments.length?(K=a,this):K};var L=va();this.addPropertySecurityContext=function(a,b,c){var d=a.toLowerCase()+"|"+b.toLowerCase();if(d in L&&L[d]!==c)throw Ef("ctxoverride","Property context '{0}.{1}' already set to '{2}', cannot override to '{3}'.",a,b,L[d],c);return L[d]=c,this},function(){function a(a,b){f(b,function(b){L[b.toLowerCase()]=a})}a(hg.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),a(hg.CSS,["*|style"]),a(hg.URL,["area|href","area|ping","a|href","a|ping","blockquote|cite","body|background","del|cite","input|src","ins|cite","q|cite"]),a(hg.MEDIA_URL,["audio|src","img|src","img|srcset","source|src","source|srcset","track|src","video|src","video|poster"]),a(hg.RESOURCE_URL,["*|formAction","applet|code","applet|codebase","base|href","embed|src","frame|src","form|action","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])}(),this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function(b,c,d,g,h,i,j,r,u){function D(){try{if(!--La)throw Fa=void 0,Ef("infchng","{0} $onChanges() iterations reached. Aborting!\n",H);j.$apply(function(){for(var a=0,b=Fa.length;b>a;++a)try{Fa[a]()}catch(c){d(c)}Fa=void 0})}finally{La++}}function M(a,b){if(!a)return a;if(!x(a))throw Ef("srcset",'Can\'t pass trusted values to `{0}`: "{1}"',b,a.toString());for(var c="",d=He(a),e=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,f=/\s/.test(d)?e:/(,)/,g=d.split(f),h=Math.floor(g.length/2),i=0;h>i;i++){var j=2*i;c+=r.getTrustedMediaUrl(He(g[j])),c+=" "+He(g[j+1])}var k=He(g[2*i]).split(/\s/);return c+=r.getTrustedMediaUrl(He(k[0])),2===k.length&&(c+=" "+He(k[1])),c}function N(a,b){if(b){var c,d,e,f=Object.keys(b);for(c=0,d=f.length;d>c;c++)e=f[c],this[e]=b[e]}else this.$attr={};this.$$element=a}function O(a,b,c){Ia.innerHTML="<span "+b+">";var d=Ia.firstChild.attributes,e=d[0];d.removeNamedItem(e.name),e.value=c,a.attributes.setNamedItem(e)}function Q(a,b){try{a.addClass(b)}catch(c){}}function S(a,b,c,d,e){a instanceof oe||(a=oe(a));var f=Y(a,b,a,c,d,e);S.$$addScopeClass(a);var g=null;return function(b,c,d){if(!a)throw Ef("multilink","This element has already been linked.");qa(b,"scope"),e&&e.needsNewScope&&(b=b.$parent.$new()),d=d||{};var h=d.parentBoundTranscludeFn,i=d.transcludeControllers,j=d.futureParentElement;h&&h.$$boundTransclude&&(h=h.$$boundTransclude),g||(g=V(j));var k;if(k="html"!==g?oe(sa(g,oe("<div></div>").append(a).html())):c?hf.clone.call(a):a,i)for(var l in i)k.data("$"+l+"Controller",i[l].instance);return S.$$addScopeInfo(k,b),c&&c(k,b),f&&f(b,k,k,h),c||(a=f=null),k}}function V(a){var b=a&&a[0];return b&&"foreignobject"!==P(b)&&Ae.call(b).match(/SVG/)?"svg":"html"}function Y(a,b,c,d,e,f){function g(a,c,d,e){var f,g,h,i,j,k,l,m,p;if(n){var q=c.length;for(p=new Array(q),j=0;j<o.length;j+=3)l=o[j],p[l]=c[l]}else p=c;for(j=0,k=o.length;k>j;)h=p[o[j++]],f=o[j++],g=o[j++],f?(f.scope?(i=a.$new(),S.$$addScopeInfo(oe(h),i)):i=a,m=f.transcludeOnThisElement?$(a,f.transclude,e):!f.templateOnThisElement&&e?e:!e&&b?$(a,b):null,f(g,i,h,d,m)):g&&g(a,h.childNodes,void 0,e)}for(var h,i,j,k,l,m,n,o=[],p=A(a)||a instanceof oe,q=0;q<a.length;q++)h=new N,11===ne&&Z(a,q,p),i=_(a[q],[],h,0===q?d:void 0,e),j=i.length?fa(i,a[q],h,b,c,null,[],[],f):null,j&&j.scope&&S.$$addScopeClass(h.$$element),l=j&&j.terminal||!(k=a[q].childNodes)||!k.length?null:Y(k,j?(j.transcludeOnThisElement||!j.templateOnThisElement)&&j.transclude:b),(j||l)&&(o.push(q,j,l),m=!0,n=n||j),f=null;return m?g:null}function Z(a,b,c){var d,e=a[b],f=e.parentNode;if(e.nodeType===Se)for(;;){if(d=f?e.nextSibling:a[b+1],!d||d.nodeType!==Se)break;e.nodeValue=e.nodeValue+d.nodeValue,d.parentNode&&d.parentNode.removeChild(d),c&&d===a[b+1]&&a.splice(b+1,1)}}function $(a,b,c){function d(d,e,f,g,h){return d||(d=a.$new(!1,h),d.$$transcluded=!0),b(d,e,{parentBoundTranscludeFn:c,transcludeControllers:f,futureParentElement:g})}var e=d.$$slots=va();for(var f in b.$$slots)b.$$slots[f]?e[f]=$(a,b.$$slots[f],c):e[f]=null;return d}function _(a,b,c,d,e){var f,g,h,i=a.nodeType,j=c.$attr;switch(i){case Qe:g=P(a),ja(b,Eb(g),"E",d,e);for(var k,l,m,n,o,p=a.attributes,q=0,r=p&&p.length;r>q;q++){var t,u=!1,w=!1,y=!1,z=!1,A=!1;k=p[q],l=k.name,n=k.value,m=Eb(l.toLowerCase()),(o=m.match(Qa))?(y="Attr"===o[1],z="Prop"===o[1],A="On"===o[1],l=l.replace(Gf,"").toLowerCase().substr(4+o[1].length).replace(/_(.)/g,function(a,b){return b.toUpperCase()})):(t=m.match(Ra))&&ka(t[1])&&(u=l,w=l.substr(0,l.length-5)+"end",l=l.substr(0,l.length-6)),z||A?(c[m]=n,j[m]=k.name,z?xa(a,b,m,l):ya(b,m,l)):(m=Eb(l.toLowerCase()),j[m]=l,(y||!c.hasOwnProperty(m))&&(c[m]=n,db(a,m)&&(c[m]=!0)),za(a,b,n,m,y),ja(b,m,"A",d,e,u,w))}if("input"===g&&"hidden"===a.getAttribute("type")&&a.setAttribute("autocomplete","off"),!Ka)break;if(h=a.className,v(h)&&(h=h.animVal),x(h)&&""!==h)for(;f=s.exec(h);)m=Eb(f[2]),ja(b,m,"C",d,e)&&(c[m]=He(f[3])),h=h.substr(f.index+f[0].length);break;case Se:ra(b,a.nodeValue);break;case Te:if(!Ja)break;aa(a,b,c,d,e)}return b.sort(na),b}function aa(a,b,c,d,e){try{var f=n.exec(a.nodeValue);if(f){var g=Eb(f[1]);ja(b,g,"M",d,e)&&(c[g]=He(f[2]))}}catch(h){}}function ba(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw Ef("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",b,c);a.nodeType===Qe&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(e>0)}else d.push(a);return oe(d)}function da(a,b,c){return function(d,e,f,g,h){return e=ba(e[0],b,c),a(d,e,f,g,h)}}function ea(a,b,c,d,e,f){var g;return a?S(b,c,d,e,f):function(){return g||(g=S(b,c,d,e,f),b=c=f=null),g.apply(this,arguments)}}function fa(b,c,e,g,h,i,j,k,m){function n(a,b,c,d){a&&(c&&(a=da(a,c,d)),a.require=p.require,a.directiveName=q,(z===p||p.$$isolateScope)&&(a=Ba(a,{isolateScope:!0})),j.push(a)),b&&(c&&(b=da(b,c,d)),b.require=p.require,b.directiveName=q,(z===p||p.$$isolateScope)&&(b=Ba(b,{isolateScope:!0})),k.push(b))}function o(a,b,g,h,i){function m(a,b,c,d){var e;if(F(a)||(d=c,c=b,b=a,a=void 0),H&&(e=s),c||(c=H?w.parent():w),!d)return i(a,b,e,c,L);var f=i.$$slots[d];if(f)return f(a,b,e,c,L);if(t(f))throw Ef("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',d,ca(w))}var n,o,p,q,r,s,u,w,D,E;c===g?(D=e,w=e.$$element):(w=oe(g),D=new N(w,e)),r=b,z?q=b.$new(!0):x&&(r=b.$parent),i&&(u=m,u.$$boundTransclude=i,u.isSlotFilled=function(a){return!!i.$$slots[a]}),y&&(s=ha(w,D,u,y,q,b,z)),z&&(S.$$addScopeInfo(w,q,!0,!(B&&(B===z||B===z.$$originalDirective))),S.$$addScopeClass(w,!0),q.$$isolateBindings=z.$$isolateBindings,E=Ea(b,D,q,q.$$isolateBindings,z),E.removeWatches&&q.$on("$destroy",E.removeWatches));for(var G in s){var I=y[G],J=s[G],K=I.$$bindings.bindToController;J.instance=J(),w.data("$"+I.name+"Controller",J.instance),J.bindingInfo=Ea(r,D,J.instance,K,I)}for(f(y,function(a,b){var c=a.require;a.bindToController&&!A(c)&&v(c)&&l(s[b].instance,ga(b,c,w,s))}),f(s,function(a){var b=a.instance;if(C(b.$onChanges))try{b.$onChanges(a.bindingInfo.initialChanges)}catch(c){d(c)}if(C(b.$onInit))try{b.$onInit()}catch(c){d(c)}C(b.$doCheck)&&(r.$watch(function(){b.$doCheck()}),b.$doCheck()),C(b.$onDestroy)&&r.$on("$destroy",function(){b.$onDestroy()})}),n=0,o=j.length;o>n;n++)p=j[n],Ca(p,p.isolateScope?q:b,w,D,p.require&&ga(p.directiveName,p.require,w,s),u);var L=b;for(z&&(z.template||null===z.templateUrl)&&(L=q),a&&a(L,g.childNodes,void 0,i),n=k.length-1;n>=0;n--)p=k[n],Ca(p,p.isolateScope?q:b,w,D,p.require&&ga(p.directiveName,p.require,w,s),u);f(s,function(a){var b=a.instance;C(b.$postLink)&&b.$postLink()})}m=m||{};for(var p,q,r,s,u,w=-Number.MAX_VALUE,x=m.newScopeDirective,y=m.controllerDirectives,z=m.newIsolateScopeDirective,B=m.templateDirective,D=m.nonTlbTranscludeDirective,E=!1,G=!1,H=m.hasElementTranscludeDirective,I=e.$$element=oe(c),J=i,K=g,L=!1,M=!1,O=0,Q=b.length;Q>O;O++){p=b[O];var R=p.$$start,T=p.$$end;if(R&&(I=ba(c,R,T)),r=void 0,w>p.priority)break;if(u=p.scope,u&&(p.templateUrl||(v(u)?(pa("new/isolated scope",z||x,p,I),z=p):pa("new/isolated scope",z,p,I)),x=x||p),q=p.name,!L&&(p.replace&&(p.templateUrl||p.template)||p.transclude&&!p.$$tlb)){for(var U,V=O+1;U=b[V++];)if(U.transclude&&!U.$$tlb||U.replace&&(U.templateUrl||U.template)){M=!0;break}L=!0}if(!p.templateUrl&&p.controller&&(y=y||va(),pa("'"+q+"' controller",y[q],p,I),y[q]=p),u=p.transclude)if(E=!0,p.$$tlb||(pa("transclusion",D,p,I),D=p),"element"===u)H=!0,w=p.priority,r=I,I=e.$$element=oe(S.$$createComment(q,e[q])),c=I[0],Aa(h,W(r),c),K=ea(M,r,g,w,J&&J.name,{nonTlbTranscludeDirective:D});else{var Y=va();if(v(u)){r=a.document.createDocumentFragment();var Z=va(),$=va();f(u,function(a,b){var c="?"===a.charAt(0);a=c?a.substring(1):a,Z[a]=b,Y[b]=null,$[b]=c}),f(I.contents(),function(b){var c=Z[Eb(P(b))];c?($[c]=!0,Y[c]=Y[c]||a.document.createDocumentFragment(),Y[c].appendChild(b)):r.appendChild(b)}),f($,function(a,b){if(!a)throw Ef("reqslot","Required transclusion slot `{0}` was not filled.",b)});for(var aa in Y)if(Y[aa]){var fa=oe(Y[aa].childNodes);Y[aa]=ea(M,fa,g)}r=oe(r.childNodes)}else r=oe(Na(c)).contents();I.empty(),K=ea(M,r,g,void 0,void 0,{needsNewScope:p.$$isolateScope||p.$$newScope}),K.$$slots=Y}if(p.template)if(G=!0,pa("template",B,p,I),B=p,u=C(p.template)?p.template(I,e):p.template,u=Pa(u),p.replace){if(J=p,r=Ga(u)?[]:Gb(sa(p.templateNamespace,He(u))),c=r[0],1!==r.length||c.nodeType!==Qe)throw Ef("tplrt","Template for directive '{0}' must have exactly one root element. {1}",q,"");Aa(h,I,c);var ja={$attr:{}},ka=_(c,[],ja),na=b.splice(O+1,b.length-(O+1));(z||x)&&ia(ka,z,x),b=b.concat(ka).concat(na),la(e,ja),Q=b.length}else I.html(u);if(p.templateUrl)G=!0,pa("template",B,p,I),B=p,p.replace&&(J=p),o=ma(b.splice(O,b.length-O),I,e,h,E&&K,j,k,{controllerDirectives:y,newScopeDirective:x!==p&&x,newIsolateScopeDirective:z,templateDirective:B,nonTlbTranscludeDirective:D}),Q=b.length;else if(p.compile)try{s=p.compile(I,e,K);var oa=p.$$originalDirective||p;C(s)?n(null,X(oa,s),R,T):s&&n(X(oa,s.pre),X(oa,s.post),R,T)}catch(qa){d(qa,ca(I))}p.terminal&&(o.terminal=!0,w=Math.max(w,p.priority))}return o.scope=x&&x.scope===!0,o.transcludeOnThisElement=E,o.templateOnThisElement=G,o.transclude=K,m.hasElementTranscludeDirective=H,o}function ga(a,b,c,d){var e;if(x(b)){var g=b.match(y),h=b.substring(g[0].length),i=g[1]||g[3],j="?"===g[2];if("^^"===i?c=c.parent():(e=d&&d[h],e=e&&e.instance),!e){var k="$"+h+"Controller";e="^^"===i&&c[0]&&c[0].nodeType===Ue?null:i?c.inheritedData(k):c.data(k)}if(!e&&!j)throw Ef("ctreq","Controller '{0}', required by directive '{1}', can't be found!",h,a);
}else if(A(b)){e=[];for(var l=0,m=b.length;m>l;l++)e[l]=ga(a,b[l],c,d)}else v(b)&&(e={},f(b,function(b,f){e[f]=ga(a,b,c,d)}));return e||null}function ha(a,b,c,d,e,f,g){var h=va();for(var j in d){var k=d[j],l={$scope:k===g||k.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c},m=k.controller;"@"===m&&(m=b[k.name]);var n=i(m,l,!0,k.controllerAs);h[k.name]=n,a.data("$"+k.name+"Controller",n.instance)}return h}function ia(a,b,c){for(var d=0,e=a.length;e>d;d++)a[d]=o(a[d],{$$isolateScope:b,$$newScope:c})}function ja(a,c,d,f,g,h,i){if(c===g)return null;var j=null;if(k.hasOwnProperty(c))for(var l,n=b.get(c+m),p=0,q=n.length;q>p;p++)if(l=n[p],(t(f)||f>l.priority)&&-1!==l.restrict.indexOf(d)){if(h&&(l=o(l,{$$start:h,$$end:i})),!l.$$bindings){var r=l.$$bindings=e(l,l.name);v(r.isolateScope)&&(l.$$isolateBindings=r.isolateScope)}a.push(l),j=l}return j}function ka(a){if(k.hasOwnProperty(a))for(var c,d=b.get(a+m),e=0,f=d.length;f>e;e++)if(c=d[e],c.multiElement)return!0;return!1}function la(a,b){var c=b.$attr,d=a.$attr;f(a,function(d,e){"$"!==e.charAt(0)&&(b[e]&&b[e]!==d&&(d.length?d+=("style"===e?";":" ")+b[e]:d=b[e]),a.$set(e,d,!0,c[e]))}),f(b,function(b,e){a.hasOwnProperty(e)||"$"===e.charAt(0)||(a[e]=b,"class"!==e&&"style"!==e&&(d[e]=c[e]))})}function ma(a,b,c,e,h,i,j,k){var l,m,n=[],p=b[0],q=a.shift(),r=o(q,{templateUrl:null,transclude:null,replace:null,$$originalDirective:q}),s=C(q.templateUrl)?q.templateUrl(b,c):q.templateUrl,t=q.templateNamespace;return b.empty(),g(s).then(function(d){var g,o,u,w;if(d=Pa(d),q.replace){if(u=Ga(d)?[]:Gb(sa(t,He(d))),g=u[0],1!==u.length||g.nodeType!==Qe)throw Ef("tplrt","Template for directive '{0}' must have exactly one root element. {1}",q.name,s);o={$attr:{}},Aa(e,b,g);var x=_(g,[],o);v(q.scope)&&ia(x,!0),a=x.concat(a),la(c,o)}else g=p,b.html(d);for(a.unshift(r),l=fa(a,g,c,h,b,q,i,j,k),f(e,function(a,c){a===g&&(e[c]=b[0])}),m=Y(b[0].childNodes,h);n.length;){var y=n.shift(),z=n.shift(),A=n.shift(),B=n.shift(),C=b[0];if(!y.$$destroyed){if(z!==p){var D=z.className;k.hasElementTranscludeDirective&&q.replace||(C=Na(g)),Aa(A,oe(z),C),Q(oe(C),D)}w=l.transcludeOnThisElement?$(y,l.transclude,B):B,l(m,y,C,e,w)}}n=null})["catch"](function(a){B(a)&&d(a)}),function(a,b,c,d,e){var f=e;b.$$destroyed||(n?n.push(b,c,d,f):(l.transcludeOnThisElement&&(f=$(b,l.transclude,e)),l(m,b,c,d,f)))}}function na(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function pa(a,b,c,d){function e(a){return a?" (module: "+a+")":""}if(b)throw Ef("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,ca(d))}function ra(a,b){var d=c(b,!0);d&&a.push({priority:0,compile:function(a){var b=a.parent(),c=!!b.length;return c&&S.$$addBindingClass(b),function(a,b){var e=b.parent();c||S.$$addBindingClass(e),S.$$addBindingInfo(e,d.expressions),a.$watch(d,function(a){b[0].nodeValue=a})}}})}function sa(b,c){switch(b=ve(b||"html")){case"svg":case"math":var d=a.document.createElement("div");return d.innerHTML="<"+b+">"+c+"</"+b+">",d.childNodes[0].childNodes;default:return c}}function ta(a,b){return"srcdoc"===b?r.HTML:"src"===b||"ngSrc"===b?-1===["img","video","audio","source","track"].indexOf(a)?r.RESOURCE_URL:r.MEDIA_URL:"xlinkHref"===b?"image"===a?r.MEDIA_URL:"a"===a?r.URL:r.RESOURCE_URL:"form"===a&&"action"===b||"base"===a&&"href"===b||"link"===a&&"href"===b?r.RESOURCE_URL:"a"!==a||"href"!==b&&"ngHref"!==b?void 0:r.URL}function ua(a,b){var c=b.toLowerCase();return L[a+"|"+c]||L["*|"+c]}function wa(a){return M(r.valueOf(a),"ng-prop-srcset")}function xa(a,b,c,d){if(z.test(d))throw Ef("nodomevents","Property bindings for HTML DOM event properties are disallowed");var e=P(a),f=ua(e,d),g=q;"srcset"!==d||"img"!==e&&"source"!==e?f&&(g=r.getTrusted.bind(r,f)):g=wa,b.push({priority:100,compile:function(a,b){var e=h(b[c]),f=h(b[c],function(a){return r.valueOf(a)});return{pre:function(a,b){function c(){var c=e(a);b[0][d]=g(c)}c(),a.$watch(f,c)}}}})}function ya(a,b,c){a.push(fe(h,j,d,b,c,!1))}function za(a,b,d,e,f){var g=P(a),h=ta(g,e),i=!f,j=w[e]||f,k=c(d,i,h,j);if(k){if("multiple"===e&&"select"===g)throw Ef("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",ca(a));if(z.test(e))throw Ef("nodomevents","Interpolations for HTML DOM event attributes are disallowed");b.push({priority:100,compile:function(){return{pre:function(a,b,f){var g=f.$$observers||(f.$$observers=va()),i=f[e];i!==d&&(k=i&&c(i,!0,h,j),d=i),k&&(f[e]=k(a),(g[e]||(g[e]=[])).$$inter=!0,(f.$$observers&&f.$$observers[e].$$scope||a).$watch(k,function(a,b){"class"===e&&a!==b?f.$updateClass(a,b):f.$set(e,a)}))}}}})}}function Aa(b,c,d){var e,f,g=c[0],h=c.length,i=g.parentNode;if(b)for(e=0,f=b.length;f>e;e++)if(b[e]===g){b[e++]=d;for(var j=e,k=j+h-1,l=b.length;l>j;j++,k++)l>k?b[j]=b[k]:delete b[j];b.length-=h-1,b.context===g&&(b.context=d);break}i&&i.replaceChild(d,g);var m=a.document.createDocumentFragment();for(e=0;h>e;e++)m.appendChild(c[e]);for(oe.hasData(g)&&(oe.data(d,oe.data(g)),oe(g).off("$destroy")),oe.cleanData(m.querySelectorAll("*")),e=1;h>e;e++)delete c[e];c[0]=d,c.length=1}function Ba(a,b){return l(function(){return a.apply(null,arguments)},a,b)}function Ca(a,b,c,e,f,g){try{a(b,c,e,f,g)}catch(h){d(h,ca(c))}}function Da(a,b){if(G)throw Ef("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",a,b)}function Ea(a,b,d,e,g){function i(b,c,e){C(d.$onChanges)&&!T(c,e)&&(Fa||(a.$$postDigest(D),Fa=[]),k||(k={},Fa.push(j)),k[b]&&(e=k[b].previousValue),k[b]=new Db(e,c))}function j(){d.$onChanges(k),k=void 0}var k,l=[],m={};return f(e,function(e,f){var j,k,n,o,q,r=e.attrName,s=e.optional,t=e.mode;switch(t){case"@":s||ue.call(b,r)||(Da(r,g.name),d[f]=b[r]=void 0),q=b.$observe(r,function(a){if(x(a)||J(a)){var b=d[f];i(f,a,b),d[f]=a}}),b.$$observers[r].$$scope=a,j=b[r],x(j)?d[f]=c(j)(a):J(j)&&(d[f]=j),m[f]=new Db(Ff,d[f]),l.push(q);break;case"=":if(!ue.call(b,r)){if(s)break;Da(r,g.name),b[r]=void 0}if(s&&!b[r])break;k=h(b[r]),o=k.literal?U:T,n=k.assign||function(){throw j=d[f]=k(a),Ef("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",b[r],r,g.name)},j=d[f]=k(a);var u=function(b){return o(b,d[f])||(o(b,j)?n(a,b=d[f]):d[f]=b),j=b};u.$stateful=!0,q=e.collection?a.$watchCollection(b[r],u):a.$watch(h(b[r],u),null,k.literal),l.push(q);break;case"<":if(!ue.call(b,r)){if(s)break;Da(r,g.name),b[r]=void 0}if(s&&!b[r])break;k=h(b[r]);var v=k.literal,w=d[f]=k(a);m[f]=new Db(Ff,d[f]),q=a[e.collection?"$watchCollection":"$watch"](k,function(a,b){if(b===a){if(b===w||v&&U(b,w))return;b=w}i(f,a,b),d[f]=a}),l.push(q);break;case"&":if(s||ue.call(b,r)||Da(r,g.name),k=b.hasOwnProperty(r)?h(b[r]):p,k===p&&s)break;d[f]=function(b){return k(a,b)}}}),{initialChanges:m,removeWatches:l.length&&function(){for(var a=0,b=l.length;b>a;++a)l[a]()}}}var Fa,Ha=/^\w/,Ia=a.document.createElement("div"),Ja=I,Ka=K,La=H;N.prototype={$normalize:Eb,$addClass:function(a){a&&a.length>0&&u.addClass(this.$$element,a)},$removeClass:function(a){a&&a.length>0&&u.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=Fb(a,b);c&&c.length&&u.addClass(this.$$element,c);var d=Fb(b,a);d&&d.length&&u.removeClass(this.$$element,d)},$set:function(a,b,c,e){var g,h=this.$$element[0],i=db(h,a),j=eb(a),k=a;i?(this.$$element.prop(a,b),e=i):j&&(this[j]=b,k=j),this[a]=b,e?this.$attr[a]=e:(e=this.$attr[a],e||(this.$attr[a]=e=oa(a,"-"))),g=P(this.$$element),"img"===g&&"srcset"===a&&(this[a]=b=M(b,"$set('srcset', value)")),c!==!1&&(null===b||t(b)?this.$$element.removeAttr(e):Ha.test(e)?i&&b===!1?this.$$element.removeAttr(e):this.$$element.attr(e,b):O(this.$$element[0],e,b));var l=this.$$observers;l&&f(l[k],function(a){try{a(b)}catch(c){d(c)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=va()),e=d[a]||(d[a]=[]);return e.push(b),j.$evalAsync(function(){e.$$inter||!c.hasOwnProperty(a)||t(c[a])||b(c[a])}),function(){R(e,b)}}};var Ma=c.startSymbol(),Oa=c.endSymbol(),Pa="{{"===Ma&&"}}"===Oa?q:function(a){return a.replace(/\{\{/g,Ma).replace(/}}/g,Oa)},Qa=/^ng(Attr|Prop|On)([A-Z].*)$/,Ra=/^(.+)Start$/;return S.$$addBindingInfo=E?function(a,b){var c=a.data("$binding")||[];A(b)?c=c.concat(b):c.push(b),a.data("$binding",c)}:p,S.$$addBindingClass=E?function(a){Q(a,"ng-binding")}:p,S.$$addScopeInfo=E?function(a,b,c,d){var e=c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope";a.data(e,b)}:p,S.$$addScopeClass=E?function(a,b){Q(a,b?"ng-isolate-scope":"ng-scope")}:p,S.$$createComment=function(b,c){var d="";return E&&(d=" "+(b||"")+": ",c&&(d+=c+" ")),a.document.createComment(d)},S}]}function Db(a,b){this.previousValue=a,this.currentValue=b}function Eb(a){return a.replace(Gf,"").replace(Hf,function(a,b,c){return c?b.toUpperCase():b})}function Fb(a,b){var c="",d=a.split(/\s+/),e=b.split(/\s+/);a:for(var f=0;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g===e[h])continue a;c+=(c.length>0?" ":"")+g}return c}function Gb(a){a=oe(a);var b=a.length;if(1>=b)return a;for(;b--;){var c=a[b];(c.nodeType===Te||c.nodeType===Se&&""===c.nodeValue.trim())&&ye.call(a,b,1)}return a}function Hb(a,b){if(b&&x(b))return b;if(x(a)){var c=Jf.exec(a);if(c)return c[3]}}function Ib(){var a={};this.has=function(b){return a.hasOwnProperty(b)},this.register=function(b,c){sa(b,"controller"),v(b)?l(a,b):a[b]=c},this.$get=["$injector",function(b){function c(a,b,c,e){if(!a||!v(a.$scope))throw d("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",e,b);a.$scope[b]=c}return function(d,e,f,g){var h,i,j,k;if(f=f===!0,g&&x(g)&&(k=g),x(d)){if(i=d.match(Jf),!i)throw If("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",d);if(j=i[1],k=k||i[3],d=a.hasOwnProperty(j)?a[j]:ta(e.$scope,j,!0),!d)throw If("ctrlreg","The controller with the name '{0}' is not registered.",j);ra(d,j,!0)}if(f){var m=(A(d)?d[d.length-1]:d).prototype;return h=Object.create(m||null),k&&c(e,k,h,j||d.name),l(function(){var a=b.invoke(d,h,e,j);return a!==h&&(v(a)||C(a))&&(h=a,k&&c(e,k,h,j||d.name)),h},{instance:h,identifier:k})}return h=b.instantiate(d,e,j),k&&c(e,k,h,j||d.name),h}}]}function Jb(){this.$get=["$window",function(a){return oe(a.document)}]}function Kb(){this.$get=["$document","$rootScope",function(a,b){function c(){e=d.hidden}var d=a[0],e=d&&d.hidden;return a.on("visibilitychange",c),b.$on("$destroy",function(){a.off("visibilitychange",c)}),function(){return e}}]}function Lb(){this.$get=["$log",function(a){return function(b,c){a.error.apply(a,arguments)}}]}function Mb(a){return v(a)?z(a)?a.toISOString():Z(a):a}function Nb(){this.$get=function(){return function(a){if(!a)return"";var b=[];return g(a,function(a,c){null===a||t(a)||C(a)||(A(a)?f(a,function(a){b.push(ha(c)+"="+ha(Mb(a)))}):b.push(ha(c)+"="+ha(Mb(a))))}),b.join("&")}}}function Ob(){this.$get=function(){return function(a){function b(a,d,e){A(a)?f(a,function(a,c){b(a,d+"["+(v(a)?c:"")+"]")}):v(a)&&!z(a)?g(a,function(a,c){b(a,d+(e?"":"[")+c+(e?"":"]"))}):(C(a)&&(a=a()),c.push(ha(d)+"="+(null==a?"":ha(Mb(a)))))}if(!a)return"";var c=[];return b(a,"",!0),c.join("&")}}}function Pb(a,b){if(x(a)){var c=a.replace(Pf,"").trim();if(c){var d=b("Content-Type"),e=d&&0===d.indexOf(Lf);if(e||Qb(c))try{a=$(c)}catch(f){if(!e)return a;throw Qf("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',a,f)}}}return a}function Qb(a){var b=a.match(Nf);return b&&Of[b[0]].test(a)}function Rb(a){function b(a,b){a&&(d[a]=d[a]?d[a]+", "+b:b)}var c,d=va();return x(a)?f(a.split("\n"),function(a){c=a.indexOf(":"),b(ve(He(a.substr(0,c))),He(a.substr(c+1)))}):v(a)&&f(a,function(a,c){b(ve(c),He(a))}),d}function Sb(a){var b;return function(c){if(b||(b=Rb(a)),c){var d=b[ve(c)];return void 0===d&&(d=null),d}return b}}function Tb(a,b,c,d){return C(d)?d(a,b,c):(f(d,function(d){a=d(a,b,c)}),a)}function Ub(a){return a>=200&&300>a}function Vb(){var a=this.defaults={transformResponse:[Pb],transformRequest:[function(a){return!v(a)||G(a)||I(a)||H(a)?a:Z(a)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ya(Mf),put:ya(Mf),patch:ya(Mf)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},b=!1;this.useApplyAsync=function(a){return u(a)?(b=!!a,this):b};var c=this.interceptors=[],e=this.xsrfWhitelistedOrigins=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(g,h,i,j,k,m,n,o){function q(b){function c(a,b){for(var c=0,d=b.length;d>c;){var e=b[c++],f=b[c++];a=a.then(e,f)}return b.length=0,a}function e(){g.$$completeOutstandingRequest(p,"$http")}function h(a,b){var c,d={};return f(a,function(a,e){C(a)?(c=a(b),null!=c&&(d[e]=c)):d[e]=a}),d}function i(b){var c,d,e,f=a.headers,g=l({},b.headers);f=l({},f.common,f[ve(b.method)]);a:for(c in f){d=ve(c);for(e in g)if(ve(e)===d)continue a;g[c]=f[c]}return h(g,ya(b))}function j(b){var c=b.headers,d=Tb(b.data,Sb(c),void 0,b.transformRequest);return t(d)&&f(c,function(a,b){"content-type"===ve(b)&&delete c[b]}),t(b.withCredentials)&&!t(a.withCredentials)&&(b.withCredentials=a.withCredentials),w(b,d).then(k,k)}function k(a){var b=l({},a);return b.data=Tb(a.data,a.headers,a.status,q.transformResponse),Ub(a.status)?b:m.reject(b)}if(!v(b))throw d("$http")("badreq","Http request configuration must be an object.  Received: {0}",b);if(!x(o.valueOf(b.url)))throw d("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",b.url);var q=l({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer,jsonpCallbackParam:a.jsonpCallbackParam},b);q.headers=i(b),q.method=we(q.method),q.paramSerializer=x(q.paramSerializer)?n.get(q.paramSerializer):q.paramSerializer,g.$$incOutstandingRequestCount("$http");var r=[],s=[],u=m.resolve(q);return f(D,function(a){(a.request||a.requestError)&&r.unshift(a.request,a.requestError),(a.response||a.responseError)&&s.push(a.response,a.responseError)}),u=c(u,r),u=u.then(j),u=c(u,s),u=u["finally"](e)}function r(a){f(arguments,function(a){q[a]=function(b,c){return q(l({},c||{},{method:a,url:b}))}})}function s(a){f(arguments,function(a){q[a]=function(b,c,d){return q(l({},d||{},{method:a,url:b,data:c}))}})}function w(c,d){function e(a){if(a){var c={};return f(a,function(a,d){c[d]=function(c){function d(){a(c)}b?k.$applyAsync(d):k.$$phase?d():k.$apply(d)}}),c}}function g(a,c,d,e,f){function g(){j(c,a,d,e,f)}p&&(Ub(a)?p.put(F,[a,c,Rb(d),e,f]):p.remove(F)),b?k.$applyAsync(g):(g(),k.$$phase||k.$apply())}function j(a,b,d,e,f){b=b>=-1?b:0,(Ub(b)?s.resolve:s.reject)({data:a,status:b,headers:Sb(d),config:c,statusText:e,xhrStatus:f})}function l(a){j(a.data,a.status,ya(a.headers()),a.statusText,a.xhrStatus)}function n(){var a=q.pendingRequests.indexOf(c);-1!==a&&q.pendingRequests.splice(a,1)}var p,r,s=m.defer(),w=s.promise,C=c.headers,D="jsonp"===ve(c.method),F=c.url;if(D?F=o.getTrustedResourceUrl(F):x(F)||(F=o.valueOf(F)),F=y(F,c.paramSerializer(c.params)),D&&(F=z(F,c.jsonpCallbackParam)),q.pendingRequests.push(c),w.then(n,n),!c.cache&&!a.cache||c.cache===!1||"GET"!==c.method&&"JSONP"!==c.method||(p=v(c.cache)?c.cache:v(a.cache)?a.cache:B),p&&(r=p.get(F),u(r)?K(r)?r.then(l,l):A(r)?j(r[1],r[0],ya(r[2]),r[3],r[4]):j(r,200,{},"OK","complete"):p.put(F,w)),t(r)){var G=E(c.url)?i()[c.xsrfCookieName||a.xsrfCookieName]:void 0;G&&(C[c.xsrfHeaderName||a.xsrfHeaderName]=G),h(c.method,F,d,g,C,c.timeout,c.withCredentials,c.responseType,e(c.eventHandlers),e(c.uploadEventHandlers))}return w}function y(a,b){return b.length>0&&(a+=(-1===a.indexOf("?")?"?":"&")+b),a}function z(a,b){var c=a.split("?");if(c.length>2)throw Qf("badjsonp",'Illegal use more than one "?", in url, "{1}"',a);var d=ea(c[1]);return f(d,function(c,d){if("JSON_CALLBACK"===c)throw Qf("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',a);if(d===b)throw Qf("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',b,a)}),a+=(-1===a.indexOf("?")?"?":"&")+b+"=JSON_CALLBACK"}var B=j("$http");a.paramSerializer=x(a.paramSerializer)?n.get(a.paramSerializer):a.paramSerializer;var D=[];f(c,function(a){D.unshift(x(a)?n.get(a):n.invoke(a))});var E=cd(e);return q.pendingRequests=[],r("get","delete","head","jsonp"),s("post","put","patch"),q.defaults=a,q}]}function Wb(){this.$get=function(){return function(){return new a.XMLHttpRequest}}}function Xb(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(a,b,c,d){return Yb(a,d,a.defer,b,c[0])}]}function Yb(a,b,c,d,e){function g(a,b,c){a=a.replace("JSON_CALLBACK",b);var f=e.createElement("script"),g=null;return f.type="text/javascript",f.src=a,f.async=!0,g=function(a){f.removeEventListener("load",g),f.removeEventListener("error",g),e.body.removeChild(f),f=null;var h=-1,i="unknown";a&&("load"!==a.type||d.wasCalled(b)||(a={type:"error"}),i=a.type,h="error"===a.type?404:200),c&&c(h,i)},f.addEventListener("load",g),f.addEventListener("error",g),e.body.appendChild(f),g}return function(e,h,i,j,k,l,m,n,o,p){function q(a){x="timeout"===a,v&&v(),w&&w.abort()}function r(a,b,d,e,f,g){u(C)&&c.cancel(C),v=w=null,a(b,d,e,f,g)}if(h=h||a.url(),"jsonp"===ve(e))var s=d.createCallback(h),v=g(h,s,function(a,b){var c=200===a&&d.getResponse(s);r(j,a,c,"",b,"complete"),d.removeCallback(s)});else{var w=b(e,h),x=!1;w.open(e,h,!0),f(k,function(a,b){u(a)&&w.setRequestHeader(b,a)}),w.onload=function(){var a=w.statusText||"",b="response"in w?w.response:w.responseText,c=1223===w.status?204:w.status;0===c&&(c=b?200:"file"===_c(h).protocol?404:0),r(j,c,b,w.getAllResponseHeaders(),a,"complete")};var y=function(){r(j,-1,null,null,"","error")},z=function(){r(j,-1,null,null,"",x?"timeout":"abort")},A=function(){r(j,-1,null,null,"","timeout")};if(w.onerror=y,w.ontimeout=A,w.onabort=z,f(o,function(a,b){w.addEventListener(b,a)}),f(p,function(a,b){w.upload.addEventListener(b,a)}),m&&(w.withCredentials=!0),n)try{w.responseType=n}catch(B){if("json"!==n)throw B}w.send(t(i)?null:i)}if(l>0)var C=c(function(){q("timeout")},l);else K(l)&&l.then(function(){q(u(l.$$timeoutId)?"timeout":"abort")})}}function Zb(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a},this.endSymbol=function(a){return a?(b=a,this):b},this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(a){return"\\\\\\"+a}function g(c){return c.replace(m,a).replace(n,b)}function h(a,b,c,d){var e=a.$watch(function(a){return e(),d(a)},b,c);return e}function i(f,i,m,n){function o(a){try{return a=m&&!p?e.getTrusted(m,a):e.valueOf(a),n&&!u(a)?a:wa(a)}catch(b){d(Rf.interr(f,b))}}var p=m===e.URL||m===e.MEDIA_URL;if(!f.length||-1===f.indexOf(a)){if(i)return;var q=g(f);p&&(q=e.getTrusted(m,q));var s=r(q);return s.exp=f,s.expressions=[],s.$$watchDelegate=h,s}n=!!n;for(var v,w,x,y,z,A=0,B=[],C=f.length,D=[],E=[];C>A;){if(-1===(v=f.indexOf(a,A))||-1===(w=f.indexOf(b,v+j))){A!==C&&D.push(g(f.substring(A)));break}A!==v&&D.push(g(f.substring(A,v))),y=f.substring(v+j,w),B.push(y),A=w+k,E.push(D.length),D.push("")}z=1===D.length&&1===E.length;var F=p&&z?void 0:o;if(x=B.map(function(a){return c(a,F)}),!i||B.length){var G=function(a){for(var b=0,c=B.length;c>b;b++){if(n&&t(a[b]))return;D[E[b]]=a[b]}return p?e.getTrusted(m,z?D[0]:D.join("")):(m&&D.length>1&&Rf.throwNoconcat(f),D.join(""))};return l(function(a){var b=0,c=B.length,e=new Array(c);try{for(;c>b;b++)e[b]=x[b](a);return G(e)}catch(g){d(Rf.interr(f,g))}},{exp:f,expressions:B,$$watchDelegate:function(a,b){var c;return a.$watchGroup(x,function(d,e){var f=G(d);b.call(this,f,d!==e?c:f,a),c=f})}})}}var j=a.length,k=b.length,m=new RegExp(a.replace(/./g,f),"g"),n=new RegExp(b.replace(/./g,f),"g");return i.startSymbol=function(){return a},i.endSymbol=function(){return b},i}]}function $b(){this.$get=["$$intervalFactory","$window",function(a,b){var c={},d=function(a,d,e){var f=b.setInterval(a,d);return c[f]=e,f},e=function(a){b.clearInterval(a),delete c[a]},f=a(d,e);return f.cancel=function(a){if(!a)return!1;if(!a.hasOwnProperty("$$intervalId"))throw Sf("badprom","`$interval.cancel()` called with a promise that was not generated by `$interval()`.");if(!c.hasOwnProperty(a.$$intervalId))return!1;var b=a.$$intervalId,d=c[b];return Mc(d.promise),d.reject("canceled"),e(b),!0},f}]}function _b(){this.$get=["$browser","$q","$$q","$rootScope",function(a,b,c,d){return function(e,f){return function(g,h,i,j){function k(){m?g.apply(null,n):g(o)}function l(){p?a.defer(k):d.$evalAsync(k),q.notify(o++),i>0&&o>=i&&(q.resolve(o),f(r.$$intervalId)),p||d.$apply()}var m=arguments.length>4,n=m?W(arguments,4):[],o=0,p=u(j)&&!j,q=(p?c:b).defer(),r=q.promise;return i=u(i)?i:0,r.$$intervalId=e(l,h,q,p),r}}}]}function ac(a){for(var b=a.split("/"),c=b.length;c--;)b[c]=ga(b[c].replace(/%2F/g,"/"));return b.join("/")}function bc(a,b){for(var c=a.split("/"),d=c.length;d--;)c[d]=decodeURIComponent(c[d]),b&&(c[d]=c[d].replace(/\//g,"%2F"));return c.join("/")}function cc(a,b,c){var d=fa(b),e=c?"#"+ga(c):"",f=ac(a);return f+(d?"?"+d:"")+e}function dc(a,b){var c=_c(a);b.$$protocol=c.protocol,b.$$host=c.hostname,b.$$port=n(c.port)||Vf[c.protocol]||null}function ec(a,b,c){if(Xf.test(a))throw Wf("badpath",'Invalid url "{0}".',a);var d="/"!==a.charAt(0);d&&(a="/"+a);var e=_c(a),f=d&&"/"===e.pathname.charAt(0)?e.pathname.substring(1):e.pathname;b.$$path=bc(f,c),b.$$search=ea(e.search),b.$$hash=decodeURIComponent(e.hash),b.$$path&&"/"!==b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function fc(a,b){return a.slice(0,b.length)===b}function gc(a,b){return fc(b,a)?b.substr(a.length):void 0}function hc(a){var b=a.indexOf("#");return-1===b?a:a.substr(0,b)}function ic(a){return a.substr(0,hc(a).lastIndexOf("/")+1)}function jc(a){return a.substring(0,a.indexOf("/",a.indexOf("//")+2))}function kc(a,b,c){this.$$html5=!0,c=c||"",dc(a,this),this.$$parse=function(a){var c=gc(b,a);if(!x(c))throw Wf("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',a,b);ec(c,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$normalizeUrl=function(a){return b+a.substr(1)},this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g,h;return u(f=gc(a,d))?(g=f,h=c&&u(f=gc(c,f))?b+(gc("/",f)||f):a+g):u(f=gc(b,d))?h=b+f:b===d+"/"&&(h=b),h&&this.$$parse(h),!!h}}function lc(a,b,c){dc(a,this),this.$$parse=function(d){function e(a,b,c){var d,e=/^\/[A-Z]:(\/.*)/;return fc(b,c)&&(b=b.replace(c,"")),e.exec(b)?a:(d=e.exec(a),d?d[1]:a)}var f,g=gc(a,d)||gc(b,d);t(g)||"#"!==g.charAt(0)?this.$$html5?f=g:(f="",t(g)&&(a=d,this.replace())):(f=gc(c,g),t(f)&&(f=g)),ec(f,this,!1),this.$$path=e(this.$$path,f,a),this.$$compose()},this.$$normalizeUrl=function(b){return a+(b?c+b:"")},this.$$parseLinkUrl=function(b,c){return hc(a)===hc(b)?(this.$$parse(b),!0):!1}}function mc(a,b,c){this.$$html5=!0,lc.apply(this,arguments),this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;return a===hc(d)?f=d:(g=gc(b,d))?f=a+c+g:b===d+"/"&&(f=b),f&&this.$$parse(f),!!f},this.$$normalizeUrl=function(b){return a+c+b}}function nc(a){return function(){return this[a]}}function oc(a,b){return function(c){return t(c)?this[a]:(this[a]=b(c),this.$$compose(),this)}}function pc(){var a="!",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return u(b)?(a=b,this):a},this.html5Mode=function(a){return J(a)?(b.enabled=a,this):v(a)?(J(a.enabled)&&(b.enabled=a.enabled),J(a.requireBase)&&(b.requireBase=a.requireBase),(J(a.rewriteLinks)||x(a.rewriteLinks))&&(b.rewriteLinks=a.rewriteLinks),this):b},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(c,d,e,f,g){function h(a,b){return a===b||_c(a).href===_c(b).href}function i(a,b,c){var e=k.url(),f=k.$$state;try{d.url(a,b,c),k.$$state=d.state()}catch(g){throw k.url(e),k.$$state=f,g}}function j(a,b){c.$broadcast("$locationChangeSuccess",k.absUrl(),a,k.$$state,b)}var k,l,m,n=d.baseHref(),o=d.url();if(b.enabled){if(!n&&b.requireBase)throw Wf("nobase","$location in HTML5 mode requires a <base> tag to be present!");m=jc(o)+(n||"/"),l=e.history?kc:mc}else m=hc(o),l=lc;var p=ic(m);k=new l(m,p,"#"+a),k.$$parseLinkUrl(o,o),k.$$state=d.state();var q=/^\s*(javascript|mailto):/i;f.on("click",function(a){var e=b.rewriteLinks;if(e&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&2!==a.which&&2!==a.button){for(var g=oe(a.target);"a"!==P(g[0]);)if(g[0]===f[0]||!(g=g.parent())[0])return;if(!x(e)||!t(g.attr(e))){var h=g.prop("href"),i=g.attr("href")||g.attr("xlink:href");v(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=_c(h.animVal).href),q.test(h)||!h||g.attr("target")||a.isDefaultPrevented()||k.$$parseLinkUrl(h,i)&&(a.preventDefault(),k.absUrl()!==d.url()&&c.$apply())}}}),k.absUrl()!==o&&d.url(k.absUrl(),!0);var r=!0;return d.onUrlChange(function(a,b){return fc(a,p)?(c.$evalAsync(function(){var d,e=k.absUrl(),f=k.$$state;k.$$parse(a),k.$$state=b,d=c.$broadcast("$locationChangeStart",a,e,b,f).defaultPrevented,k.absUrl()===a&&(d?(k.$$parse(e),k.$$state=f,i(e,!1,f)):(r=!1,j(e,f)))}),void(c.$$phase||c.$digest())):void(g.location.href=a)}),c.$watch(function(){if(r||k.$$urlUpdatedByLocation){k.$$urlUpdatedByLocation=!1;var a=d.url(),b=k.absUrl(),f=d.state(),g=k.$$replace,l=!h(a,b)||k.$$html5&&e.history&&f!==k.$$state;(r||l)&&(r=!1,c.$evalAsync(function(){var b=k.absUrl(),d=c.$broadcast("$locationChangeStart",b,a,k.$$state,f).defaultPrevented;k.absUrl()===b&&(d?(k.$$parse(a),k.$$state=f):(l&&i(b,g,f===k.$$state?null:k.$$state),j(a,f)))}))}k.$$replace=!1}),k}]}function qc(){var a=!0,b=this;this.debugEnabled=function(b){return u(b)?(a=b,this):a},this.$get=["$window",function(c){function d(a){return B(a)&&(a.stack&&g?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}function e(a){var b=c.console||{},e=b[a]||b.log||p;return function(){var a=[];return f(arguments,function(b){a.push(d(b))}),Function.prototype.apply.call(e,b,a)}}var g=ne||/\bEdge\//.test(c.navigator&&c.navigator.userAgent);return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function rc(a){return a+""}function sc(a,b){return"undefined"!=typeof a?a:b}function tc(a,b){return"undefined"==typeof a?b:"undefined"==typeof b?a:a+b}function uc(a,b){var c=a(b);return!c.$stateful}function vc(a,b){switch(a.type){case cg.MemberExpression:if(a.computed)return!1;break;case cg.UnaryExpression:return dg;case cg.BinaryExpression:return"+"!==a.operator?dg:!1;case cg.CallExpression:return!1}return void 0===b?eg:b}function wc(a,b,c){var d,e,g,h=a.isPure=vc(a,c);switch(a.type){case cg.Program:d=!0,f(a.body,function(a){wc(a.expression,b,h),d=d&&a.expression.constant}),a.constant=d;break;case cg.Literal:a.constant=!0,a.toWatch=[];break;case cg.UnaryExpression:wc(a.argument,b,h),a.constant=a.argument.constant,a.toWatch=a.argument.toWatch;break;case cg.BinaryExpression:wc(a.left,b,h),wc(a.right,b,h),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case cg.LogicalExpression:wc(a.left,b,h),wc(a.right,b,h),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.constant?[]:[a];break;case cg.ConditionalExpression:wc(a.test,b,h),wc(a.alternate,b,h),wc(a.consequent,b,h),a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant,a.toWatch=a.constant?[]:[a];break;case cg.Identifier:a.constant=!1,a.toWatch=[a];break;case cg.MemberExpression:wc(a.object,b,h),a.computed&&wc(a.property,b,h),a.constant=a.object.constant&&(!a.computed||a.property.constant),a.toWatch=a.constant?[]:[a];break;case cg.CallExpression:g=a.filter?uc(b,a.callee.name):!1,d=g,e=[],f(a.arguments,function(a){wc(a,b,h),d=d&&a.constant,e.push.apply(e,a.toWatch)}),a.constant=d,a.toWatch=g?e:[a];break;case cg.AssignmentExpression:wc(a.left,b,h),wc(a.right,b,h),a.constant=a.left.constant&&a.right.constant,a.toWatch=[a];break;case cg.ArrayExpression:d=!0,e=[],f(a.elements,function(a){wc(a,b,h),d=d&&a.constant,e.push.apply(e,a.toWatch)}),a.constant=d,a.toWatch=e;break;case cg.ObjectExpression:d=!0,e=[],f(a.properties,function(a){wc(a.value,b,h),d=d&&a.value.constant,e.push.apply(e,a.value.toWatch),a.computed&&(wc(a.key,b,!1),d=d&&a.key.constant,e.push.apply(e,a.key.toWatch))}),a.constant=d,a.toWatch=e;break;case cg.ThisExpression:a.constant=!1,a.toWatch=[];break;case cg.LocalsExpression:a.constant=!1,a.toWatch=[]}}function xc(a){if(1===a.length){var b=a[0].expression,c=b.toWatch;return 1!==c.length?c:c[0]!==b?c:void 0}}function yc(a){return a.type===cg.Identifier||a.type===cg.MemberExpression}function zc(a){return 1===a.body.length&&yc(a.body[0].expression)?{type:cg.AssignmentExpression,left:a.body[0].expression,right:{type:cg.NGValueParameter},operator:"="}:void 0}function Ac(a){return 0===a.body.length||1===a.body.length&&(a.body[0].expression.type===cg.Literal||a.body[0].expression.type===cg.ArrayExpression||a.body[0].expression.type===cg.ObjectExpression)}function Bc(a){return a.constant}function Cc(a){this.$filter=a}function Dc(a){this.$filter=a}function Ec(a,b,c){this.ast=new cg(a,c),this.astCompiler=c.csp?new Dc(b):new Cc(b)}function Fc(a){return C(a.valueOf)?a.valueOf():$f.call(a)}function Gc(){var a,b,c=va(),d={"true":!0,"false":!1,"null":null,undefined:void 0};this.addLiteral=function(a,b){d[a]=b},this.setIdentifierFns=function(c,d){return a=c,b=d,this},this.$get=["$filter",function(e){function g(a,b){var d,f;switch(typeof a){case"string":if(a=a.trim(),f=a,d=c[f],!d){var g=new bg(t),h=new Ec(g,e,t);d=h.parse(a),c[f]=n(d)}return r(d,b);case"function":return r(a,b);default:return r(p,b)}}function h(a){var b=new bg(t),c=new Ec(b,e,t);return c.getAst(a).ast}function i(a,b,c){return null==a||null==b?a===b:"object"!=typeof a||(a=Fc(a),"object"!=typeof a||c)?a===b||a!==a&&b!==b:!1}function j(a,b,c,d,e){var f,g=d.inputs;if(1===g.length){var h=i;return g=g[0],a.$watch(function(a){var b=g(a);return i(b,h,g.isPure)||(f=d(a,void 0,void 0,[b]),h=b&&Fc(b)),f},b,c,e)}for(var j=[],k=[],l=0,m=g.length;m>l;l++)j[l]=i,k[l]=null;return a.$watch(function(a){for(var b=!1,c=0,e=g.length;e>c;c++){var h=g[c](a);(b||(b=!i(h,j[c],g[c].isPure)))&&(k[c]=h,j[c]=h&&Fc(h))}return b&&(f=d(a,void 0,void 0,k)),f},b,c,e)}function k(a,b,c,d,e){function f(){j(i)&&h()}function g(a,b,c,d){return i=o&&d?d[0]:k(a,b,c,d),j(i)&&a.$$postDigest(f),m(i)}var h,i,j=d.literal?l:u,k=d.$$intercepted||d,m=d.$$interceptor||q,o=d.inputs&&!k.inputs;return g.literal=d.literal,g.constant=d.constant,g.inputs=d.inputs,n(g),h=a.$watch(g,b,c,e)}function l(a){var b=!0;return f(a,function(a){u(a)||(b=!1)}),b}function m(a,b,c,d){var e=a.$watch(function(a){return e(),d(a)},b,c);return e}function n(a){return a.constant?a.$$watchDelegate=m:a.oneTime?a.$$watchDelegate=k:a.inputs&&(a.$$watchDelegate=j),a}function o(a,b){function c(c){return b(a(c))}return c.$stateful=a.$stateful||b.$stateful,c.$$pure=a.$$pure&&b.$$pure,c}function r(a,b){if(!b)return a;a.$$interceptor&&(b=o(a.$$interceptor,b),a=a.$$intercepted);var c=!1,d=function(d,e,f,g){var h=c&&g?g[0]:a(d,e,f,g);return b(h)};return d.$$intercepted=a,d.$$interceptor=b,d.literal=a.literal,d.oneTime=a.oneTime,d.constant=a.constant,b.$stateful||(c=!a.inputs,d.inputs=a.inputs?a.inputs:[a],b.$$pure||(d.inputs=d.inputs.map(function(a){return a.isPure===eg?function(b){return a(b)}:a}))),n(d)}var s=Je().noUnsafeEval,t={csp:s,literals:S(d),isIdentifierStart:C(a)&&a,isIdentifierContinue:C(b)&&b};return g.$$getAst=h,g}]}function Hc(){var a=!0;this.$get=["$rootScope","$exceptionHandler",function(b,c){return Jc(function(a){b.$evalAsync(a)},c,a)}],this.errorOnUnhandledRejections=function(b){return u(b)?(a=b,this):a}}function Ic(){var a=!0;this.$get=["$browser","$exceptionHandler",function(b,c){return Jc(function(a){b.defer(a)},c,a)}],this.errorOnUnhandledRejections=function(b){return u(b)?(a=b,this):a}}function Jc(a,b,c){function e(){return new g}function g(){var a=this.promise=new h;
this.resolve=function(b){m(a,b)},this.reject=function(b){o(a,b)},this.notify=function(b){q(a,b)}}function h(){this.$$state={status:0}}function i(d){var e,f,g;g=d.pending,d.processScheduled=!1,d.pending=void 0;try{for(var h=0,i=g.length;i>h;++h){Lc(d),f=g[h][0],e=g[h][d.status];try{C(e)?m(f,e(d.value)):1===d.status?m(f,d.value):o(f,d.value)}catch(k){o(f,k),k&&k.$$passToExceptionHandler===!0&&b(k)}}}finally{--D,c&&0===D&&a(j)}}function j(){for(;!D&&E.length;){var a=E.shift();if(!Kc(a)){Lc(a);var c="Possibly unhandled rejection: "+Aa(a.value);B(a.value)?b(a.value,c):b(c)}}}function k(b){!c||b.pending||2!==b.status||Kc(b)||(0===D&&0===E.length&&a(j),E.push(b)),!b.processScheduled&&b.pending&&(b.processScheduled=!0,++D,a(function(){i(b)}))}function m(a,b){a.$$state.status||(b===a?p(a,z("qcycle","Expected promise to be resolved with value other than itself '{0}'",b)):n(a,b))}function n(a,b){function c(b){g||(g=!0,n(a,b))}function d(b){g||(g=!0,p(a,b))}function e(b){q(a,b)}var f,g=!1;try{(v(b)||C(b))&&(f=b.then),C(f)?(a.$$state.status=-1,f.call(b,c,d,e)):(a.$$state.value=b,a.$$state.status=1,k(a.$$state))}catch(h){d(h)}}function o(a,b){a.$$state.status||p(a,b)}function p(a,b){a.$$state.value=b,a.$$state.status=2,k(a.$$state)}function q(c,d){var e=c.$$state.pending;c.$$state.status<=0&&e&&e.length&&a(function(){for(var a,c,f=0,g=e.length;g>f;f++){c=e[f][0],a=e[f][3];try{q(c,C(a)?a(d):d)}catch(h){b(h)}}})}function r(a){var b=new h;return o(b,a),b}function s(a,b,c){var d=null;try{C(c)&&(d=c())}catch(e){return r(e)}return K(d)?d.then(function(){return b(a)},r):b(a)}function u(a,b,c,d){var e=new h;return m(e,a),e.then(b,c,d)}function w(a){var b=new h,c=0,d=A(a)?[]:{};return f(a,function(a,e){c++,u(a).then(function(a){d[e]=a,--c||m(b,d)},function(a){o(b,a)})}),0===c&&m(b,d),b}function x(a){var b=e();return f(a,function(a){u(a).then(b.resolve,b.reject)}),b.promise}function y(a){function b(a){m(d,a)}function c(a){o(d,a)}if(!C(a))throw z("norslvr","Expected resolverFn, got '{0}'",a);var d=new h;return a(b,c),d}var z=d("$q",TypeError),D=0,E=[];l(h.prototype,{then:function(a,b,c){if(t(a)&&t(b)&&t(c))return this;var d=new h;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([d,a,b,c]),this.$$state.status>0&&k(this.$$state),d},"catch":function(a){return this.then(null,a)},"finally":function(a,b){return this.then(function(b){return s(b,F,a)},function(b){return s(b,r,a)},b)}});var F=u;return y.prototype=h.prototype,y.defer=e,y.reject=r,y.when=u,y.resolve=F,y.all=w,y.race=x,y}function Kc(a){return!!a.pur}function Lc(a){a.pur=!0}function Mc(a){a.$$state&&Lc(a.$$state)}function Nc(){this.$get=["$window","$timeout",function(a,b){var c=a.requestAnimationFrame||a.webkitRequestAnimationFrame,d=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=c(a);return function(){d(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};return f.supported=e,f}]}function Oc(){function a(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=i(),this.$$ChildScope=null,this.$$suspended=!1}return b.prototype=a,b}var b=10,c=d("$rootScope"),g=null,h=null;this.digestTtl=function(a){return arguments.length&&(b=a),b},this.$get=["$exceptionHandler","$parse","$browser",function(d,j,k){function l(a){a.currentScope.$$destroyed=!0}function m(a){9===ne&&(a.$$childHead&&m(a.$$childHead),a.$$nextSibling&&m(a.$$nextSibling)),a.$parent=a.$$nextSibling=a.$$prevSibling=a.$$childHead=a.$$childTail=a.$root=a.$$watchers=null}function n(){this.$id=i(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$suspended=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function o(a){if(y.$$phase)throw c("inprog","{0} already in progress",y.$$phase);y.$$phase=a}function q(){y.$$phase=null}function r(a,b){do a.$$watchersCount+=b;while(a=a.$parent)}function s(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function u(){}function w(){for(;B.length;)try{B.shift()()}catch(a){d(a)}h=null}function x(){null===h&&(h=k.defer(function(){y.$apply(w)},null,"$applyAsync"))}n.prototype={constructor:n,$new:function(b,c){var d;return c=c||this,b?(d=new n,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=a(this)),d=new this.$$ChildScope),d.$parent=c,d.$$prevSibling=c.$$childTail,c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d,(b||c!==this)&&d.$on("$destroy",l),d},$watch:function(a,b,c,d){var e=j(a),f=C(b)?b:p;if(e.$$watchDelegate)return e.$$watchDelegate(this,f,c,e,a);var h=this,i=h.$$watchers,k={fn:f,last:u,get:e,exp:d||a,eq:!!c};return g=null,i||(i=h.$$watchers=[],i.$$digestWatchIndex=-1),i.unshift(k),i.$$digestWatchIndex++,r(this,1),function(){var a=R(i,k);a>=0&&(r(h,-1),a<i.$$digestWatchIndex&&i.$$digestWatchIndex--),g=null}},$watchGroup:function(a,b){function c(){i=!1;try{j?(j=!1,b(e,e,h)):b(e,d,h)}finally{for(var c=0;c<a.length;c++)d[c]=e[c]}}var d=new Array(a.length),e=new Array(a.length),g=[],h=this,i=!1,j=!0;if(!a.length){var k=!0;return h.$evalAsync(function(){k&&b(e,e,h)}),function(){k=!1}}return 1===a.length?this.$watch(a[0],function(a,c,f){e[0]=a,d[0]=c,b(e,a===c?e:d,f)}):(f(a,function(a,b){var d=h.$watch(a,function(a){e[b]=a,i||(i=!0,h.$evalAsync(c))});g.push(d)}),function(){for(;g.length;)g.shift()()})},$watchCollection:function(a,b){function c(a){f=a;var b,c,d,h,i;if(!t(f)){if(v(f))if(e(f)){g!==n&&(g=n,q=g.length=0,l++),b=f.length,q!==b&&(l++,g.length=q=b);for(var j=0;b>j;j++)i=g[j],h=f[j],d=i!==i&&h!==h,d||i===h||(l++,g[j]=h)}else{g!==o&&(g=o={},q=0,l++),b=0;for(c in f)ue.call(f,c)&&(b++,h=f[c],i=g[c],c in g?(d=i!==i&&h!==h,d||i===h||(l++,g[c]=h)):(q++,g[c]=h,l++));if(q>b){l++;for(c in g)ue.call(f,c)||(q--,delete g[c])}}else g!==f&&(g=f,l++);return l}}function d(){if(p?(p=!1,b(f,f,i)):b(f,h,i),k)if(v(f))if(e(f)){h=new Array(f.length);for(var a=0;a<f.length;a++)h[a]=f[a]}else{h={};for(var c in f)ue.call(f,c)&&(h[c]=f[c])}else h=f}c.$$pure=j(a).literal,c.$stateful=!c.$$pure;var f,g,h,i=this,k=b.length>1,l=0,m=j(a,c),n=[],o={},p=!0,q=0;return this.$watch(m,d)},$digest:function(){var a,e,f,i,j,l,m,n,p,r,s,t=b,v=z.length?y:this,x=[];o("$digest"),k.$$checkUrlChange(),this===y&&null!==h&&(k.defer.cancel(h),w()),g=null;do{m=!1,p=v;for(var B=0;B<z.length;B++){try{s=z[B],i=s.fn,i(s.scope,s.locals)}catch(E){d(E)}g=null}z.length=0;a:do{if(l=!p.$$suspended&&p.$$watchers)for(l.$$digestWatchIndex=l.length;l.$$digestWatchIndex--;)try{if(a=l[l.$$digestWatchIndex])if(j=a.get,(e=j(p))===(f=a.last)||(a.eq?U(e,f):Fe(e)&&Fe(f))){if(a===g){m=!1;break a}}else m=!0,g=a,a.last=a.eq?S(e,null):e,i=a.fn,i(e,f===u?e:f,p),5>t&&(r=4-t,x[r]||(x[r]=[]),x[r].push({msg:C(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,newVal:e,oldVal:f}))}catch(E){d(E)}if(!(n=!p.$$suspended&&p.$$watchersCount&&p.$$childHead||p!==v&&p.$$nextSibling))for(;p!==v&&!(n=p.$$nextSibling);)p=p.$parent}while(p=n);if((m||z.length)&&!t--)throw q(),c("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",b,x)}while(m||z.length);for(q();D<A.length;)try{A[D++]()}catch(E){d(E)}A.length=D=0,k.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===y&&k.$$applicationDestroyed(),r(this,-this.$$watchersCount);for(var b in this.$$listenerCount)s(this,this.$$listenerCount[b],b);a&&a.$$childHead===this&&(a.$$childHead=this.$$nextSibling),a&&a.$$childTail===this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=p,this.$on=this.$watch=this.$watchGroup=function(){return p},this.$$listeners={},this.$$nextSibling=null,m(this)}},$eval:function(a,b){return j(a)(this,b)},$evalAsync:function(a,b){y.$$phase||z.length||k.defer(function(){z.length&&y.$digest()},null,"$evalAsync"),z.push({scope:this,fn:j(a),locals:b})},$$postDigest:function(a){A.push(a)},$apply:function(a){try{o("$apply");try{return this.$eval(a)}finally{q()}}catch(b){d(b)}finally{try{y.$digest()}catch(b){throw d(b),b}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&B.push(b),a=j(a),x()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]),c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(delete c[d],s(e,1,a))}},$emit:function(a,b){var c,e,f,g=[],h=this,i=!1,j={name:a,targetScope:h,stopPropagation:function(){i=!0},preventDefault:function(){j.defaultPrevented=!0},defaultPrevented:!1},k=V([j],arguments,1);do{for(c=h.$$listeners[a]||g,j.currentScope=h,e=0,f=c.length;f>e;e++)if(c[e])try{c[e].apply(null,k)}catch(l){d(l)}else c.splice(e,1),e--,f--;if(i)break;h=h.$parent}while(h);return j.currentScope=null,j},$broadcast:function(a,b){var c=this,e=c,f=c,g={name:a,targetScope:c,preventDefault:function(){g.defaultPrevented=!0},defaultPrevented:!1};if(!c.$$listenerCount[a])return g;for(var h,i,j,k=V([g],arguments,1);e=f;){for(g.currentScope=e,h=e.$$listeners[a]||[],i=0,j=h.length;j>i;i++)if(h[i])try{h[i].apply(null,k)}catch(l){d(l)}else h.splice(i,1),i--,j--;if(!(f=e.$$listenerCount[a]&&e.$$childHead||e!==c&&e.$$nextSibling))for(;e!==c&&!(f=e.$$nextSibling);)e=e.$parent}return g.currentScope=null,g}};var y=new n,z=y.$$asyncQueue=[],A=y.$$postDigestQueue=[],B=y.$$applyAsyncQueue=[],D=0;return y}]}function Pc(){var a=/^\s*(https?|s?ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return u(b)?(a=b,this):a},this.imgSrcSanitizationWhitelist=function(a){return u(a)?(b=a,this):b},this.$get=function(){return function(c,d){var e=d?b:a,f=_c(c&&c.trim()).href;return""===f||f.match(e)?c:"unsafe:"+f}}}function Qc(a){return a.replace(ig,Ea)}function Rc(a){if("self"===a)return a;if(x(a)){if(a.indexOf("***")>-1)throw gg("iwcard","Illegal sequence *** in string matcher.  String: {0}",a);return a=Ie(a).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+a+"$")}if(D(a))return new RegExp("^"+a.source+"$");throw gg("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Sc(a){var b=[];return u(a)&&f(a,function(a){b.push(Rc(a))}),b}function Tc(){this.SCE_CONTEXTS=hg;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){return arguments.length&&(a=Sc(b)),a},this.resourceUrlBlacklist=function(a){return arguments.length&&(b=Sc(a)),b},this.$get=["$injector","$$sanitizeUri",function(c,d){function e(a,b){return"self"===a?ad(b)||bd(b):!!a.exec(b.href)}function f(c){var d,f,g=_c(c.toString()),h=!1;for(d=0,f=a.length;f>d;d++)if(e(a[d],g)){h=!0;break}if(h)for(d=0,f=b.length;f>d;d++)if(e(b[d],g)){h=!1;break}return h}function g(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}function h(a,b){var c=m.hasOwnProperty(a)?m[a]:null;if(!c)throw gg("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",a,b);if(null===b||t(b)||""===b)return b;if("string"!=typeof b)throw gg("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",a);return new c(b)}function i(a){return a instanceof l?a.$$unwrapTrustedValue():a}function j(a,b){if(null===b||t(b)||""===b)return b;var c=m.hasOwnProperty(a)?m[a]:null;if(c&&b instanceof c)return b.$$unwrapTrustedValue();if(C(b.$$unwrapTrustedValue)&&(b=b.$$unwrapTrustedValue()),a===hg.MEDIA_URL||a===hg.URL)return d(b.toString(),a===hg.MEDIA_URL);if(a===hg.RESOURCE_URL){if(f(b))return b;throw gg("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",b.toString())}if(a===hg.HTML)return k(b);throw gg("unsafe","Attempting to use an unsafe value in a safe context.")}var k=function(a){throw gg("unsafe","Attempting to use an unsafe value in a safe context.")};c.has("$sanitize")&&(k=c.get("$sanitize"));var l=g(),m={};return m[hg.HTML]=g(l),m[hg.CSS]=g(l),m[hg.MEDIA_URL]=g(l),m[hg.URL]=g(m[hg.MEDIA_URL]),m[hg.JS]=g(l),m[hg.RESOURCE_URL]=g(m[hg.URL]),{trustAs:h,getTrusted:j,valueOf:i}}]}function Uc(){var a=!0;this.enabled=function(b){return arguments.length&&(a=!!b),a},this.$get=["$parse","$sceDelegate",function(b,c){if(a&&8>ne)throw gg("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var d=ya(hg);d.isEnabled=function(){return a},d.trustAs=c.trustAs,d.getTrusted=c.getTrusted,d.valueOf=c.valueOf,a||(d.trustAs=d.getTrusted=function(a,b){return b},d.valueOf=q),d.parseAs=function(a,c){var e=b(c);return e.literal&&e.constant?e:b(c,function(b){return d.getTrusted(a,b)})};var e=d.parseAs,g=d.getTrusted,h=d.trustAs;return f(hg,function(a,b){var c=ve(b);d[Qc("parse_as_"+c)]=function(b){return e(a,b)},d[Qc("get_trusted_"+c)]=function(b){return g(a,b)},d[Qc("trust_as_"+c)]=function(b){return h(a,b)}}),d}]}function Vc(){this.$get=["$window","$document",function(a,b){var c={},d=a.nw&&a.nw.process,e=!d&&a.chrome&&(a.chrome.app&&a.chrome.app.runtime||!a.chrome.app&&a.chrome.runtime&&a.chrome.runtime.id),f=!e&&a.history&&a.history.pushState,g=n((/android (\d+)/.exec(ve((a.navigator||{}).userAgent))||[])[1]),h=/Boxee/i.test((a.navigator||{}).userAgent),i=b[0]||{},j=i.body&&i.body.style,k=!1,l=!1;return j&&(k=!!("transition"in j||"webkitTransition"in j),l=!!("animation"in j||"webkitAnimation"in j)),{history:!(!f||4>g||h),hasEvent:function(a){if("input"===a&&ne)return!1;if(t(c[a])){var b=i.createElement("div");c[a]="on"+a in b}return c[a]},csp:Je(),transitions:k,animations:l,android:g}}]}function Wc(){this.$get=r(function(a){return new Xc(a)})}function Xc(a){function b(b,f){f=f||l;try{b()}finally{c(f);var g=i[f],h=i[k];if(!h||!g)for(var j,m=h?e:d;j=m(f);)try{j()}catch(n){a.error(n)}}}function c(a){a=a||l,i[a]&&(i[a]--,i[k]--)}function d(){var a=j.pop();return a&&a.cb}function e(a){for(var b=j.length-1;b>=0;--b){var c=j[b];if(c.type===a)return j.splice(b,1),c.cb}}function f(a){a=a||l,i[a]=(i[a]||0)+1,i[k]=(i[k]||0)+1}function g(a,b){b=b||k,i[b]?j.push({type:b,cb:a}):a()}var h=this,i={},j=[],k=h.ALL_TASKS_TYPE="$$all$$",l=h.DEFAULT_TASK_TYPE="$$default$$";h.completeTask=b,h.incTaskCount=f,h.notifyWhenNoPendingTasks=g}function Yc(){var a;this.httpOptions=function(b){return b?(a=b,this):a},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(b,c,d,e,f){function g(h,i){function j(a){return i||(a=jg("tpload","Failed to load template: {0} (HTTP status: {1} {2})",h,a.status,a.statusText),b(a)),e.reject(a)}g.totalPendingRequests++,(!x(h)||t(c.get(h)))&&(h=f.getTrustedResourceUrl(h));var k=d.defaults&&d.defaults.transformResponse;return A(k)?k=k.filter(function(a){return a!==Pb}):k===Pb&&(k=null),d.get(h,l({cache:c,transformResponse:k},a))["finally"](function(){g.totalPendingRequests--}).then(function(a){return c.put(h,a.data)},j)}return g.totalPendingRequests=0,g}]}function Zc(){this.$get=["$rootScope","$browser","$location",function(a,b,c){var d={};return d.findBindings=function(a,b,c){var d=a.getElementsByClassName("ng-binding"),e=[];return f(d,function(a){var d=De.element(a).data("$binding");d&&f(d,function(d){if(c){var f=new RegExp("(^|\\s)"+Ie(b)+"(\\s|\\||$)");f.test(d)&&e.push(a)}else-1!==d.indexOf(b)&&e.push(a)})}),e},d.findModels=function(a,b,c){for(var d=["ng-","data-ng-","ng\\:"],e=0;e<d.length;++e){var f=c?"=":"*=",g="["+d[e]+"model"+f+'"'+b+'"]',h=a.querySelectorAll(g);if(h.length)return h}},d.getLocation=function(){return c.url()},d.setLocation=function(b){b!==c.url()&&(c.url(b),a.$digest())},d.whenStable=function(a){b.notifyWhenNoOutstandingRequests(a)},d}]}function $c(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,c,d,e){function f(f,h,i){C(f)||(i=h,h=f,f=p);var j,k=W(arguments,3),l=u(i)&&!i,m=(l?d:c).defer(),n=m.promise;return j=b.defer(function(){try{m.resolve(f.apply(null,k))}catch(b){m.reject(b),e(b)}finally{delete g[n.$$timeoutId]}l||a.$apply()},h,"$timeout"),n.$$timeoutId=j,g[j]=m,n}var g={};return f.cancel=function(a){if(!a)return!1;if(!a.hasOwnProperty("$$timeoutId"))throw kg("badprom","`$timeout.cancel()` called with a promise that was not generated by `$timeout()`.");if(!g.hasOwnProperty(a.$$timeoutId))return!1;var c=a.$$timeoutId,d=g[c];return Mc(d.promise),d.reject("canceled"),delete g[c],b.defer.cancel(c)},f}]}function _c(a){if(!x(a))return a;var b=a;ne&&(lg.setAttribute("href",b),b=lg.href),lg.setAttribute("href",b);var c=lg.hostname;return!ng&&c.indexOf(":")>-1&&(c="["+c+"]"),{href:lg.href,protocol:lg.protocol?lg.protocol.replace(/:$/,""):"",host:lg.host,search:lg.search?lg.search.replace(/^\?/,""):"",hash:lg.hash?lg.hash.replace(/^#/,""):"",hostname:c,port:lg.port,pathname:"/"===lg.pathname.charAt(0)?lg.pathname:"/"+lg.pathname}}function ad(a){return dd(a,mg)}function bd(a){return dd(a,ed())}function cd(a){var b=[mg].concat(a.map(_c));return function(a){var c=_c(a);return b.some(dd.bind(null,c))}}function dd(a,b){return a=_c(a),b=_c(b),a.protocol===b.protocol&&a.host===b.host}function ed(){return a.document.baseURI?a.document.baseURI:(fg||(fg=a.document.createElement("a"),fg.href=".",fg=fg.cloneNode(!1)),fg.href)}function fd(){this.$get=r(a)}function gd(a){function b(a){try{return a.cookie||""}catch(b){return""}}function c(a){try{return decodeURIComponent(a)}catch(b){return a}}var d=a[0]||{},e={},f="";return function(){var a,g,h,i,j,k=b(d);if(k!==f)for(f=k,a=f.split("; "),e={},h=0;h<a.length;h++)g=a[h],i=g.indexOf("="),i>0&&(j=c(g.substring(0,i)),t(e[j])&&(e[j]=c(g.substring(i+1))));return e}}function hd(){this.$get=gd}function id(a){function b(d,e){if(v(d)){var g={};return f(d,function(a,c){g[c]=b(c,a)}),g}return a.factory(d+c,e)}var c="Filter";this.register=b,this.$get=["$injector",function(a){return function(b){return a.get(b+c)}}],b("currency",nd),b("date",Cd),b("filter",jd),b("json",Dd),b("limitTo",Ed),b("lowercase",ug),b("number",od),b("orderBy",Gd),b("uppercase",vg)}function jd(){return function(a,b,c,f){if(!e(a)){if(null==a)return a;throw d("filter")("notarray","Expected array but received: {0}",a)}f=f||"$";var g,h,i=md(b);switch(i){case"function":g=b;break;case"boolean":case"null":case"number":case"string":h=!0;case"object":g=kd(b,c,f,h);break;default:return a}return Array.prototype.filter.call(a,g)}}function kd(a,b,c,d){var e,f=v(a)&&c in a;return b===!0?b=U:C(b)||(b=function(a,b){return t(a)?!1:null===a||null===b?a===b:v(b)||v(a)&&!s(a)?!1:(a=ve(""+a),b=ve(""+b),-1!==a.indexOf(b))}),e=function(e){return f&&!v(e)?ld(e,a[c],b,c,!1):ld(e,a,b,c,d)}}function ld(a,b,c,d,e,f){var g=md(a),h=md(b);if("string"===h&&"!"===b.charAt(0))return!ld(a,b.substring(1),c,d,e);if(A(a))return a.some(function(a){return ld(a,b,c,d,e)});switch(g){case"object":var i;if(e){for(i in a)if(i.charAt&&"$"!==i.charAt(0)&&ld(a[i],b,c,d,!0))return!0;return f?!1:ld(a,b,c,d,!1)}if("object"===h){for(i in b){var j=b[i];if(!C(j)&&!t(j)){var k=i===d,l=k?a:a[i];if(!ld(l,j,c,d,k,k))return!1}}return!0}return c(a,b);case"function":return!1;default:return c(a,b)}}function md(a){return null===a?"null":typeof a}function nd(a){var b=a.NUMBER_FORMATS;return function(a,c,d){t(c)&&(c=b.CURRENCY_SYM),t(d)&&(d=b.PATTERNS[1].maxFrac);var e=c?/\u00A4/g:/\s*\u00A4\s*/g;return null==a?a:rd(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,d).replace(e,c)}}function od(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:rd(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function pd(a){var b,c,d,e,f,g=0;for((c=a.indexOf(pg))>-1&&(a=a.replace(pg,"")),(d=a.search(/e/i))>0?(0>c&&(c=d),c+=+a.slice(d+1),a=a.substring(0,d)):0>c&&(c=a.length),d=0;a.charAt(d)===qg;d++);if(d===(f=a.length))b=[0],c=1;else{for(f--;a.charAt(f)===qg;)f--;for(c-=d,b=[],e=0;f>=d;d++,e++)b[e]=+a.charAt(d)}return c>og&&(b=b.splice(0,og-1),g=c-1,c=1),{d:b,e:g,i:c}}function qd(a,b,c,d){var e=a.d,f=e.length-a.i;b=t(b)?Math.min(Math.max(c,f),d):+b;var g=b+a.i,h=e[g];if(g>0){e.splice(Math.max(a.i,g));for(var i=g;i<e.length;i++)e[i]=0}else{f=Math.max(0,f),a.i=1,e.length=Math.max(1,g=b+1),e[0]=0;for(var j=1;g>j;j++)e[j]=0}if(h>=5)if(0>g-1){for(var k=0;k>g;k--)e.unshift(0),a.i++;e.unshift(1),a.i++}else e[g-1]++;for(;f<Math.max(0,b);f++)e.push(0);var l=e.reduceRight(function(a,b,c,d){return b+=a,d[c]=b%10,Math.floor(b/10)},0);l&&(e.unshift(l),a.i++)}function rd(a,b,c,d,e){if(!x(a)&&!y(a)||isNaN(a))return"";var f,g=!isFinite(a),h=!1,i=Math.abs(a)+"",j="";if(g)j="";else{f=pd(i),qd(f,e,b.minFrac,b.maxFrac);var k=f.d,l=f.i,m=f.e,n=[];for(h=k.reduce(function(a,b){return a&&!b},!0);0>l;)k.unshift(0),l++;l>0?n=k.splice(l,k.length):(n=k,k=[0]);var o=[];for(k.length>=b.lgSize&&o.unshift(k.splice(-b.lgSize,k.length).join(""));k.length>b.gSize;)o.unshift(k.splice(-b.gSize,k.length).join(""));k.length&&o.unshift(k.join("")),j=o.join(c),n.length&&(j+=d+n.join("")),m&&(j+="e+"+m)}return 0>a&&!h?b.negPre+j+b.negSuf:b.posPre+j+b.posSuf}function sd(a,b,c,d){var e="";for((0>a||d&&0>=a)&&(d?a=-a+1:(a=-a,e="-")),a=""+a;a.length<b;)a=qg+a;return c&&(a=a.substr(a.length-b)),e+a}function td(a,b,c,d,e){return c=c||0,function(f){var g=f["get"+a]();return(c>0||g>-c)&&(g+=c),0===g&&-12===c&&(g=12),sd(g,b,d,e)}}function ud(a,b,c){return function(d,e){var f=d["get"+a](),g=(c?"STANDALONE":"")+(b?"SHORT":""),h=we(g+a);return e[h][f]}}function vd(a,b,c){var d=-1*c,e=d>=0?"+":"";return e+=sd(Math[d>0?"floor":"ceil"](d/60),2)+sd(Math.abs(d%60),2)}function wd(a){var b=new Date(a,0,1).getDay();return new Date(a,0,(4>=b?5:12)-b)}function xd(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate()+(4-a.getDay()))}function yd(a){return function(b){var c=wd(b.getFullYear()),d=xd(b),e=+d-+c,f=1+Math.round(e/6048e5);return sd(f,a)}}function zd(a,b){return a.getHours()<12?b.AMPMS[0]:b.AMPMS[1]}function Ad(a,b){return a.getFullYear()<=0?b.ERAS[0]:b.ERAS[1]}function Bd(a,b){return a.getFullYear()<=0?b.ERANAMES[0]:b.ERANAMES[1]}function Cd(a){function b(a){var b;if(b=a.match(c)){var d=new Date(0),e=0,f=0,g=b[8]?d.setUTCFullYear:d.setFullYear,h=b[8]?d.setUTCHours:d.setHours;b[9]&&(e=n(b[9]+b[10]),f=n(b[9]+b[11])),g.call(d,n(b[1]),n(b[2])-1,n(b[3]));var i=n(b[4]||0)-e,j=n(b[5]||0)-f,k=n(b[6]||0),l=Math.round(1e3*parseFloat("0."+(b[7]||0)));return h.call(d,i,j,k,l),d}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d,e){var g,h,i="",j=[];if(d=d||"mediumDate",d=a.DATETIME_FORMATS[d]||d,x(c)&&(c=tg.test(c)?n(c):b(c)),y(c)&&(c=new Date(c)),!z(c)||!isFinite(c.getTime()))return c;for(;d;)h=sg.exec(d),h?(j=V(j,h,1),d=j.pop()):(j.push(d),d=null);var k=c.getTimezoneOffset();return e&&(k=_(e,k),c=ba(c,e,!0)),f(j,function(b){g=rg[b],i+=g?g(c,a.DATETIME_FORMATS,k):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),i}}function Dd(){return function(a,b){return t(b)&&(b=2),Z(a,b)}}function Ed(){return function(a,b,c){return b=Math.abs(Number(b))===1/0?Number(b):n(b),Fe(b)?a:(y(a)&&(a=a.toString()),e(a)?(c=!c||isNaN(c)?0:n(c),c=0>c?Math.max(0,a.length+c):c,b>=0?Fd(a,c,c+b):0===c?Fd(a,b,a.length):Fd(a,Math.max(0,c+b),c)):a)}}function Fd(a,b,c){return x(a)?a.slice(b,c):xe.call(a,b,c)}function Gd(a){function b(b){return b.map(function(b){var c=1,d=q;if(C(b))d=b;else if(x(b)&&(("+"===b.charAt(0)||"-"===b.charAt(0))&&(c="-"===b.charAt(0)?-1:1,b=b.substring(1)),""!==b&&(d=a(b),d.constant))){var e=d();d=function(a){return a[e]}}return{get:d,descending:c}})}function c(a){switch(typeof a){case"number":case"boolean":case"string":return!0;default:return!1}}function f(a){return C(a.valueOf)&&(a=a.valueOf(),c(a))?a:s(a)&&(a=a.toString(),c(a))?a:a}function g(a,b){var c=typeof a;return null===a?c="null":"object"===c&&(a=f(a)),{value:a,type:c,index:b}}function h(a,b){var c=0,d=a.type,e=b.type;if(d===e){var f=a.value,g=b.value;"string"===d?(f=f.toLowerCase(),g=g.toLowerCase()):"object"===d&&(v(f)&&(f=a.index),v(g)&&(g=b.index)),f!==g&&(c=g>f?-1:1)}else c="undefined"===d?1:"undefined"===e?-1:"null"===d?1:"null"===e?-1:e>d?-1:1;return c}return function(a,c,f,i){function j(a,b){return{value:a,tieBreaker:{value:b,type:"number",index:b},predicateValues:l.map(function(c){return g(c.get(a),b)})}}function k(a,b){for(var c=0,d=l.length;d>c;c++){var e=n(a.predicateValues[c],b.predicateValues[c]);if(e)return e*l[c].descending*m}return(n(a.tieBreaker,b.tieBreaker)||h(a.tieBreaker,b.tieBreaker))*m}if(null==a)return a;if(!e(a))throw d("orderBy")("notarray","Expected array but received: {0}",a);A(c)||(c=[c]),0===c.length&&(c=["+"]);var l=b(c),m=f?-1:1,n=C(i)?i:h,o=Array.prototype.map.call(a,j);return o.sort(k),a=o.map(function(a){return a.value})}}function Hd(a){return C(a)&&(a={link:a}),a.restrict=a.restrict||"AC",r(a)}function Id(a,b){a.$name=b}function Jd(a,b,c,d,e){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=e(b.name||b.ngForm||"")(c),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=yg,this.$$element=a,this.$$animate=d,Kd(this)}function Kd(a){a.$$classCache={},a.$$classCache[jh]=!(a.$$classCache[ih]=a.$$element.hasClass(ih))}function Ld(a){function b(a,b,c,d){a[b]||(a[b]={}),g(a[b],c,d)}function c(a,b,c,d){a[b]&&h(a[b],c,d),Md(a[b])&&(a[b]=void 0)}function d(a,b,c){c&&!a.$$classCache[b]?(a.$$animate.addClass(a.$$element,b),a.$$classCache[b]=!0):!c&&a.$$classCache[b]&&(a.$$animate.removeClass(a.$$element,b),a.$$classCache[b]=!1)}function e(a,b,c){b=b?"-"+oa(b,"-"):"",d(a,ih+b,c===!0),d(a,jh+b,c===!1)}var f=a.clazz,g=a.set,h=a.unset;f.prototype.$setValidity=function(a,f,i){t(f)?b(this,"$pending",a,i):c(this,"$pending",a,i),J(f)?f?(h(this.$error,a,i),g(this.$$success,a,i)):(g(this.$error,a,i),h(this.$$success,a,i)):(h(this.$error,a,i),h(this.$$success,a,i)),this.$pending?(d(this,zg,!0),this.$valid=this.$invalid=void 0,e(this,"",null)):(d(this,zg,!1),this.$valid=Md(this.$error),this.$invalid=!this.$valid,e(this,"",this.$valid));var j;j=this.$pending&&this.$pending[a]?void 0:this.$error[a]?!1:this.$$success[a]?!0:null,e(this,a,j),this.$$parentForm.$setValidity(a,j,this)}}function Md(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function Nd(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function Od(a,b,c,d,e,f){Pd(a,b,c,d,e,f),Nd(d)}function Pd(a,b,c,d,e,f){var g=ve(b[0].type);if(!e.android){var h=!1;b.on("compositionstart",function(){h=!0}),b.on("compositionupdate",function(a){(t(a.data)||""===a.data)&&(h=!1)}),b.on("compositionend",function(){h=!1,j()})}var i,j=function(a){if(i&&(f.defer.cancel(i),i=null),!h){var e=b.val(),j=a&&a.type;"password"===g||c.ngTrim&&"false"===c.ngTrim||(e=He(e)),(d.$viewValue!==e||""===e&&d.$$hasNativeValidators)&&d.$setViewValue(e,j)}};if(e.hasEvent("input"))b.on("input",j);else{var k=function(a,b,c){i||(i=f.defer(function(){i=null,b&&b.value===c||j(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||b>15&&19>b||b>=37&&40>=b||k(a,this,this.value)}),e.hasEvent("paste")&&b.on("paste cut drop",k)}b.on("change",j),Og[g]&&d.$$hasNativeValidators&&g===c.type&&b.on(Ng,function(a){if(!i){var b=this[te],c=b.badInput,d=b.typeMismatch;i=f.defer(function(){i=null,(b.badInput!==c||b.typeMismatch!==d)&&j(a)})}}),d.$render=function(){var a=d.$isEmpty(d.$viewValue)?"":d.$viewValue;b.val()!==a&&b.val(a)}}function Qd(a,b){if(z(a))return a;if(x(a)){Kg.lastIndex=0;var c=Kg.exec(a);if(c){var d=+c[1],e=+c[2],f=0,g=0,h=0,i=0,j=wd(d),k=7*(e-1);return b&&(f=b.getHours(),g=b.getMinutes(),h=b.getSeconds(),i=b.getMilliseconds()),new Date(d,0,j.getDate()+k,f,g,h,i)}}return NaN}function Rd(a,b){return function(c,d){var e,g;if(z(c))return c;if(x(c)){if('"'===c.charAt(0)&&'"'===c.charAt(c.length-1)&&(c=c.substring(1,c.length-1)),Eg.test(c))return new Date(c);if(a.lastIndex=0,e=a.exec(c)){e.shift(),g=d?{yyyy:d.getFullYear(),MM:d.getMonth()+1,dd:d.getDate(),HH:d.getHours(),mm:d.getMinutes(),ss:d.getSeconds(),sss:d.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},f(e,function(a,c){c<b.length&&(g[b[c]]=+a)});var h=new Date(g.yyyy,g.MM-1,g.dd,g.HH,g.mm,g.ss||0,1e3*g.sss||0);return g.yyyy<100&&h.setFullYear(g.yyyy),h}}return NaN}}function Sd(a,b,c,d){return function(e,f,g,h,i,j,k,l){function m(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function n(a){return u(a)&&!z(a)?o(a)||void 0:a}function o(a,b){var d=h.$options.getOption("timezone");r&&r!==d&&(b=aa(b,_(r)));var e=c(a,b);return!isNaN(e)&&d&&(e=ba(e,d)),e}function p(a,b){var c=d;s&&x(h.$options.getOption("timeSecondsFormat"))&&(c=d.replace("ss.sss",h.$options.getOption("timeSecondsFormat")).replace(/:$/,""));var e=k("date")(a,c,b);return s&&h.$options.getOption("timeStripZeroSeconds")&&(e=e.replace(/(?::00)?(?:\.000)?$/,"")),e}Td(e,f,g,h,a),Pd(e,f,g,h,i,j);var q,r,s="time"===a||"datetimelocal"===a;if(h.$parsers.push(function(c){return h.$isEmpty(c)?null:b.test(c)?o(c,q):void(h.$$parserName=a)}),h.$formatters.push(function(a){if(a&&!z(a))throw qh("datefmt","Expected `{0}` to be a date",a);if(m(a)){q=a;var b=h.$options.getOption("timezone");return b&&(r=b,q=ba(q,b,!0)),p(a,b)}return q=null,r=null,""}),u(g.min)||g.ngMin){var v=g.min||l(g.ngMin)(e),w=n(v);h.$validators.min=function(a){return!m(a)||t(w)||c(a)>=w},g.$observe("min",function(a){a!==v&&(w=n(a),v=a,h.$validate())})}if(u(g.max)||g.ngMax){var y=g.max||l(g.ngMax)(e),A=n(y);h.$validators.max=function(a){return!m(a)||t(A)||c(a)<=A},g.$observe("max",function(a){a!==y&&(A=n(a),y=a,h.$validate())})}}}function Td(a,b,c,d,e){var f=b[0],g=d.$$hasNativeValidators=v(f.validity);g&&d.$parsers.push(function(a){var c=b.prop(te)||{};return c.badInput||c.typeMismatch?void(d.$$parserName=e):a})}function Ud(a){a.$parsers.push(function(b){return a.$isEmpty(b)?null:Hg.test(b)?parseFloat(b):void(a.$$parserName="number")}),a.$formatters.push(function(b){if(!a.$isEmpty(b)){if(!y(b))throw qh("numfmt","Expected `{0}` to be a number",b);b=b.toString()}return b})}function Vd(a){return u(a)&&!y(a)&&(a=parseFloat(a)),Fe(a)?void 0:a}function Wd(a){return(0|a)===a}function Xd(a){var b=a.toString(),c=b.indexOf(".");if(-1===c){if(a>-1&&1>a){var d=/e-(\d+)$/.exec(b);if(d)return Number(d[1])}return 0}return b.length-c-1}function Yd(a,b,c){var d=Number(a),e=!Wd(d),f=!Wd(b),g=!Wd(c);if(e||f||g){var h=e?Xd(d):0,i=f?Xd(b):0,j=g?Xd(c):0,k=Math.max(h,i,j),l=Math.pow(10,k);d*=l,b*=l,c*=l,e&&(d=Math.round(d)),f&&(b=Math.round(b)),g&&(c=Math.round(c))}return(d-b)%c===0}function Zd(a,b,c,d,e,f,g,h){Td(a,b,c,d,"number"),Ud(d),Pd(a,b,c,d,e,f);var i;if(u(c.min)||c.ngMin){var j=c.min||h(c.ngMin)(a);i=Vd(j),d.$validators.min=function(a,b){return d.$isEmpty(b)||t(i)||b>=i},c.$observe("min",function(a){a!==j&&(i=Vd(a),j=a,d.$validate())})}if(u(c.max)||c.ngMax){var k=c.max||h(c.ngMax)(a),l=Vd(k);d.$validators.max=function(a,b){return d.$isEmpty(b)||t(l)||l>=b},c.$observe("max",function(a){a!==k&&(l=Vd(a),k=a,d.$validate())})}if(u(c.step)||c.ngStep){var m=c.step||h(c.ngStep)(a),n=Vd(m);d.$validators.step=function(a,b){return d.$isEmpty(b)||t(n)||Yd(b,i||0,n)},c.$observe("step",function(a){a!==m&&(n=Vd(a),m=a,d.$validate())})}}function $d(a,b,c,d,e,f){function g(a,d){b.attr(a,c[a]);var e=c[a];c.$observe(a,function(a){a!==e&&(e=a,d(a))})}function h(a){if(l=Vd(a),!Fe(d.$modelValue))if(k){var c=b.val();l>c&&(c=l,b.val(c)),
d.$setViewValue(c)}else d.$validate()}function i(a){if(m=Vd(a),!Fe(d.$modelValue))if(k){var c=b.val();c>m&&(b.val(m),c=l>m?l:m),d.$setViewValue(c)}else d.$validate()}function j(a){n=Vd(a),Fe(d.$modelValue)||(k?d.$viewValue!==b.val()&&d.$setViewValue(b.val()):d.$validate())}Td(a,b,c,d,"range"),Ud(d),Pd(a,b,c,d,e,f);var k=d.$$hasNativeValidators&&"range"===b[0].type,l=k?0:void 0,m=k?100:void 0,n=k?1:void 0,o=b[0].validity,p=u(c.min),q=u(c.max),r=u(c.step),s=d.$render;d.$render=k&&u(o.rangeUnderflow)&&u(o.rangeOverflow)?function(){s(),d.$setViewValue(b.val())}:s,p&&(l=Vd(c.min),d.$validators.min=k?function(){return!0}:function(a,b){return d.$isEmpty(b)||t(l)||b>=l},g("min",h)),q&&(m=Vd(c.max),d.$validators.max=k?function(){return!0}:function(a,b){return d.$isEmpty(b)||t(m)||m>=b},g("max",i)),r&&(n=Vd(c.step),d.$validators.step=k?function(){return!o.stepMismatch}:function(a,b){return d.$isEmpty(b)||t(n)||Yd(b,l||0,n)},g("step",j))}function _d(a,b,c,d,e,f){Pd(a,b,c,d,e,f),Nd(d),d.$validators.url=function(a,b){var c=a||b;return d.$isEmpty(c)||Fg.test(c)}}function ae(a,b,c,d,e,f){Pd(a,b,c,d,e,f),Nd(d),d.$validators.email=function(a,b){var c=a||b;return d.$isEmpty(c)||Gg.test(c)}}function be(a,b,c,d){var e=!c.ngTrim||"false"!==He(c.ngTrim);t(c.name)&&b.attr("name",i());var f=function(a){var f;b[0].checked&&(f=c.value,e&&(f=He(f)),d.$setViewValue(f,a&&a.type))};b.on("change",f),d.$render=function(){var a=c.value;e&&(a=He(a)),b[0].checked=a===d.$viewValue},c.$observe("value",d.$render)}function ce(a,b,c,d,e){var f;if(u(d)){if(f=a(d),!f.constant)throw qh("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",c,d);return f(b)}return e}function de(a,b,c,d,e,f,g,h){var i=ce(h,a,"ngTrueValue",c.ngTrueValue,!0),j=ce(h,a,"ngFalseValue",c.ngFalseValue,!1),k=function(a){d.$setViewValue(b[0].checked,a&&a.type)};b.on("change",k),d.$render=function(){b[0].checked=d.$viewValue},d.$isEmpty=function(a){return a===!1},d.$formatters.push(function(a){return U(a,i)}),d.$parsers.push(function(a){return a?i:j})}function ee(a,b){function c(a,b){if(!a||!a.length)return[];if(!b||!b.length)return a;var c=[];a:for(var d=0;d<a.length;d++){for(var e=a[d],f=0;f<b.length;f++)if(e===b[f])continue a;c.push(e)}return c}function d(a){return a&&a.split(" ")}function e(a){if(!a)return a;var b=a;return A(a)?b=a.map(e).join(" "):v(a)?b=Object.keys(a).filter(function(b){return a[b]}).join(" "):x(a)||(b=a+""),b}a="ngClass"+a;var g;return["$parse",function(h){return{restrict:"AC",link:function(i,j,k){function l(a){a=o(d(a),1),k.$addClass(a)}function m(a){a=o(d(a),-1),k.$removeClass(a)}function n(a,b){var e=d(a),f=d(b),g=c(e,f),h=c(f,e),i=o(g,-1),j=o(h,1);k.$addClass(j),k.$removeClass(i)}function o(a,b){var c=[];return f(a,function(a){(b>0||s[a])&&(s[a]=(s[a]||0)+b,s[a]===+(b>0)&&c.push(a))}),c.join(" ")}function p(a){a===b?l(r):m(r),t=a}function q(a){t===b&&n(r,a),r=a}var r,s=j.data("$classCounts"),t=!0;s||(s=va(),j.data("$classCounts",s)),"ngClass"!==a&&(g||(g=h("$index",function(a){return 1&a})),i.$watch(g,p)),i.$watch(h(k[a],e),q)}}}]}function fe(a,b,c,d,e,f){return{restrict:"A",compile:function(g,h){var i=a(h[d]);return function(a,d){d.on(e,function(d){var e=function(){i(a,{$event:d})};if(b.$$phase)if(f)a.$evalAsync(e);else try{e()}catch(g){c(g)}else a.$apply(e)})}}}}function ge(a,b,c,d,e,f,g,h,i){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=i(c.name||"",!1)(a),this.$$parentForm=yg,this.$options=rh,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=e(c.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$parserName="parse",this.$$currentValidationRunId=0,this.$$scope=a,this.$$rootScope=a.$root,this.$$attr=c,this.$$element=d,this.$$animate=f,this.$$timeout=g,this.$$parse=e,this.$$q=h,this.$$exceptionHandler=b,Kd(this),he(this)}function he(a){a.$$scope.$watch(function(b){var c=a.$$ngModelGet(b);return c===a.$modelValue||a.$modelValue!==a.$modelValue&&c!==c||a.$$setModelValue(c),c})}function ie(a){this.$$options=a}function je(a,b){f(b,function(b,c){u(a[c])||(a[c]=b)})}function ke(a,b){a.prop("selected",b),a.attr("selected",b)}function le(a,b,c){if(!a)return void 0;if(x(a)&&(a=new RegExp("^"+a+"$")),!a.test)throw d("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",b,a,ca(c));return a}function me(a){var b=n(a);return Fe(b)?-1:b}var ne,oe,pe,qe,re={objectMaxDepth:5,urlErrorParamsEnabled:!0},se=/^\/(.+)\/([a-z]*)$/,te="validity",ue=Object.prototype.hasOwnProperty,ve=function(a){return x(a)?a.toLowerCase():a},we=function(a){return x(a)?a.toUpperCase():a},xe=[].slice,ye=[].splice,ze=[].push,Ae=Object.prototype.toString,Be=Object.getPrototypeOf,Ce=d("ng"),De=a.angular||(a.angular={}),Ee=0;ne=a.document.documentMode;var Fe=Number.isNaN||function(a){return a!==a};p.$inject=[],q.$inject=[];var Ge=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,He=function(a){return x(a)?a.trim():a},Ie=function(a){return a.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Je=function(){function b(){try{return new Function(""),!1}catch(a){return!0}}if(!u(Je.rules)){var c=a.document.querySelector("[ng-csp]")||a.document.querySelector("[data-ng-csp]");if(c){var d=c.getAttribute("ng-csp")||c.getAttribute("data-ng-csp");Je.rules={noUnsafeEval:!d||-1!==d.indexOf("no-unsafe-eval"),noInlineStyle:!d||-1!==d.indexOf("no-inline-style")}}else Je.rules={noUnsafeEval:b(),noInlineStyle:!1}}return Je.rules},Ke=function(){if(u(Ke.name_))return Ke.name_;var b,c,d,e,f=Me.length;for(c=0;f>c;++c)if(d=Me[c],b=a.document.querySelector("["+d.replace(":","\\:")+"jq]")){e=b.getAttribute(d+"jq");break}return Ke.name_=e},Le=/:/g,Me=["ng-","data-ng-","ng:","x-ng-"],Ne=ja(a.document),Oe=/[A-Z]/g,Pe=!1,Qe=1,Re=2,Se=3,Te=8,Ue=9,Ve=11,We={full:"1.7.8",major:1,minor:7,dot:8,codeName:"enthusiastic-oblation"};Ma.expando="ng339";var Xe=Ma.cache={},Ye=1;Ma._data=function(a){return this.cache[a[this.expando]]||{}};var Ze=/-([a-z])/g,$e=/^-ms-/,_e={mouseleave:"mouseout",mouseenter:"mouseover"},af=d("jqLite"),bf=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,cf=/<|&#?\w+;/,df=/<([\w:-]+)/,ef=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ff={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ff.optgroup=ff.option,ff.tbody=ff.tfoot=ff.colgroup=ff.caption=ff.thead,ff.th=ff.td;var gf=a.Node.prototype.contains||function(a){return!!(16&this.compareDocumentPosition(a))},hf=Ma.prototype={ready:cb,toString:function(){var a=[];return f(this,function(b){a.push(""+b)}),"["+a.join(", ")+"]"},eq:function(a){return oe(a>=0?this[a]:this[this.length+a])},length:0,push:ze,sort:[].sort,splice:[].splice},jf={};f("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(a){jf[ve(a)]=a});var kf={};f("input,select,option,textarea,button,form,details".split(","),function(a){kf[a]=!0});var lf={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};f({data:Ua,removeData:Sa,hasData:Ia,cleanData:function(a){for(var b=0,c=a.length;c>b;b++)Sa(a[b]),Ra(a[b])}},function(a,b){Ma[b]=a}),f({data:Ua,inheritedData:$a,scope:function(a){return oe.data(a,"$scope")||$a(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return oe.data(a,"$isolateScope")||oe.data(a,"$isolateScopeNoTemplate")},controller:Za,injector:function(a){return $a(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:Va,css:function(a,b,c){return b=Da(b),u(c)?void(a.style[b]=c):a.style[b]},attr:function(a,b,c){var d,e=a.nodeType;if(e!==Se&&e!==Re&&e!==Te&&a.getAttribute){var f=ve(b),g=jf[f];return u(c)?void(null===c||c===!1&&g?a.removeAttribute(b):a.setAttribute(b,g?f:c)):(d=a.getAttribute(b),g&&null!==d&&(d=f),null===d?void 0:d)}},prop:function(a,b,c){return u(c)?void(a[b]=c):a[b]},text:function(){function a(a,b){if(t(b)){var c=a.nodeType;return c===Qe||c===Se?a.textContent:""}a.textContent=b}return a.$dv="",a}(),val:function(a,b){if(t(b)){if(a.multiple&&"select"===P(a)){var c=[];return f(a.options,function(a){a.selected&&c.push(a.value||a.text)}),c}return a.value}a.value=b},html:function(a,b){return t(b)?a.innerHTML:(Oa(a,!0),void(a.innerHTML=b))},empty:_a},function(a,b){Ma.prototype[b]=function(b,c){var d,e,f=this.length;if(a!==_a&&t(2===a.length&&a!==Va&&a!==Za?b:c)){if(v(b)){for(d=0;f>d;d++)if(a===Ua)a(this[d],b);else for(e in b)a(this[d],e,b[e]);return this}for(var g=a.$dv,h=t(g)?Math.min(f,1):f,i=0;h>i;i++){var j=a(this[i],b,c);g=g?g+j:j}return g}for(d=0;f>d;d++)a(this[d],b,c);return this}}),f({removeData:Sa,on:function(a,b,c,d){if(u(d))throw af("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Ha(a)){var e=Ta(a,!0),f=e.events,g=e.handle;g||(g=e.handle=fb(a,f));for(var h=b.indexOf(" ")>=0?b.split(" "):[b],i=h.length,j=function(b,d,e){var h=f[b];h||(h=f[b]=[],h.specialHandlerWrapper=d,"$destroy"===b||e||a.addEventListener(b,g)),h.push(c)};i--;)b=h[i],_e[b]?(j(_e[b],hb),j(b,void 0,!0)):j(b)}},off:Ra,one:function(a,b,c){a=oe(a),a.on(b,function d(){a.off(b,c),a.off(b,d)}),a.on(b,c)},replaceWith:function(a,b){var c,d=a.parentNode;Oa(a),f(new Ma(b),function(b){c?d.insertBefore(b,c.nextSibling):d.replaceChild(b,a),c=b})},children:function(a){var b=[];return f(a.childNodes,function(a){a.nodeType===Qe&&b.push(a)}),b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){var c=a.nodeType;if(c===Qe||c===Ve){b=new Ma(b);for(var d=0,e=b.length;e>d;d++){var f=b[d];a.appendChild(f)}}},prepend:function(a,b){if(a.nodeType===Qe){var c=a.firstChild;f(new Ma(b),function(b){a.insertBefore(b,c)})}},wrap:function(a,b){La(a,oe(b).eq(0).clone()[0])},remove:ab,detach:function(a){ab(a,!0)},after:function(a,b){var c=a,d=a.parentNode;if(d){b=new Ma(b);for(var e=0,f=b.length;f>e;e++){var g=b[e];d.insertBefore(g,c.nextSibling),c=g}}},addClass:Xa,removeClass:Wa,toggleClass:function(a,b,c){b&&f(b.split(" "),function(b){var d=c;t(d)&&(d=!Va(a,b)),(d?Xa:Wa)(a,b)})},parent:function(a){var b=a.parentNode;return b&&b.nodeType!==Ve?b:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:Na,triggerHandler:function(a,b,c){var d,e,g,h=b.type||b,i=Ta(a),j=i&&i.events,k=j&&j[h];k&&(d={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:p,type:h,target:a},b.type&&(d=l(d,b)),e=ya(k),g=c?[d].concat(c):[d],f(e,function(b){d.isImmediatePropagationStopped()||b.apply(a,g)}))}},function(a,b){Ma.prototype[b]=function(b,c,d){for(var e,f=0,g=this.length;g>f;f++)t(e)?(e=a(this[f],b,c,d),u(e)&&(e=oe(e))):Ya(e,a(this[f],b,c,d));return u(e)?e:this}}),Ma.prototype.bind=Ma.prototype.on,Ma.prototype.unbind=Ma.prototype.off;var mf=Object.create(null);kb.prototype={_idx:function(a){return a!==this._lastKey&&(this._lastKey=a,this._lastIndex=this._keys.indexOf(a)),this._lastIndex},_transformKey:function(a){return Fe(a)?mf:a},get:function(a){a=this._transformKey(a);var b=this._idx(a);return-1!==b?this._values[b]:void 0},has:function(a){a=this._transformKey(a);var b=this._idx(a);return-1!==b},set:function(a,b){a=this._transformKey(a);var c=this._idx(a);-1===c&&(c=this._lastIndex=this._keys.length),this._keys[c]=a,this._values[c]=b},"delete":function(a){a=this._transformKey(a);var b=this._idx(a);return-1===b?!1:(this._keys.splice(b,1),this._values.splice(b,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var nf=kb,of=[function(){this.$get=[function(){return nf}]}],pf=/^([^(]+?)=>/,qf=/^[^(]*\(\s*([^)]*)\)/m,rf=/,/,sf=/^\s*(_?)(\S+?)\1\s*$/,tf=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,uf=d("$injector");pb.$$annotate=ob;var vf=d("$animate"),wf=1,xf="ng-animate",yf=function(){this.$get=p},zf=function(){var a=new nf,b=[];this.$get=["$$AnimateRunner","$rootScope",function(c,d){function e(a,b,c){var d=!1;return b&&(b=x(b)?b.split(" "):A(b)?b:[],f(b,function(b){b&&(d=!0,a[b]=c)})),d}function g(){f(b,function(b){var c=a.get(b);if(c){var d=tb(b.attr("class")),e="",g="";f(c,function(a,b){var c=!!d[b];a!==c&&(a?e+=(e.length?" ":"")+b:g+=(g.length?" ":"")+b)}),f(b,function(a){e&&Xa(a,e),g&&Wa(a,g)}),a["delete"](b)}}),b.length=0}function h(c,f,h){var i=a.get(c)||{},j=e(i,f,!0),k=e(i,h,!1);(j||k)&&(a.set(c,i),b.push(c),1===b.length&&d.$$postDigest(g))}return{enabled:p,on:p,off:p,pin:p,push:function(a,b,d,e){e&&e(),d=d||{},d.from&&a.css(d.from),d.to&&a.css(d.to),(d.addClass||d.removeClass)&&h(a,d.addClass,d.removeClass);var f=new c;return f.complete(),f}}}]},Af=["$provide",function(a){var b=this,c=null,d=null;this.$$registeredAnimations=Object.create(null),this.register=function(c,d){if(c&&"."!==c.charAt(0))throw vf("notcsel","Expecting class selector starting with '.' got '{0}'.",c);var e=c+"-animation";b.$$registeredAnimations[c.substr(1)]=e,a.factory(e,d)},this.customFilter=function(a){return 1===arguments.length&&(d=C(a)?a:null),d},this.classNameFilter=function(a){if(1===arguments.length&&(c=a instanceof RegExp?a:null)){var b=new RegExp("[(\\s|\\/)]"+xf+"[(\\s|\\/)]");if(b.test(c.toString()))throw c=null,vf("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',xf)}return c},this.$get=["$$animateQueue",function(a){function b(a,b,c){if(c){var d=sb(c);!d||d.parentNode||d.previousElementSibling||(c=null)}c?c.after(a):b.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.cancel&&a.cancel()},enter:function(c,d,e,f){return d=d&&oe(d),e=e&&oe(e),d=d||e.parent(),b(c,d,e),a.push(c,"enter",ub(f))},move:function(c,d,e,f){return d=d&&oe(d),e=e&&oe(e),d=d||e.parent(),b(c,d,e),a.push(c,"move",ub(f))},leave:function(b,c){return a.push(b,"leave",ub(c),function(){b.remove()})},addClass:function(b,c,d){return d=ub(d),d.addClass=rb(d.addclass,c),a.push(b,"addClass",d)},removeClass:function(b,c,d){return d=ub(d),d.removeClass=rb(d.removeClass,c),a.push(b,"removeClass",d)},setClass:function(b,c,d,e){return e=ub(e),e.addClass=rb(e.addClass,c),e.removeClass=rb(e.removeClass,d),a.push(b,"setClass",e)},animate:function(b,c,d,e,f){return f=ub(f),f.from=f.from?l(f.from,c):c,f.to=f.to?l(f.to,d):d,e=e||"ng-inline-animate",f.tempClasses=rb(f.tempClasses,e),a.push(b,"animate",f)}}}]}],Bf=function(){this.$get=["$$rAF",function(a){function b(b){c.push(b),c.length>1||a(function(){for(var a=0;a<c.length;a++)c[a]();c=[]})}var c=[];return function(){var a=!1;return b(function(){a=!0}),function(c){a?c():b(c)}}}]},Cf=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(a,b,c,d,e){function g(a){this.setHost(a);var b=c(),f=function(a){e(a,0,!1)};this._doneCallbacks=[],this._tick=function(a){d()?f(a):b(a)},this._state=0}var h=0,i=1,j=2;return g.chain=function(a,b){function c(){return d===a.length?void b(!0):void a[d](function(a){return a===!1?void b(!1):(d++,void c())})}var d=0;c()},g.all=function(a,b){function c(c){e=e&&c,++d===a.length&&b(e)}var d=0,e=!0;f(a,function(a){a.done(c)})},g.prototype={setHost:function(a){this.host=a||{}},done:function(a){this._state===j?a():this._doneCallbacks.push(a)},progress:p,getPromise:function(){if(!this.promise){var b=this;this.promise=a(function(a,c){b.done(function(b){b===!1?c():a()})})}return this.promise},then:function(a,b){return this.getPromise().then(a,b)},"catch":function(a){return this.getPromise()["catch"](a)},"finally":function(a){return this.getPromise()["finally"](a)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(a){var b=this;b._state===h&&(b._state=i,b._tick(function(){b._resolve(a)}))},_resolve:function(a){this._state!==j&&(f(this._doneCallbacks,function(b){b(a)}),this._doneCallbacks.length=0,this._state=j)}},g}]},Df=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,b,c){return function(b,d){function e(){return a(function(){f(),h||i.complete(),h=!0}),i}function f(){g.addClass&&(b.addClass(g.addClass),g.addClass=null),g.removeClass&&(b.removeClass(g.removeClass),g.removeClass=null),g.to&&(b.css(g.to),g.to=null)}var g=d||{};g.$$prepared||(g=S(g)),g.cleanupStyles&&(g.from=g.to=null),g.from&&(b.css(g.from),g.from=null);var h,i=new c;return{start:e,end:e}}}]},Ef=d("$compile"),Ff=new Bb;Cb.$inject=["$provide","$$sanitizeUriProvider"],Db.prototype.isFirstChange=function(){return this.previousValue===Ff};var Gf=/^((?:x|data)[:\-_])/i,Hf=/[:\-_]+(.)/g,If=d("$controller"),Jf=/^(\S+)(\s+as\s+([\w$]+))?$/,Kf=function(){this.$get=["$document",function(a){return function(b){return b?!b.nodeType&&b instanceof oe&&(b=b[0]):b=a[0].body,b.offsetWidth+1}}]},Lf="application/json",Mf={"Content-Type":Lf+";charset=utf-8"},Nf=/^\[|^\{(?!\{)/,Of={"[":/]$/,"{":/}$/},Pf=/^\)]\}',?\n/,Qf=d("$http"),Rf=De.$interpolateMinErr=d("$interpolate");Rf.throwNoconcat=function(a){throw Rf("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",a)},Rf.interr=function(a,b){return Rf("interr","Can't interpolate: {0}\n{1}",a,b.toString())};var Sf=d("$interval"),Tf=function(){this.$get=function(){function a(a){var b=function(a){b.data=a,b.called=!0};return b.id=a,b}var b=De.callbacks,c={};return{createCallback:function(d){var e="_"+(b.$$counter++).toString(36),f="angular.callbacks."+e,g=a(e);return c[f]=b[e]=g,f},wasCalled:function(a){return c[a].called},getResponse:function(a){return c[a].data},removeCallback:function(a){var d=c[a];delete b[d.id],delete c[a]}}}},Uf=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Vf={http:80,https:443,ftp:21},Wf=d("$location"),Xf=/^\s*[\\\/]{2,}/,Yf={$$absUrl:"",$$html5:!1,$$replace:!1,$$compose:function(){this.$$url=cc(this.$$path,this.$$search,this.$$hash),this.$$absUrl=this.$$normalizeUrl(this.$$url),this.$$urlUpdatedByLocation=!0},absUrl:nc("$$absUrl"),url:function(a){if(t(a))return this.$$url;var b=Uf.exec(a);return(b[1]||""===a)&&this.path(decodeURIComponent(b[1])),(b[2]||b[1]||""===a)&&this.search(b[3]||""),this.hash(b[5]||""),this},protocol:nc("$$protocol"),host:nc("$$host"),port:nc("$$port"),path:oc("$$path",function(a){return a=null!==a?a.toString():"","/"===a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(x(a)||y(a))a=a.toString(),this.$$search=ea(a);else{if(!v(a))throw Wf("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");a=S(a,{}),f(a,function(b,c){null==b&&delete a[c]}),this.$$search=a}break;default:t(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}return this.$$compose(),this},hash:oc("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){return this.$$replace=!0,this}};f([mc,lc,kc],function(a){a.prototype=Object.create(Yf),a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==kc||!this.$$html5)throw Wf("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=t(b)?null:b,this.$$urlUpdatedByLocation=!0,this}});var Zf=d("$parse"),$f={}.constructor.prototype.valueOf,_f=va();f("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){_f[a]=!0});var ag={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},bg=function(a){this.options=a};bg.prototype={constructor:bg,lex:function(a){for(this.text=a,this.index=0,this.tokens=[];this.index<this.text.length;){var b=this.text.charAt(this.index);if('"'===b||"'"===b)this.readString(b);else if(this.isNumber(b)||"."===b&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(b,"(){}[].,;:?"))this.tokens.push({index:this.index,text:b}),this.index++;else if(this.isWhitespace(b))this.index++;else{var c=b+this.peek(),d=c+this.peek(2),e=_f[b],f=_f[c],g=_f[d];if(e||f||g){var h=g?d:f?c:b;this.tokens.push({index:this.index,text:h,operator:!0}),this.index+=h.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){var b=a||1;return this.index+b<this.text.length?this.text.charAt(this.index+b):!1},isNumber:function(a){return a>="0"&&"9">=a&&"string"==typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"	"===a||"\n"===a||""===a||""===a},isIdentifierStart:function(a){return this.options.isIdentifierStart?this.options.isIdentifierStart(a,this.codePointAt(a)):this.isValidIdentifierStart(a)},isValidIdentifierStart:function(a){return a>="a"&&"z">=a||a>="A"&&"Z">=a||"_"===a||"$"===a},isIdentifierContinue:function(a){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(a,this.codePointAt(a)):this.isValidIdentifierContinue(a)},isValidIdentifierContinue:function(a,b){return this.isValidIdentifierStart(a,b)||this.isNumber(a)},codePointAt:function(a){return 1===a.length?a.charCodeAt(0):(a.charCodeAt(0)<<10)+a.charCodeAt(1)-56613888},peekMultichar:function(){var a=this.text.charAt(this.index),b=this.peek();if(!b)return a;var c=a.charCodeAt(0),d=b.charCodeAt(0);return c>=55296&&56319>=c&&d>=56320&&57343>=d?a+b:a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,c){c=c||this.index;var d=u(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,c)+"]":" "+c;throw Zf("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",a,d,this.text)},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var c=ve(this.text.charAt(this.index));if("."===c||this.isNumber(c))a+=c;else{var d=this.peek();if("e"===c&&this.isExpOperator(d))a+=c;else if(this.isExpOperator(c)&&d&&this.isNumber(d)&&"e"===a.charAt(a.length-1))a+=c;else{if(!this.isExpOperator(c)||d&&this.isNumber(d)||"e"!==a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){var a=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var b=this.peekMultichar();if(!this.isIdentifierContinue(b))break;this.index+=b.length}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var c="",d=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index);if(d+=f,e){if("u"===f){var g=this.text.substring(this.index+1,this.index+5);g.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+g+"]"),this.index+=4,c+=String.fromCharCode(parseInt(g,16))}else{var h=ag[f];c+=h||f}e=!1}else if("\\"===f)e=!0;else{if(f===a)return this.index++,void this.tokens.push({index:b,text:d,constant:!0,value:c});c+=f}this.index++}this.throwError("Unterminated quote",b)}};var cg=function(a,b){this.lexer=a,this.options=b};cg.Program="Program",cg.ExpressionStatement="ExpressionStatement",cg.AssignmentExpression="AssignmentExpression",cg.ConditionalExpression="ConditionalExpression",cg.LogicalExpression="LogicalExpression",cg.BinaryExpression="BinaryExpression",cg.UnaryExpression="UnaryExpression",cg.CallExpression="CallExpression",cg.MemberExpression="MemberExpression",cg.Identifier="Identifier",cg.Literal="Literal",cg.ArrayExpression="ArrayExpression",cg.Property="Property",cg.ObjectExpression="ObjectExpression",cg.ThisExpression="ThisExpression",cg.LocalsExpression="LocalsExpression",cg.NGValueParameter="NGValueParameter",cg.prototype={ast:function(a){this.text=a,this.tokens=this.lexer.lex(a);var b=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),b},program:function(){for(var a=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),!this.expect(";"))return{type:cg.Program,body:a}},expressionStatement:function(){return{type:cg.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var a=this.expression();this.expect("|");)a=this.filter(a);return a},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();if(this.expect("=")){if(!yc(a))throw Zf("lval","Trying to assign a value to a non l-value");a={type:cg.AssignmentExpression,left:a,right:this.assignment(),operator:"="}}return a},ternary:function(){var a,b,c=this.logicalOR();return this.expect("?")&&(a=this.expression(),this.consume(":"))?(b=this.expression(),{type:cg.ConditionalExpression,test:c,alternate:a,consequent:b}):c},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a={type:cg.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a={type:cg.LogicalExpression,operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var a,b=this.relational();a=this.expect("==","!=","===","!==");)b={type:cg.BinaryExpression,operator:a.text,left:b,right:this.relational()};return b},relational:function(){for(var a,b=this.additive();a=this.expect("<",">","<=",">=");)b={type:cg.BinaryExpression,operator:a.text,left:b,right:this.additive()};return b},additive:function(){for(var a,b=this.multiplicative();a=this.expect("+","-");)b={type:cg.BinaryExpression,operator:a.text,left:b,right:this.multiplicative()};return b},multiplicative:function(){for(var a,b=this.unary();a=this.expect("*","/","%");)b={type:cg.BinaryExpression,operator:a.text,left:b,right:this.unary()};return b},unary:function(){var a;return(a=this.expect("+","-","!"))?{type:cg.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?a=S(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?a={type:cg.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b;b=this.expect("(","[",".");)"("===b.text?(a={type:cg.CallExpression,callee:a,arguments:this.parseArguments()},this.consume(")")):"["===b.text?(a={type:cg.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):"."===b.text?a={type:cg.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){for(var b=[a],c={type:cg.CallExpression,callee:this.identifier(),arguments:b,filter:!0};this.expect(":");)b.push(this.expression());return c},parseArguments:function(){var a=[];if(")"!==this.peekToken().text)do a.push(this.filterChain());while(this.expect(","));return a},identifier:function(){var a=this.consume();return a.identifier||this.throwError("is not a valid identifier",a),{type:cg.Identifier,name:a.text}},constant:function(){return{type:cg.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:cg.ArrayExpression,elements:a}},object:function(){var a,b=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;a={type:cg.Property,kind:"init"},this.peek().constant?(a.key=this.constant(),a.computed=!1,this.consume(":"),a.value=this.expression()):this.peek().identifier?(a.key=this.identifier(),a.computed=!1,this.peek(":")?(this.consume(":"),a.value=this.expression()):a.value=a.key):this.peek("[")?(this.consume("["),a.key=this.expression(),this.consume("]"),a.computed=!0,this.consume(":"),a.value=this.expression()):this.throwError("invalid key",this.peek()),b.push(a)}while(this.expect(","));return this.consume("}"),{type:cg.ObjectExpression,properties:b}},throwError:function(a,b){throw Zf("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",b.text,a,b.index+1,this.text,this.text.substring(b.index))},consume:function(a){if(0===this.tokens.length)throw Zf("ueoe","Unexpected end of expression: {0}",this.text);var b=this.expect(a);return b||this.throwError("is unexpected, expecting ["+a+"]",this.peek()),b},peekToken:function(){if(0===this.tokens.length)throw Zf("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(a,b,c,d){return this.peekAhead(0,a,b,c,d)},peekAhead:function(a,b,c,d,e){if(this.tokens.length>a){var f=this.tokens[a],g=f.text;if(g===b||g===c||g===d||g===e||!b&&!c&&!d&&!e)return f}return!1},expect:function(a,b,c,d){var e=this.peek(a,b,c,d);return e?(this.tokens.shift(),e):!1},selfReferential:{"this":{type:cg.ThisExpression},$locals:{type:cg.LocalsExpression}}};var dg=1,eg=2;Cc.prototype={compile:function(a){var b=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},wc(a,b.$filter);var c,d="";if(this.stage="assign",c=zc(a)){this.state.computing="assign";var e=this.nextId();this.recurse(c,e),this.return_(e),d="fn.assign="+this.generateFunction("assign","s,v,l")}var g=xc(a.body);b.stage="inputs",f(g,function(a,c){var d="fn"+c;b.state[d]={vars:[],body:[],own:{}},b.state.computing=d;var e=b.nextId();b.recurse(a,e),b.return_(e),b.state.inputs.push({name:d,isPure:a.isPure}),a.watchId=c}),this.state.computing="fn",this.stage="main",this.recurse(a);var h='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+d+this.watchFns()+"return fn;",i=new Function("$filter","getStringValue","ifDefined","plus",h)(this.$filter,rc,sc,tc);return this.state=this.stage=void 0,i},USE:"use",STRICT:"strict",watchFns:function(){var a=[],b=this.state.inputs,c=this;return f(b,function(b){a.push("var "+b.name+"="+c.generateFunction(b.name,"s")),b.isPure&&a.push(b.name,".isPure="+JSON.stringify(b.isPure)+";")}),b.length&&a.push("fn.inputs=["+b.map(function(a){return a.name}).join(",")+"];"),a.join("")},generateFunction:function(a,b){return"function("+b+"){"+this.varsPrefix(a)+this.body(a)+"};"},filterPrefix:function(){var a=[],b=this;return f(this.state.filters,function(c,d){a.push(c+"=$filter("+b.escape(d)+")")}),a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,b,c,d,e,g){var h,i,j,k,l,m=this;if(d=d||p,!g&&u(a.watchId))return b=b||this.nextId(),void this.if_("i",this.lazyAssign(b,this.computedMember("i",a.watchId)),this.lazyRecurse(a,b,c,d,e,!0));switch(a.type){case cg.Program:f(a.body,function(b,c){m.recurse(b.expression,void 0,void 0,function(a){i=a}),c!==a.body.length-1?m.current().body.push(i,";"):m.return_(i)});break;case cg.Literal:k=this.escape(a.value),this.assign(b,k),d(b||k);break;case cg.UnaryExpression:this.recurse(a.argument,void 0,void 0,function(a){i=a}),k=a.operator+"("+this.ifDefined(i,0)+")",this.assign(b,k),d(k);
break;case cg.BinaryExpression:this.recurse(a.left,void 0,void 0,function(a){h=a}),this.recurse(a.right,void 0,void 0,function(a){i=a}),k="+"===a.operator?this.plus(h,i):"-"===a.operator?this.ifDefined(h,0)+a.operator+this.ifDefined(i,0):"("+h+")"+a.operator+"("+i+")",this.assign(b,k),d(k);break;case cg.LogicalExpression:b=b||this.nextId(),m.recurse(a.left,b),m.if_("&&"===a.operator?b:m.not(b),m.lazyRecurse(a.right,b)),d(b);break;case cg.ConditionalExpression:b=b||this.nextId(),m.recurse(a.test,b),m.if_(b,m.lazyRecurse(a.alternate,b),m.lazyRecurse(a.consequent,b)),d(b);break;case cg.Identifier:b=b||this.nextId(),c&&(c.context="inputs"===m.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s"),c.computed=!1,c.name=a.name),m.if_("inputs"===m.stage||m.not(m.getHasOwnProperty("l",a.name)),function(){m.if_("inputs"===m.stage||"s",function(){e&&1!==e&&m.if_(m.isNull(m.nonComputedMember("s",a.name)),m.lazyAssign(m.nonComputedMember("s",a.name),"{}")),m.assign(b,m.nonComputedMember("s",a.name))})},b&&m.lazyAssign(b,m.nonComputedMember("l",a.name))),d(b);break;case cg.MemberExpression:h=c&&(c.context=this.nextId())||this.nextId(),b=b||this.nextId(),m.recurse(a.object,h,void 0,function(){m.if_(m.notNull(h),function(){a.computed?(i=m.nextId(),m.recurse(a.property,i),m.getStringValue(i),e&&1!==e&&m.if_(m.not(m.computedMember(h,i)),m.lazyAssign(m.computedMember(h,i),"{}")),k=m.computedMember(h,i),m.assign(b,k),c&&(c.computed=!0,c.name=i)):(e&&1!==e&&m.if_(m.isNull(m.nonComputedMember(h,a.property.name)),m.lazyAssign(m.nonComputedMember(h,a.property.name),"{}")),k=m.nonComputedMember(h,a.property.name),m.assign(b,k),c&&(c.computed=!1,c.name=a.property.name))},function(){m.assign(b,"undefined")}),d(b)},!!e);break;case cg.CallExpression:b=b||this.nextId(),a.filter?(i=m.filter(a.callee.name),j=[],f(a.arguments,function(a){var b=m.nextId();m.recurse(a,b),j.push(b)}),k=i+"("+j.join(",")+")",m.assign(b,k),d(b)):(i=m.nextId(),h={},j=[],m.recurse(a.callee,i,h,function(){m.if_(m.notNull(i),function(){f(a.arguments,function(b){m.recurse(b,a.constant?void 0:m.nextId(),void 0,function(a){j.push(a)})}),k=h.name?m.member(h.context,h.name,h.computed)+"("+j.join(",")+")":i+"("+j.join(",")+")",m.assign(b,k)},function(){m.assign(b,"undefined")}),d(b)}));break;case cg.AssignmentExpression:i=this.nextId(),h={},this.recurse(a.left,void 0,h,function(){m.if_(m.notNull(h.context),function(){m.recurse(a.right,i),k=m.member(h.context,h.name,h.computed)+a.operator+i,m.assign(b,k),d(b||k)})},1);break;case cg.ArrayExpression:j=[],f(a.elements,function(b){m.recurse(b,a.constant?void 0:m.nextId(),void 0,function(a){j.push(a)})}),k="["+j.join(",")+"]",this.assign(b,k),d(b||k);break;case cg.ObjectExpression:j=[],l=!1,f(a.properties,function(a){a.computed&&(l=!0)}),l?(b=b||this.nextId(),this.assign(b,"{}"),f(a.properties,function(a){a.computed?(h=m.nextId(),m.recurse(a.key,h)):h=a.key.type===cg.Identifier?a.key.name:""+a.key.value,i=m.nextId(),m.recurse(a.value,i),m.assign(m.member(b,h,a.computed),i)})):(f(a.properties,function(b){m.recurse(b.value,a.constant?void 0:m.nextId(),void 0,function(a){j.push(m.escape(b.key.type===cg.Identifier?b.key.name:""+b.key.value)+":"+a)})}),k="{"+j.join(",")+"}",this.assign(b,k)),d(b||k);break;case cg.ThisExpression:this.assign(b,"s"),d(b||"s");break;case cg.LocalsExpression:this.assign(b,"l"),d(b||"l");break;case cg.NGValueParameter:this.assign(b,"v"),d(b||"v")}},getHasOwnProperty:function(a,b){var c=a+"."+b,d=this.current().own;return d.hasOwnProperty(c)||(d[c]=this.nextId(!1,a+"&&("+this.escape(b)+" in "+a+")")),d[c]},assign:function(a,b){return a?(this.current().body.push(a,"=",b,";"),a):void 0},filter:function(a){return this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=this.nextId(!0)),this.state.filters[a]},ifDefined:function(a,b){return"ifDefined("+a+","+this.escape(b)+")"},plus:function(a,b){return"plus("+a+","+b+")"},return_:function(a){this.current().body.push("return ",a,";")},if_:function(a,b,c){if(a===!0)b();else{var d=this.current().body;d.push("if(",a,"){"),b(),d.push("}"),c&&(d.push("else{"),c(),d.push("}"))}},not:function(a){return"!("+a+")"},isNull:function(a){return a+"==null"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,b){var c=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,d=/[^$_a-zA-Z0-9]/g;return c.test(b)?a+"."+b:a+'["'+b.replace(d,this.stringEscapeFn)+'"]'},computedMember:function(a,b){return a+"["+b+"]"},member:function(a,b,c){return c?this.computedMember(a,b):this.nonComputedMember(a,b)},getStringValue:function(a){this.assign(a,"getStringValue("+a+")")},lazyRecurse:function(a,b,c,d,e,f){var g=this;return function(){g.recurse(a,b,c,d,e,f)}},lazyAssign:function(a,b){var c=this;return function(){c.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(x(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(y(a))return a.toString();if(a===!0)return"true";if(a===!1)return"false";if(null===a)return"null";if("undefined"==typeof a)return"undefined";throw Zf("esc","IMPOSSIBLE")},nextId:function(a,b){var c="v"+this.state.nextId++;return a||this.current().vars.push(c+(b?"="+b:"")),c},current:function(){return this.state[this.state.computing]}},Dc.prototype={compile:function(a){var b=this;wc(a,b.$filter);var c,d;(c=zc(a))&&(d=this.recurse(c));var e,g=xc(a.body);g&&(e=[],f(g,function(a,c){var d=b.recurse(a);d.isPure=a.isPure,a.input=d,e.push(d),a.watchId=c}));var h=[];f(a.body,function(a){h.push(b.recurse(a.expression))});var i=0===a.body.length?p:1===a.body.length?h[0]:function(a,b){var c;return f(h,function(d){c=d(a,b)}),c};return d&&(i.assign=function(a,b,c){return d(a,c,b)}),e&&(i.inputs=e),i},recurse:function(a,b,c){var d,e,g,h=this;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case cg.Literal:return this.value(a.value,b);case cg.UnaryExpression:return e=this.recurse(a.argument),this["unary"+a.operator](e,b);case cg.BinaryExpression:return d=this.recurse(a.left),e=this.recurse(a.right),this["binary"+a.operator](d,e,b);case cg.LogicalExpression:return d=this.recurse(a.left),e=this.recurse(a.right),this["binary"+a.operator](d,e,b);case cg.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case cg.Identifier:return h.identifier(a.name,b,c);case cg.MemberExpression:return d=this.recurse(a.object,!1,!!c),a.computed||(e=a.property.name),a.computed&&(e=this.recurse(a.property)),a.computed?this.computedMember(d,e,b,c):this.nonComputedMember(d,e,b,c);case cg.CallExpression:return g=[],f(a.arguments,function(a){g.push(h.recurse(a))}),a.filter&&(e=this.$filter(a.callee.name)),a.filter||(e=this.recurse(a.callee,!0)),a.filter?function(a,c,d,f){for(var h=[],i=0;i<g.length;++i)h.push(g[i](a,c,d,f));var j=e.apply(void 0,h,f);return b?{context:void 0,name:void 0,value:j}:j}:function(a,c,d,f){var h,i=e(a,c,d,f);if(null!=i.value){for(var j=[],k=0;k<g.length;++k)j.push(g[k](a,c,d,f));h=i.value.apply(i.context,j)}return b?{value:h}:h};case cg.AssignmentExpression:return d=this.recurse(a.left,!0,1),e=this.recurse(a.right),function(a,c,f,g){var h=d(a,c,f,g),i=e(a,c,f,g);return h.context[h.name]=i,b?{value:i}:i};case cg.ArrayExpression:return g=[],f(a.elements,function(a){g.push(h.recurse(a))}),function(a,c,d,e){for(var f=[],h=0;h<g.length;++h)f.push(g[h](a,c,d,e));return b?{value:f}:f};case cg.ObjectExpression:return g=[],f(a.properties,function(a){a.computed?g.push({key:h.recurse(a.key),computed:!0,value:h.recurse(a.value)}):g.push({key:a.key.type===cg.Identifier?a.key.name:""+a.key.value,computed:!1,value:h.recurse(a.value)})}),function(a,c,d,e){for(var f={},h=0;h<g.length;++h)g[h].computed?f[g[h].key(a,c,d,e)]=g[h].value(a,c,d,e):f[g[h].key]=g[h].value(a,c,d,e);return b?{value:f}:f};case cg.ThisExpression:return function(a){return b?{value:a}:a};case cg.LocalsExpression:return function(a,c){return b?{value:c}:c};case cg.NGValueParameter:return function(a,c,d){return b?{value:d}:d}}},"unary+":function(a,b){return function(c,d,e,f){var g=a(c,d,e,f);return g=u(g)?+g:0,b?{value:g}:g}},"unary-":function(a,b){return function(c,d,e,f){var g=a(c,d,e,f);return g=u(g)?-g:-0,b?{value:g}:g}},"unary!":function(a,b){return function(c,d,e,f){var g=!a(c,d,e,f);return b?{value:g}:g}},"binary+":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g),i=b(d,e,f,g),j=tc(h,i);return c?{value:j}:j}},"binary-":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g),i=b(d,e,f,g),j=(u(h)?h:0)-(u(i)?i:0);return c?{value:j}:j}},"binary*":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)*b(d,e,f,g);return c?{value:h}:h}},"binary/":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)/b(d,e,f,g);return c?{value:h}:h}},"binary%":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)%b(d,e,f,g);return c?{value:h}:h}},"binary===":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)===b(d,e,f,g);return c?{value:h}:h}},"binary!==":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)!==b(d,e,f,g);return c?{value:h}:h}},"binary==":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)==b(d,e,f,g);return c?{value:h}:h}},"binary!=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)!=b(d,e,f,g);return c?{value:h}:h}},"binary<":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)<b(d,e,f,g);return c?{value:h}:h}},"binary>":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)>b(d,e,f,g);return c?{value:h}:h}},"binary<=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)<=b(d,e,f,g);return c?{value:h}:h}},"binary>=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)>=b(d,e,f,g);return c?{value:h}:h}},"binary&&":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)&&b(d,e,f,g);return c?{value:h}:h}},"binary||":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)||b(d,e,f,g);return c?{value:h}:h}},"ternary?:":function(a,b,c,d){return function(e,f,g,h){var i=a(e,f,g,h)?b(e,f,g,h):c(e,f,g,h);return d?{value:i}:i}},value:function(a,b){return function(){return b?{context:void 0,name:void 0,value:a}:a}},identifier:function(a,b,c){return function(d,e,f,g){var h=e&&a in e?e:d;c&&1!==c&&h&&null==h[a]&&(h[a]={});var i=h?h[a]:void 0;return b?{context:h,name:a,value:i}:i}},computedMember:function(a,b,c,d){return function(e,f,g,h){var i,j,k=a(e,f,g,h);return null!=k&&(i=b(e,f,g,h),i=rc(i),d&&1!==d&&k&&!k[i]&&(k[i]={}),j=k[i]),c?{context:k,name:i,value:j}:j}},nonComputedMember:function(a,b,c,d){return function(e,f,g,h){var i=a(e,f,g,h);d&&1!==d&&i&&null==i[b]&&(i[b]={});var j=null!=i?i[b]:void 0;return c?{context:i,name:b,value:j}:j}},inputs:function(a,b){return function(c,d,e,f){return f?f[b]:a(c,d,e)}}},Ec.prototype={constructor:Ec,parse:function(a){var b=this.getAst(a),c=this.astCompiler.compile(b.ast);return c.literal=Ac(b.ast),c.constant=Bc(b.ast),c.oneTime=b.oneTime,c},getAst:function(a){var b=!1;return a=a.trim(),":"===a.charAt(0)&&":"===a.charAt(1)&&(b=!0,a=a.substring(2)),{ast:this.ast.ast(a),oneTime:b}}};var fg,gg=d("$sce"),hg={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},ig=/_([a-z])/g,jg=d("$templateRequest"),kg=d("$timeout"),lg=a.document.createElement("a"),mg=_c(a.location.href);lg.href="http://[::1]";var ng="[::1]"===lg.hostname;gd.$inject=["$document"],id.$inject=["$provide"];var og=22,pg=".",qg="0";nd.$inject=["$locale"],od.$inject=["$locale"];var rg={yyyy:td("FullYear",4,0,!1,!0),yy:td("FullYear",2,0,!0,!0),y:td("FullYear",1,0,!1,!0),MMMM:ud("Month"),MMM:ud("Month",!0),MM:td("Month",2,1),M:td("Month",1,1),LLLL:ud("Month",!1,!0),dd:td("Date",2),d:td("Date",1),HH:td("Hours",2),H:td("Hours",1),hh:td("Hours",2,-12),h:td("Hours",1,-12),mm:td("Minutes",2),m:td("Minutes",1),ss:td("Seconds",2),s:td("Seconds",1),sss:td("Milliseconds",3),EEEE:ud("Day"),EEE:ud("Day",!0),a:zd,Z:vd,ww:yd(2),w:yd(1),G:Ad,GG:Ad,GGG:Ad,GGGG:Bd},sg=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,tg=/^-?\d+$/;Cd.$inject=["$locale"];var ug=r(ve),vg=r(we);Gd.$inject=["$parse"];var wg=r({restrict:"E",compile:function(a,b){return b.href||b.xlinkHref?void 0:function(a,b){if("a"===b[0].nodeName.toLowerCase()){var c="[object SVGAnimatedString]"===Ae.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(c)||a.preventDefault()})}}}}),xg={};f(jf,function(a,b){function c(a,c,e){a.$watch(e[d],function(a){e.$set(b,!!a)})}if("multiple"!==a){var d=Eb("ng-"+b),e=c;"checked"===a&&(e=function(a,b,e){e.ngModel!==e[d]&&c(a,b,e)}),xg[d]=function(){return{restrict:"A",priority:100,link:e}}}}),f(lf,function(a,b){xg[b]=function(){return{priority:100,link:function(a,c,d){if("ngPattern"===b&&"/"===d.ngPattern.charAt(0)){var e=d.ngPattern.match(se);if(e)return void d.$set("ngPattern",new RegExp(e[1],e[2]))}a.$watch(d[b],function(a){d.$set(b,a)})}}}}),f(["src","srcset","href"],function(a){var b=Eb("ng-"+a);xg[b]=["$sce",function(c){return{priority:99,link:function(d,e,f){var g=a,h=a;"href"===a&&"[object SVGAnimatedString]"===Ae.call(e.prop("href"))&&(h="xlinkHref",f.$attr[h]="xlink:href",g=null),f.$set(b,c.getTrustedMediaUrl(f[b])),f.$observe(b,function(b){return b?(f.$set(h,b),void(ne&&g&&e.prop(g,f[h]))):void("href"===a&&f.$set(h,null))})}}}]});var yg={$addControl:p,$getControls:r([]),$$renameControl:Id,$removeControl:p,$setValidity:p,$setDirty:p,$setPristine:p,$setSubmitted:p,$$setSubmitted:p},zg="ng-pending",Ag="ng-submitted";Jd.$inject=["$element","$attrs","$scope","$animate","$interpolate"],Jd.prototype={$rollbackViewValue:function(){f(this.$$controls,function(a){a.$rollbackViewValue()})},$commitViewValue:function(){f(this.$$controls,function(a){a.$commitViewValue()})},$addControl:function(a){sa(a.$name,"input"),this.$$controls.push(a),a.$name&&(this[a.$name]=a),a.$$parentForm=this},$getControls:function(){return ya(this.$$controls)},$$renameControl:function(a,b){var c=a.$name;this[c]===a&&delete this[c],this[b]=a,a.$name=b},$removeControl:function(a){a.$name&&this[a.$name]===a&&delete this[a.$name],f(this.$pending,function(b,c){this.$setValidity(c,null,a)},this),f(this.$error,function(b,c){this.$setValidity(c,null,a)},this),f(this.$$success,function(b,c){this.$setValidity(c,null,a)},this),R(this.$$controls,a),a.$$parentForm=yg},$setDirty:function(){this.$$animate.removeClass(this.$$element,kh),this.$$animate.addClass(this.$$element,lh),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,kh,lh+" "+Ag),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,f(this.$$controls,function(a){a.$setPristine()})},$setUntouched:function(){f(this.$$controls,function(a){a.$setUntouched()})},$setSubmitted:function(){for(var a=this;a.$$parentForm&&a.$$parentForm!==yg;)a=a.$$parentForm;a.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,Ag),this.$submitted=!0,f(this.$$controls,function(a){a.$$setSubmitted&&a.$$setSubmitted()})}},Ld({clazz:Jd,set:function(a,b,c){var d=a[b];if(d){var e=d.indexOf(c);-1===e&&d.push(c)}else a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(R(d,c),0===d.length&&delete a[b])}});var Bg=function(a){return["$timeout","$parse",function(b,c){function d(a){return""===a?c('this[""]').assign:c(a).assign||p}var e={name:"form",restrict:a?"EAC":"E",require:["form","^^?form"],controller:Jd,compile:function(c,e){c.addClass(kh).addClass(ih);var f=e.name?"name":a&&e.ngForm?"ngForm":!1;return{pre:function(a,c,e,g){var h=g[0];if(!("action"in e)){var i=function(b){a.$apply(function(){h.$commitViewValue(),h.$setSubmitted()}),b.preventDefault()};c[0].addEventListener("submit",i),c.on("$destroy",function(){b(function(){c[0].removeEventListener("submit",i)},0,!1)})}var j=g[1]||h.$$parentForm;j.$addControl(h);var k=f?d(h.$name):p;f&&(k(a,h),e.$observe(f,function(b){h.$name!==b&&(k(a,void 0),h.$$parentForm.$$renameControl(h,b),(k=d(h.$name))(a,h))})),c.on("$destroy",function(){h.$$parentForm.$removeControl(h),k(a,void 0),l(h,yg)})}}}};return e}]},Cg=Bg(),Dg=Bg(!0),Eg=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Fg=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Gg=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Hg=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Ig=/^(\d{4,})-(\d{2})-(\d{2})$/,Jg=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Kg=/^(\d{4,})-W(\d\d)$/,Lg=/^(\d{4,})-(\d\d)$/,Mg=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ng="keydown wheel mousedown",Og=va();f("date,datetime-local,month,time,week".split(","),function(a){Og[a]=!0});var Pg={text:Od,date:Sd("date",Ig,Rd(Ig,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Sd("datetimelocal",Jg,Rd(Jg,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Sd("time",Mg,Rd(Mg,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Sd("week",Kg,Qd,"yyyy-Www"),month:Sd("month",Lg,Rd(Lg,["yyyy","MM"]),"yyyy-MM"),number:Zd,url:_d,email:ae,radio:be,range:$d,checkbox:de,hidden:p,button:p,submit:p,reset:p,file:p},Qg=["$browser","$sniffer","$filter","$parse",function(a,b,c,d){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,h){h[0]&&(Pg[ve(g.type)]||Pg.text)(e,f,g,h[0],b,a,c,d)}}}}],Rg=function(){var a={configurable:!0,enumerable:!1,get:function(){return this.getAttribute("value")||""},set:function(a){this.setAttribute("value",a)}};return{restrict:"E",priority:200,compile:function(b,c){return"hidden"===ve(c.type)?{pre:function(b,c,d,e){var f=c[0];f.parentNode&&f.parentNode.insertBefore(f,f.nextSibling),Object.defineProperty&&Object.defineProperty(f,"value",a)}}:void 0}}},Sg=/^(true|false|\d+)$/,Tg=function(){function a(a,b,c){var d=u(c)?c:9===ne?"":null;a.prop("value",d),b.$set("value",c)}return{restrict:"A",priority:100,compile:function(b,c){return Sg.test(c.ngValue)?function(b,c,d){var e=b.$eval(d.ngValue);a(c,d,e)}:function(b,c,d){b.$watch(d.ngValue,function(b){a(c,d,b)})}}}},Ug=["$compile",function(a){return{restrict:"AC",compile:function(b){return a.$$addBindingClass(b),function(b,c,d){a.$$addBindingInfo(c,d.ngBind),c=c[0],b.$watch(d.ngBind,function(a){c.textContent=wa(a)})}}}}],Vg=["$interpolate","$compile",function(a,b){return{compile:function(c){return b.$$addBindingClass(c),function(c,d,e){var f=a(d.attr(e.$attr.ngBindTemplate));b.$$addBindingInfo(d,f.expressions),d=d[0],e.$observe("ngBindTemplate",function(a){d.textContent=t(a)?"":a})}}}}],Wg=["$sce","$parse","$compile",function(a,b,c){return{restrict:"A",compile:function(d,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(b){return a.valueOf(b)});return c.$$addBindingClass(d),function(b,d,e){c.$$addBindingInfo(d,e.ngBindHtml),b.$watch(g,function(){var c=f(b);d.html(a.getTrustedHtml(c)||"")})}}}}],Xg=r({restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$viewChangeListeners.push(function(){a.$eval(c.ngChange)})}}),Yg=ee("",!0),Zg=ee("Odd",0),$g=ee("Even",1),_g=Hd({compile:function(a,b){b.$set("ngCloak",void 0),a.removeClass("ng-cloak")}}),ah=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],bh={},ch={blur:!0,focus:!0};f("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=Eb("ng-"+a);bh[b]=["$parse","$rootScope","$exceptionHandler",function(c,d,e){return fe(c,d,e,b,a,ch[a])}]});var dh=["$animate","$compile",function(a,b){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,i,j;c.$watch(e.ngIf,function(c){c?i||g(function(c,f){i=f,c[c.length++]=b.$$createComment("end ngIf",e.ngIf),h={clone:c},a.enter(c,d.parent(),d)}):(j&&(j.remove(),j=null),i&&(i.$destroy(),i=null),h&&(j=ua(h.clone),a.leave(j).done(function(a){a!==!1&&(j=null)}),h=null))})}}}],eh=["$templateRequest","$anchorScroll","$animate",function(a,b,c){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:De.noop,compile:function(d,e){var f=e.ngInclude||e.src,g=e.onload||"",h=e.autoscroll;return function(d,e,i,j,k){var l,m,n,o=0,p=function(){m&&(m.remove(),m=null),l&&(l.$destroy(),l=null),n&&(c.leave(n).done(function(a){a!==!1&&(m=null)}),m=n,n=null)};d.$watch(f,function(f){var i=function(a){a===!1||!u(h)||h&&!d.$eval(h)||b()},m=++o;f?(a(f,!0).then(function(a){if(!d.$$destroyed&&m===o){var b=d.$new();j.template=a;var h=k(b,function(a){p(),c.enter(a,null,e).done(i)});l=b,n=h,l.$emit("$includeContentLoaded",f),d.$eval(g)}},function(){d.$$destroyed||m===o&&(p(),d.$emit("$includeContentError",f))}),d.$emit("$includeContentRequested",f)):(p(),j.template=null)})}}}}],fh=["$compile",function(b){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(c,d,e,f){return Ae.call(d[0]).match(/SVG/)?(d.empty(),void b(Ja(f.template,a.document).childNodes)(c,function(a){d.append(a)},{futureParentElement:d})):(d.html(f.template),void b(d.contents())(c))}}}],gh=Hd({priority:450,compile:function(){return{pre:function(a,b,c){a.$eval(c.ngInit)}}}}),hh=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,c,d){var e=c.ngList||", ",g="false"!==c.ngTrim,h=g?He(e):e,i=function(a){if(!t(a)){var b=[];return a&&f(a.split(h),function(a){a&&b.push(g?He(a):a)}),b}};d.$parsers.push(i),d.$formatters.push(function(a){return A(a)?a.join(e):void 0}),d.$isEmpty=function(a){return!a||!a.length}}}},ih="ng-valid",jh="ng-invalid",kh="ng-pristine",lh="ng-dirty",mh="ng-untouched",nh="ng-touched",oh="ng-empty",ph="ng-not-empty",qh=d("ngModel");ge.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],ge.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var a=this.$$parse(this.$$attr.ngModel+"()"),b=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(b){var c=this.$$parsedNgModel(b);return C(c)&&(c=a(b)),c},this.$$ngModelSet=function(a,c){C(this.$$parsedNgModel(a))?b(a,{$$$p:c}):this.$$parsedNgModelAssign(a,c)}}else if(!this.$$parsedNgModel.assign)throw qh("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,ca(this.$$element))},$render:p,$isEmpty:function(a){return t(a)||""===a||null===a||a!==a},$$updateEmptyClasses:function(a){this.$isEmpty(a)?(this.$$animate.removeClass(this.$$element,ph),this.$$animate.addClass(this.$$element,oh)):(this.$$animate.removeClass(this.$$element,oh),this.$$animate.addClass(this.$$element,ph))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,lh),this.$$animate.addClass(this.$$element,kh)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,kh),this.$$animate.addClass(this.$$element,lh),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,mh,nh)},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,nh,mh)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!Fe(this.$modelValue)){var a=this.$$lastCommittedViewValue,b=this.$$rawModelValue,c=this.$valid,d=this.$modelValue,e=this.$options.getOption("allowInvalid"),f=this;this.$$runValidators(b,a,function(a){e||c===a||(f.$modelValue=a?b:void 0,f.$modelValue!==d&&f.$$writeModelToScope())})}},$$runValidators:function(a,b,c){function d(){var a=k.$$parserName;return t(k.$$parserValid)?(h(a,null),!0):(k.$$parserValid||(f(k.$validators,function(a,b){h(b,null)}),f(k.$asyncValidators,function(a,b){h(b,null)})),h(a,k.$$parserValid),k.$$parserValid)}function e(){var c=!0;return f(k.$validators,function(d,e){var f=Boolean(d(a,b));c=c&&f,h(e,f)}),c?!0:(f(k.$asyncValidators,function(a,b){h(b,null)}),!1)}function g(){var c=[],d=!0;f(k.$asyncValidators,function(e,f){var g=e(a,b);if(!K(g))throw qh("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",g);h(f,void 0),c.push(g.then(function(){h(f,!0)},function(){d=!1,h(f,!1)}))}),c.length?k.$$q.all(c).then(function(){i(d)},p):i(!0)}function h(a,b){j===k.$$currentValidationRunId&&k.$setValidity(a,b)}function i(a){j===k.$$currentValidationRunId&&c(a)}this.$$currentValidationRunId++;var j=this.$$currentValidationRunId,k=this;return d()&&e()?void g():void i(!1)},$commitViewValue:function(){var a=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==a||""===a&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(a),this.$$lastCommittedViewValue=a,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){function a(){d.$modelValue!==f&&d.$$writeModelToScope()}var b=this.$$lastCommittedViewValue,c=b,d=this;if(this.$$parserValid=t(c)?void 0:!0,this.$setValidity(this.$$parserName,null),this.$$parserName="parse",this.$$parserValid)for(var e=0;e<this.$parsers.length;e++)if(c=this.$parsers[e](c),t(c)){this.$$parserValid=!1;break}Fe(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var f=this.$modelValue,g=this.$options.getOption("allowInvalid");this.$$rawModelValue=c,g&&(this.$modelValue=c,a()),this.$$runValidators(c,this.$$lastCommittedViewValue,function(b){g||(d.$modelValue=b?c:void 0,a())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),f(this.$viewChangeListeners,function(a){try{a()}catch(b){this.$$exceptionHandler(b)}},this)},$setViewValue:function(a,b){this.$viewValue=a,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(b)},$$debounceViewValueCommit:function(a){var b=this.$options.getOption("debounce");y(b[a])?b=b[a]:y(b["default"])&&-1===this.$options.getOption("updateOn").indexOf(a)?b=b["default"]:y(b["*"])&&(b=b["*"]),this.$$timeout.cancel(this.$$pendingDebounce);var c=this;b>0?this.$$pendingDebounce=this.$$timeout(function(){c.$commitViewValue()},b):this.$$rootScope.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){c.$commitViewValue()})},$overrideModelOptions:function(a){this.$options=this.$options.createChild(a),this.$$setUpdateOnEvents()},$processModelValue:function(){var a=this.$$format();this.$viewValue!==a&&(this.$$updateEmptyClasses(a),this.$viewValue=this.$$lastCommittedViewValue=a,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,p))},$$format:function(){for(var a=this.$formatters,b=a.length,c=this.$modelValue;b--;)c=a[b](c);return c},$$setModelValue:function(a){this.$modelValue=this.$$rawModelValue=a,this.$$parserValid=void 0,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),this.$$updateEvents=this.$options.getOption("updateOn"),this.$$updateEvents&&this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(a){this.$$debounceViewValueCommit(a&&a.type)}},Ld({clazz:ge,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]}});var rh,sh=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ge,priority:1,compile:function(b){return b.addClass(kh).addClass(mh).addClass(ih),{pre:function(a,b,c,d){var e=d[0],f=d[1]||e.$$parentForm,g=d[2];g&&(e.$options=g.$options),e.$$initGetterSetters(),f.$addControl(e),c.$observe("name",function(a){e.$name!==a&&e.$$parentForm.$$renameControl(e,a)}),a.$on("$destroy",function(){e.$$parentForm.$removeControl(e)})},post:function(b,c,d,e){function f(){g.$setTouched()}var g=e[0];g.$$setUpdateOnEvents(),c.on("blur",function(){g.$touched||(a.$$phase?b.$evalAsync(f):b.$apply(f))})}}}}}],th=/(\s+|^)default(\s+|$)/;ie.prototype={getOption:function(a){return this.$$options[a]},createChild:function(a){var b=!1;return a=l({},a),f(a,function(c,d){"$inherit"===c?"*"===d?b=!0:(a[d]=this.$$options[d],"updateOn"===d&&(a.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===d&&(a.updateOnDefault=!1,a[d]=He(c.replace(th,function(){return a.updateOnDefault=!0," "})))},this),b&&(delete a["*"],je(a,this.$$options)),je(a,rh.$$options),new ie(a)}},rh=new ie({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var uh=function(){function a(a,b){this.$$attrs=a,this.$$scope=b}return a.$inject=["$attrs","$scope"],a.prototype={$onInit:function(){var a=this.parentCtrl?this.parentCtrl.$options:rh,b=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=a.createChild(b)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:a}},vh=Hd({terminal:!0,priority:1e3}),wh=d("ngOptions"),xh=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,yh=["$compile","$document","$parse",function(b,c,d){function g(a,b,c){function f(a,b,c,d,e){this.selectValue=a,this.viewValue=b,this.label=c,this.group=d,this.disabled=e}function g(a){var b;if(!j&&e(a))b=a;else{b=[];for(var c in a)a.hasOwnProperty(c)&&"$"!==c.charAt(0)&&b.push(c)}return b}var h=a.match(xh);if(!h)throw wh("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",a,ca(b));var i=h[5]||h[7],j=h[6],k=/ as /.test(h[0])&&h[1],l=h[9],m=d(h[2]?h[1]:i),n=k&&d(k),o=n||m,p=l&&d(l),q=l?function(a,b){return p(c,b)}:function(a){return jb(a)},r=function(a,b){return q(a,x(a,b))},s=d(h[2]||h[1]),t=d(h[3]||""),u=d(h[4]||""),v=d(h[8]),w={},x=j?function(a,b){return w[j]=b,w[i]=a,w}:function(a){return w[i]=a,w};return{trackBy:l,getTrackByValue:r,getWatchables:d(v,function(a){var b=[];a=a||[];for(var d=g(a),e=d.length,f=0;e>f;f++){var i=a===d?f:d[f],j=a[i],k=x(j,i),l=q(j,k);if(b.push(l),h[2]||h[1]){var m=s(c,k);b.push(m)}if(h[4]){var n=u(c,k);b.push(n)}}return b}),getOptions:function(){for(var a=[],b={},d=v(c)||[],e=g(d),h=e.length,i=0;h>i;i++){var j=d===e?i:e[i],k=d[j],m=x(k,j),n=o(c,m),p=q(n,m),w=s(c,m),y=t(c,m),z=u(c,m),A=new f(p,n,w,y,z);a.push(A),b[p]=A}return{items:a,selectValueMap:b,getOptionFromViewValue:function(a){return b[r(a)]},getViewValueFromOption:function(a){return l?S(a.viewValue):a.viewValue}}}}}function h(a,d,e,h){function k(a,b){var c=i.cloneNode(!1);b.appendChild(c),m(a,c)}function l(a){var b=x.getOptionFromViewValue(a),c=b&&b.element;return c&&!c.selected&&(c.selected=!0),b}function m(a,b){a.element=b,b.disabled=a.disabled,a.label!==b.label&&(b.label=a.label,b.textContent=a.label),b.value=a.selectValue}function n(){var a=x&&o.readValue();if(x)for(var b=x.items.length-1;b>=0;b--){var c=x.items[b];ab(u(c.group)?c.element.parentNode:c.element)}x=y.getOptions();var e={};if(x.items.forEach(function(a){var b;u(a.group)?(b=e[a.group],b||(b=j.cloneNode(!1),z.appendChild(b),b.label=null===a.group?"null":a.group,e[a.group]=b),k(a,b)):k(a,z)}),d[0].appendChild(z),p.$render(),!p.$isEmpty(a)){var f=o.readValue(),g=y.trackBy||q;(g?U(a,f):a===f)||(p.$setViewValue(f),p.$render())}}for(var o=h[0],p=h[1],q=e.multiple,r=0,s=d.children(),t=s.length;t>r;r++)if(""===s[r].value){o.hasEmptyOption=!0,o.emptyOption=s.eq(r);break}d.empty();var v=!!o.emptyOption,w=oe(i.cloneNode(!1));w.val("?");var x,y=g(e.ngOptions,d,a),z=c[0].createDocumentFragment();o.generateUnknownOptionValue=function(a){return"?"},q?(o.writeValue=function(a){if(x){var b=a&&a.map(l)||[];x.items.forEach(function(a){a.element.selected&&!Q(b,a)&&(a.element.selected=!1)})}},o.readValue=function(){var a=d.val()||[],b=[];return f(a,function(a){var c=x.selectValueMap[a];c&&!c.disabled&&b.push(x.getViewValueFromOption(c))}),b},y.trackBy&&a.$watchCollection(function(){return A(p.$viewValue)?p.$viewValue.map(function(a){
return y.getTrackByValue(a)}):void 0},function(){p.$render()})):(o.writeValue=function(a){if(x){var b=d[0].options[d[0].selectedIndex],c=x.getOptionFromViewValue(a);b&&b.removeAttribute("selected"),c?(d[0].value!==c.selectValue&&(o.removeUnknownOption(),d[0].value=c.selectValue,c.element.selected=!0),c.element.setAttribute("selected","selected")):o.selectUnknownOrEmptyOption(a)}},o.readValue=function(){var a=x.selectValueMap[d.val()];return a&&!a.disabled?(o.unselectEmptyOption(),o.removeUnknownOption(),x.getViewValueFromOption(a)):null},y.trackBy&&a.$watch(function(){return y.getTrackByValue(p.$viewValue)},function(){p.$render()})),v&&(b(o.emptyOption)(a),d.prepend(o.emptyOption),o.emptyOption[0].nodeType===Te?(o.hasEmptyOption=!1,o.registerOption=function(a,b){""===b.val()&&(o.hasEmptyOption=!0,o.emptyOption=b,o.emptyOption.removeClass("ng-scope"),p.$render(),b.on("$destroy",function(){var a=o.$isEmptyOptionSelected();o.hasEmptyOption=!1,o.emptyOption=void 0,a&&p.$render()}))}):o.emptyOption.removeClass("ng-scope")),a.$watchCollection(y.getWatchables,n)}var i=a.document.createElement("option"),j=a.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(a,b,c,d){d[0].registerOption=p},post:h}}}],zh=["$locale","$interpolate","$log",function(a,b,c){var d=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(g,h,i){function j(a){h.text(a||"")}var k,l=i.count,m=i.$attr.when&&h.attr(i.$attr.when),n=i.offset||0,o=g.$eval(m)||{},q={},r=b.startSymbol(),s=b.endSymbol(),u=r+l+"-"+n+s,v=De.noop;f(i,function(a,b){var c=e.exec(b);if(c){var d=(c[1]?"-":"")+ve(c[2]);o[d]=h.attr(i.$attr[b])}}),f(o,function(a,c){q[c]=b(a.replace(d,u))}),g.$watch(l,function(b){var d=parseFloat(b),e=Fe(d);if(e||d in o||(d=a.pluralCat(d-n)),!(d===k||e&&Fe(k))){v();var f=q[d];t(f)?(null!=b&&c.debug("ngPluralize: no rule defined for '"+d+"' in "+m),v=p,j()):v=g.$watch(f,j),k=d}})}}}],Ah=d("ngRef"),Bh=["$parse",function(a){return{priority:-1,restrict:"A",compile:function(b,c){var d=Eb(P(b)),e=a(c.ngRef),f=e.assign||function(){throw Ah("nonassign",'Expression in ngRef="{0}" is non-assignable!',c.ngRef)};return function(a,b,g){var h;if(g.hasOwnProperty("ngRefRead")){if("$element"===g.ngRefRead)h=b;else if(h=b.data("$"+g.ngRefRead+"Controller"),!h)throw Ah("noctrl",'The controller for ngRefRead="{0}" could not be found on ngRef="{1}"',g.ngRefRead,c.ngRef)}else h=b.data("$"+d+"Controller");h=h||b,f(a,h),b.on("$destroy",function(){e(a)===h&&f(a,null)})}}}}],Ch=["$parse","$animate","$compile",function(a,b,c){var g="$$NG_REMOVED",h=d("ngRepeat"),i=function(a,b,c,d,e,f,g){a[c]=d,e&&(a[e]=f),a.$index=b,a.$first=0===b,a.$last=b===g-1,a.$middle=!(a.$first||a.$last),a.$odd=!(a.$even=0===(1&b))},j=function(a){return a.clone[0]},k=function(a){return a.clone[a.clone.length-1]},l=function(a,b,c){return jb(c)},m=function(a,b){return b};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(d,n){var o=n.ngRepeat,p=c.$$createComment("end ngRepeat",o),q=o.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!q)throw h("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",o);var r=q[1],s=q[2],t=q[3],u=q[4];if(q=r.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/),!q)throw h("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",r);var v=q[3]||q[1],w=q[2];if(t&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(t)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(t)))throw h("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",t);var x;if(u){var y={$id:jb},z=a(u);x=function(a,b,c,d){return w&&(y[w]=b),y[v]=c,y.$index=d,z(a,y)}}return function(a,c,d,n,q){var r=va();a.$watchCollection(s,function(d){var n,s,u,z,A,B,C,D,E,F,G,H,I=c[0],J=va();if(t&&(a[t]=d),e(d))E=d,D=x||l;else{D=x||m,E=[];for(var K in d)ue.call(d,K)&&"$"!==K.charAt(0)&&E.push(K)}for(z=E.length,G=new Array(z),n=0;z>n;n++)if(A=d===E?n:E[n],B=d[A],C=D(a,A,B,n),r[C])F=r[C],delete r[C],J[C]=F,G[n]=F;else{if(J[C])throw f(G,function(a){a&&a.scope&&(r[a.id]=a)}),h("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",o,C,B);G[n]={id:C,scope:void 0,clone:void 0},J[C]=!0}y&&(y[v]=void 0);for(var L in r){if(F=r[L],H=ua(F.clone),b.leave(H),H[0].parentNode)for(n=0,s=H.length;s>n;n++)H[n][g]=!0;F.scope.$destroy()}for(n=0;z>n;n++)if(A=d===E?n:E[n],B=d[A],F=G[n],F.scope){u=I;do u=u.nextSibling;while(u&&u[g]);j(F)!==u&&b.move(ua(F.clone),null,I),I=k(F),i(F.scope,n,v,B,w,A,z)}else q(function(a,c){F.scope=c;var d=p.cloneNode(!1);a[a.length++]=d,b.enter(a,null,I),I=d,F.clone=a,J[F.id]=F,i(F.scope,n,v,B,w,A,z)});r=J})}}}}],Dh="ng-hide",Eh="ng-hide-animate",Fh=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngShow,function(b){a[b?"removeClass":"addClass"](c,Dh,{tempClasses:Eh})})}}}],Gh=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngHide,function(b){a[b?"addClass":"removeClass"](c,Dh,{tempClasses:Eh})})}}}],Hh=Hd(function(a,b,c){a.$watchCollection(c.ngStyle,function(a,c){c&&a!==c&&(a||(a={}),f(c,function(b,c){null==a[c]&&(a[c]="")})),a&&b.css(a)})}),Ih=["$animate","$compile",function(a,b){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(c,d,e,g){var h=e.ngSwitch||e.on,i=[],j=[],k=[],l=[],m=function(a,b){return function(c){c!==!1&&a.splice(b,1)}};c.$watch(h,function(c){for(var d,e;k.length;)a.cancel(k.pop());for(d=0,e=l.length;e>d;++d){var h=ua(j[d].clone);l[d].$destroy();var n=k[d]=a.leave(h);n.done(m(k,d))}j.length=0,l.length=0,(i=g.cases["!"+c]||g.cases["?"])&&f(i,function(c){c.transclude(function(d,e){l.push(e);var f=c.element;d[d.length++]=b.$$createComment("end ngSwitchWhen");var g={clone:d};j.push(g),a.enter(d,f.parent(),f)})})})}}}],Jh=Hd({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){var g=c.ngSwitchWhen.split(c.ngSwitchWhenSeparator).sort().filter(function(a,b,c){return c[b-1]!==a});f(g,function(a){d.cases["!"+a]=d.cases["!"+a]||[],d.cases["!"+a].push({transclude:e,element:b})})}}),Kh=Hd({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["?"]=d.cases["?"]||[],d.cases["?"].push({transclude:e,element:b})}}),Lh=d("ngTransclude"),Mh=["$compile",function(a){return{restrict:"EAC",compile:function(b){var c=a(b.contents());return b.empty(),function(a,b,d,e,f){function g(a,c){a.length&&i(a)?b.append(a):(h(),c.$destroy())}function h(){c(a,function(a){b.append(a)})}function i(a){for(var b=0,c=a.length;c>b;b++){var d=a[b];if(d.nodeType!==Se||d.nodeValue.trim())return!0}}if(!f)throw Lh("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",ca(b));d.ngTransclude===d.$attr.ngTransclude&&(d.ngTransclude="");var j=d.ngTransclude||d.ngTranscludeSlot;f(g,null,j),j&&!f.isSlotFilled(j)&&h()}}}}],Nh=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,c){if("text/ng-template"===c.type){var d=c.id,e=b[0].text;a.put(d,e)}}}}],Oh={$setViewValue:p,$render:p},Ph=["$element","$scope",function(b,c){function d(){h||(h=!0,c.$$postDigest(function(){h=!1,f.ngModelCtrl.$render()}))}function e(a){i||(i=!0,c.$$postDigest(function(){c.$$destroyed||(i=!1,f.ngModelCtrl.$setViewValue(f.readValue()),a&&f.ngModelCtrl.$render())}))}var f=this,g=new nf;f.selectValueMap={},f.ngModelCtrl=Oh,f.multiple=!1,f.unknownOption=oe(a.document.createElement("option")),f.hasEmptyOption=!1,f.emptyOption=void 0,f.renderUnknownOption=function(a){var c=f.generateUnknownOptionValue(a);f.unknownOption.val(c),b.prepend(f.unknownOption),ke(f.unknownOption,!0),b.val(c)},f.updateUnknownOption=function(a){var c=f.generateUnknownOptionValue(a);f.unknownOption.val(c),ke(f.unknownOption,!0),b.val(c)},f.generateUnknownOptionValue=function(a){return"? "+jb(a)+" ?"},f.removeUnknownOption=function(){f.unknownOption.parent()&&f.unknownOption.remove()},f.selectEmptyOption=function(){f.emptyOption&&(b.val(""),ke(f.emptyOption,!0))},f.unselectEmptyOption=function(){f.hasEmptyOption&&ke(f.emptyOption,!1)},c.$on("$destroy",function(){f.renderUnknownOption=p}),f.readValue=function(){var a=b.val(),c=a in f.selectValueMap?f.selectValueMap[a]:a;return f.hasOption(c)?c:null},f.writeValue=function(a){var c=b[0].options[b[0].selectedIndex];if(c&&ke(oe(c),!1),f.hasOption(a)){f.removeUnknownOption();var d=jb(a);b.val(d in f.selectValueMap?d:a);var e=b[0].options[b[0].selectedIndex];ke(oe(e),!0)}else f.selectUnknownOrEmptyOption(a)},f.addOption=function(a,b){if(b[0].nodeType!==Te){sa(a,'"option value"'),""===a&&(f.hasEmptyOption=!0,f.emptyOption=b);var c=g.get(a)||0;g.set(a,c+1),d()}},f.removeOption=function(a){var b=g.get(a);b&&(1===b?(g["delete"](a),""===a&&(f.hasEmptyOption=!1,f.emptyOption=void 0)):g.set(a,b-1))},f.hasOption=function(a){return!!g.get(a)},f.$hasEmptyOption=function(){return f.hasEmptyOption},f.$isUnknownOptionSelected=function(){return b[0].options[0]===f.unknownOption[0]},f.$isEmptyOptionSelected=function(){return f.hasEmptyOption&&b[0].options[b[0].selectedIndex]===f.emptyOption[0]},f.selectUnknownOrEmptyOption=function(a){null==a&&f.emptyOption?(f.removeUnknownOption(),f.selectEmptyOption()):f.unknownOption.parent().length?f.updateUnknownOption(a):f.renderUnknownOption(a)};var h=!1,i=!1;f.registerOption=function(a,b,c,g,h){if(c.$attr.ngValue){var i,j;c.$observe("value",function(a){var c,d=b.prop("selected");u(j)&&(f.removeOption(i),delete f.selectValueMap[j],c=!0),j=jb(a),i=a,f.selectValueMap[j]=a,f.addOption(a,b),b.attr("value",j),c&&d&&e()})}else g?c.$observe("value",function(a){f.readValue();var c,d=b.prop("selected");u(i)&&(f.removeOption(i),c=!0),i=a,f.addOption(a,b),c&&d&&e()}):h?a.$watch(h,function(a,d){c.$set("value",a);var g=b.prop("selected");d!==a&&f.removeOption(d),f.addOption(a,b),d&&g&&e()}):f.addOption(c.value,b);c.$observe("disabled",function(a){("true"===a||a&&b.prop("selected"))&&(f.multiple?e(!0):(f.ngModelCtrl.$setViewValue(null),f.ngModelCtrl.$render()))}),b.on("$destroy",function(){var a=f.readValue(),b=c.value;f.removeOption(b),d(),(f.multiple&&a&&-1!==a.indexOf(b)||a===b)&&e(!0)})}}],Qh=function(){function a(a,b,c,d){var e=d[0],g=d[1];if(!g)return void(e.registerOption=p);if(e.ngModelCtrl=g,b.on("change",function(){e.removeUnknownOption(),a.$apply(function(){g.$setViewValue(e.readValue())})}),c.multiple){e.multiple=!0,e.readValue=function(){var a=[];return f(b.find("option"),function(b){if(b.selected&&!b.disabled){var c=b.value;a.push(c in e.selectValueMap?e.selectValueMap[c]:c)}}),a},e.writeValue=function(a){f(b.find("option"),function(b){var c=!!a&&(Q(a,b.value)||Q(a,e.selectValueMap[b.value])),d=b.selected;c!==d&&ke(oe(b),c)})};var h,i=NaN;a.$watch(function(){i!==g.$viewValue||U(h,g.$viewValue)||(h=ya(g.$viewValue),g.$render()),i=g.$viewValue}),g.$isEmpty=function(a){return!a||0===a.length}}}function b(a,b,c,d){var e=d[1];if(e){var f=d[0];e.$render=function(){f.writeValue(e.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:Ph,priority:1,link:{pre:a,post:b}}},Rh=["$interpolate",function(a){return{restrict:"E",priority:100,compile:function(b,c){var d,e;return u(c.ngValue)||(u(c.value)?d=a(c.value,!0):(e=a(b.text(),!0),e||c.$set("value",b.text()))),function(a,b,c){var f="$selectController",g=b.parent(),h=g.data(f)||g.parent().data(f);h&&h.registerOption(a,b,c,d,e)}}}}],Sh=["$parse",function(a){return{restrict:"A",require:"?ngModel",link:function(b,c,d,e){if(e){var f=d.hasOwnProperty("required")||a(d.ngRequired)(b);d.ngRequired||(d.required=!0),e.$validators.required=function(a,b){return!f||!e.$isEmpty(b)},d.$observe("required",function(a){f!==a&&(f=a,e.$validate())})}}}}],Th=["$parse",function(a){return{restrict:"A",require:"?ngModel",compile:function(b,c){var d,e;return c.ngPattern&&(d=c.ngPattern,e="/"===c.ngPattern.charAt(0)&&se.test(c.ngPattern)?function(){return c.ngPattern}:a(c.ngPattern)),function(a,b,c,f){if(f){var g=c.pattern;c.ngPattern?g=e(a):d=c.pattern;var h=le(g,d,b);c.$observe("pattern",function(a){var c=h;h=le(a,d,b),(c&&c.toString())!==(h&&h.toString())&&f.$validate()}),f.$validators.pattern=function(a,b){return f.$isEmpty(b)||t(h)||h.test(b)}}}}}}],Uh=["$parse",function(a){return{restrict:"A",require:"?ngModel",link:function(b,c,d,e){if(e){var f=d.maxlength||a(d.ngMaxlength)(b),g=me(f);d.$observe("maxlength",function(a){f!==a&&(g=me(a),f=a,e.$validate())}),e.$validators.maxlength=function(a,b){return 0>g||e.$isEmpty(b)||b.length<=g}}}}}],Vh=["$parse",function(a){return{restrict:"A",require:"?ngModel",link:function(b,c,d,e){if(e){var f=d.minlength||a(d.ngMinlength)(b),g=me(f)||-1;d.$observe("minlength",function(a){f!==a&&(g=me(a)||-1,f=a,e.$validate())}),e.$validators.minlength=function(a,b){return e.$isEmpty(b)||b.length>=g}}}}}];return a.angular.bootstrap?void(a.console&&console.log("WARNING: Tried to load AngularJS more than once.")):(pa(),Ba(De),De.module("ngLocale",[],["$provide",function(a){function b(a){a+="";var b=a.indexOf(".");return-1==b?0:a.length-b-1}function c(a,c){var d=c;void 0===d&&(d=Math.min(b(a),3));var e=Math.pow(10,d),f=(a*e|0)%e;return{v:d,f:f}}var d={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(a,b){var e=0|a,f=c(a,b);return 1==e&&0==f.v?d.ONE:d.OTHER}})}]),void oe(function(){ka(a.document,la)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1||b[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.4.1",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,"")),f="#"===f?[]:f;var g=a(document).find(f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.4.1",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c).prop(c,!0)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c).prop(c,!1))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")?(c.prop("checked")&&(a=!1),b.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==c.prop("type")&&(c.prop("checked")!==this.$element.hasClass("active")&&(a=!1),this.$element.toggleClass("active")),c.prop("checked",this.$element.hasClass("active")),a&&c.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target).closest(".btn");b.call(d,"toggle"),a(c.target).is('input[type="radio"], input[type="checkbox"]')||(c.preventDefault(),d.is("input,button")?d.trigger("focus"):d.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.4.1",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b),d="prev"==a&&0===c||"next"==a&&c==this.$items.length-1;if(d&&!this.options.wrap)return b;var e="prev"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide("next")},c.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i=this;if(f.hasClass("active"))return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),"object"==typeof f&&f.length&&f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d=a(this),e=d.attr("href");e&&(e=e.replace(/.*(?=#[^\s]+$)/,""));var f=d.attr("data-target")||e,g=a(document).find(f);if(g.hasClass("carousel")){var h=a.extend({},g.data(),d.data()),i=d.attr("data-slide-to");i&&(h.interval=!1),b.call(g,h),i&&g.data("bs.carousel").to(i),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(document).find(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.4.1",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(document).find(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();c.call(f,h)})}(jQuery),+function(a){"use strict";function b(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d="#"!==c?a(document).find(c):null;return d&&d.length?d:b.parent()}function c(c){c&&3===c.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=b(d),f={relatedTarget:this};e.hasClass("open")&&(c&&"click"==c.type&&/input|textarea/i.test(c.target.tagName)&&a.contains(e[0],c.target)||(e.trigger(c=a.Event("hide.bs.dropdown",f)),c.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",f)))))}))}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.4.1",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=b(e),g=f.hasClass("open");if(c(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",c);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger(a.Event("shown.bs.dropdown",h))}return!1}},g.prototype.keydown=function(c){if(/(38|40|27|32)/.test(c.which)&&!/input|textarea/i.test(c.target.tagName)){var d=a(this);if(c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled")){var e=b(d),g=e.hasClass("open");if(!g&&27!=c.which||g&&27==c.which)return 27==c.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.disabled):visible a",i=e.find(".dropdown-menu"+h);if(i.length){var j=i.index(c.target);38==c.which&&j>0&&j--,40==c.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",c).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.fixedContent=".navbar-fixed-top, .navbar-fixed-bottom",this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.4.1",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in"),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){document===a.target||this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal");
},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+e).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.adjustDialog()},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var b=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";var c=this.scrollbarWidth;this.bodyIsOverflowing&&(this.$body.css("padding-right",b+c),a(this.fixedContent).each(function(b,d){var e=d.style.paddingRight,f=a(d).css("padding-right");a(d).data("padding-right",e).css("padding-right",parseFloat(f)+c+"px")}))},c.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad),a(this.fixedContent).each(function(b,c){var d=a(c).data("padding-right");a(c).removeData("padding-right"),c.style.paddingRight=d?d:""})},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,""),g=a(document).find(f),h=g.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},g.data(),d.data());d.is("a")&&c.preventDefault(),g.one("show.bs.modal",function(a){a.isDefaultPrevented()||g.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(g,h,this)})}(jQuery),+function(a){"use strict";function b(b,c){var d=b.nodeName.toLowerCase();if(-1!==a.inArray(d,c))return-1!==a.inArray(d,f)?Boolean(b.nodeValue.match(i)||b.nodeValue.match(j)):!0;for(var e=a(c).filter(function(a,b){return b instanceof RegExp}),g=0,h=e.length;h>g;g++)if(d.match(e[g]))return!0;return!1}function c(c,d,e){if(0===c.length)return c;if(e&&"function"==typeof e)return e(c);if(!document.implementation||!document.implementation.createHTMLDocument)return c;var f=document.implementation.createHTMLDocument("sanitization");f.body.innerHTML=c;for(var g=a.map(d,function(a,b){return b}),h=a(f.body).find("*"),i=0,j=h.length;j>i;i++){var k=h[i],l=k.nodeName.toLowerCase();if(-1!==a.inArray(l,g))for(var m=a.map(k.attributes,function(a){return a}),n=[].concat(d["*"]||[],d[l]||[]),o=0,p=m.length;p>o;o++)b(m[o],n)||k.removeAttribute(m[o].nodeName);else k.parentNode.removeChild(k)}return f.body.innerHTML}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.tooltip"),e="object"==typeof b&&b;(d||!/destroy|hide/.test(b))&&(d||c.data("bs.tooltip",d=new k(this,e)),"string"==typeof b&&d[b]())})}var e=["sanitize","whiteList","sanitizeFn"],f=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],g=/^aria-[\w-]*$/i,h={"*":["class","dir","id","lang","role",g],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},i=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,j=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,k=function(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",a,b)};k.VERSION="3.4.1",k.TRANSITION_DURATION=150,k.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0},sanitize:!0,sanitizeFn:null,whiteList:h},k.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(document).find(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},k.prototype.getDefaults=function(){return k.DEFAULTS},k.prototype.getOptions=function(b){var d=this.$element.data();for(var f in d)d.hasOwnProperty(f)&&-1!==a.inArray(f,e)&&delete d[f];return b=a.extend({},this.getDefaults(),d,b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b.sanitize&&(b.template=c(b.template,b.whiteList,b.sanitizeFn)),b},k.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},k.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusin"==b.type?"focus":"hover"]=!0),c.tip().hasClass("in")||"in"==c.hoverState?void(c.hoverState="in"):(clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},k.prototype.isInStateTrue=function(){for(var a in this.inState)if(this.inState[a])return!0;return!1},k.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusout"==b.type?"focus":"hover"]=!1),c.isInStateTrue()?void 0:(clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide())},k.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var c=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!c)return;var d=this,e=this.tip(),f=this.getUID(this.type);this.setContent(),e.attr("id",f),this.$element.attr("aria-describedby",f),this.options.animation&&e.addClass("fade");var g="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,h=/\s?auto?\s?/i,i=h.test(g);i&&(g=g.replace(h,"")||"top"),e.detach().css({top:0,left:0,display:"block"}).addClass(g).data("bs."+this.type,this),this.options.container?e.appendTo(a(document).find(this.options.container)):e.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var j=this.getPosition(),l=e[0].offsetWidth,m=e[0].offsetHeight;if(i){var n=g,o=this.getPosition(this.$viewport);g="bottom"==g&&j.bottom+m>o.bottom?"top":"top"==g&&j.top-m<o.top?"bottom":"right"==g&&j.right+l>o.width?"left":"left"==g&&j.left-l<o.left?"right":g,e.removeClass(n).addClass(g)}var p=this.getCalculatedOffset(g,j,l,m);this.applyPlacement(p,g);var q=function(){var a=d.hoverState;d.$element.trigger("shown.bs."+d.type),d.hoverState=null,"out"==a&&d.leave(d)};a.support.transition&&this.$tip.hasClass("fade")?e.one("bsTransitionEnd",q).emulateTransitionEnd(k.TRANSITION_DURATION):q()}},k.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top+=g,b.left+=h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},k.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},k.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();this.options.html?(this.options.sanitize&&(b=c(b,this.options.whiteList,this.options.sanitizeFn)),a.find(".tooltip-inner").html(b)):a.find(".tooltip-inner").text(b),a.removeClass("fade in top bottom left right")},k.prototype.hide=function(b){function c(){"in"!=d.hoverState&&e.detach(),d.$element&&d.$element.removeAttr("aria-describedby").trigger("hidden.bs."+d.type),b&&b()}var d=this,e=a(this.$tip),f=a.Event("hide.bs."+this.type);return this.$element.trigger(f),f.isDefaultPrevented()?void 0:(e.removeClass("in"),a.support.transition&&e.hasClass("fade")?e.one("bsTransitionEnd",c).emulateTransitionEnd(k.TRANSITION_DURATION):c(),this.hoverState=null,this)},k.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},k.prototype.hasContent=function(){return this.getTitle()},k.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=window.SVGElement&&c instanceof window.SVGElement,g=d?{top:0,left:0}:f?null:b.offset(),h={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},i=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,h,i,g)},k.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},k.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e},k.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},k.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},k.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},k.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},k.prototype.enable=function(){this.enabled=!0},k.prototype.disable=function(){this.enabled=!1},k.prototype.toggleEnabled=function(){this.enabled=!this.enabled},k.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),b?(c.inState.click=!c.inState.click,c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass("in")?c.leave(c):c.enter(c)},k.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type),a.$tip&&a.$tip.detach(),a.$tip=null,a.$arrow=null,a.$viewport=null,a.$element=null})},k.prototype.sanitizeHtml=function(a){return c(a,this.options.whiteList,this.options.sanitizeFn)};var l=a.fn.tooltip;a.fn.tooltip=d,a.fn.tooltip.Constructor=k,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=l,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.4.1",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();if(this.options.html){var d=typeof c;this.options.sanitize&&(b=this.sanitizeHtml(b),"string"===d&&(c=this.sanitizeHtml(c))),a.find(".popover-title").html(b),a.find(".popover-content").children().detach().end()["string"===d?"html":"append"](c)}else a.find(".popover-title").text(b),a.find(".popover-content").children().detach().end().text(c);a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.4.1",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=this,c="offset",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data("target")||b.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.4.1",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(document).find(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d);var e=this.options.target===c.DEFAULTS.target?a(this.options.target):a(document).find(this.options.target);this.$target=e.on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.4.1",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return c>e?"top":!1;if("bottom"==this.affixed)return null!=c?e+this.unpin<=f.top?!1:"bottom":a-d>=e+g?!1:"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&c>=e?"top":null!=d&&i+j>=a-d?"bottom":!1},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=Math.max(a(document).height(),a(document.body).height());"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery),function(a,b){"use strict";function c(a){function b(a,b){return a?e(a)?a.indexOf(b)>=0:a.hasOwnProperty(b):void 0}return["$animate",function(c){return{restrict:"AE",transclude:"element",priority:1,terminal:!0,require:"^^ngMessages",link:function(d,f,g,h,i){var j,k,l,m;if(!a){j=f[0],l=g.ngMessage||g.when,m=g.ngMessageExp||g.whenExp;var n=function(a){k=a?e(a)?a:a.split(/[\s,]+/):null,h.reRender()};m?(n(d.$eval(m)),d.$watchCollection(m,n)):n(l)}var o,p;h.register(j,p={test:function(a){return b(k,a)},attach:function(){o||i(function(b,d){c.enter(b,null,f),o=b;var e=o.$$attachId=h.getAttachId();o.on("$destroy",function(){o&&o.$$attachId===e&&(h.deregister(j,a),p.detach()),d.$destroy()})})},detach:function(){if(o){var a=o;o=null,c.leave(a)}}},a),d.$on("$destroy",function(){h.deregister(j,a)})}}}]}var d,e,f,g;b.module("ngMessages",[],function(){d=b.forEach,e=b.isArray,f=b.isString,g=b.element}).info({angularVersion:"1.7.8"}).directive("ngMessages",["$animate",function(a){function b(a,b){return f(b)&&0===b.length||c(a.$eval(b))}function c(a){return f(a)?a.length:!!a}var e="ng-active",g="ng-inactive";return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(f,h,i){function j(a,b){for(var c=b,d=[];c&&c!==a;){var e=c.$$ngMessageNode;if(e&&e.length)return r[e];c.childNodes.length&&-1===d.indexOf(c)?(d.push(c),c=c.childNodes[c.childNodes.length-1]):c.previousSibling?c=c.previousSibling:(c=c.parentNode,d.push(c))}}function k(a,b,c){var d=r[c];if(m.head){var e=j(a,b);e?(d.next=e.next,e.next=d):(d.next=m.head,m.head=d)}else m.head=d}function l(a,b,c){var d=r[c];if(d){var e=j(a,b);e?e.next=d.next:m.head=d.next}}var m=this,n=0,o=0;this.getAttachId=function(){return o++};var p,q,r=this.messages={};this.render=function(j){j=j||{},p=!1,q=j;for(var k=b(h,i.ngMessagesMultiple)||b(h,i.multiple),l=[],n={},o=0,r=m.head,s=!1,t=0;null!=r;){t++;var u=r.message,v=!1;s||d(j,function(a,b){if(c(a)&&!v&&(o++,u.test(b))){if(n[b])return;n[b]=!0,v=!0,u.attach()}}),v?s=!k:l.push(u),r=r.next}d(l,function(a){a.detach()});var w=l.length!==t,x=m["default"]&&!w&&o>0;x?m["default"].attach():m["default"]&&m["default"].detach(),w||x?a.setClass(f,e,g):a.setClass(f,g,e)},h.$watchCollection(i.ngMessages||i["for"],m.render),this.reRender=function(){p||(p=!0,h.$evalAsync(function(){p&&q&&m.render(q)}))},this.register=function(a,b,c){if(c)m["default"]=b;else{var d=n.toString();r[d]={message:b},k(f[0],a,d),a.$$ngMessageNode=d,n++}m.reRender()},this.deregister=function(a,b){if(b)delete m["default"];else{var c=a.$$ngMessageNode;delete a.$$ngMessageNode,l(f[0],a,c),delete r[c]}m.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(a,b,c){function d(a,d){var e=c.$$createComment?c.$$createComment("ngMessagesInclude",d):b[0].createComment(" ngMessagesInclude: "+d+" "),f=g(e);a.after(f),a.remove()}return{restrict:"AE",require:"^^ngMessages",link:function(b,e,g){var h=g.ngMessagesInclude||g.src;a(h).then(function(a){b.$$destroyed||(f(a)&&!a.trim()?d(e,h):c(a)(b,function(a){e.after(a),d(e,h)}))})}}}]).directive("ngMessage",c()).directive("ngMessageExp",c()).directive("ngMessageDefault",c(!0))}(window,window.angular),function(a,b){"use strict";function c(a){return null!=a&&""!==a&&"hasOwnProperty"!==a&&g.test("."+a)}function d(a,d){if(!c(d))throw f("badmember",'Dotted member path "@{0}" is invalid.',d);for(var e=d.split("."),g=0,h=e.length;h>g&&b.isDefined(a);g++){var i=e[g];a=null!==a?a[i]:void 0}return a}function e(a,c){c=c||{},b.forEach(c,function(a,b){delete c[b]});for(var d in a)!a.hasOwnProperty(d)||"$"===d.charAt(0)&&"$"===d.charAt(1)||(c[d]=a[d]);return c}var f=b.$$minErr("$resource"),g=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;b.module("ngResource",["ng"]).info({angularVersion:"1.7.8"}).provider("$resource",function(){var a=/^https?:\/\/\[[^\]]*][^\/]*/,c=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(g,h,i,j){function k(a,b){this.template=a,this.defaults=o({},c.defaults,b),this.urlParams={}}function l(a,b,l,u){function v(a,c){var e={};return c=o({},b,c),n(c,function(b,c){s(b)&&(b=b(a)),e[c]=b&&b.charAt&&"@"===b.charAt(0)?d(a,b.substr(1)):b}),e}function w(a){return a.resource}function x(a){e(a||{},this)}var y=new k(a,u);return l=o({},c.defaults.actions,l),x.prototype.toJSON=function(){var a=o({},this);return delete a.$promise,delete a.$resolved,delete a.$cancelRequest,a},n(l,function(a,b){var c=a.hasBody===!0||a.hasBody!==!1&&/^(POST|PUT|PATCH)$/i.test(a.method),d=a.timeout,k=r(a.cancellable)?a.cancellable:y.defaults.cancellable;d&&!t(d)&&(h.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete a.timeout,d=null),x[b]=function(h,l,r,t){function u(a){P["catch"](m),null!==D&&D.resolve(a)}var z,A,B,C={};switch(arguments.length){case 4:B=t,A=r;case 3:case 2:if(!s(l)){C=h,z=l,A=r;break}if(s(h)){A=h,B=l;break}A=l,B=r;case 1:s(h)?A=h:c?z=h:C=h;break;case 0:break;default:throw f("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var D,E,F,G=this instanceof x,H=G?z:a.isArray?[]:new x(z),I={},J=a.interceptor&&a.interceptor.request||void 0,K=a.interceptor&&a.interceptor.requestError||void 0,L=a.interceptor&&a.interceptor.response||w,M=a.interceptor&&a.interceptor.responseError||i.reject,N=A?function(a){A(a,F.headers,F.status,F.statusText)}:void 0,O=B||void 0;n(a,function(a,b){switch(b){default:I[b]=p(a);break;case"params":case"isArray":case"interceptor":case"cancellable":}}),!G&&k&&(D=i.defer(),I.timeout=D.promise,d&&(E=j(D.resolve,d))),c&&(I.data=z),y.setUrlParams(I,o({},v(z,a.params||{}),C),a.url);var P=i.resolve(I).then(J)["catch"](K).then(g);return P=P.then(function(c){var d=c.data;if(d){if(q(d)!==!!a.isArray)throw f("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",b,a.isArray?"array":"object",q(d)?"array":"object",I.method,I.url);if(a.isArray)H.length=0,n(d,function(a){"object"==typeof a?H.push(new x(a)):H.push(a)});else{var g=H.$promise;e(d,H),H.$promise=g}}return c.resource=H,F=c,L(c)},function(a){return a.resource=H,F=a,M(a)}),P=P["finally"](function(){H.$resolved=!0,!G&&k&&(H.$cancelRequest=m,j.cancel(E),D=E=I.timeout=null)}),P.then(N,O),G?P:(H.$promise=P,H.$resolved=!1,k&&(H.$cancelRequest=u),H)},x.prototype["$"+b]=function(a,c,d){s(a)&&(d=c,c=a,a={});var e=x[b].call(this,a,this,c,d);return e.$promise||e}}),x}var m=b.noop,n=b.forEach,o=b.extend,p=b.copy,q=b.isArray,r=b.isDefined,s=b.isFunction,t=b.isNumber,u=b.$$encodeUriQuery,v=b.$$encodeUriSegment;return k.prototype={setUrlParams:function(b,c,d){var e,g,h=this,i=d||h.template,j="",k=h.urlParams=Object.create(null);n(i.split(/\W/),function(a){if("hasOwnProperty"===a)throw f("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(a)&&a&&new RegExp("(^|[^\\\\]):"+a+"(\\W|$)").test(i)&&(k[a]={isQueryParamValue:new RegExp("\\?.*=:"+a+"(?:\\W|$)").test(i)})}),i=i.replace(/\\:/g,":"),i=i.replace(a,function(a){return j=a,""}),c=c||{},n(h.urlParams,function(a,b){e=c.hasOwnProperty(b)?c[b]:h.defaults[b],r(e)&&null!==e?(g=a.isQueryParamValue?u(e,!0):v(e),i=i.replace(new RegExp(":"+b+"(\\W|$)","g"),function(a,b){return g+b})):i=i.replace(new RegExp("(/?):"+b+"(\\W|$)","g"),function(a,b,c){return"/"===c.charAt(0)?c:b+c})}),h.defaults.stripTrailingSlashes&&(i=i.replace(/\/+$/,"")||"/"),i=i.replace(/\/\.(?=\w+($|\?))/,"."),b.url=j+i.replace(/\/(\\|%5C)\./,"/."),n(c,function(a,c){h.urlParams[c]||(b.params=b.params||{},b.params[c]=a)})}},l}]})}(window,window.angular),function(a,b){"use strict";function c(){function c(a,b){return d(a.split(","),b)}function d(a,b){var c,d={};for(c=0;c<a.length;c++)d[b?j(a[c]):a[c]]=!0;return d}function p(a,b){b&&b.length&&f(a,d(b))}function q(a,b){null===a||void 0===a?a="":"string"!=typeof a&&(a=""+a);var c=N(a);if(!c)return"";var d=5;do{if(0===d)throw o("uinput","Failed to sanitize html because the input is unstable");d--,a=c.innerHTML,c=N(a)}while(a!==c.innerHTML);for(var e=c.firstChild;e;){switch(e.nodeType){case 1:b.start(e.nodeName.toLowerCase(),r(e.attributes));break;case 3:b.chars(e.textContent)}var f;if(!(f=e.firstChild)&&(1===e.nodeType&&b.end(e.nodeName.toLowerCase()),f=v("nextSibling",e),!f))for(;null==f&&(e=v("parentNode",e),e!==c);)f=v("nextSibling",e),1===e.nodeType&&b.end(e.nodeName.toLowerCase());e=f}for(;e=c.firstChild;)c.removeChild(e)}function r(a){for(var b={},c=0,d=a.length;d>c;c++){var e=a[c];b[e.name]=e.value}return b}function s(a){return a.replace(/&/g,"&amp;").replace(y,function(a){var b=a.charCodeAt(0),c=a.charCodeAt(1);return"&#"+(1024*(b-55296)+(c-56320)+65536)+";"}).replace(z,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function t(a,b){var c=!1,d=e(a,a.push);return{start:function(a,e){a=j(a),!c&&H[a]&&(c=a),c||I[a]!==!0||(d("<"),d(a),g(e,function(c,e){var f=j(e),g="img"===a&&"src"===f||"background"===f;
M[f]!==!0||J[f]===!0&&!b(c,g)||(d(" "),d(e),d('="'),d(s(c)),d('"'))}),d(">"))},end:function(a){a=j(a),c||I[a]!==!0||A[a]===!0||(d("</"),d(a),d(">")),a==c&&(c=!1)},chars:function(a){c||d(s(a))}}}function u(b){for(;b;){if(b.nodeType===a.Node.ELEMENT_NODE)for(var c=b.attributes,d=0,e=c.length;e>d;d++){var f=c[d],g=f.name.toLowerCase();("xmlns:ns1"===g||0===g.lastIndexOf("ns1:",0))&&(b.removeAttributeNode(f),d--,e--)}var h=b.firstChild;h&&u(h),b=v("nextSibling",b)}}function v(a,b){var c=b[a];if(c&&l.call(b,c))throw o("elclob","Failed to sanitize html because the element is clobbered: {0}",b.outerHTML||b.outerText);return c}var w=!1,x=!1;this.$get=["$$sanitizeUri",function(a){return w=!0,x&&f(I,G),function(b){var c=[];return m(b,n(c,function(b,c){return!/^unsafe:/.test(a(b,c))})),c.join("")}}],this.enableSvg=function(a){return i(a)?(x=a,this):x},this.addValidElements=function(a){return w||(h(a)&&(a={htmlElements:a}),p(G,a.svgElements),p(A,a.htmlVoidElements),p(I,a.htmlVoidElements),p(I,a.htmlElements)),this},this.addValidAttrs=function(a){return w||f(M,d(a,!0)),this},e=b.bind,f=b.extend,g=b.forEach,h=b.isArray,i=b.isDefined,j=b.$$lowercase,k=b.noop,m=q,n=t,l=a.Node.prototype.contains||function(a){return!!(16&this.compareDocumentPosition(a))};var y=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,z=/([^#-~ |!])/g,A=c("area,br,col,hr,img,wbr"),B=c("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),C=c("rp,rt"),D=f({},C,B),E=f({},B,c("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),F=f({},C,c("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),G=c("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),H=c("script,style"),I=f({},A,E,F,D),J=c("background,cite,href,longdesc,src,xlink:href,xml:base"),K=c("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),L=c("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),M=f({},J,L,K),N=function(a,b){function c(b){b="<remove></remove>"+b;try{b=encodeURI(b)}catch(c){return void 0}var d=new a.XMLHttpRequest;d.responseType="document",d.open("GET","data:text/html;charset=utf-8,"+b,!1),d.send(null);var e=d.response.body;return e.firstChild.remove(),e}function d(b){b="<remove></remove>"+b;try{var c=(new a.DOMParser).parseFromString(b,"text/html").body;return c.firstChild.remove(),c}catch(d){return void 0}}function e(a){return g.innerHTML=a,b.documentMode&&u(g),g}var f;if(!b||!b.implementation)throw o("noinert","Can't create an inert html document");f=b.implementation.createHTMLDocument("inert");var g=(f.documentElement||f.getDocumentElement()).querySelector("body");return g.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',g.querySelector("svg")?(g.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',g.querySelector("svg img")?d:e):c}(a,a.document)}function d(a){var b=[],c=n(b,k);return c.chars(a),b.join("")}var e,f,g,h,i,j,k,l,m,n,o=b.$$minErr("$sanitize");b.module("ngSanitize",[]).provider("$sanitize",c).info({angularVersion:"1.7.8"}),b.module("ngSanitize").filter("linky",["$sanitize",function(a){var c=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,e=/^mailto:/i,f=b.$$minErr("linky"),g=b.isDefined,h=b.isFunction,i=b.isObject,j=b.isString;return function(b,k,l){function m(a){a&&t.push(d(a))}function n(a,b){var c,d=r(a);t.push("<a ");for(c in d)t.push(c+'="'+d[c]+'" ');!g(k)||"target"in d||t.push('target="',k,'" '),t.push('href="',a.replace(/"/g,"&quot;"),'">'),m(b),t.push("</a>")}if(null==b||""===b)return b;if(!j(b))throw f("notstring","Expected string but received: {0}",b);for(var o,p,q,r=h(l)?l:i(l)?function(){return l}:function(){return{}},s=b,t=[];o=s.match(c);)p=o[0],o[2]||o[4]||(p=(o[3]?"http://":"mailto:")+p),q=o.index,m(s.substr(0,q)),n(p,o[0].replace(e,"")),s=s.substring(q+o[0].length);return m(s),a(t.join(""))}}])}(window,window.angular),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(a,b,c){"use strict";function d(a,b){return S(new(S(function(){},{prototype:a})),b)}function e(a){return R(arguments,function(b){b!==a&&R(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)})}),a}function f(a,b){var c=[];for(var d in a.path){if(a.path[d]!==b.path[d])break;c.push(a.path[d])}return c}function g(a){if(Object.keys)return Object.keys(a);var b=[];return R(a,function(a,c){b.push(c)}),b}function h(a,b){if(Array.prototype.indexOf)return a.indexOf(b,Number(arguments[2])||0);var c=a.length>>>0,d=Number(arguments[2])||0;for(d=0>d?Math.ceil(d):Math.floor(d),0>d&&(d+=c);c>d;d++)if(d in a&&a[d]===b)return d;return-1}function i(a,b,c,d){var e,i=f(c,d),j={},k=[];for(var l in i)if(i[l]&&i[l].params&&(e=g(i[l].params),e.length))for(var m in e)h(k,e[m])>=0||(k.push(e[m]),j[e[m]]=a[e[m]]);return S({},j,b)}function j(a,b,c){if(!c){c=[];for(var d in a)c.push(d)}for(var e=0;e<c.length;e++){var f=c[e];if(a[f]!=b[f])return!1}return!0}function k(a,b){var c={};return R(a,function(a){c[a]=b[a]}),c}function l(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return R(c,function(c){c in a&&(b[c]=a[c])}),b}function m(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var d in a)-1==h(c,d)&&(b[d]=a[d]);return b}function n(a,b){var c=Q(a),d=c?[]:{};return R(a,function(a,e){b(a,e)&&(d[c?d.length:e]=a)}),d}function o(a,b){var c=Q(a)?[]:{};return R(a,function(a,d){c[d]=b(a,d)}),c}function p(a){return a.then(c,function(){})&&a}function q(a,b){var d=1,f=2,i={},j=[],k=i,l=S(a.when(i),{$$promises:i,$$values:i});this.study=function(i){function n(a,c){if(s[c]!==f){if(r.push(c),s[c]===d)throw r.splice(0,h(r,c)),new Error("Cyclic dependency: "+r.join(" -> "));if(s[c]=d,O(a))q.push(c,[function(){return b.get(a)}],j);else{var e=b.annotate(a);R(e,function(a){a!==c&&i.hasOwnProperty(a)&&n(i[a],a)}),q.push(c,a,e)}r.pop(),s[c]=f}}function o(a){return P(a)&&a.then&&a.$$promises}if(!P(i))throw new Error("'invocables' must be an object");var p=g(i||{}),q=[],r=[],s={};return R(i,n),i=r=s=null,function(d,f,g){function h(){--u||(v||e(t,f.$$values),r.$$values=t,r.$$promises=r.$$promises||!0,delete r.$$inheritedValues,n.resolve(t))}function i(a){r.$$failure=a,n.reject(a)}function j(c,e,f){function j(a){l.reject(a),i(a)}function k(){if(!M(r.$$failure))try{l.resolve(b.invoke(e,g,t)),l.promise.then(function(a){t[c]=a,h()},j)}catch(a){j(a)}}var l=a.defer(),m=0;R(f,function(a){s.hasOwnProperty(a)&&!d.hasOwnProperty(a)&&(m++,s[a].then(function(b){t[a]=b,--m||k()},j))}),m||k(),s[c]=l.promise}if(o(d)&&g===c&&(g=f,f=d,d=null),d){if(!P(d))throw new Error("'locals' must be an object")}else d=k;if(f){if(!o(f))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else f=l;var n=a.defer(),r=n.promise,s=r.$$promises={},t=S({},d),u=1+q.length/3,v=!1;if(M(f.$$failure))return i(f.$$failure),r;f.$$inheritedValues&&e(t,m(f.$$inheritedValues,p)),S(s,f.$$promises),f.$$values?(v=e(t,m(f.$$values,p)),r.$$inheritedValues=m(f.$$values,p),h()):(f.$$inheritedValues&&(r.$$inheritedValues=m(f.$$inheritedValues,p)),f.then(h,i));for(var w=0,x=q.length;x>w;w+=3)d.hasOwnProperty(q[w])?h():j(q[w],q[w+1],q[w+2]);return r}},this.resolve=function(a,b,c,d){return this.study(a)(b,c,d)}}function r(a,b,c){this.fromConfig=function(a,b,c){return M(a.template)?this.fromString(a.template,b):M(a.templateUrl)?this.fromUrl(a.templateUrl,b):M(a.templateProvider)?this.fromProvider(a.templateProvider,b,c):null},this.fromString=function(a,b){return N(a)?a(b):a},this.fromUrl=function(c,d){return N(c)&&(c=c(d)),null==c?null:a.get(c,{cache:b,headers:{Accept:"text/html"}}).then(function(a){return a.data})},this.fromProvider=function(a,b,d){return c.invoke(a,null,d||{params:b})}}function s(a,b,e){function f(b,c,d,e){if(q.push(b),o[b])return o[b];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(b))throw new Error("Invalid parameter name '"+b+"' in pattern '"+a+"'");if(p[b])throw new Error("Duplicate parameter name '"+b+"' in pattern '"+a+"'");return p[b]=new V.Param(b,c,d,e),p[b]}function g(a,b,c,d){var e=["",""],f=a.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!b)return f;switch(c){case!1:e=["(",")"+(d?"?":"")];break;case!0:f=f.replace(/\/$/,""),e=["(?:/(",")|/)?"];break;default:e=["("+c+"|",")?"]}return f+e[0]+b+e[1]}function h(e,f){var g,h,i,j,k;return g=e[2]||e[3],k=b.params[g],i=a.substring(m,e.index),h=f?e[4]:e[4]||("*"==e[1]?".*":null),h&&(j=V.type(h)||d(V.type("string"),{pattern:new RegExp(h,b.caseInsensitive?"i":c)})),{id:g,regexp:h,segment:i,type:j,cfg:k}}b=S({params:{}},P(b)?b:{});var i,j=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,k=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l="^",m=0,n=this.segments=[],o=e?e.params:{},p=this.params=e?e.params.$$new():new V.ParamSet,q=[];this.source=a;for(var r,s,t;(i=j.exec(a))&&(r=h(i,!1),!(r.segment.indexOf("?")>=0));)s=f(r.id,r.type,r.cfg,"path"),l+=g(r.segment,s.type.pattern.source,s.squash,s.isOptional),n.push(r.segment),m=j.lastIndex;t=a.substring(m);var u=t.indexOf("?");if(u>=0){var v=this.sourceSearch=t.substring(u);if(t=t.substring(0,u),this.sourcePath=a.substring(0,m+u),v.length>0)for(m=0;i=k.exec(v);)r=h(i,!0),s=f(r.id,r.type,r.cfg,"search"),m=j.lastIndex}else this.sourcePath=a,this.sourceSearch="";l+=g(t)+(b.strict===!1?"/?":"")+"$",n.push(t),this.regexp=new RegExp(l,b.caseInsensitive?"i":c),this.prefix=n[0],this.$$paramNames=q}function t(a){S(this,a)}function u(){function a(a){return null!=a?a.toString().replace(/(~|\/)/g,function(a){return{"~":"~~","/":"~2F"}[a]}):a}function e(a){return null!=a?a.toString().replace(/(~~|~2F)/g,function(a){return{"~~":"~","~2F":"/"}[a]}):a}function f(){return{strict:p,caseInsensitive:m}}function i(a){return N(a)||Q(a)&&N(a[a.length-1])}function j(){for(;w.length;){var a=w.shift();if(a.pattern)throw new Error("You cannot override a type's .pattern at runtime.");b.extend(r[a.name],l.invoke(a.def))}}function k(a){S(this,a||{})}V=this;var l,m=!1,p=!0,q=!1,r={},v=!0,w=[],x={string:{encode:a,decode:e,is:function(a){return null==a||!M(a)||"string"==typeof a},pattern:/[^\/]*/},"int":{encode:a,decode:function(a){return parseInt(a,10)},is:function(a){return M(a)&&this.decode(a.toString())===a},pattern:/\d+/},bool:{encode:function(a){return a?1:0},decode:function(a){return 0!==parseInt(a,10)},is:function(a){return a===!0||a===!1},pattern:/0|1/},date:{encode:function(a){return this.is(a)?[a.getFullYear(),("0"+(a.getMonth()+1)).slice(-2),("0"+a.getDate()).slice(-2)].join("-"):c},decode:function(a){if(this.is(a))return a;var b=this.capture.exec(a);return b?new Date(b[1],b[2]-1,b[3]):c},is:function(a){return a instanceof Date&&!isNaN(a.valueOf())},equals:function(a,b){return this.is(a)&&this.is(b)&&a.toISOString()===b.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:b.toJson,decode:b.fromJson,is:b.isObject,equals:b.equals,pattern:/[^\/]*/},any:{encode:b.identity,decode:b.identity,equals:b.equals,pattern:/.*/}};u.$$getDefaultValue=function(a){if(!i(a.value))return a.value;if(!l)throw new Error("Injectable functions cannot be called at configuration time");return l.invoke(a.value)},this.caseInsensitive=function(a){return M(a)&&(m=a),m},this.strictMode=function(a){return M(a)&&(p=a),p},this.defaultSquashPolicy=function(a){if(!M(a))return q;if(a!==!0&&a!==!1&&!O(a))throw new Error("Invalid squash policy: "+a+". Valid policies: false, true, arbitrary-string");return q=a,a},this.compile=function(a,b){return new s(a,S(f(),b))},this.isMatcher=function(a){if(!P(a))return!1;var b=!0;return R(s.prototype,function(c,d){N(c)&&(b=b&&M(a[d])&&N(a[d]))}),b},this.type=function(a,b,c){if(!M(b))return r[a];if(r.hasOwnProperty(a))throw new Error("A type named '"+a+"' has already been defined.");return r[a]=new t(S({name:a},b)),c&&(w.push({name:a,def:c}),v||j()),this},R(x,function(a,b){r[b]=new t(S({name:b},a))}),r=d(r,{}),this.$get=["$injector",function(a){return l=a,v=!1,j(),R(x,function(a,b){r[b]||(r[b]=new t(a))}),this}],this.Param=function(a,d,e,f){function j(a){var b=P(a)?g(a):[],c=-1===h(b,"value")&&-1===h(b,"type")&&-1===h(b,"squash")&&-1===h(b,"array");return c&&(a={value:a}),a.$$fn=i(a.value)?a.value:function(){return a.value},a}function k(c,d,e){if(c.type&&d)throw new Error("Param '"+a+"' has two type configurations.");return d?d:c.type?b.isString(c.type)?r[c.type]:c.type instanceof t?c.type:new t(c.type):"config"===e?r.any:r.string}function m(){var b={array:"search"===f?"auto":!1},c=a.match(/\[\]$/)?{array:!0}:{};return S(b,c,e).array}function p(a,b){var c=a.squash;if(!b||c===!1)return!1;if(!M(c)||null==c)return q;if(c===!0||O(c))return c;throw new Error("Invalid squash policy: '"+c+"'. Valid policies: false, true, or arbitrary string")}function s(a,b,d,e){var f,g,i=[{from:"",to:d||b?c:""},{from:null,to:d||b?c:""}];return f=Q(a.replace)?a.replace:[],O(e)&&f.push({from:e,to:c}),g=o(f,function(a){return a.from}),n(i,function(a){return-1===h(g,a.from)}).concat(f)}function u(){if(!l)throw new Error("Injectable functions cannot be called at configuration time");var a=l.invoke(e.$$fn);if(null!==a&&a!==c&&!x.type.is(a))throw new Error("Default value ("+a+") for parameter '"+x.id+"' is not an instance of Type ("+x.type.name+")");return a}function v(a){function b(a){return function(b){return b.from===a}}function c(a){var c=o(n(x.replace,b(a)),function(a){return a.to});return c.length?c[0]:a}return a=c(a),M(a)?x.type.$normalize(a):u()}function w(){return"{Param:"+a+" "+d+" squash: '"+A+"' optional: "+z+"}"}var x=this;e=j(e),d=k(e,d,f);var y=m();d=y?d.$asArray(y,"search"===f):d,"string"!==d.name||y||"path"!==f||e.value!==c||(e.value="");var z=e.value!==c,A=p(e,z),B=s(e,y,z,A);S(this,{id:a,type:d,location:f,array:y,squash:A,replace:B,isOptional:z,value:v,dynamic:c,config:e,toString:w})},k.prototype={$$new:function(){return d(this,S(new k,{$$parent:this}))},$$keys:function(){for(var a=[],b=[],c=this,d=g(k.prototype);c;)b.push(c),c=c.$$parent;return b.reverse(),R(b,function(b){R(g(b),function(b){-1===h(a,b)&&-1===h(d,b)&&a.push(b)})}),a},$$values:function(a){var b={},c=this;return R(c.$$keys(),function(d){b[d]=c[d].value(a&&a[d])}),b},$$equals:function(a,b){var c=!0,d=this;return R(d.$$keys(),function(e){var f=a&&a[e],g=b&&b[e];d[e].type.equals(f,g)||(c=!1)}),c},$$validates:function(a){var d,e,f,g,h,i=this.$$keys();for(d=0;d<i.length&&(e=this[i[d]],f=a[i[d]],f!==c&&null!==f||!e.isOptional);d++){if(g=e.type.$normalize(f),!e.type.is(g))return!1;if(h=e.type.encode(g),b.isString(h)&&!e.type.pattern.exec(h))return!1}return!0},$$parent:c},this.ParamSet=k}function v(a,d){function e(a){var b=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);return null!=b?b[1].replace(/\\(.)/g,"$1"):""}function f(a,b){return a.replace(/\$(\$|\d{1,2})/,function(a,c){return b["$"===c?0:Number(c)]})}function g(a,b,c){if(!c)return!1;var d=a.invoke(b,b,{$match:c});return M(d)?d:!0}function h(d,e,f,g,h){function m(a,b,c){return"/"===q?a:b?q.slice(0,-1)+a:c?q.slice(1)+a:a}function n(a){function b(a){var b=a(f,d);return b?(O(b)&&d.replace().url(b),!0):!1}if(!a||!a.defaultPrevented){p&&d.url()===p;p=c;var e,g=j.length;for(e=0;g>e;e++)if(b(j[e]))return;k&&b(k)}}function o(){return i=i||e.$on("$locationChangeSuccess",n)}var p,q=g.baseHref(),r=d.url();return l||o(),{sync:function(){n()},listen:function(){return o()},update:function(a){return a?void(r=d.url()):void(d.url()!==r&&(d.url(r),d.replace()))},push:function(a,b,e){var f=a.format(b||{});null!==f&&b&&b["#"]&&(f+="#"+b["#"]),d.url(f),p=e&&e.$$avoidResync?d.url():c,e&&e.replace&&d.replace()},href:function(c,e,f){if(!c.validates(e))return null;var g=a.html5Mode();b.isObject(g)&&(g=g.enabled),g=g&&h.history;var i=c.format(e);if(f=f||{},g||null===i||(i="#"+a.hashPrefix()+i),null!==i&&e&&e["#"]&&(i+="#"+e["#"]),i=m(i,g,f.absolute),!f.absolute||!i)return i;var j=!g&&i?"/":"",k=d.port();return k=80===k||443===k?"":":"+k,[d.protocol(),"://",d.host(),k,j,i].join("")}}}var i,j=[],k=null,l=!1;this.rule=function(a){if(!N(a))throw new Error("'rule' must be a function");return j.push(a),this},this.otherwise=function(a){if(O(a)){var b=a;a=function(){return b}}else if(!N(a))throw new Error("'rule' must be a function");return k=a,this},this.when=function(a,b){var c,h=O(b);if(O(a)&&(a=d.compile(a)),!h&&!N(b)&&!Q(b))throw new Error("invalid 'handler' in when()");var i={matcher:function(a,b){return h&&(c=d.compile(b),b=["$match",function(a){return c.format(a)}]),S(function(c,d){return g(c,b,a.exec(d.path(),d.search()))},{prefix:O(a.prefix)?a.prefix:""})},regex:function(a,b){if(a.global||a.sticky)throw new Error("when() RegExp must not be global or sticky");return h&&(c=b,b=["$match",function(a){return f(c,a)}]),S(function(c,d){return g(c,b,a.exec(d.path()))},{prefix:e(a)})}},j={matcher:d.isMatcher(a),regex:a instanceof RegExp};for(var k in j)if(j[k])return this.rule(i[k](a,b));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(a){a===c&&(a=!0),l=a},this.$get=h,h.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function w(a,e){function f(a){return 0===a.indexOf(".")||0===a.indexOf("^")}function m(a,b){if(!a)return c;var d=O(a),e=d?a:a.name,g=f(e);if(g){if(!b)throw new Error("No reference point given for path '"+e+"'");b=m(b);for(var h=e.split("."),i=0,j=h.length,k=b;j>i;i++)if(""!==h[i]||0!==i){if("^"!==h[i])break;if(!k.parent)throw new Error("Path '"+e+"' not valid for state '"+b.name+"'");k=k.parent}else k=b;h=h.slice(i).join("."),e=k.name+(k.name&&h?".":"")+h}var l=A[e];return!l||!d&&(d||l!==a&&l.self!==a)?c:l}function n(a,b){B[a]||(B[a]=[]),B[a].push(b)}function q(a){for(var b=B[a]||[];b.length;)r(b.shift())}function r(b){b=d(b,{self:b,resolve:b.resolve||{},toString:function(){return this.name}});var c=b.name;if(!O(c)||c.indexOf("@")>=0)throw new Error("State must have a valid name");if(A.hasOwnProperty(c))throw new Error("State '"+c+"' is already defined");var e=-1!==c.indexOf(".")?c.substring(0,c.lastIndexOf(".")):O(b.parent)?b.parent:P(b.parent)&&O(b.parent.name)?b.parent.name:"";if(e&&!A[e])return n(e,b.self);for(var f in D)N(D[f])&&(b[f]=D[f](b,D.$delegates[f]));return A[c]=b,!b[C]&&b.url&&a.when(b.url,["$match","$stateParams",function(a,c){z.$current.navigable==b&&j(a,c)||z.transitionTo(b,a,{inherit:!0,location:!1})}]),q(c),b}function s(a){return a.indexOf("*")>-1}function t(a){for(var b=a.split("."),c=z.$current.name.split("."),d=0,e=b.length;e>d;d++)"*"===b[d]&&(c[d]="*");return"**"===b[0]&&(c=c.slice(h(c,b[1])),c.unshift("**")),"**"===b[b.length-1]&&(c.splice(h(c,b[b.length-2])+1,Number.MAX_VALUE),c.push("**")),b.length!=c.length?!1:c.join("")===b.join("")}function u(a,b){return O(a)&&!M(b)?D[a]:N(b)&&O(a)?(D[a]&&!D.$delegates[a]&&(D.$delegates[a]=D[a]),D[a]=b,this):this}function v(a,b){return P(a)?b=a:b.name=a,r(b),this}function w(a,e,f,h,l,n,q,r,u){function v(b,c,d,f){var g=a.$broadcast("$stateNotFound",b,c,d);if(g.defaultPrevented)return q.update(),F;if(!g.retry)return null;if(f.$retry)return q.update(),G;var h=z.transition=e.when(g.retry);return h.then(function(){return h!==z.transition?(a.$broadcast("$stateChangeCancel",b.to,b.toParams,c,d),D):(b.options.$retry=!0,z.transitionTo(b.to,b.toParams,b.options))},function(){return F}),q.update(),h}function w(a,c,d,g,i,j){function m(){var c=[];return R(a.views,function(d,e){var g=d.resolve&&d.resolve!==a.resolve?d.resolve:{};g.$template=[function(){return f.load(e,{view:d,locals:i.globals,params:n,notify:j.notify})||""}],c.push(l.resolve(g,i.globals,i.resolve,a).then(function(c){if(N(d.controllerProvider)||Q(d.controllerProvider)){var f=b.extend({},g,i.globals);c.$$controller=h.invoke(d.controllerProvider,null,f)}else c.$$controller=d.controller;c.$$state=a,c.$$controllerAs=d.controllerAs,c.$$resolveAs=d.resolveAs,i[e]=c}))}),e.all(c).then(function(){return i.globals})}var n=d?c:k(a.params.$$keys(),c),o={$stateParams:n};i.resolve=l.resolve(a.resolve,o,i.resolve,a);var p=[i.resolve.then(function(a){i.globals=a})];return g&&p.push(g),e.all(p).then(m).then(function(a){return i})}var B=new Error("transition superseded"),D=p(e.reject(B)),E=p(e.reject(new Error("transition prevented"))),F=p(e.reject(new Error("transition aborted"))),G=p(e.reject(new Error("transition failed")));return y.locals={resolve:null,globals:{$stateParams:{}}},z={params:{},current:y.self,$current:y,transition:null},z.reload=function(a){return z.transitionTo(z.current,n,{reload:a||!0,inherit:!1,notify:!0})},z.go=function(a,b,c){return z.transitionTo(a,b,S({inherit:!0,relative:z.$current},c))},z.transitionTo=function(b,c,f){c=c||{},f=S({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},f||{});var g,j=z.$current,l=z.params,o=j.path,p=m(b,f.relative),r=c["#"];if(!M(p)){var s={to:b,toParams:c,options:f},t=v(s,j.self,l,f);if(t)return t;if(b=s.to,c=s.toParams,f=s.options,p=m(b,f.relative),!M(p)){if(!f.relative)throw new Error("No such state '"+b+"'");throw new Error("Could not resolve '"+b+"' from state '"+f.relative+"'")}}if(p[C])throw new Error("Cannot transition to abstract state '"+b+"'");if(f.inherit&&(c=i(n,c||{},z.$current,p)),!p.params.$$validates(c))return G;c=p.params.$$values(c),b=p;var u=b.path,A=0,F=u[A],H=y.locals,I=[];if(f.reload){if(O(f.reload)||P(f.reload)){if(P(f.reload)&&!f.reload.name)throw new Error("Invalid reload state object");var J=f.reload===!0?o[0]:m(f.reload);if(f.reload&&!J)throw new Error("No such reload state '"+(O(f.reload)?f.reload:f.reload.name)+"'");for(;F&&F===o[A]&&F!==J;)H=I[A]=F.locals,A++,F=u[A]}}else for(;F&&F===o[A]&&F.ownParams.$$equals(c,l);)H=I[A]=F.locals,A++,F=u[A];if(x(b,c,j,l,H,f))return r&&(c["#"]=r),z.params=c,T(z.params,n),T(k(b.params.$$keys(),n),b.locals.globals.$stateParams),f.location&&b.navigable&&b.navigable.url&&(q.push(b.navigable.url,c,{$$avoidResync:!0,replace:"replace"===f.location}),q.update(!0)),z.transition=null,e.when(z.current);if(c=k(b.params.$$keys(),c||{}),r&&(c["#"]=r),f.notify&&a.$broadcast("$stateChangeStart",b.self,c,j.self,l,f).defaultPrevented)return a.$broadcast("$stateChangeCancel",b.self,c,j.self,l),null==z.transition&&q.update(),E;for(var K=e.when(H),L=A;L<u.length;L++,F=u[L])H=I[L]=d(H),K=w(F,c,F===b,K,H,f);var N=z.transition=K.then(function(){var d,e,g;if(z.transition!==N)return a.$broadcast("$stateChangeCancel",b.self,c,j.self,l),D;for(d=o.length-1;d>=A;d--)g=o[d],g.self.onExit&&h.invoke(g.self.onExit,g.self,g.locals.globals),g.locals=null;for(d=A;d<u.length;d++)e=u[d],e.locals=I[d],e.self.onEnter&&h.invoke(e.self.onEnter,e.self,e.locals.globals);return z.transition!==N?(a.$broadcast("$stateChangeCancel",b.self,c,j.self,l),D):(z.$current=b,z.current=b.self,z.params=c,T(z.params,n),z.transition=null,f.location&&b.navigable&&q.push(b.navigable.url,b.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===f.location}),f.notify&&a.$broadcast("$stateChangeSuccess",b.self,c,j.self,l),q.update(!0),z.current)}).then(null,function(d){return d===B?D:z.transition!==N?(a.$broadcast("$stateChangeCancel",b.self,c,j.self,l),D):(z.transition=null,g=a.$broadcast("$stateChangeError",b.self,c,j.self,l,d),g.defaultPrevented||q.update(),e.reject(d))});return N},z.is=function(a,b,d){d=S({relative:z.$current},d||{});var e=m(a,d.relative);return M(e)?z.$current!==e?!1:b?j(e.params.$$values(b),n):!0:c},z.includes=function(a,b,d){if(d=S({relative:z.$current},d||{}),O(a)&&s(a)){if(!t(a))return!1;a=z.$current.name}var e=m(a,d.relative);if(!M(e))return c;if(!M(z.$current.includes[e.name]))return!1;if(!b)return!0;for(var f=g(b),h=0;h<f.length;h++){var i=f[h],j=e.params[i];if(j&&!j.type.equals(n[i],b[i]))return!1}return!0},z.href=function(a,b,d){d=S({lossy:!0,inherit:!0,absolute:!1,relative:z.$current},d||{});var e=m(a,d.relative);if(!M(e))return null;d.inherit&&(b=i(n,b||{},z.$current,e));var f=e&&d.lossy?e.navigable:e;return f&&f.url!==c&&null!==f.url?q.href(f.url,k(e.params.$$keys().concat("#"),b||{}),{absolute:d.absolute}):null},z.get=function(a,b){if(0===arguments.length)return o(g(A),function(a){return A[a].self});var c=m(a,b||z.$current);return c&&c.self?c.self:null},z}function x(a,b,c,d,e,f){function g(a,b,c){function d(b){return"search"!=a.params[b].location}var e=a.params.$$keys().filter(d),f=l.apply({},[a.params].concat(e)),g=new V.ParamSet(f);return g.$$equals(b,c)}return!f.reload&&a===c&&(e===c.locals||a.self.reloadOnSearch===!1&&g(c,d,b))?!0:void 0}var y,z,A={},B={},C="abstract",D={parent:function(a){if(M(a.parent)&&a.parent)return m(a.parent);var b=/^(.+)\.[^.]+$/.exec(a.name);return b?m(b[1]):y},data:function(a){return a.parent&&a.parent.data&&(a.data=a.self.data=d(a.parent.data,a.data)),a.data},url:function(a){var b=a.url,c={params:a.params||{}};if(O(b))return"^"==b.charAt(0)?e.compile(b.substring(1),c):(a.parent.navigable||y).url.concat(b,c);if(!b||e.isMatcher(b))return b;throw new Error("Invalid url '"+b+"' in state '"+a+"'")},navigable:function(a){return a.url?a:a.parent?a.parent.navigable:null},ownParams:function(a){var b=a.url&&a.url.params||new V.ParamSet;return R(a.params||{},function(a,c){b[c]||(b[c]=new V.Param(c,null,a,"config"))}),b},params:function(a){var b=l(a.ownParams,a.ownParams.$$keys());return a.parent&&a.parent.params?S(a.parent.params.$$new(),b):new V.ParamSet},views:function(a){var b={};return R(M(a.views)?a.views:{"":a},function(c,d){d.indexOf("@")<0&&(d+="@"+a.parent.name),c.resolveAs=c.resolveAs||a.resolveAs||"$resolve",b[d]=c}),b},path:function(a){return a.parent?a.parent.path.concat(a):[]},includes:function(a){var b=a.parent?S({},a.parent.includes):{};return b[a.name]=!0,b},$delegates:{}};y=r({name:"",url:"^",views:null,"abstract":!0}),y.navigable=null,this.decorator=u,this.state=v,this.$get=w,w.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function x(){function a(a,b){return{load:function(a,c){var d,e={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return c=S(e,c),c.view&&(d=b.fromConfig(c.view,c.params,c.locals)),d}}}this.$get=a,a.$inject=["$rootScope","$templateFactory"]}function y(){var a=!1;this.useAnchorScroll=function(){a=!0},this.$get=["$anchorScroll","$timeout",function(b,c){return a?b:function(a){return c(function(){a[0].scrollIntoView()},0,!1)}}]}function z(a,c,d,e,f){function g(){return c.has?function(a){return c.has(a)?c.get(a):null}:function(a){try{return c.get(a)}catch(b){return null}}}function h(a,c){var d=function(){return{enter:function(a,b,c){b.after(a),c()},leave:function(a,b){a.remove(),b()}}};if(k)return{enter:function(a,c,d){b.version.minor>2?k.enter(a,null,c).then(d):k.enter(a,null,c,d)},leave:function(a,c){b.version.minor>2?k.leave(a).then(c):k.leave(a,c)}};if(j){var e=j&&j(c,a);return{enter:function(a,b,c){e.enter(a,null,b),c()},leave:function(a,b){e.leave(a),b()}}}return d()}var i=g(),j=i("$animator"),k=i("$animate"),l={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(c,g,i){return function(c,g,j){function k(){if(m&&(m.remove(),m=null),o&&(o.$destroy(),o=null),n){var a=n.data("$uiViewAnim");s.leave(n,function(){a.$$animLeave.resolve(),m=null}),m=n,n=null}}function l(h){var l,m=B(c,j,g,e),t=m&&a.$current&&a.$current.locals[m];if(h||t!==p){l=c.$new(),p=a.$current.locals[m],l.$emit("$viewContentLoading",m);var u=i(l,function(a){var e=f.defer(),h=f.defer(),i={$animEnter:e.promise,$animLeave:h.promise,$$animLeave:h};a.data("$uiViewAnim",i),s.enter(a,g,function(){e.resolve(),o&&o.$emit("$viewContentAnimationEnded"),(b.isDefined(r)&&!r||c.$eval(r))&&d(a)}),k()});n=u,o=l,o.$emit("$viewContentLoaded",m),o.$eval(q)}}var m,n,o,p,q=j.onload||"",r=j.autoscroll,s=h(j,c);g.inheritedData("$uiView");c.$on("$stateChangeSuccess",function(){l(!1)}),l(!0)}}};return l}function A(a,c,d,e){return{restrict:"ECA",priority:-400,compile:function(f){var g=f.html();return function(f,h,i){var j=d.$current,k=B(f,i,h,e),l=j&&j.locals[k];if(l){h.data("$uiView",{name:k,state:l.$$state}),h.html(l.$template?l.$template:g);var m=b.extend({},l);f[l.$$resolveAs]=m;var n=a(h.contents());if(l.$$controller){l.$scope=f,l.$element=h;var o=c(l.$$controller,l);l.$$controllerAs&&(f[l.$$controllerAs]=o,f[l.$$controllerAs][l.$$resolveAs]=m),N(o.$onInit)&&o.$onInit(),h.data("$ngControllerController",o),h.children().data("$ngControllerController",o)}n(f)}}}}}function B(a,b,c,d){var e=d(b.uiView||b.name||"")(a),f=c.inheritedData("$uiView");return e.indexOf("@")>=0?e:e+"@"+(f?f.state.name:"")}function C(a,b){var c,d=a.match(/^\s*({[^}]*})\s*$/);if(d&&(a=b+"("+d[1]+")"),c=a.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!c||4!==c.length)throw new Error("Invalid state ref '"+a+"'");return{state:c[1],paramExpr:c[3]||null}}function D(a){var b=a.parent().inheritedData("$uiView");return b&&b.state&&b.state.name?b.state:void 0}function E(a){var b="[object SVGAnimatedString]"===Object.prototype.toString.call(a.prop("href")),c="FORM"===a[0].nodeName;return{attr:c?"action":b?"xlink:href":"href",isAnchor:"A"===a.prop("tagName").toUpperCase(),clickable:!c}}function F(a,b,c,d,e){return function(f){var g=f.which||f.button,h=e();if(!(g>1||f.ctrlKey||f.metaKey||f.shiftKey||a.attr("target"))){var i=c(function(){b.go(h.state,h.params,h.options)});f.preventDefault();var j=d.isAnchor&&!h.href?1:0;f.preventDefault=function(){j--<=0&&c.cancel(i)}}}}function G(a,b){return{relative:D(a)||b.$current,inherit:!0}}function H(a,c){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(d,e,f,g){var h,i=C(f.uiSref,a.current.name),j={state:i.state,href:null,params:null},k=E(e),l=g[1]||g[0],m=null;j.options=S(G(e,a),f.uiSrefOpts?d.$eval(f.uiSrefOpts):{});var n=function(c){c&&(j.params=b.copy(c)),j.href=a.href(i.state,j.params,j.options),m&&m(),l&&(m=l.$$addStateInfo(i.state,j.params)),null!==j.href&&f.$set(k.attr,j.href)};i.paramExpr&&(d.$watch(i.paramExpr,function(a){a!==j.params&&n(a)},!0),j.params=b.copy(d.$eval(i.paramExpr))),n(),k.clickable&&(h=F(e,a,c,k,function(){return j}),e[e.on?"on":"bind"]("click",h),d.$on("$destroy",function(){e[e.off?"off":"unbind"]("click",h)}))}}}function I(a,b){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],
link:function(c,d,e,f){function g(b){m.state=b[0],m.params=b[1],m.options=b[2],m.href=a.href(m.state,m.params,m.options),n&&n(),j&&(n=j.$$addStateInfo(m.state,m.params)),m.href&&e.$set(i.attr,m.href)}var h,i=E(d),j=f[1]||f[0],k=[e.uiState,e.uiStateParams||null,e.uiStateOpts||null],l="["+k.map(function(a){return a||"null"}).join(", ")+"]",m={state:null,params:null,options:null,href:null},n=null;c.$watch(l,g,!0),g(c.$eval(l)),i.clickable&&(h=F(d,a,b,i,function(){return m}),d[d.on?"on":"bind"]("click",h),c.$on("$destroy",function(){d[d.off?"off":"unbind"]("click",h)}))}}}function J(a,b,c){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(b,d,e,f){function g(b,c,e){var f=a.get(b,D(d)),g=h(b,c),i={state:f||{name:b},params:c,hash:g};return p.push(i),q[g]=e,function(){var a=p.indexOf(i);-1!==a&&p.splice(a,1)}}function h(a,c){if(!O(a))throw new Error("state should be a string");return P(c)?a+U(c):(c=b.$eval(c),P(c)?a+U(c):a)}function i(){for(var a=0;a<p.length;a++)l(p[a].state,p[a].params)?j(d,q[p[a].hash]):k(d,q[p[a].hash]),m(p[a].state,p[a].params)?j(d,n):k(d,n)}function j(a,b){f(function(){a.addClass(b)})}function k(a,b){a.removeClass(b)}function l(b,c){return a.includes(b.name,c)}function m(b,c){return a.is(b.name,c)}var n,o,p=[],q={};n=c(e.uiSrefActiveEq||"",!1)(b);try{o=b.$eval(e.uiSrefActive)}catch(r){}o=o||c(e.uiSrefActive||"",!1)(b),P(o)&&R(o,function(c,d){if(O(c)){var e=C(c,a.current.name);g(e.state,b.$eval(e.paramExpr),d)}}),this.$$addStateInfo=function(a,b){if(!(P(o)&&p.length>0)){var c=g(a,b,o);return i(),c}},b.$on("$stateChangeSuccess",i),i()}]}}function K(a){var b=function(b,c){return a.is(b,c)};return b.$stateful=!0,b}function L(a){var b=function(b,c,d){return a.includes(b,c,d)};return b.$stateful=!0,b}var M=b.isDefined,N=b.isFunction,O=b.isString,P=b.isObject,Q=b.isArray,R=b.forEach,S=b.extend,T=b.copy,U=b.toJson;b.module("ui.router.util",["ng"]),b.module("ui.router.router",["ui.router.util"]),b.module("ui.router.state",["ui.router.router","ui.router.util"]),b.module("ui.router",["ui.router.state"]),b.module("ui.router.compat",["ui.router"]),q.$inject=["$q","$injector"],b.module("ui.router.util").service("$resolve",q),r.$inject=["$http","$templateCache","$injector"],b.module("ui.router.util").service("$templateFactory",r);var V;s.prototype.concat=function(a,b){var c={caseInsensitive:V.caseInsensitive(),strict:V.strictMode(),squash:V.defaultSquashPolicy()};return new s(this.sourcePath+a+this.sourceSearch,S(c,b),this)},s.prototype.toString=function(){return this.source},s.prototype.exec=function(a,b){function c(a){function b(a){return a.split("").reverse().join("")}function c(a){return a.replace(/\\-/g,"-")}var d=b(a).split(/-(?!\\)/),e=o(d,b);return o(e,c).reverse()}var d=this.regexp.exec(a);if(!d)return null;b=b||{};var e,f,g,h=this.parameters(),i=h.length,j=this.segments.length-1,k={};if(j!==d.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var l,m;for(e=0;j>e;e++){for(g=h[e],l=this.params[g],m=d[e+1],f=0;f<l.replace.length;f++)l.replace[f].from===m&&(m=l.replace[f].to);m&&l.array===!0&&(m=c(m)),M(m)&&(m=l.type.decode(m)),k[g]=l.value(m)}for(;i>e;e++){for(g=h[e],k[g]=this.params[g].value(b[g]),l=this.params[g],m=b[g],f=0;f<l.replace.length;f++)l.replace[f].from===m&&(m=l.replace[f].to);M(m)&&(m=l.type.decode(m)),k[g]=l.value(m)}return k},s.prototype.parameters=function(a){return M(a)?this.params[a]||null:this.$$paramNames},s.prototype.validates=function(a){return this.params.$$validates(a)},s.prototype.format=function(a){function b(a){return encodeURIComponent(a).replace(/-/g,function(a){return"%5C%"+a.charCodeAt(0).toString(16).toUpperCase()})}a=a||{};var c=this.segments,d=this.parameters(),e=this.params;if(!this.validates(a))return null;var f,g=!1,h=c.length-1,i=d.length,j=c[0];for(f=0;i>f;f++){var k=h>f,l=d[f],m=e[l],n=m.value(a[l]),p=m.isOptional&&m.type.equals(m.value(),n),q=p?m.squash:!1,r=m.type.encode(n);if(k){var s=c[f+1],t=f+1===h;if(q===!1)null!=r&&(j+=Q(r)?o(r,b).join("-"):encodeURIComponent(r)),j+=s;else if(q===!0){var u=j.match(/\/$/)?/\/?(.*)/:/(.*)/;j+=s.match(u)[1]}else O(q)&&(j+=q+s);t&&m.squash===!0&&"/"===j.slice(-1)&&(j=j.slice(0,-1))}else{if(null==r||p&&q!==!1)continue;if(Q(r)||(r=[r]),0===r.length)continue;r=o(r,encodeURIComponent).join("&"+l+"="),j+=(g?"&":"?")+(l+"="+r),g=!0}}return j},t.prototype.is=function(a,b){return!0},t.prototype.encode=function(a,b){return a},t.prototype.decode=function(a,b){return a},t.prototype.equals=function(a,b){return a==b},t.prototype.$subPattern=function(){var a=this.pattern.toString();return a.substr(1,a.length-2)},t.prototype.pattern=/.*/,t.prototype.toString=function(){return"{Type:"+this.name+"}"},t.prototype.$normalize=function(a){return this.is(a)?a:this.decode(a)},t.prototype.$asArray=function(a,b){function d(a,b){function d(a,b){return function(){return a[b].apply(a,arguments)}}function e(a){return Q(a)?a:M(a)?[a]:[]}function f(a){switch(a.length){case 0:return c;case 1:return"auto"===b?a[0]:a;default:return a}}function g(a){return!a}function h(a,b){return function(c){if(Q(c)&&0===c.length)return c;c=e(c);var d=o(c,a);return b===!0?0===n(d,g).length:f(d)}}function i(a){return function(b,c){var d=e(b),f=e(c);if(d.length!==f.length)return!1;for(var g=0;g<d.length;g++)if(!a(d[g],f[g]))return!1;return!0}}this.encode=h(d(a,"encode")),this.decode=h(d(a,"decode")),this.is=h(d(a,"is"),!0),this.equals=i(d(a,"equals")),this.pattern=a.pattern,this.$normalize=h(d(a,"$normalize")),this.name=a.name,this.$arrayMode=b}if(!a)return this;if("auto"===a&&!b)throw new Error("'auto' array mode is for query parameters only");return new d(this,a)},b.module("ui.router.util").provider("$urlMatcherFactory",u),b.module("ui.router.util").run(["$urlMatcherFactory",function(a){}]),v.$inject=["$locationProvider","$urlMatcherFactoryProvider"],b.module("ui.router.router").provider("$urlRouter",v),w.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],b.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",w).run(["$injector",function(a){a.get("$state.runtime").autoinject&&a.get("$state")}]),x.$inject=[],b.module("ui.router.state").provider("$view",x),b.module("ui.router.state").provider("$uiViewScroll",y),z.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],A.$inject=["$compile","$controller","$state","$interpolate"],b.module("ui.router.state").directive("uiView",z),b.module("ui.router.state").directive("uiView",A),H.$inject=["$state","$timeout"],I.$inject=["$state","$timeout"],J.$inject=["$state","$stateParams","$interpolate"],b.module("ui.router.state").directive("uiSref",H).directive("uiSrefActive",J).directive("uiSrefActiveEq",J).directive("uiState",I),K.$inject=["$state"],L.$inject=["$state"],b.module("ui.router.state").filter("isState",K).filter("includedByState",L)}(window,window.angular),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/backdrop.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(a,b,c,d){var e=d.has("$animateCss")?d.get("$animateCss"):null;return{link:function(d,f,g){function h(){f.hasClass("collapse")&&f.hasClass("in")||b.resolve(l(d)).then(function(){f.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),e?e(f,{addClass:"in",easing:"ease",to:{height:f[0].scrollHeight+"px"}}).start()["finally"](i):a.addClass(f,"in",{to:{height:f[0].scrollHeight+"px"}}).then(i)})}function i(){f.removeClass("collapsing").addClass("collapse").css({height:"auto"}),m(d)}function j(){return f.hasClass("collapse")||f.hasClass("in")?void b.resolve(n(d)).then(function(){f.css({height:f[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),e?e(f,{removeClass:"in",to:{height:"0"}}).start()["finally"](k):a.removeClass(f,"in",{to:{height:"0"}}).then(k)}):k()}function k(){f.css({height:"0"}),f.removeClass("collapsing").addClass("collapse"),o(d)}var l=c(g.expanding),m=c(g.expanded),n=c(g.collapsing),o=c(g.collapsed);d.$eval(g.uibCollapse)||f.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css({height:"auto"}),d.$watch(g.uibCollapse,function(a){a?j():h()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(a,b,c){this.groups=[],this.closeOthers=function(d){var e=angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers;e&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on("$destroy",function(c){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);-1!==b&&this.groups.splice(b,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,replace:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(a,b,c,d){d.addGroup(a),a.openClass=c.openClass||"panel-open",a.panelClass=c.panelClass||"panel-default",a.$watch("isOpen",function(c){b.toggleClass(a.openClass,!!c),c&&d.closeOthers(a)}),a.toggleOpen=function(b){a.isDisabled||b&&32!==b.which||(a.isOpen=!a.isOpen)};var e="accordiongroup-"+a.$id+"-"+Math.floor(1e4*Math.random());a.headingId=e+"-tab",a.panelId=e+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(a,b,c,d,e){d.setHeading(e(a,angular.noop))}}}).directive("uibAccordionTransclude",function(){function a(){return"uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"}return{require:"^uibAccordionGroup",link:function(b,c,d,e){b.$watch(function(){return e[d.uibAccordionTransclude]},function(b){if(b){var d=angular.element(c[0].querySelector(a()));d.html(""),d.append(b)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$attrs","$interpolate","$timeout",function(a,b,c,d){a.closeable=!!b.close;var e=angular.isDefined(b.dismissOnTimeout)?c(b.dismissOnTimeout)(a.$parent):null;e&&d(function(){a.close()},parseInt(e,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",templateUrl:function(a,b){return b.templateUrl||"uib/template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(a){this.activeClass=a.activeClass||"active",this.toggleEvent=a.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(a){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(b,c,d,e){var f=e[0],g=e[1],h=a(d.uibUncheckable);c.find("input").css({display:"none"}),g.$render=function(){c.toggleClass(f.activeClass,angular.equals(g.$modelValue,b.$eval(d.uibBtnRadio)))},c.on(f.toggleEvent,function(){if(!d.disabled){var a=c.hasClass(f.activeClass);(!a||angular.isDefined(d.uncheckable))&&b.$apply(function(){g.$setViewValue(a?null:b.$eval(d.uibBtnRadio)),g.$render()})}}),d.uibUncheckable&&b.$watch(h,function(a){d.$set("uncheckable",a?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(a,b,c,d){function e(){return g(c.btnCheckboxTrue,!0)}function f(){return g(c.btnCheckboxFalse,!1)}function g(b,c){return angular.isDefined(b)?a.$eval(b):c}var h=d[0],i=d[1];b.find("input").css({display:"none"}),i.$render=function(){b.toggleClass(h.activeClass,angular.equals(i.$modelValue,e()))},b.on(h.toggleEvent,function(){c.disabled||a.$apply(function(){i.$setViewValue(b.hasClass(h.activeClass)?f():e()),i.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(a,b,c,d,e){function f(){for(;t.length;)t.shift()}function g(a){for(var b=0;b<q.length;b++)q[b].slide.active=b===a}function h(c,d,i){if(!u){if(angular.extend(c,{direction:i}),angular.extend(q[s].slide||{},{direction:i}),e.enabled(b)&&!a.$currentTransition&&q[d].element&&p.slides.length>1){q[d].element.data(r,c.direction);var j=p.getCurrentIndex();angular.isNumber(j)&&q[j].element&&q[j].element.data(r,c.direction),a.$currentTransition=!0,e.on("addClass",q[d].element,function(b,c){if("close"===c&&(a.$currentTransition=null,e.off("addClass",b),t.length)){var d=t.pop().slide,g=d.index,i=g>p.getCurrentIndex()?"next":"prev";f(),h(d,g,i)}})}a.active=c.index,s=c.index,g(d),l()}}function i(a){for(var b=0;b<q.length;b++)if(q[b].slide===a)return b}function j(){n&&(c.cancel(n),n=null)}function k(b){b.length||(a.$currentTransition=null,f())}function l(){j();var b=+a.interval;!isNaN(b)&&b>0&&(n=c(m,b))}function m(){var b=+a.interval;o&&!isNaN(b)&&b>0&&q.length?a.next():a.pause()}var n,o,p=this,q=p.slides=a.slides=[],r="uib-slideDirection",s=a.active,t=[],u=!1;p.addSlide=function(b,c){q.push({slide:b,element:c}),q.sort(function(a,b){return+a.slide.index-+b.slide.index}),(b.index===a.active||1===q.length&&!angular.isNumber(a.active))&&(a.$currentTransition&&(a.$currentTransition=null),s=b.index,a.active=b.index,g(s),p.select(q[i(b)]),1===q.length&&a.play())},p.getCurrentIndex=function(){for(var a=0;a<q.length;a++)if(q[a].slide.index===s)return a},p.next=a.next=function(){var b=(p.getCurrentIndex()+1)%q.length;return 0===b&&a.noWrap()?void a.pause():p.select(q[b],"next")},p.prev=a.prev=function(){var b=p.getCurrentIndex()-1<0?q.length-1:p.getCurrentIndex()-1;return a.noWrap()&&b===q.length-1?void a.pause():p.select(q[b],"prev")},p.removeSlide=function(b){var c=i(b),d=t.indexOf(q[c]);-1!==d&&t.splice(d,1),q.splice(c,1),q.length>0&&s===c?c>=q.length?(s=q.length-1,a.active=s,g(s),p.select(q[q.length-1])):(s=c,a.active=s,g(s),p.select(q[c])):s>c&&(s--,a.active=s),0===q.length&&(s=null,a.active=null,f())},p.select=a.select=function(b,c){var d=i(b.slide);void 0===c&&(c=d>p.getCurrentIndex()?"next":"prev"),b.slide.index===s||a.$currentTransition?b&&b.slide.index!==s&&a.$currentTransition&&t.push(q[d]):h(b.slide,d,c)},a.indexOfSlide=function(a){return+a.slide.index},a.isActive=function(b){return a.active===b.slide.index},a.isPrevDisabled=function(){return 0===a.active&&a.noWrap()},a.isNextDisabled=function(){return a.active===q.length-1&&a.noWrap()},a.pause=function(){a.noPause||(o=!1,j())},a.play=function(){o||(o=!0,l())},a.$on("$destroy",function(){u=!0,j()}),a.$watch("noTransition",function(a){e.enabled(b,!a)}),a.$watch("interval",l),a.$watchCollection("slides",k),a.$watch("active",function(a){if(angular.isNumber(a)&&s!==a){for(var b=0;b<q.length;b++)if(q[b].slide.index===a){a=b;break}var c=q[a];c&&(g(a),p.select(q[a]),s=a)}})}]).directive("uibCarousel",function(){return{transclude:!0,replace:!0,controller:"UibCarouselController",controllerAs:"carousel",templateUrl:function(a,b){return b.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",function(){return{require:"^uibCarousel",transclude:!0,replace:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(a,b,c,d){d.addSlide(a,b),a.$on("$destroy",function(){d.removeSlide(a)})}}}).animation(".item",["$animateCss",function(a){function b(a,b,c){a.removeClass(b),c&&c()}var c="uib-slideDirection";return{beforeAddClass:function(d,e,f){if("active"===e){var g=!1,h=d.data(c),i="next"===h?"left":"right",j=b.bind(this,d,i+" "+h,f);return d.addClass(h),a(d,{addClass:i}).start().done(j),function(){g=!0}}f()},beforeRemoveClass:function(d,e,f){if("active"===e){var g=!1,h=d.data(c),i="next"===h?"left":"right",j=b.bind(this,d,i,f);return a(d,{addClass:i}).start().done(j),function(){g=!0}}f()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter",function(a,b,c,d){function e(a,b){var c=[],e=a.split(""),f=a.indexOf("'");if(f>-1){var g=!1;a=a.split("");for(var h=f;h<a.length;h++)g?("'"===a[h]&&(h+1<a.length&&"'"===a[h+1]?(a[h+1]="$",e[h+1]=""):(e[h]="",g=!1)),a[h]="$"):"'"===a[h]&&(a[h]="$",e[h]="",g=!0);a=a.join("")}return angular.forEach(n,function(d){var f=a.indexOf(d.key);if(f>-1){a=a.split(""),e[f]="("+d.regex+")",a[f]="$";for(var g=f+1,h=f+d.key.length;h>g;g++)e[g]="",a[g]="$";a=a.join(""),c.push({index:f,key:d.key,apply:d[b],matcher:d.regex})}}),{regex:new RegExp("^"+e.join("")+"$"),map:d(c,"index")}}function f(a,b,c){return 1>c?!1:1===b&&c>28?29===c&&(a%4===0&&a%100!==0||a%400===0):3===b||5===b||8===b||10===b?31>c:!0}function g(a){return parseInt(a,10)}function h(a,b){return a&&b?l(a,b):a}function i(a,b){return a&&b?l(a,b,!0):a}function j(a,b){a=a.replace(/:/g,"");var c=Date.parse("Jan 01, 1970 00:00:00 "+a)/6e4;return isNaN(c)?b:c}function k(a,b){return a=new Date(a.getTime()),a.setMinutes(a.getMinutes()+b),a}function l(a,b,c){c=c?-1:1;var d=a.getTimezoneOffset(),e=j(b,d);return k(a,c*(e-d))}var m,n,o=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){m=b.id,this.parsers={},this.formatters={},n=[{key:"yyyy",regex:"\\d{4}",apply:function(a){this.year=+a},formatter:function(a){var b=new Date;return b.setFullYear(Math.abs(a.getFullYear())),c(b,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(a){a=+a,this.year=69>a?a+2e3:a+1900},formatter:function(a){var b=new Date;return b.setFullYear(Math.abs(a.getFullYear())),c(b,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(a){this.year=+a},formatter:function(a){var b=new Date;return b.setFullYear(Math.abs(a.getFullYear())),c(b,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(a){this.month=a-1},formatter:function(a){var b=a.getMonth();return/^[0-9]$/.test(b)?c(a,"MM"):c(a,"M")}},{key:"MMMM",regex:b.DATETIME_FORMATS.MONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.MONTH.indexOf(a)},formatter:function(a){return c(a,"MMMM")}},{key:"MMM",regex:b.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.SHORTMONTH.indexOf(a)},formatter:function(a){return c(a,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(a){this.month=a-1},formatter:function(a){return c(a,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(a){this.month=a-1},formatter:function(a){return c(a,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a},formatter:function(a){var b=a.getDate();return/^[1-9]$/.test(b)?c(a,"dd"):c(a,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a},formatter:function(a){return c(a,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a},formatter:function(a){return c(a,"d")}},{key:"EEEE",regex:b.DATETIME_FORMATS.DAY.join("|"),formatter:function(a){return c(a,"EEEE")}},{key:"EEE",regex:b.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(a){return c(a,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(a){this.hours=+a},formatter:function(a){return c(a,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(a){this.hours=+a},formatter:function(a){return c(a,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(a){this.hours=+a},formatter:function(a){return c(a,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(a){this.hours=+a},formatter:function(a){return c(a,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(a){this.minutes=+a},formatter:function(a){return c(a,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(a){this.minutes=+a},formatter:function(a){return c(a,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(a){this.milliseconds=+a},formatter:function(a){return c(a,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(a){this.seconds=+a},formatter:function(a){return c(a,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(a){this.seconds=+a},formatter:function(a){return c(a,"s")}},{key:"a",regex:b.DATETIME_FORMATS.AMPMS.join("|"),apply:function(a){12===this.hours&&(this.hours=0),"PM"===a&&(this.hours+=12)},formatter:function(a){return c(a,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(a){var b=a.match(/([+-])(\d{2})(\d{2})/),c=b[1],d=b[2],e=b[3];this.hours+=g(c+d),this.minutes+=g(c+e)},formatter:function(a){return c(a,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(a){return c(a,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(a){return c(a,"w")}},{key:"GGGG",regex:b.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(a){return c(a,"GGGG")}},{key:"GGG",regex:b.DATETIME_FORMATS.ERAS.join("|"),formatter:function(a){return c(a,"GGG")}},{key:"GG",regex:b.DATETIME_FORMATS.ERAS.join("|"),formatter:function(a){return c(a,"GG")}},{key:"G",regex:b.DATETIME_FORMATS.ERAS.join("|"),formatter:function(a){return c(a,"G")}}]},this.init(),this.filter=function(a,c){if(!angular.isDate(a)||isNaN(a)||!c)return"";c=b.DATETIME_FORMATS[c]||c,b.id!==m&&this.init(),this.formatters[c]||(this.formatters[c]=e(c,"formatter"));var d=this.formatters[c],f=d.map,g=c;return f.reduce(function(b,c,d){var e=g.match(new RegExp("(.*)"+c.key));e&&angular.isString(e[1])&&(b+=e[1],g=g.replace(e[1]+c.key,""));var h=d===f.length-1?g:"";return c.apply?b+c.apply.call(null,a)+h:b+h},"")},this.parse=function(c,d,g){if(!angular.isString(c)||!d)return c;d=b.DATETIME_FORMATS[d]||d,d=d.replace(o,"\\$&"),b.id!==m&&this.init(),this.parsers[d]||(this.parsers[d]=e(d,"apply"));var h=this.parsers[d],i=h.regex,j=h.map,k=c.match(i),l=!1;if(k&&k.length){var n,p;angular.isDate(g)&&!isNaN(g.getTime())?n={year:g.getFullYear(),month:g.getMonth(),date:g.getDate(),hours:g.getHours(),minutes:g.getMinutes(),seconds:g.getSeconds(),milliseconds:g.getMilliseconds()}:(g&&a.warn("dateparser:","baseDate is not a valid date"),n={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var q=1,r=k.length;r>q;q++){var s=j[q-1];"Z"===s.matcher&&(l=!0),s.apply&&s.apply.call(n,k[q])}var t=l?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,u=l?Date.prototype.setUTCHours:Date.prototype.setHours;return f(n.year,n.month,n.date)&&(!angular.isDate(g)||isNaN(g.getTime())||l?(p=new Date(0),t.call(p,n.year,n.month,n.date),u.call(p,n.hours||0,n.minutes||0,n.seconds||0,n.milliseconds||0)):(p=new Date(g),t.call(p,n.year,n.month,n.date),u.call(p,n.hours,n.minutes,n.seconds,n.milliseconds))),p}},this.toTimezone=h,this.fromTimezone=i,this.timezoneToOffset=j,this.addDateMinutes=k,this.convertTimezoneToLocal=l}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(a){var b=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,c=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(d,e){function f(a,b,c){i.push(a),j.push({scope:a,element:b}),o.forEach(function(b,c){g(b,a)}),a.$on("$destroy",h)}function g(b,d){var e=b.match(c),f=d.$eval(e[1]),g=e[2],h=k[b];if(!h){var i=function(b){var c=null;j.some(function(a){var d=a.scope.$eval(m);return d===b?(c=a,!0):void 0}),h.lastActivated!==c&&(h.lastActivated&&a.removeClass(h.lastActivated.element,f),c&&a.addClass(c.element,f),h.lastActivated=c)};k[b]=h={lastActivated:null,scope:d,watchFn:i,compareWithExp:g,watcher:d.$watch(g,i)}}h.watchFn(d.$eval(g))}function h(a){var b=a.targetScope,c=i.indexOf(b);if(i.splice(c,1),j.splice(c,1),i.length){var d=i[0];angular.forEach(k,function(a){a.scope===b&&(a.watcher=d.$watch(a.compareWithExp,a.watchFn),a.scope=d)})}else k={}}var i=[],j=[],k={},l=e.uibIsClass.match(b),m=l[2],n=l[1],o=n.split(",");return f}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(a,b,c,d,e,f,g,h,i,j,k){function l(b){a.datepickerMode=b,a.datepickerOptions.datepickerMode=b}var m=this,n={$setViewValue:angular.noop},o={},p=[];!!b.datepickerOptions;a.datepickerOptions||(a.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(b){switch(b){case"customClass":case"dateDisabled":a[b]=a.datepickerOptions[b]||angular.noop;break;case"datepickerMode":a.datepickerMode=angular.isDefined(a.datepickerOptions.datepickerMode)?a.datepickerOptions.datepickerMode:h.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":m[b]=angular.isDefined(a.datepickerOptions[b])?d(a.datepickerOptions[b])(a.$parent):h[b];break;case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":m[b]=angular.isDefined(a.datepickerOptions[b])?a.datepickerOptions[b]:h[b];break;case"startingDay":angular.isDefined(a.datepickerOptions.startingDay)?m.startingDay=a.datepickerOptions.startingDay:angular.isNumber(h.startingDay)?m.startingDay=h.startingDay:m.startingDay=(e.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":a.$watch("datepickerOptions."+b,function(a){a?angular.isDate(a)?m[b]=k.fromTimezone(new Date(a),o.timezone):(i&&f.warn("Literal date support has been deprecated, please switch to date object usage"),m[b]=new Date(g(a,"medium"))):m[b]=h[b]?k.fromTimezone(new Date(h[b]),o.timezone):null,m.refreshView()});break;case"maxMode":case"minMode":a.datepickerOptions[b]?a.$watch(function(){return a.datepickerOptions[b]},function(c){m[b]=a[b]=angular.isDefined(c)?c:datepickerOptions[b],("minMode"===b&&m.modes.indexOf(a.datepickerOptions.datepickerMode)<m.modes.indexOf(m[b])||"maxMode"===b&&m.modes.indexOf(a.datepickerOptions.datepickerMode)>m.modes.indexOf(m[b]))&&(a.datepickerMode=m[b],a.datepickerOptions.datepickerMode=m[b])}):m[b]=a[b]=h[b]||null}}),a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),a.disabled=angular.isDefined(b.disabled)||!1,angular.isDefined(b.ngDisabled)&&p.push(a.$parent.$watch(b.ngDisabled,function(b){a.disabled=b,m.refreshView()})),a.isActive=function(b){return 0===m.compare(b.date,m.activeDate)?(a.activeDateId=b.uid,!0):!1},this.init=function(b){n=b,o=b.$options||h.ngModelOptions,a.datepickerOptions.initDate?(m.activeDate=k.fromTimezone(a.datepickerOptions.initDate,o.timezone)||new Date,a.$watch("datepickerOptions.initDate",function(a){a&&(n.$isEmpty(n.$modelValue)||n.$invalid)&&(m.activeDate=k.fromTimezone(a,o.timezone),m.refreshView())})):m.activeDate=new Date;var c=n.$modelValue?new Date(n.$modelValue):new Date;this.activeDate=isNaN(c)?k.fromTimezone(new Date,o.timezone):k.fromTimezone(c,o.timezone),n.$render=function(){m.render()}},this.render=function(){if(n.$viewValue){var a=new Date(n.$viewValue),b=!isNaN(a);b?this.activeDate=k.fromTimezone(a,o.timezone):j||f.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){a.selectedDt=null,this._refreshView(),a.activeDt&&(a.activeDateId=a.activeDt.uid);var b=n.$viewValue?new Date(n.$viewValue):null;b=k.fromTimezone(b,o.timezone),n.$setValidity("dateDisabled",!b||this.element&&!this.isDisabled(b))}},this.createDateObject=function(b,c){var d=n.$viewValue?new Date(n.$viewValue):null;d=k.fromTimezone(d,o.timezone);var e=new Date;e=k.fromTimezone(e,o.timezone);var f=this.compare(b,e),g={date:b,label:k.filter(b,c),selected:d&&0===this.compare(b,d),disabled:this.isDisabled(b),past:0>f,current:0===f,future:f>0,customClass:this.customClass(b)||null};return d&&0===this.compare(b,d)&&(a.selectedDt=g),m.activeDate&&0===this.compare(g.date,m.activeDate)&&(a.activeDt=g),g},this.isDisabled=function(b){return a.disabled||this.minDate&&this.compare(b,this.minDate)<0||this.maxDate&&this.compare(b,this.maxDate)>0||a.dateDisabled&&a.dateDisabled({date:b,mode:a.datepickerMode})},this.customClass=function(b){return a.customClass({date:b,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},a.select=function(b){if(a.datepickerMode===m.minMode){var c=n.$viewValue?k.fromTimezone(new Date(n.$viewValue),o.timezone):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),c=k.toTimezone(c,o.timezone),n.$setViewValue(c),n.$render()}else m.activeDate=b,l(m.modes[m.modes.indexOf(a.datepickerMode)-1]),a.$emit("uib:datepicker.mode");a.$broadcast("uib:datepicker.focus")},a.move=function(a){var b=m.activeDate.getFullYear()+a*(m.step.years||0),c=m.activeDate.getMonth()+a*(m.step.months||0);m.activeDate.setFullYear(b,c,1),m.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===m.maxMode&&1===b||a.datepickerMode===m.minMode&&-1===b||(l(m.modes[m.modes.indexOf(a.datepickerMode)+b]),a.$emit("uib:datepicker.mode"))},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var q=function(){m.element[0].focus()};a.$on("uib:datepicker.focus",q),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey&&!a.disabled)if(b.preventDefault(),m.shortcutPropagation||b.stopPropagation(),
"enter"===c||"space"===c){if(m.isDisabled(m.activeDate))return;a.select(m.activeDate)}else!b.ctrlKey||"up"!==c&&"down"!==c?(m.handleKeyDown(c,b),m.refreshView()):a.toggleMode("up"===c?1:-1)},a.$on("$destroy",function(){for(;p.length;)p.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(a,b,c){function d(a,b){return 1!==b||a%4!==0||a%100===0&&a%400!==0?f[b]:29}function e(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}var f=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=b,this.init=function(b){angular.extend(b,this),a.showWeeks=b.showWeeks,b.refreshView()},this.getDates=function(a,b){for(var c,d=new Array(b),e=new Date(a),f=0;b>f;)c=new Date(e),d[f++]=c,e.setDate(e.getDate()+1);return d},this._refreshView=function(){var b=this.activeDate.getFullYear(),d=this.activeDate.getMonth(),f=new Date(this.activeDate);f.setFullYear(b,d,1);var g=this.startingDay-f.getDay(),h=g>0?7-g:-g,i=new Date(f);h>0&&i.setDate(-h+1);for(var j=this.getDates(i,42),k=0;42>k;k++)j[k]=angular.extend(this.createDateObject(j[k],this.formatDay),{secondary:j[k].getMonth()!==d,uid:a.uniqueId+"-"+k});a.labels=new Array(7);for(var l=0;7>l;l++)a.labels[l]={abbr:c(j[l].date,this.formatDayHeader),full:c(j[l].date,"EEEE")};if(a.title=c(this.activeDate,this.formatDayTitle),a.rows=this.split(j,7),a.showWeeks){a.weekNumbers=[];for(var m=(11-this.startingDay)%7,n=a.rows.length,o=0;n>o;o++)a.weekNumbers.push(e(a.rows[o][m].date))}},this.compare=function(a,b){var c=new Date(a.getFullYear(),a.getMonth(),a.getDate()),d=new Date(b.getFullYear(),b.getMonth(),b.getDate());return c.setFullYear(a.getFullYear()),d.setFullYear(b.getFullYear()),c-d},this.handleKeyDown=function(a,b){var c=this.activeDate.getDate();if("left"===a)c-=1;else if("up"===a)c-=7;else if("right"===a)c+=1;else if("down"===a)c+=7;else if("pageup"===a||"pagedown"===a){var e=this.activeDate.getMonth()+("pageup"===a?-1:1);this.activeDate.setMonth(e,1),c=Math.min(d(this.activeDate.getFullYear(),this.activeDate.getMonth()),c)}else"home"===a?c=1:"end"===a&&(c=d(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(c)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(a,b,c){this.step={years:1},this.element=b,this.init=function(a){angular.extend(a,this),a.refreshView()},this._refreshView=function(){for(var b,d=new Array(12),e=this.activeDate.getFullYear(),f=0;12>f;f++)b=new Date(this.activeDate),b.setFullYear(e,f,1),d[f]=angular.extend(this.createDateObject(b,this.formatMonth),{uid:a.uniqueId+"-"+f});a.title=c(this.activeDate,this.formatMonthTitle),a.rows=this.split(d,3)},this.compare=function(a,b){var c=new Date(a.getFullYear(),a.getMonth()),d=new Date(b.getFullYear(),b.getMonth());return c.setFullYear(a.getFullYear()),d.setFullYear(b.getFullYear()),c-d},this.handleKeyDown=function(a,b){var c=this.activeDate.getMonth();if("left"===a)c-=1;else if("up"===a)c-=3;else if("right"===a)c+=1;else if("down"===a)c+=3;else if("pageup"===a||"pagedown"===a){var d=this.activeDate.getFullYear()+("pageup"===a?-1:1);this.activeDate.setFullYear(d)}else"home"===a?c=0:"end"===a&&(c=11);this.activeDate.setMonth(c)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(a,b,c){function d(a){return parseInt((a-1)/f,10)*f+1}var e,f;this.element=b,this.yearpickerInit=function(){e=this.yearColumns,f=this.yearRows*e,this.step={years:f}},this._refreshView=function(){for(var b,c=new Array(f),g=0,h=d(this.activeDate.getFullYear());f>g;g++)b=new Date(this.activeDate),b.setFullYear(h+g,0,1),c[g]=angular.extend(this.createDateObject(b,this.formatYear),{uid:a.uniqueId+"-"+g});a.title=[c[0].label,c[f-1].label].join(" - "),a.rows=this.split(c,e),a.columns=e},this.compare=function(a,b){return a.getFullYear()-b.getFullYear()},this.handleKeyDown=function(a,b){var c=this.activeDate.getFullYear();"left"===a?c-=1:"up"===a?c-=e:"right"===a?c+=1:"down"===a?c+=e:"pageup"===a||"pagedown"===a?c+=("pageup"===a?-1:1)*f:"home"===a?c=d(this.activeDate.getFullYear()):"end"===a&&(c=d(this.activeDate.getFullYear())+f-1),this.activeDate.setFullYear(c)}}]).directive("uibDatepicker",function(){return{replace:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],controller:"UibDatepickerController",controllerAs:"datepicker",link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}).directive("uibDaypicker",function(){return{replace:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],controller:"UibDaypickerController",link:function(a,b,c,d){var e=d[0],f=d[1];f.init(e)}}}).directive("uibMonthpicker",function(){return{replace:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],controller:"UibMonthpickerController",link:function(a,b,c,d){var e=d[0],f=d[1];f.init(e)}}}).directive("uibYearpicker",function(){return{replace:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],controller:"UibYearpickerController",link:function(a,b,c,d){var e=d[0];angular.extend(e,d[1]),e.yearpickerInit(),e.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(a,b){var c,d,e={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},f={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},g=/(HTML|BODY)/;return{getRawNode:function(a){return a.nodeName?a:a[0]||a},parseStyle:function(a){return a=parseFloat(a),isFinite(a)?a:0},offsetParent:function(c){function d(a){return"static"===(b.getComputedStyle(a).position||"static")}c=this.getRawNode(c);for(var e=c.offsetParent||a[0].documentElement;e&&e!==a[0].documentElement&&d(e);)e=e.offsetParent;return e||a[0].documentElement},scrollbarWidth:function(e){if(e){if(angular.isUndefined(d)){var f=a.find("body");f.addClass("uib-position-body-scrollbar-measure"),d=b.innerWidth-f[0].clientWidth,d=isFinite(d)?d:0,f.removeClass("uib-position-body-scrollbar-measure")}return d}if(angular.isUndefined(c)){var g=angular.element('<div class="uib-position-scrollbar-measure"></div>');a.find("body").append(g),c=g[0].offsetWidth-g[0].clientWidth,c=isFinite(c)?c:0,g.remove()}return c},scrollbarPadding:function(a){a=this.getRawNode(a);var c=b.getComputedStyle(a),d=this.parseStyle(c.paddingRight),e=this.parseStyle(c.paddingBottom),f=this.scrollParent(a,!1,!0),h=this.scrollbarWidth(f,g.test(f.tagName));return{scrollbarWidth:h,widthOverflow:f.scrollWidth>f.clientWidth,right:d+h,originalRight:d,heightOverflow:f.scrollHeight>f.clientHeight,bottom:e+h,originalBottom:e}},isScrollable:function(a,c){a=this.getRawNode(a);var d=c?e.hidden:e.normal,f=b.getComputedStyle(a);return d.test(f.overflow+f.overflowY+f.overflowX)},scrollParent:function(c,d,f){c=this.getRawNode(c);var g=d?e.hidden:e.normal,h=a[0].documentElement,i=b.getComputedStyle(c);if(f&&g.test(i.overflow+i.overflowY+i.overflowX))return c;var j="absolute"===i.position,k=c.parentElement||h;if(k===h||"fixed"===i.position)return h;for(;k.parentElement&&k!==h;){var l=b.getComputedStyle(k);if(j&&"static"!==l.position&&(j=!1),!j&&g.test(l.overflow+l.overflowY+l.overflowX))break;k=k.parentElement}return k},position:function(c,d){c=this.getRawNode(c);var e=this.offset(c);if(d){var f=b.getComputedStyle(c);e.top-=this.parseStyle(f.marginTop),e.left-=this.parseStyle(f.marginLeft)}var g=this.offsetParent(c),h={top:0,left:0};return g!==a[0].documentElement&&(h=this.offset(g),h.top+=g.clientTop-g.scrollTop,h.left+=g.clientLeft-g.scrollLeft),{width:Math.round(angular.isNumber(e.width)?e.width:c.offsetWidth),height:Math.round(angular.isNumber(e.height)?e.height:c.offsetHeight),top:Math.round(e.top-h.top),left:Math.round(e.left-h.left)}},offset:function(c){c=this.getRawNode(c);var d=c.getBoundingClientRect();return{width:Math.round(angular.isNumber(d.width)?d.width:c.offsetWidth),height:Math.round(angular.isNumber(d.height)?d.height:c.offsetHeight),top:Math.round(d.top+(b.pageYOffset||a[0].documentElement.scrollTop)),left:Math.round(d.left+(b.pageXOffset||a[0].documentElement.scrollLeft))}},viewportOffset:function(c,d,e){c=this.getRawNode(c),e=e!==!1?!0:!1;var f=c.getBoundingClientRect(),g={top:0,left:0,bottom:0,right:0},h=d?a[0].documentElement:this.scrollParent(c),i=h.getBoundingClientRect();if(g.top=i.top+h.clientTop,g.left=i.left+h.clientLeft,h===a[0].documentElement&&(g.top+=b.pageYOffset,g.left+=b.pageXOffset),g.bottom=g.top+h.clientHeight,g.right=g.left+h.clientWidth,e){var j=b.getComputedStyle(h);g.top+=this.parseStyle(j.paddingTop),g.bottom-=this.parseStyle(j.paddingBottom),g.left+=this.parseStyle(j.paddingLeft),g.right-=this.parseStyle(j.paddingRight)}return{top:Math.round(f.top-g.top),bottom:Math.round(g.bottom-f.bottom),left:Math.round(f.left-g.left),right:Math.round(g.right-f.right)}},parsePlacement:function(a){var b=f.auto.test(a);return b&&(a=a.replace(f.auto,"")),a=a.split("-"),a[0]=a[0]||"top",f.primary.test(a[0])||(a[0]="top"),a[1]=a[1]||"center",f.secondary.test(a[1])||(a[1]="center"),b?a[2]=!0:a[2]=!1,a},positionElements:function(a,c,d,e){a=this.getRawNode(a),c=this.getRawNode(c);var g=angular.isDefined(c.offsetWidth)?c.offsetWidth:c.prop("offsetWidth"),h=angular.isDefined(c.offsetHeight)?c.offsetHeight:c.prop("offsetHeight");d=this.parsePlacement(d);var i=e?this.offset(a):this.position(a),j={top:0,left:0,placement:""};if(d[2]){var k=this.viewportOffset(a,e),l=b.getComputedStyle(c),m={width:g+Math.round(Math.abs(this.parseStyle(l.marginLeft)+this.parseStyle(l.marginRight))),height:h+Math.round(Math.abs(this.parseStyle(l.marginTop)+this.parseStyle(l.marginBottom)))};if(d[0]="top"===d[0]&&m.height>k.top&&m.height<=k.bottom?"bottom":"bottom"===d[0]&&m.height>k.bottom&&m.height<=k.top?"top":"left"===d[0]&&m.width>k.left&&m.width<=k.right?"right":"right"===d[0]&&m.width>k.right&&m.width<=k.left?"left":d[0],d[1]="top"===d[1]&&m.height-i.height>k.bottom&&m.height-i.height<=k.top?"bottom":"bottom"===d[1]&&m.height-i.height>k.top&&m.height-i.height<=k.bottom?"top":"left"===d[1]&&m.width-i.width>k.right&&m.width-i.width<=k.left?"right":"right"===d[1]&&m.width-i.width>k.left&&m.width-i.width<=k.right?"left":d[1],"center"===d[1])if(f.vertical.test(d[0])){var n=i.width/2-g/2;k.left+n<0&&m.width-i.width<=k.right?d[1]="left":k.right+n<0&&m.width-i.width<=k.left&&(d[1]="right")}else{var o=i.height/2-m.height/2;k.top+o<0&&m.height-i.height<=k.bottom?d[1]="top":k.bottom+o<0&&m.height-i.height<=k.top&&(d[1]="bottom")}}switch(d[0]){case"top":j.top=i.top-h;break;case"bottom":j.top=i.top+i.height;break;case"left":j.left=i.left-g;break;case"right":j.left=i.left+i.width}switch(d[1]){case"top":j.top=i.top;break;case"bottom":j.top=i.top+i.height-h;break;case"left":j.left=i.left;break;case"right":j.left=i.left+i.width-g;break;case"center":f.vertical.test(d[0])?j.left=i.left+i.width/2-g/2:j.top=i.top+i.height/2-h/2}return j.top=Math.round(j.top),j.left=Math.round(j.left),j.placement="center"===d[1]?d[0]:d[0]+"-"+d[1],j},positionArrow:function(a,c){a=this.getRawNode(a);var d=a.querySelector(".tooltip-inner, .popover-inner");if(d){var e=angular.element(d).hasClass("tooltip-inner"),g=e?a.querySelector(".tooltip-arrow"):a.querySelector(".arrow");if(g){var h={top:"",bottom:"",left:"",right:""};if(c=this.parsePlacement(c),"center"===c[1])return void angular.element(g).css(h);var i="border-"+c[0]+"-width",j=b.getComputedStyle(g)[i],k="border-";k+=f.vertical.test(c[0])?c[0]+"-"+c[1]:c[1]+"-"+c[0],k+="-radius";var l=b.getComputedStyle(e?d:a)[k];switch(c[0]){case"top":h.bottom=e?"0":"-"+j;break;case"bottom":h.top=e?"0":"-"+j;break;case"left":h.right=e?"0":"-"+j;break;case"right":h.left=e?"0":"-"+j}h[c[1]]=l,angular.element(g).css(h)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){function q(b){var c=l.parse(b,w,a.date);if(isNaN(c))for(var d=0;d<I.length;d++)if(c=l.parse(b,I[d],a.date),!isNaN(c))return c;return c}function r(a){if(angular.isNumber(a)&&(a=new Date(a)),!a)return null;if(angular.isDate(a)&&!isNaN(a))return a;if(angular.isString(a)){var b=q(a);if(!isNaN(b))return l.toTimezone(b,J)}return F.$options&&F.$options.allowInvalid?a:void 0}function s(a,b){var d=a||b;return c.ngRequired||d?(angular.isNumber(d)&&(d=new Date(d)),d?angular.isDate(d)&&!isNaN(d)?!0:angular.isString(d)?!isNaN(q(b)):!1:!0):!0}function t(c){if(a.isOpen||!a.disabled){var d=H[0],e=b[0].contains(c.target),f=void 0!==d.contains&&d.contains(c.target);!a.isOpen||e||f||a.$apply(function(){a.isOpen=!1})}}function u(c){27===c.which&&a.isOpen?(c.preventDefault(),c.stopPropagation(),a.$apply(function(){a.isOpen=!1}),b[0].focus()):40!==c.which||a.isOpen||(c.preventDefault(),c.stopPropagation(),a.$apply(function(){a.isOpen=!0}))}function v(){if(a.isOpen){var d=angular.element(H[0].querySelector(".uib-datepicker-popup")),e=c.popupPlacement?c.popupPlacement:m.placement,f=j.positionElements(b,d,e,y);d.css({top:f.top+"px",left:f.left+"px"}),d.hasClass("uib-position-measure")&&d.removeClass("uib-position-measure")}}var w,x,y,z,A,B,C,D,E,F,G,H,I,J,K=!1,L=[];this.init=function(e){if(F=e,G=e.$options,x=angular.isDefined(c.closeOnDateSelection)?a.$parent.$eval(c.closeOnDateSelection):m.closeOnDateSelection,y=angular.isDefined(c.datepickerAppendToBody)?a.$parent.$eval(c.datepickerAppendToBody):m.appendToBody,z=angular.isDefined(c.onOpenFocus)?a.$parent.$eval(c.onOpenFocus):m.onOpenFocus,A=angular.isDefined(c.datepickerPopupTemplateUrl)?c.datepickerPopupTemplateUrl:m.datepickerPopupTemplateUrl,B=angular.isDefined(c.datepickerTemplateUrl)?c.datepickerTemplateUrl:m.datepickerTemplateUrl,I=angular.isDefined(c.altInputFormats)?a.$parent.$eval(c.altInputFormats):m.altInputFormats,a.showButtonBar=angular.isDefined(c.showButtonBar)?a.$parent.$eval(c.showButtonBar):m.showButtonBar,m.html5Types[c.type]?(w=m.html5Types[c.type],K=!0):(w=c.uibDatepickerPopup||m.datepickerPopup,c.$observe("uibDatepickerPopup",function(a,b){var c=a||m.datepickerPopup;if(c!==w&&(w=c,F.$modelValue=null,!w))throw new Error("uibDatepickerPopup must have a date format specified.")})),!w)throw new Error("uibDatepickerPopup must have a date format specified.");if(K&&c.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");C=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),G?(J=G.timezone,a.ngModelOptions=angular.copy(G),a.ngModelOptions.timezone=null,a.ngModelOptions.updateOnDefault===!0&&(a.ngModelOptions.updateOn=a.ngModelOptions.updateOn?a.ngModelOptions.updateOn+" default":"default"),C.attr("ng-model-options","ngModelOptions")):J=null,C.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":A}),D=angular.element(C.children()[0]),D.attr("template-url",B),a.datepickerOptions||(a.datepickerOptions={}),K&&"month"===c.type&&(a.datepickerOptions.datepickerMode="month",a.datepickerOptions.minMode="month"),D.attr("datepicker-options","datepickerOptions"),K?F.$formatters.push(function(b){return a.date=l.fromTimezone(b,J),b}):(F.$$parserName="date",F.$validators.date=s,F.$parsers.unshift(r),F.$formatters.push(function(b){return F.$isEmpty(b)?(a.date=b,b):(angular.isNumber(b)&&(b=new Date(b)),a.date=l.fromTimezone(b,J),l.filter(a.date,w))})),F.$viewChangeListeners.push(function(){a.date=q(F.$viewValue)}),b.on("keydown",u),H=d(C)(a),C.remove(),y?h.find("body").append(H):b.after(H),a.$on("$destroy",function(){for(a.isOpen===!0&&(i.$$phase||a.$apply(function(){a.isOpen=!1})),H.remove(),b.off("keydown",u),h.off("click",t),E&&E.off("scroll",v),angular.element(g).off("resize",v);L.length;)L.shift()()})},a.getText=function(b){return a[b+"Text"]||m[b+"Text"]},a.isDisabled=function(b){"today"===b&&(b=l.fromTimezone(new Date,J));var c={};return angular.forEach(["minDate","maxDate"],function(b){a.datepickerOptions[b]?angular.isDate(a.datepickerOptions[b])?c[b]=l.fromTimezone(new Date(a.datepickerOptions[b]),J):(p&&e.warn("Literal date support has been deprecated, please switch to date object usage"),c[b]=new Date(k(a.datepickerOptions[b],"medium"))):c[b]=null}),a.datepickerOptions&&c.minDate&&a.compare(b,c.minDate)<0||c.maxDate&&a.compare(b,c.maxDate)>0},a.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},a.dateSelection=function(c){angular.isDefined(c)&&(a.date=c);var d=a.date?l.filter(a.date,w):null;b.val(d),F.$setViewValue(d),x&&(a.isOpen=!1,b[0].focus())},a.keydown=function(c){27===c.which&&(c.stopPropagation(),a.isOpen=!1,b[0].focus())},a.select=function(b,c){if(c.stopPropagation(),"today"===b){var d=new Date;angular.isDate(a.date)?(b=new Date(a.date),b.setFullYear(d.getFullYear(),d.getMonth(),d.getDate())):b=new Date(d.setHours(0,0,0,0))}a.dateSelection(b)},a.close=function(c){c.stopPropagation(),a.isOpen=!1,b[0].focus()},a.disabled=angular.isDefined(c.disabled)||!1,c.ngDisabled&&L.push(a.$parent.$watch(f(c.ngDisabled),function(b){a.disabled=b})),a.$watch("isOpen",function(d){d?a.disabled?a.isOpen=!1:n(function(){v(),z&&a.$broadcast("uib:datepicker.focus"),h.on("click",t);var d=c.popupPlacement?c.popupPlacement:m.placement;y||j.parsePlacement(d)[2]?(E=E||angular.element(j.scrollParent(b)),E&&E.on("scroll",v)):E=null,angular.element(g).on("resize",v)},0,!1):(h.off("click",t),E&&E.off("scroll",v),angular.element(g).off("resize",v))}),a.$on("uib:datepicker.mode",function(){n(v,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(a,b,c,d){var e=d[0],f=d[1];f.init(e)}}}).directive("uibDatepickerPopupWrap",function(){return{replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(a){return function(b,c){var d;return function(){var e=this,f=Array.prototype.slice.call(arguments);d&&a.cancel(d),d=a(function(){b.apply(e,f)},c)}}}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(a,b){var c=null;this.open=function(b,f){c||(a.on("click",d),f.on("keydown",e)),c&&c!==b&&(c.isOpen=!1),c=b},this.close=function(b,f){c===b&&(c=null,a.off("click",d),f.off("keydown",e))};var d=function(a){if(c&&!(a&&"disabled"===c.getAutoClose()||a&&3===a.which)){var d=c.getToggleElement();if(!(a&&d&&d[0].contains(a.target))){var e=c.getDropdownElement();a&&"outsideClick"===c.getAutoClose()&&e&&e[0].contains(a.target)||(c.isOpen=!1,b.$$phase||c.$apply())}}},e=function(a){27===a.which?(a.stopPropagation(),c.focusToggleElement(),d()):c.isKeynavEnabled()&&-1!==[38,40].indexOf(a.which)&&c.isOpen&&(a.preventDefault(),a.stopPropagation(),c.focusDropdownEntry(a.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(a,b,c,d,e,f,g,h,i,j,k){var l,m,n=this,o=a.$new(),p=e.appendToOpenClass,q=e.openClass,r=angular.noop,s=c.onToggle?d(c.onToggle):angular.noop,t=!1,u=null,v=!1,w=i.find("body");b.addClass("dropdown"),this.init=function(){if(c.isOpen&&(m=d(c.isOpen),r=m.assign,a.$watch(m,function(a){o.isOpen=!!a})),angular.isDefined(c.dropdownAppendTo)){var e=d(c.dropdownAppendTo)(o);e&&(u=angular.element(e))}t=angular.isDefined(c.dropdownAppendToBody),v=angular.isDefined(c.keyboardNav),t&&!u&&(u=w),u&&n.dropdownMenu&&(u.append(n.dropdownMenu),b.on("$destroy",function(){n.dropdownMenu.remove()}))},this.toggle=function(a){return o.isOpen=arguments.length?!!a:!o.isOpen,angular.isFunction(r)&&r(o,o.isOpen),o.isOpen},this.isOpen=function(){return o.isOpen},o.getToggleElement=function(){return n.toggleElement},o.getAutoClose=function(){return c.autoClose||"always"},o.getElement=function(){return b},o.isKeynavEnabled=function(){return v},o.focusDropdownEntry=function(a){var c=n.dropdownMenu?angular.element(n.dropdownMenu).find("a"):b.find("ul").eq(0).find("a");switch(a){case 40:angular.isNumber(n.selectedOption)?n.selectedOption=n.selectedOption===c.length-1?n.selectedOption:n.selectedOption+1:n.selectedOption=0;break;case 38:angular.isNumber(n.selectedOption)?n.selectedOption=0===n.selectedOption?0:n.selectedOption-1:n.selectedOption=c.length-1}c[n.selectedOption].focus()},o.getDropdownElement=function(){return n.dropdownMenu},o.focusToggleElement=function(){n.toggleElement&&n.toggleElement[0].focus()},o.$watch("isOpen",function(c,d){if(u&&n.dropdownMenu){var e,i,m,v=h.positionElements(b,n.dropdownMenu,"bottom-left",!0);if(e={top:v.top+"px",display:c?"block":"none"},i=n.dropdownMenu.hasClass("dropdown-menu-right"),i?(e.left="auto",m=h.scrollbarWidth(!0),e.right=window.innerWidth-m-(v.left+b.prop("offsetWidth"))+"px"):(e.left=v.left+"px",e.right="auto"),!t){var w=h.offset(u);e.top=v.top-w.top+"px",i?e.right=window.innerWidth-(v.left-w.left+b.prop("offsetWidth"))+"px":e.left=v.left-w.left+"px"}n.dropdownMenu.css(e)}var x=u?u:b,y=x.hasClass(u?p:q);if(y===!c&&g[c?"addClass":"removeClass"](x,u?p:q).then(function(){angular.isDefined(c)&&c!==d&&s(a,{open:!!c})}),c)n.dropdownMenuTemplateUrl&&k(n.dropdownMenuTemplateUrl).then(function(a){l=o.$new(),j(a.trim())(l,function(a){var b=a;n.dropdownMenu.replaceWith(b),n.dropdownMenu=b})}),o.focusToggleElement(),f.open(o,b);else{if(n.dropdownMenuTemplateUrl){l&&l.$destroy();var z=angular.element('<ul class="dropdown-menu"></ul>');n.dropdownMenu.replaceWith(z),n.dropdownMenu=z}f.close(o,b),n.selectedOption=null}angular.isFunction(r)&&r(a,c)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(a,b,c,d){d.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(a,b,c,d){if(d&&!angular.isDefined(c.dropdownNested)){b.addClass("dropdown-menu");var e=c.templateUrl;e&&(d.dropdownMenuTemplateUrl=e),d.dropdownMenu||(d.dropdownMenu=b)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(a,b,c,d){if(d){b.addClass("dropdown-toggle"),d.toggleElement=b;var e=function(e){e.preventDefault(),b.hasClass("disabled")||c.disabled||a.$apply(function(){d.toggle()})};b.bind("click",e),b.attr({"aria-haspopup":!0,"aria-expanded":!1}),a.$watch(d.isOpen,function(a){b.attr("aria-expanded",!!a)}),a.$on("$destroy",function(){b.unbind("click",e)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b===a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b===a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap","ui.bootstrap.position"]).factory("$$multiMap",function(){return{createNew:function(){var a={};return{entries:function(){return Object.keys(a).map(function(b){return{key:b,value:a[b]}})},get:function(b){return a[b]},hasKey:function(b){return!!a[b]},keys:function(){return Object.keys(a)},put:function(b,c){a[b]||(a[b]=[]),a[b].push(c)},remove:function(b,c){var d=a[b];if(d){var e=d.indexOf(c);-1!==e&&d.splice(e,1),d.length||delete a[b]}}}}}}).provider("$uibResolve",function(){var a=this;this.resolver=null,this.setResolver=function(a){this.resolver=a},this.$get=["$injector","$q",function(b,c){var d=a.resolver?b.get(a.resolver):null;return{resolve:function(a,e,f,g){if(d)return d.resolve(a,e,f,g);var h=[];return angular.forEach(a,function(a){angular.isFunction(a)||angular.isArray(a)?h.push(c.resolve(b.invoke(a))):angular.isString(a)?h.push(c.resolve(b.get(a))):h.push(c.resolve(a))}),c.all(h).then(function(b){var c={},d=0;return angular.forEach(a,function(a,e){c[e]=b[d++]}),c})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(a,b,c){function d(b,d,e){e.modalInClass&&(a.addClass(d,e.modalInClass),b.$on(c.NOW_CLOSING_EVENT,function(c,f){var g=f();b.modalOptions.animation?a.removeClass(d,e.modalInClass).then(g):g()}))}return{replace:!0,templateUrl:"uib/template/modal/backdrop.html",compile:function(a,b){return a.addClass(b.backdropClass),d}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(a,b,c,d){return{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/modal/window.html"},link:function(e,f,g){f.addClass(g.windowClass||""),f.addClass(g.windowTopClass||""),e.size=g.size,e.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!==c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))},f.on("click",e.close),e.$isRendered=!0;var h=b.defer();g.$observe("modalRender",function(a){"true"===a&&h.resolve()}),h.promise.then(function(){var h=null;g.modalInClass&&(h=c(f,{addClass:g.modalInClass}).start(),e.$on(a.NOW_CLOSING_EVENT,function(a,b){var d=b();c(f,{removeClass:g.modalInClass}).start().then(d)})),b.when(h).then(function(){var b=a.getTop();if(b&&a.modalRendered(b.key),!d[0].activeElement||!f[0].contains(d[0].activeElement)){var c=f[0].querySelector("[autofocus]");c?c.focus():f[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(a,b){b.modalAnimation&&a.addClass(b.uibModalAnimationClass)}}}).directive("uibModalTransclude",function(){return{link:function(a,b,c,d,e){e(a.$parent,function(a){b.empty(),b.append(a)})}}}).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(a,b,c,d,e,f,g,h,i){function j(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)}function k(){for(var a=-1,b=v.keys(),c=0;c<b.length;c++)v.get(b[c]).value.backdrop&&(a=c);return a>-1&&y>a&&(a=y),a}function l(a,b){var c=v.get(a).value,d=c.appendTo;v.remove(a),z=v.top(),z&&(y=parseInt(z.value.modalDomEl.attr("index"),10)),o(c.modalDomEl,c.modalScope,function(){var b=c.openedClass||u;w.remove(b,a);var e=w.hasKey(b);d.toggleClass(b,e),!e&&t&&t.heightOverflow&&t.scrollbarWidth&&(t.originalRight?d.css({paddingRight:t.originalRight+"px"}):d.css({paddingRight:""}),t=null),m(!0)},c.closedDeferred),n(),b&&b.focus?b.focus():d.focus&&d.focus()}function m(a){var b;v.length()>0&&(b=v.top().value,b.modalDomEl.toggleClass(b.windowTopClass||"",a))}function n(){if(r&&-1===k()){var a=s;o(r,s,function(){a=null}),r=void 0,s=void 0}}function o(b,c,d,e){function g(){g.done||(g.done=!0,a.leave(b).then(function(){b.remove(),e&&e.resolve()}),c.$destroy(),d&&d())}var h,i=null,j=function(){return h||(h=f.defer(),i=h.promise),function(){h.resolve()}};return c.$broadcast(x.NOW_CLOSING_EVENT,j),f.when(i).then(g)}function p(a){if(a.isDefaultPrevented())return a;var b=v.top();if(b)switch(a.which){case 27:b.value.keyboard&&(a.preventDefault(),e.$apply(function(){x.dismiss(b.key,"escape key press")}));break;case 9:var c=x.loadFocusElementList(b),d=!1;a.shiftKey?(x.isFocusInFirstItem(a,c)||x.isModalFocused(a,b))&&(d=x.focusLastFocusableElement(c)):x.isFocusInLastItem(a,c)&&(d=x.focusFirstFocusableElement(c)),d&&(a.preventDefault(),a.stopPropagation())}}function q(a,b,c){return!a.value.modalScope.$broadcast("modal.closing",b,c).defaultPrevented}var r,s,t,u="modal-open",v=h.createNew(),w=g.createNew(),x={NOW_CLOSING_EVENT:"modal.stack.now-closing"},y=0,z=null,A="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return e.$watch(k,function(a){s&&(s.index=a)}),c.on("keydown",p),e.$on("$destroy",function(){c.off("keydown",p)}),x.open=function(b,f){var g=c[0].activeElement,h=f.openedClass||u;m(!1),z=v.top(),v.add(b,{deferred:f.deferred,renderDeferred:f.renderDeferred,closedDeferred:f.closedDeferred,modalScope:f.scope,backdrop:f.backdrop,keyboard:f.keyboard,openedClass:f.openedClass,windowTopClass:f.windowTopClass,animation:f.animation,appendTo:f.appendTo}),w.put(h,b);var j=f.appendTo,l=k();if(!j.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");l>=0&&!r&&(s=e.$new(!0),s.modalOptions=f,s.index=l,r=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),r.attr("backdrop-class",f.backdropClass),f.animation&&r.attr("modal-animation","true"),d(r)(s),a.enter(r,j),t=i.scrollbarPadding(j),t.heightOverflow&&t.scrollbarWidth&&j.css({paddingRight:t.right+"px"})),y=z?parseInt(z.value.modalDomEl.attr("index"),10)+1:0;var n=angular.element('<div uib-modal-window="modal-window"></div>');n.attr({"template-url":f.windowTemplateUrl,"window-class":f.windowClass,"window-top-class":f.windowTopClass,size:f.size,index:y,animate:"animate"}).html(f.content),f.animation&&n.attr("modal-animation","true"),j.addClass(h),a.enter(d(n)(f.scope),j),v.top().value.modalDomEl=n,v.top().value.modalOpener=g},x.close=function(a,b){var c=v.get(a);return c&&q(c,b,!0)?(c.value.modalScope.$$uibDestructionScheduled=!0,c.value.deferred.resolve(b),l(a,c.value.modalOpener),!0):!c},x.dismiss=function(a,b){var c=v.get(a);return c&&q(c,b,!1)?(c.value.modalScope.$$uibDestructionScheduled=!0,c.value.deferred.reject(b),l(a,c.value.modalOpener),!0):!c},x.dismissAll=function(a){for(var b=this.getTop();b&&this.dismiss(b.key,a);)b=this.getTop()},x.getTop=function(){return v.top()},x.modalRendered=function(a){var b=v.get(a);b&&b.value.renderDeferred.resolve()},x.focusFirstFocusableElement=function(a){return a.length>0?(a[0].focus(),!0):!1},x.focusLastFocusableElement=function(a){return a.length>0?(a[a.length-1].focus(),!0):!1},x.isModalFocused=function(a,b){if(a&&b){var c=b.value.modalDomEl;if(c&&c.length)return(a.target||a.srcElement)===c[0]}return!1},x.isFocusInFirstItem=function(a,b){return b.length>0?(a.target||a.srcElement)===b[0]:!1},x.isFocusInLastItem=function(a,b){return b.length>0?(a.target||a.srcElement)===b[b.length-1]:!1},x.loadFocusElementList=function(a){if(a){var b=a.value.modalDomEl;if(b&&b.length){var c=b[0].querySelectorAll(A);return c?Array.prototype.filter.call(c,function(a){return j(a)}):c}}},x}]).provider("$uibModal",function(){var a={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(b,c,d,e,f,g,h){function i(a){return a.template?c.when(a.template):e(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl);
}var j={},k=null;return j.getPromiseChain=function(){return k},j.open=function(e){function j(){return r}var l=c.defer(),m=c.defer(),n=c.defer(),o=c.defer(),p={result:l.promise,opened:m.promise,closed:n.promise,rendered:o.promise,close:function(a){return h.close(p,a)},dismiss:function(a){return h.dismiss(p,a)}};if(e=angular.extend({},a.options,e),e.resolve=e.resolve||{},e.appendTo=e.appendTo||d.find("body").eq(0),!e.template&&!e.templateUrl)throw new Error("One of template or templateUrl options is required.");var q,r=c.all([i(e),g.resolve(e.resolve,{},null,null)]);return q=k=c.all([k]).then(j,j).then(function(a){var c=e.scope||b,d=c.$new();d.$close=p.close,d.$dismiss=p.dismiss,d.$on("$destroy",function(){d.$$uibDestructionScheduled||d.$dismiss("$uibUnscheduledDestruction")});var g,i,j={};e.controller&&(j.$scope=d,j.$scope.$resolve={},j.$uibModalInstance=p,angular.forEach(a[1],function(a,b){j[b]=a,j.$scope.$resolve[b]=a}),i=f(e.controller,j,!0,e.controllerAs),e.controllerAs&&e.bindToController&&(g=i.instance,g.$close=d.$close,g.$dismiss=d.$dismiss,angular.extend(g,{$resolve:j.$scope.$resolve},c)),g=i(),angular.isFunction(g.$onInit)&&g.$onInit()),h.open(p,{scope:d,deferred:l,renderDeferred:o,closedDeferred:n,content:a[0],animation:e.animation,backdrop:e.backdrop,keyboard:e.keyboard,backdropClass:e.backdropClass,windowTopClass:e.windowTopClass,windowClass:e.windowClass,windowTemplateUrl:e.windowTemplateUrl,size:e.size,openedClass:e.openedClass,appendTo:e.appendTo}),m.resolve(!0)},function(a){m.reject(a),l.reject(a)})["finally"](function(){k===q&&(k=null)}),p},j}]};return a}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(a){return{create:function(b,c,d){b.setNumPages=d.numPages?a(d.numPages).assign:angular.noop,b.ngModelCtrl={$setViewValue:angular.noop},b._watchers=[],b.init=function(a,e){b.ngModelCtrl=a,b.config=e,a.$render=function(){b.render()},d.itemsPerPage?b._watchers.push(c.$parent.$watch(d.itemsPerPage,function(a){b.itemsPerPage=parseInt(a,10),c.totalPages=b.calculateTotalPages(),b.updatePage()})):b.itemsPerPage=e.itemsPerPage,c.$watch("totalItems",function(a,d){(angular.isDefined(a)||a!==d)&&(c.totalPages=b.calculateTotalPages(),b.updatePage())})},b.calculateTotalPages=function(){var a=b.itemsPerPage<1?1:Math.ceil(c.totalItems/b.itemsPerPage);return Math.max(a||0,1)},b.render=function(){c.page=parseInt(b.ngModelCtrl.$viewValue,10)||1},c.selectPage=function(a,d){d&&d.preventDefault();var e=!c.ngDisabled||!d;e&&c.page!==a&&a>0&&a<=c.totalPages&&(d&&d.target&&d.target.blur(),b.ngModelCtrl.$setViewValue(a),b.ngModelCtrl.$render())},c.getText=function(a){return c[a+"Text"]||b.config[a+"Text"]},c.noPrevious=function(){return 1===c.page},c.noNext=function(){return c.page===c.totalPages},b.updatePage=function(){b.setNumPages(c.$parent,c.totalPages),c.page>c.totalPages?c.selectPage(c.totalPages):b.ngModelCtrl.$render()},c.$on("$destroy",function(){for(;b._watchers.length;)b._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(a,b,c,d){a.align=angular.isDefined(b.align)?a.$parent.$eval(b.align):d.align,c.create(this,a,b)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("uibPager",["uibPagerConfig",function(a){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],controller:"UibPagerController",controllerAs:"pager",templateUrl:function(a,b){return b.templateUrl||"uib/template/pager/pager.html"},replace:!0,link:function(b,c,d,e){var f=e[0],g=e[1];g&&f.init(g,a)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(a,b,c,d,e){function f(a,b,c){return{number:a,text:b,active:c}}function g(a,b){var c=[],d=1,e=b,g=angular.isDefined(i)&&b>i;g&&(j?(d=Math.max(a-Math.floor(i/2),1),e=d+i-1,e>b&&(e=b,d=e-i+1)):(d=(Math.ceil(a/i)-1)*i+1,e=Math.min(d+i-1,b)));for(var h=d;e>=h;h++){var n=f(h,m(h),h===a);c.push(n)}if(g&&i>0&&(!j||k||l)){if(d>1){if(!l||d>3){var o=f(d-1,"...",!1);c.unshift(o)}if(l){if(3===d){var p=f(2,"2",!1);c.unshift(p)}var q=f(1,"1",!1);c.unshift(q)}}if(b>e){if(!l||b-2>e){var r=f(e+1,"...",!1);c.push(r)}if(l){if(e===b-2){var s=f(b-1,b-1,!1);c.push(s)}var t=f(b,b,!1);c.push(t)}}}return c}var h=this,i=angular.isDefined(b.maxSize)?a.$parent.$eval(b.maxSize):e.maxSize,j=angular.isDefined(b.rotate)?a.$parent.$eval(b.rotate):e.rotate,k=angular.isDefined(b.forceEllipses)?a.$parent.$eval(b.forceEllipses):e.forceEllipses,l=angular.isDefined(b.boundaryLinkNumbers)?a.$parent.$eval(b.boundaryLinkNumbers):e.boundaryLinkNumbers,m=angular.isDefined(b.pageLabel)?function(c){return a.$parent.$eval(b.pageLabel,{$page:c})}:angular.identity;a.boundaryLinks=angular.isDefined(b.boundaryLinks)?a.$parent.$eval(b.boundaryLinks):e.boundaryLinks,a.directionLinks=angular.isDefined(b.directionLinks)?a.$parent.$eval(b.directionLinks):e.directionLinks,d.create(this,a,b),b.maxSize&&h._watchers.push(a.$parent.$watch(c(b.maxSize),function(a){i=parseInt(a,10),h.render()}));var n=this.render;this.render=function(){n(),a.page>0&&a.page<=a.totalPages&&(a.pages=g(a.page,a.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(a,b){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(a,b){return b.templateUrl||"uib/template/pagination/pagination.html"},replace:!0,link:function(a,c,d,e){var f=e[0],g=e[1];g&&f.init(g,b)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function a(a){var b=/[A-Z]/g,c="-";return a.replace(b,function(a,b){return(b?c:"")+a.toLowerCase()})}var b={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},c={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(e,f,g,h,i,j,k,l,m){function n(a){if(27===a.which){var b=o.top();b&&(b.value.close(),o.removeTop(),b=null)}}var o=m.createNew();return h.on("keypress",n),k.$on("$destroy",function(){h.off("keypress",n)}),function(e,k,m,n){function p(a){var b=(a||n.trigger||m).split(" "),d=b.map(function(a){return c[a]||a});return{show:b,hide:d}}n=angular.extend({},b,d,n);var q=a(e),r=j.startSymbol(),s=j.endSymbol(),t="<div "+q+'-popup uib-title="'+r+"title"+s+'" '+(n.useContentExp?'content-exp="contentExp()" ':'content="'+r+"content"+s+'" ')+'placement="'+r+"placement"+s+'" popup-class="'+r+"popupClass"+s+'" animation="animation" is-open="isOpen" origin-scope="origScope" class="uib-position-measure"></div>';return{compile:function(a,b){var c=f(t);return function(a,b,d,f){function j(){N.isOpen?q():m()}function m(){(!M||a.$eval(d[k+"Enable"]))&&(u(),x(),N.popupDelay?G||(G=g(r,N.popupDelay,!1)):r())}function q(){s(),N.popupCloseDelay?H||(H=g(t,N.popupCloseDelay,!1)):t()}function r(){return s(),u(),N.content?(v(),void N.$evalAsync(function(){N.isOpen=!0,y(!0),S()})):angular.noop}function s(){G&&(g.cancel(G),G=null),I&&(g.cancel(I),I=null)}function t(){N&&N.$evalAsync(function(){N&&(N.isOpen=!1,y(!1),N.animation?F||(F=g(w,150,!1)):w())})}function u(){H&&(g.cancel(H),H=null),F&&(g.cancel(F),F=null)}function v(){D||(E=N.$new(),D=c(E,function(a){K?h.find("body").append(a):b.after(a)}),z())}function w(){s(),u(),A(),D&&(D.remove(),D=null),E&&(E.$destroy(),E=null)}function x(){N.title=d[k+"Title"],Q?N.content=Q(a):N.content=d[e],N.popupClass=d[k+"Class"],N.placement=angular.isDefined(d[k+"Placement"])?d[k+"Placement"]:n.placement;var b=i.parsePlacement(N.placement);J=b[1]?b[0]+"-"+b[1]:b[0];var c=parseInt(d[k+"PopupDelay"],10),f=parseInt(d[k+"PopupCloseDelay"],10);N.popupDelay=isNaN(c)?n.popupDelay:c,N.popupCloseDelay=isNaN(f)?n.popupCloseDelay:f}function y(b){P&&angular.isFunction(P.assign)&&P.assign(a,b)}function z(){R.length=0,Q?(R.push(a.$watch(Q,function(a){N.content=a,!a&&N.isOpen&&t()})),R.push(E.$watch(function(){O||(O=!0,E.$$postDigest(function(){O=!1,N&&N.isOpen&&S()}))}))):R.push(d.$observe(e,function(a){N.content=a,!a&&N.isOpen?t():S()})),R.push(d.$observe(k+"Title",function(a){N.title=a,N.isOpen&&S()})),R.push(d.$observe(k+"Placement",function(a){N.placement=a?a:n.placement,N.isOpen&&S()}))}function A(){R.length&&(angular.forEach(R,function(a){a()}),R.length=0)}function B(a){N&&N.isOpen&&D&&(b[0].contains(a.target)||D[0].contains(a.target)||q())}function C(){var a=d[k+"Trigger"];T(),L=p(a),"none"!==L.show&&L.show.forEach(function(a,c){"outsideClick"===a?(b.on("click",j),h.on("click",B)):a===L.hide[c]?b.on(a,j):a&&(b.on(a,m),b.on(L.hide[c],q)),b.on("keypress",function(a){27===a.which&&q()})})}var D,E,F,G,H,I,J,K=angular.isDefined(n.appendToBody)?n.appendToBody:!1,L=p(void 0),M=angular.isDefined(d[k+"Enable"]),N=a.$new(!0),O=!1,P=angular.isDefined(d[k+"IsOpen"])?l(d[k+"IsOpen"]):!1,Q=n.useContentExp?l(d[e]):!1,R=[],S=function(){D&&D.html()&&(I||(I=g(function(){var a=i.positionElements(b,D,N.placement,K);D.css({top:a.top+"px",left:a.left+"px"}),D.hasClass(a.placement.split("-")[0])||(D.removeClass(J.split("-")[0]),D.addClass(a.placement.split("-")[0])),D.hasClass(n.placementClassPrefix+a.placement)||(D.removeClass(n.placementClassPrefix+J),D.addClass(n.placementClassPrefix+a.placement)),D.hasClass("uib-position-measure")?(i.positionArrow(D,a.placement),D.removeClass("uib-position-measure")):J!==a.placement&&i.positionArrow(D,a.placement),J=a.placement,I=null},0,!1)))};N.origScope=a,N.isOpen=!1,o.add(N,{close:t}),N.contentExp=function(){return N.content},d.$observe("disabled",function(a){a&&s(),a&&N.isOpen&&t()}),P&&a.$watch(P,function(a){N&&!a===N.isOpen&&j()});var T=function(){L.show.forEach(function(a){"outsideClick"===a?b.off("click",j):(b.off(a,m),b.off(a,j))}),L.hide.forEach(function(a){"outsideClick"===a?h.off("click",B):b.off(a,q)})};C();var U=a.$eval(d[k+"Animation"]);N.animation=angular.isDefined(U)?!!U:n.animation;var V,W=k+"AppendToBody";V=W in d&&void 0===d[W]?!0:a.$eval(d[W]),K=angular.isDefined(V)?V:K,a.$on("$destroy",function(){T(),w(),o.remove(N),N=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(a,b,c,d){return{link:function(e,f,g){var h,i,j,k=e.$eval(g.tooltipTemplateTranscludeScope),l=0,m=function(){i&&(i.remove(),i=null),h&&(h.$destroy(),h=null),j&&(a.leave(j).then(function(){i=null}),i=j,j=null)};e.$watch(b.parseAsResourceUrl(g.uibTooltipTemplateTransclude),function(b){var g=++l;b?(d(b,!0).then(function(d){if(g===l){var e=k.$new(),i=d,n=c(i)(e,function(b){m(),a.enter(b,f)});h=e,j=n,h.$emit("$includeContentLoaded",b)}},function(){g===l&&(m(),e.$emit("$includeContentError",b))}),e.$emit("$includeContentRequested",b)):m()}),e.$on("$destroy",m)}}}]).directive("uibTooltipClasses",["$uibPosition",function(a){return{restrict:"A",link:function(b,c,d){if(b.placement){var e=a.parsePlacement(b.placement);c.addClass(e[0])}b.popupClass&&c.addClass(b.popupClass),b.animation()&&c.addClass(d.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(a){return a("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(a){return a("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(a){return a("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{replace:!0,scope:{uibTitle:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(a){return a("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",uibTitle:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(a){return a("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{replace:!0,scope:{uibTitle:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(a){return a("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(a,b,c){function d(){return angular.isDefined(a.maxParam)?a.maxParam:c.max}var e=this,f=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[],a.max=d(),this.addBar=function(a,b,c){f||b.css({transition:"none"}),this.bars.push(a),a.max=d(),a.title=c&&angular.isDefined(c.title)?c.title:"progressbar",a.$watch("value",function(b){a.recalculatePercentage()}),a.recalculatePercentage=function(){var b=e.bars.reduce(function(a,b){return b.percent=+(100*b.value/b.max).toFixed(2),a+b.percent},0);b>100&&(a.percent-=b-100)},a.$on("$destroy",function(){b=null,e.removeBar(a)})},this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1),this.bars.forEach(function(a){a.recalculatePercentage()})},a.$watch("maxParam",function(a){e.bars.forEach(function(a){a.max=d(),a.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(a,b,c,d){d.addBar(a,b,c)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(a,b,c,d){d.addBar(a,angular.element(b.children()[0]),{title:c.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(a,b,c){var d={$setViewValue:angular.noop},e=this;this.init=function(e){d=e,d.$render=this.render,d.$formatters.push(function(a){return angular.isNumber(a)&&a<<0!==a&&(a=Math.round(a)),a}),this.stateOn=angular.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):c.stateOn,this.stateOff=angular.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):c.stateOff,this.enableReset=angular.isDefined(b.enableReset)?a.$parent.$eval(b.enableReset):c.enableReset;var f=angular.isDefined(b.titles)?a.$parent.$eval(b.titles):c.titles;this.titles=angular.isArray(f)&&f.length>0?f:c.titles;var g=angular.isDefined(b.ratingStates)?a.$parent.$eval(b.ratingStates):new Array(angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max);a.range=this.buildTemplateObjects(g)},this.buildTemplateObjects=function(a){for(var b=0,c=a.length;c>b;b++)a[b]=angular.extend({index:b},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(b)},a[b]);return a},this.getTitle=function(a){return a>=this.titles.length?a+1:this.titles[a]},a.rate=function(b){if(!a.readonly&&b>=0&&b<=a.range.length){var c=e.enableReset&&d.$viewValue===b?0:b;d.$setViewValue(c),d.$render()}},a.enter=function(b){a.readonly||(a.value=b),a.onHover({value:b})},a.reset=function(){a.value=d.$viewValue,a.onLeave()},a.onKeydown=function(b){/(37|38|39|40)/.test(b.which)&&(b.preventDefault(),b.stopPropagation(),a.rate(a.value+(38===b.which||39===b.which?1:-1)))},this.render=function(){a.value=d.$viewValue,a.title=e.getTitle(a.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",replace:!0,link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(a){function b(a){for(var b=0;b<d.tabs.length;b++)if(d.tabs[b].index===a)return b}var c,d=this;d.tabs=[],d.select=function(a,f){if(!e){var g=b(c),h=d.tabs[g];if(h){if(h.tab.onDeselect({$event:f,$selectedIndex:a}),f&&f.isDefaultPrevented())return;h.tab.active=!1}var i=d.tabs[a];i?(i.tab.onSelect({$event:f}),i.tab.active=!0,d.active=i.index,c=i.index):!i&&angular.isDefined(c)&&(d.active=null,c=null)}},d.addTab=function(a){if(d.tabs.push({tab:a,index:a.index}),d.tabs.sort(function(a,b){return a.index>b.index?1:a.index<b.index?-1:0}),a.index===d.active||!angular.isDefined(d.active)&&1===d.tabs.length){var c=b(a.index);d.select(c)}},d.removeTab=function(a){for(var b,c=0;c<d.tabs.length;c++)if(d.tabs[c].tab===a){b=c;break}if(d.tabs[b].index===d.active){var e=b===d.tabs.length-1?b-1:b+1%d.tabs.length;d.select(e)}d.tabs.splice(b,1)},a.$watch("tabset.active",function(a){angular.isDefined(a)&&a!==c&&d.select(b(a))});var e;a.$on("$destroy",function(){e=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(a,b){return b.templateUrl||"uib/template/tabs/tabset.html"},link:function(a,b,c){a.vertical=angular.isDefined(c.vertical)?a.$parent.$eval(c.vertical):!1,a.justified=angular.isDefined(c.justified)?a.$parent.$eval(c.justified):!1}}}).directive("uibTab",["$parse",function(a){return{require:"^uibTabset",replace:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(b,c,d,e,f){b.disabled=!1,d.disable&&b.$parent.$watch(a(d.disable),function(a){b.disabled=!!a}),angular.isUndefined(d.index)&&(e.tabs&&e.tabs.length?b.index=Math.max.apply(null,e.tabs.map(function(a){return a.index}))+1:b.index=0),angular.isUndefined(d.classes)&&(b.classes=""),b.select=function(a){if(!b.disabled){for(var c,d=0;d<e.tabs.length;d++)if(e.tabs[d].tab===b){c=d;break}e.select(c,a)}},e.addTab(b),b.$on("$destroy",function(){e.removeTab(b)}),b.$transcludeFn=f}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(a,b){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}}).directive("uibTabContentTransclude",function(){function a(a){return a.tagName&&(a.hasAttribute("uib-tab-heading")||a.hasAttribute("data-uib-tab-heading")||a.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===a.tagName.toLowerCase()||"data-uib-tab-heading"===a.tagName.toLowerCase()||"x-uib-tab-heading"===a.tagName.toLowerCase()||"uib:tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:"^uibTabset",link:function(b,c,d){var e=b.$eval(d.uibTabContentTransclude).tab;e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(a,b,c,d,e,f,g){function h(){var b=+a.hours,c=a.showMeridian?b>0&&13>b:b>=0&&24>b;return c&&""!==a.hours?(a.showMeridian&&(12===b&&(b=0),a.meridian===v[1]&&(b+=12)),b):void 0}function i(){var b=+a.minutes,c=b>=0&&60>b;return c&&""!==a.minutes?b:void 0}function j(){var b=+a.seconds;return b>=0&&60>b?b:void 0}function k(a,b){return null===a?"":angular.isDefined(a)&&a.toString().length<2&&!b?"0"+a:a.toString()}function l(a){m(),u.$setViewValue(new Date(s)),n(a)}function m(){u.$setValidity("time",!0),a.invalidHours=!1,a.invalidMinutes=!1,a.invalidSeconds=!1}function n(b){if(u.$modelValue){var c=s.getHours(),d=s.getMinutes(),e=s.getSeconds();a.showMeridian&&(c=0===c||12===c?12:c%12),a.hours="h"===b?c:k(c,!w),"m"!==b&&(a.minutes=k(d)),a.meridian=s.getHours()<12?v[0]:v[1],"s"!==b&&(a.seconds=k(e)),a.meridian=s.getHours()<12?v[0]:v[1]}else a.hours=null,a.minutes=null,a.seconds=null,a.meridian=v[0]}function o(a){s=q(s,a),l()}function p(a,b){return q(a,60*b)}function q(a,b){var c=new Date(a.getTime()+1e3*b),d=new Date(a);return d.setHours(c.getHours(),c.getMinutes(),c.getSeconds()),d}function r(){return(null===a.hours||""===a.hours)&&(null===a.minutes||""===a.minutes)&&(!a.showSeconds||a.showSeconds&&(null===a.seconds||""===a.seconds))}var s=new Date,t=[],u={$setViewValue:angular.noop},v=angular.isDefined(c.meridians)?a.$parent.$eval(c.meridians):g.meridians||f.DATETIME_FORMATS.AMPMS,w=angular.isDefined(c.padHours)?a.$parent.$eval(c.padHours):!0;a.tabindex=angular.isDefined(c.tabindex)?c.tabindex:0,b.removeAttr("tabindex"),this.init=function(b,d){u=b,u.$render=this.render,u.$formatters.unshift(function(a){return a?new Date(a):null});var e=d.eq(0),f=d.eq(1),h=d.eq(2),i=angular.isDefined(c.mousewheel)?a.$parent.$eval(c.mousewheel):g.mousewheel;i&&this.setupMousewheelEvents(e,f,h);var j=angular.isDefined(c.arrowkeys)?a.$parent.$eval(c.arrowkeys):g.arrowkeys;j&&this.setupArrowkeyEvents(e,f,h),a.readonlyInput=angular.isDefined(c.readonlyInput)?a.$parent.$eval(c.readonlyInput):g.readonlyInput,this.setupInputEvents(e,f,h)};var x=g.hourStep;c.hourStep&&t.push(a.$parent.$watch(d(c.hourStep),function(a){x=+a}));var y=g.minuteStep;c.minuteStep&&t.push(a.$parent.$watch(d(c.minuteStep),function(a){y=+a}));var z;t.push(a.$parent.$watch(d(c.min),function(a){var b=new Date(a);z=isNaN(b)?void 0:b}));var A;t.push(a.$parent.$watch(d(c.max),function(a){var b=new Date(a);A=isNaN(b)?void 0:b}));var B=!1;c.ngDisabled&&t.push(a.$parent.$watch(d(c.ngDisabled),function(a){B=a})),a.noIncrementHours=function(){var a=p(s,60*x);return B||a>A||s>a&&z>a},a.noDecrementHours=function(){var a=p(s,60*-x);return B||z>a||a>s&&a>A},a.noIncrementMinutes=function(){var a=p(s,y);return B||a>A||s>a&&z>a},a.noDecrementMinutes=function(){var a=p(s,-y);return B||z>a||a>s&&a>A},a.noIncrementSeconds=function(){var a=q(s,C);return B||a>A||s>a&&z>a},a.noDecrementSeconds=function(){var a=q(s,-C);return B||z>a||a>s&&a>A},a.noToggleMeridian=function(){return s.getHours()<12?B||p(s,720)>A:B||p(s,-720)<z};var C=g.secondStep;c.secondStep&&t.push(a.$parent.$watch(d(c.secondStep),function(a){C=+a})),a.showSeconds=g.showSeconds,c.showSeconds&&t.push(a.$parent.$watch(d(c.showSeconds),function(b){a.showSeconds=!!b})),a.showMeridian=g.showMeridian,c.showMeridian&&t.push(a.$parent.$watch(d(c.showMeridian),function(b){if(a.showMeridian=!!b,u.$error.time){var c=h(),d=i();angular.isDefined(c)&&angular.isDefined(d)&&(s.setHours(c),l())}else n()})),this.setupMousewheelEvents=function(b,c,d){var e=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};b.bind("mousewheel wheel",function(b){B||a.$apply(e(b)?a.incrementHours():a.decrementHours()),b.preventDefault()}),c.bind("mousewheel wheel",function(b){B||a.$apply(e(b)?a.incrementMinutes():a.decrementMinutes()),b.preventDefault()}),d.bind("mousewheel wheel",function(b){B||a.$apply(e(b)?a.incrementSeconds():a.decrementSeconds()),b.preventDefault()})},this.setupArrowkeyEvents=function(b,c,d){b.bind("keydown",function(b){B||(38===b.which?(b.preventDefault(),a.incrementHours(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementHours(),a.$apply()))}),c.bind("keydown",function(b){B||(38===b.which?(b.preventDefault(),a.incrementMinutes(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementMinutes(),a.$apply()))}),d.bind("keydown",function(b){B||(38===b.which?(b.preventDefault(),a.incrementSeconds(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementSeconds(),a.$apply()))})},this.setupInputEvents=function(b,c,d){if(a.readonlyInput)return a.updateHours=angular.noop,a.updateMinutes=angular.noop,void(a.updateSeconds=angular.noop);var e=function(b,c,d){u.$setViewValue(null),u.$setValidity("time",!1),angular.isDefined(b)&&(a.invalidHours=b),angular.isDefined(c)&&(a.invalidMinutes=c),angular.isDefined(d)&&(a.invalidSeconds=d)};a.updateHours=function(){var a=h(),b=i();u.$setDirty(),angular.isDefined(a)&&angular.isDefined(b)?(s.setHours(a),s.setMinutes(b),z>s||s>A?e(!0):l("h")):e(!0)},b.bind("blur",function(b){u.$setTouched(),r()?m():null===a.hours||""===a.hours?e(!0):!a.invalidHours&&a.hours<10&&a.$apply(function(){a.hours=k(a.hours,!w)})}),a.updateMinutes=function(){var a=i(),b=h();u.$setDirty(),angular.isDefined(a)&&angular.isDefined(b)?(s.setHours(b),s.setMinutes(a),z>s||s>A?e(void 0,!0):l("m")):e(void 0,!0)},c.bind("blur",function(b){u.$setTouched(),r()?m():null===a.minutes?e(void 0,!0):!a.invalidMinutes&&a.minutes<10&&a.$apply(function(){a.minutes=k(a.minutes)})}),a.updateSeconds=function(){var a=j();u.$setDirty(),angular.isDefined(a)?(s.setSeconds(a),l("s")):e(void 0,void 0,!0)},d.bind("blur",function(b){r()?m():!a.invalidSeconds&&a.seconds<10&&a.$apply(function(){a.seconds=k(a.seconds)})})},this.render=function(){var b=u.$viewValue;isNaN(b)?(u.$setValidity("time",!1),e.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(b&&(s=b),z>s||s>A?(u.$setValidity("time",!1),a.invalidHours=!0,a.invalidMinutes=!0):m(),n())},a.showSpinners=angular.isDefined(c.showSpinners)?a.$parent.$eval(c.showSpinners):g.showSpinners,a.incrementHours=function(){a.noIncrementHours()||o(60*x*60)},a.decrementHours=function(){a.noDecrementHours()||o(60*-x*60)},a.incrementMinutes=function(){a.noIncrementMinutes()||o(60*y)},a.decrementMinutes=function(){a.noDecrementMinutes()||o(60*-y)},a.incrementSeconds=function(){a.noIncrementSeconds()||o(C)},a.decrementSeconds=function(){a.noDecrementSeconds()||o(-C)},a.toggleMeridian=function(){var b=i(),c=h();a.noToggleMeridian()||(angular.isDefined(b)&&angular.isDefined(c)?o(720*(s.getHours()<12?60:-60)):a.meridian=a.meridian===v[0]?v[1]:v[0])},a.blur=function(){u.$setTouched()},a.$on("$destroy",function(){for(;t.length;)t.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(a){return{require:["uibTimepicker","?^ngModel"],controller:"UibTimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(b,c){return c.templateUrl||a.templateUrl},link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f,b.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(a){var b=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+c+'".');return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(){O.moveInProgress||(O.moveInProgress=!0,O.$digest()),Z()}function o(){O.position=E?l.offset(b):l.position(b),O.position.top+=b.prop("offsetHeight")}var p,q,r=[9,13,27,38,40],s=200,t=a.$eval(c.typeaheadMinLength);t||0===t||(t=1),a.$watch(c.typeaheadMinLength,function(a){t=a||0===a?a:1});var u=a.$eval(c.typeaheadWaitMs)||0,v=a.$eval(c.typeaheadEditable)!==!1;a.$watch(c.typeaheadEditable,function(a){v=a!==!1});var w,x,y=e(c.typeaheadLoading).assign||angular.noop,z=c.typeaheadShouldSelect?e(c.typeaheadShouldSelect):function(a,b){var c=b.$event;return 13===c.which||9===c.which},A=e(c.typeaheadOnSelect),B=angular.isDefined(c.typeaheadSelectOnBlur)?a.$eval(c.typeaheadSelectOnBlur):!1,C=e(c.typeaheadNoResults).assign||angular.noop,D=c.typeaheadInputFormatter?e(c.typeaheadInputFormatter):void 0,E=c.typeaheadAppendToBody?a.$eval(c.typeaheadAppendToBody):!1,F=c.typeaheadAppendTo?a.$eval(c.typeaheadAppendTo):null,G=a.$eval(c.typeaheadFocusFirst)!==!1,H=c.typeaheadSelectOnExact?a.$eval(c.typeaheadSelectOnExact):!1,I=e(c.typeaheadIsOpen).assign||angular.noop,J=a.$eval(c.typeaheadShowHint)||!1,K=e(c.ngModel),L=e(c.ngModel+"($$$p)"),M=function(b,c){return angular.isFunction(K(a))&&q&&q.$options&&q.$options.getterSetter?L(b,{$$$p:c}):K.assign(b,c)},N=m.parse(c.uibTypeahead),O=a.$new(),P=a.$on("$destroy",function(){O.$destroy()});O.$on("$destroy",P);var Q="typeahead-"+O.$id+"-"+Math.floor(1e4*Math.random());b.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":Q});var R,S;J&&(R=angular.element("<div></div>"),R.css("position","relative"),b.after(R),S=b.clone(),S.attr("placeholder",""),S.attr("tabindex","-1"),S.val(""),S.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),b.css({position:"relative","vertical-align":"top","background-color":"transparent"}),R.append(S),S.after(b));var T=angular.element("<div uib-typeahead-popup></div>");T.attr({id:Q,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(c.typeaheadTemplateUrl)&&T.attr("template-url",c.typeaheadTemplateUrl),angular.isDefined(c.typeaheadPopupTemplateUrl)&&T.attr("popup-template-url",c.typeaheadPopupTemplateUrl);var U=function(){J&&S.val("")},V=function(){O.matches=[],O.activeIdx=-1,b.attr("aria-expanded",!1),U()},W=function(a){return Q+"-option-"+a};O.$watch("activeIdx",function(a){0>a?b.removeAttr("aria-activedescendant"):b.attr("aria-activedescendant",W(a))});var X=function(a,b){return O.matches.length>b&&a?a.toUpperCase()===O.matches[b].label.toUpperCase():!1},Y=function(c,d){var e={$viewValue:c};y(a,!0),C(a,!1),f.when(N.source(a,e)).then(function(f){var g=c===p.$viewValue;if(g&&w)if(f&&f.length>0){O.activeIdx=G?0:-1,C(a,!1),O.matches.length=0;for(var h=0;h<f.length;h++)e[N.itemName]=f[h],O.matches.push({id:W(h),label:N.viewMapper(O,e),model:f[h]});if(O.query=c,o(),b.attr("aria-expanded",!0),H&&1===O.matches.length&&X(c,0)&&(angular.isNumber(O.debounceUpdate)||angular.isObject(O.debounceUpdate)?k(function(){O.select(0,d);
},angular.isNumber(O.debounceUpdate)?O.debounceUpdate:O.debounceUpdate["default"]):O.select(0,d)),J){var i=O.matches[0].label;angular.isString(c)&&c.length>0&&i.slice(0,c.length).toUpperCase()===c.toUpperCase()?S.val(c+i.slice(c.length)):S.val("")}}else V(),C(a,!0);g&&y(a,!1)},function(){V(),y(a,!1),C(a,!0)})};E&&(angular.element(i).on("resize",n),h.find("body").on("scroll",n));var Z=k(function(){O.matches.length&&o(),O.moveInProgress=!1},s);O.moveInProgress=!1,O.query=void 0;var $,_=function(a){$=g(function(){Y(a)},u)},aa=function(){$&&g.cancel($)};V(),O.assignIsOpen=function(b){I(a,b)},O.select=function(d,e){var f,h,i={};x=!0,i[N.itemName]=h=O.matches[d].model,f=N.modelMapper(a,i),M(a,f),p.$setValidity("editable",!0),p.$setValidity("parse",!0),A(a,{$item:h,$model:f,$label:N.viewMapper(a,i),$event:e}),V(),O.$eval(c.typeaheadFocusOnSelect)!==!1&&g(function(){b[0].focus()},0,!1)},b.on("keydown",function(b){if(0!==O.matches.length&&-1!==r.indexOf(b.which)){var c=z(a,{$event:b});if(-1===O.activeIdx&&c||9===b.which&&b.shiftKey)return V(),void O.$digest();b.preventDefault();var d;switch(b.which){case 27:b.stopPropagation(),V(),a.$digest();break;case 38:O.activeIdx=(O.activeIdx>0?O.activeIdx:O.matches.length)-1,O.$digest(),d=T.find("li")[O.activeIdx],d.parentNode.scrollTop=d.offsetTop;break;case 40:O.activeIdx=(O.activeIdx+1)%O.matches.length,O.$digest(),d=T.find("li")[O.activeIdx],d.parentNode.scrollTop=d.offsetTop;break;default:c&&O.$apply(function(){angular.isNumber(O.debounceUpdate)||angular.isObject(O.debounceUpdate)?k(function(){O.select(O.activeIdx,b)},angular.isNumber(O.debounceUpdate)?O.debounceUpdate:O.debounceUpdate["default"]):O.select(O.activeIdx,b)})}}}),b.bind("focus",function(a){w=!0,0!==t||p.$viewValue||g(function(){Y(p.$viewValue,a)},0)}),b.bind("blur",function(a){B&&O.matches.length&&-1!==O.activeIdx&&!x&&(x=!0,O.$apply(function(){angular.isObject(O.debounceUpdate)&&angular.isNumber(O.debounceUpdate.blur)?k(function(){O.select(O.activeIdx,a)},O.debounceUpdate.blur):O.select(O.activeIdx,a)})),!v&&p.$error.editable&&(p.$setViewValue(),p.$setValidity("editable",!0),p.$setValidity("parse",!0),b.val("")),w=!1,x=!1});var ba=function(c){b[0]!==c.target&&3!==c.which&&0!==O.matches.length&&(V(),j.$$phase||a.$digest())};h.on("click",ba),a.$on("$destroy",function(){h.off("click",ba),(E||F)&&ca.remove(),E&&(angular.element(i).off("resize",n),h.find("body").off("scroll",n)),T.remove(),J&&R.remove()});var ca=d(T)(O);E?h.find("body").append(ca):F?angular.element(F).eq(0).append(ca):b.after(ca),this.init=function(b,c){p=b,q=c,O.debounceUpdate=p.$options&&e(p.$options.debounce)(a),p.$parsers.unshift(function(b){return w=!0,0===t||b&&b.length>=t?u>0?(aa(),_(b)):Y(b):(y(a,!1),aa(),V()),v?b:b?void p.$setValidity("editable",!1):(p.$setValidity("editable",!0),null)}),p.$formatters.push(function(b){var c,d,e={};return v||p.$setValidity("editable",!0),D?(e.$model=b,D(a,e)):(e[N.itemName]=b,c=N.viewMapper(a,e),e[N.itemName]=void 0,d=N.viewMapper(a,e),c!==d?c:b)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(a,b,c,d){d[2].init(d[0],d[1])}}}).directive("uibTypeaheadPopup",["$$debounce",function(a){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(a,b){return b.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(b,c,d){b.templateUrl=d.templateUrl,b.isOpen=function(){var a=b.matches.length>0;return b.assignIsOpen({isOpen:a}),a},b.isActive=function(a){return b.active===a},b.selectActive=function(a){b.active=a},b.selectMatch=function(c,d){var e=b.debounce();angular.isNumber(e)||angular.isObject(e)?a(function(){b.select({activeIdx:c,evt:d})},angular.isNumber(e)?e:e["default"]):b.select({activeIdx:c,evt:d})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(a,b,c){return{scope:{index:"=",match:"=",query:"="},link:function(d,e,f){var g=c(f.templateUrl)(d.$parent)||"uib/template/typeahead/typeahead-match.html";a(g).then(function(a){var c=angular.element(a.trim());e.replaceWith(c),b(c)(d)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(a,b,c){function d(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function e(a){return/<.*>/g.test(a)}var f;return f=b.has("$sanitize"),function(b,g){return!f&&e(b)&&c.warn("Unsafe use of typeahead please use ngSanitize"),b=g?(""+b).replace(new RegExp(d(g),"gi"),"<strong>$&</strong>"):b,f||(b=a.trustAsHtml(b)),b}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(a){a.put("uib/template/accordion/accordion-group.html",'<div class="panel" ng-class="panelClass || \'panel-default\'">\n  <div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading"><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n    <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(a){a.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(a){a.put("uib/template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(a){a.put("uib/template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n  <div class="carousel-inner" ng-transclude></div>\n  <a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n    <span class="sr-only">previous</span>\n  </a>\n  <a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n    <span class="sr-only">next</span>\n  </a>\n  <ol class="carousel-indicators" ng-show="slides.length > 1">\n    <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n      <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n    </li>\n  </ol>\n</div>\n')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(a){a.put("uib/template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/datepicker.html",'<div class="uib-datepicker" ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <uib-daypicker ng-switch-when="day" tabindex="0"></uib-daypicker>\n  <uib-monthpicker ng-switch-when="month" tabindex="0"></uib-monthpicker>\n  <uib-yearpicker ng-switch-when="year" tabindex="0"></uib-yearpicker>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/day.html",'<table class="uib-daypicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/month.html",'<table class="uib-monthpicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/year.html",'<table class="uib-yearpicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepickerPopup/popup.html",'<div>\n  <ul class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n    <li ng-transclude></li>\n    <li ng-if="showButtonBar" class="uib-button-bar">\n      <span class="btn-group pull-left">\n        <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n        <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n      </span>\n      <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n    </li>\n  </ul>\n</div>\n')}]),angular.module("uib/template/modal/backdrop.html",[]).run(["$templateCache",function(a){a.put("uib/template/modal/backdrop.html",'<div class="modal-backdrop"\n     uib-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(a){a.put("uib/template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    uib-modal-animation-class="fade"\n    modal-in-class="in"\n    ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}">\n    <div class="modal-dialog {{size ? \'modal-\' + size : \'\'}}"><div class="modal-content" uib-modal-transclude></div></div>\n</div>\n')}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(a){a.put("uib/template/pager/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(a){a.put("uib/template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    uib-tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(a){a.put("uib/template/popover/popover-html.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(a){a.put("uib/template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n      <div class="popover-content"\n        uib-tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(a){a.put("uib/template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(a){a.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(a){a.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(a){a.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(a){a.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(a){a.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(a){a.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(a){a.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(a){a.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0}),!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):(a=a||self).firebase=b();
}(this,function(){"use strict";function a(a,b){return a(b={exports:{}},b.exports),b.exports}function b(a){var b=this.constructor;return this.then(function(c){return b.resolve(a()).then(function(){return c})},function(c){return b.resolve(a()).then(function(){return b.reject(c)})})}function c(){}function d(a){if(!(this instanceof d))throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],j(a,this)}function e(a,b){for(;3===a._state;)a=a._value;0!==a._state?(a._handled=!0,d._immediateFn(function(){var c=1===a._state?b.onFulfilled:b.onRejected;if(null!==c){var d;try{d=c(a._value)}catch(c){return void g(b.promise,c)}f(b.promise,d)}else(1===a._state?f:g)(b.promise,a._value)})):a._deferreds.push(b)}function f(a,b){try{if(b===a)throw new TypeError("A promise cannot be resolved with itself.");if(b&&("object"==typeof b||"function"==typeof b)){var c=b.then;if(b instanceof d)return a._state=3,a._value=b,void h(a);if("function"==typeof c)return void j((e=c,f=b,function(){e.apply(f,arguments)}),a)}a._state=1,a._value=b,h(a)}catch(b){g(a,b)}var e,f}function g(a,b){a._state=2,a._value=b,h(a)}function h(a){2===a._state&&0===a._deferreds.length&&d._immediateFn(function(){a._handled||d._unhandledRejectionFn(a._value)});for(var b=0,c=a._deferreds.length;c>b;b++)e(a,a._deferreds[b]);a._deferreds=null}function i(a,b,c){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.promise=c}function j(a,b){var c=!1;try{a(function(a){c||(c=!0,f(b,a))},function(a){c||(c=!0,g(b,a))})}catch(a){if(c)return;c=!0,g(b,a)}}function k(a){return l(void 0,a)}function l(a,b){if(!(b instanceof Object))return b;switch(b.constructor){case Date:return new Date(b.getTime());case Object:void 0===a&&(a={});break;case Array:a=[];break;default:return b}for(var c in b)b.hasOwnProperty(c)&&(a[c]=l(a[c],b[c]));return a}function m(a,b,c){a[b]=c}function n(a){return JSON.parse(a)}function o(a){return JSON.stringify(a)}function p(a,b){var c=new Ei(a,b);return c.subscribe.bind(c)}function q(){}function r(a,b,c){var d="";switch(b){case 1:d=c?"first":"First";break;case 2:d=c?"second":"Second";break;case 3:d=c?"third":"Third";break;case 4:d=c?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var e=a+" failed: ";return e+=d+" argument "}function s(a,b,c,d){if((!d||c)&&"function"!=typeof c)throw new Error(r(a,b,d)+"must be a valid function.")}function t(a,b,c,d){if((!d||c)&&("object"!=typeof c||null===c))throw new Error(r(a,b,d)+"must be a valid context object.")}function u(a,b){throw Li.create(a,b)}function v(a,b){function c(){this.constructor=a}Qi(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}function w(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d["throw"](a))}catch(a){f(a)}}function i(a){a.done?e(a.value):new c(function(b){b(a.value)}).then(g,h)}i((d=d.apply(a,b||[])).next())})}function x(a,b){function c(c){return function(g){return function(c){if(d)throw new TypeError("Generator is already executing.");for(;h;)try{if(d=1,e&&(f=2&c[0]?e["return"]:c[0]?e["throw"]||((f=e["return"])&&f.call(e),0):e.next)&&!(f=f.call(e,c[1])).done)return f;switch(e=0,f&&(c=[2&c[0],f.value]),c[0]){case 0:case 1:f=c;break;case 4:return h.label++,{value:c[1],done:!1};case 5:h.label++,e=c[1],c=[0];continue;case 7:c=h.ops.pop(),h.trys.pop();continue;default:if(!(f=0<(f=h.trys).length&&f[f.length-1])&&(6===c[0]||2===c[0])){h=0;continue}if(3===c[0]&&(!f||c[1]>f[0]&&c[1]<f[3])){h.label=c[1];break}if(6===c[0]&&h.label<f[1]){h.label=f[1],f=c;break}if(f&&h.label<f[2]){h.label=f[2],h.ops.push(c);break}f[2]&&h.ops.pop(),h.trys.pop();continue}c=b.call(a,h)}catch(g){c=[6,g],e=0}finally{d=f=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,g])}}var d,e,f,g,h={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return g={next:c(0),"throw":c(1),"return":c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g}function y(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||0<b--)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f["return"])&&c.call(f)}finally{if(e)throw e.error}}return g}function z(a,b){return yj(a.name,b.name)}function A(a,b){return yj(a,b)}function B(a,b){if(void 0===b&&(b=null),null===a)return yk.EMPTY_NODE;if("object"==typeof a&&".priority"in a&&(b=a[".priority"]),gi(null===b||"string"==typeof b||"number"==typeof b||"object"==typeof b&&".sv"in b,"Invalid priority type found: "+typeof b),"object"==typeof a&&".value"in a&&null!==a[".value"]&&(a=a[".value"]),"object"!=typeof a||".sv"in a)return new nk(a,B(b));if(a instanceof Array||!Ak){var c=yk.EMPTY_NODE,d=a;return wi(d,function(a,b){if(ui(d,a)&&"."!==a.substring(0,1)){var e=B(b);!e.isLeafNode()&&e.isEmpty()||(c=c.updateImmediateChild(a,e))}}),c.updatePriority(B(b))}var e=[],f=!1,g=a;if(wi(g,function(a,b){if("string"!=typeof a||"."!==a.substring(0,1)){var c=B(g[a]);c.isEmpty()||(f=f||!c.getPriority().isEmpty(),e.push(new hk(a,c)))}}),0==e.length)return yk.EMPTY_NODE;var h=vk(e,z,function(a){return a.name},A);if(f){var i=vk(e,ok.getCompare());return new yk(h,B(b),new xk({".priority":i},{".priority":ok}))}return new yk(h,B(b),xk.Default)}function C(a){return"string"==typeof a}function D(a,b){a=a.split("."),b=b||cm;for(var c=0;c<a.length;c++)if(null==(b=b[a[c]]))return null;return b}function E(){}function F(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&void 0!==a.splice&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||void 0!==a.call&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&void 0===a.call)return"object";return b}function G(a){return"array"==F(a)}function H(a){var b=F(a);return"array"==b||"object"==b&&"number"==typeof a.length}function I(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function J(a,b,c){return a.call.apply(a.bind,arguments)}function K(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,d),a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function L(a,b,c){return(L=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?J:K).apply(null,arguments)}function M(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();return b.push.apply(b,arguments),a.apply(this,b)}}function N(a,b){function c(){}c.prototype=b.prototype,a.S=b.prototype,a.prototype=new c,(a.prototype.constructor=a).re=function(a,c,d){for(var e=Array(arguments.length-2),f=2;f<arguments.length;f++)e[f-2]=arguments[f];return b.prototype[c].apply(a,e)}}function O(){this.i=this.i,this.j=this.j}function P(a){return Array.prototype.concat.apply([],arguments)}function Q(a){var b=a.length;if(b>0){for(var c=Array(b),d=0;b>d;d++)c[d]=a[d];return c}return[]}function R(a){return/^[\s\xa0]*$/.test(a)}function S(a,b){return-1!=a.indexOf(b)}function T(a,b){return b>a?-1:a>b?1:0}function U(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function V(a){var b,c={};for(b in a)c[b]=a[b];return c}function W(a,b){for(var c,d,e=1;e<arguments.length;e++){for(c in d=arguments[e])a[c]=d[c];for(var f=0;f<mm.length;f++)c=mm[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}function X(a){return X[" "](a),a}function Y(){var a=cm.document;return a?a.documentMode:void 0}function Z(a){return b=a,c=function(){for(var b=0,c=jm(String(nm)).split("."),d=jm(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&e>f;f++){var g=c[f]||"",h=d[f]||"";do{if(g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],0==g[0].length&&0==h[0].length)break;b=T(0==g[1].length?0:parseInt(g[1],10),0==h[1].length?0:parseInt(h[1],10))||T(0==g[2].length,0==h[2].length)||T(g[2],h[2]),g=g[3],h=h[3]}while(0==b)}return b>=0},d=zm,Object.prototype.hasOwnProperty.call(d,b)?d[b]:d[b]=c(b);var b,c,d}function $(a,b){this.type=a,this.a=this.target=b,this.b=!1,this.hc=!0}function _(a,b){$.call(this,a?a.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.f=null,a&&this.g(a,b)}function aa(a,b,c,d,e){this.listener=a,this.proxy=null,this.src=b,this.type=c,this.capture=!!d,this.ya=e,this.key=++Gm,this.ja=this.oa=!1}function ba(a){this.src=a,this.a={},this.b=0}function ca(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.ja&&f.listener==b&&f.capture==!!c&&f.ya==d)return e}return-1}function da(a,b,c,d,e){if(d&&d.once)return function g(a,b,c,d,e){if(G(b)){for(var f=0;f<b.length;f++)g(a,b[f],c,d,e);return null}return c=ka(c),a&&a[Fm]?a.Mb(b,c,I(d)?!!d.capture:!!d,e):ea(a,b,c,!0,d,e)}(a,b,c,d,e);if(G(b)){for(var f=0;f<b.length;f++)da(a,b[f],c,d,e);return null}return c=ka(c),a&&a[Fm]?a.Lb(b,c,I(d)?!!d.capture:!!d,e):ea(a,b,c,!1,d,e)}function ea(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=I(e)?!!e.capture:!!e;if(g&&!Bm)return null;var h,i,j=ja(a);if(j||(a[Hm]=j=new ba(a)),(c=j.add(b,c,d,g,f)).proxy)return c;if(h=ia,d=i=Bm?function(a){return h.call(i.src,i.listener,a)}:function(a){return(a=h.call(i.src,i.listener,a))?void 0:a},(c.proxy=d).src=a,d.listener=c,a.addEventListener)Dm||(e=g),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(ga(b.toString()),d);else{if(!a.addListener||!a.removeListener)throw Error("addEventListener and attachEvent are unavailable.");a.addListener(d)}return c}function fa(a){if("number"!=typeof a&&a&&!a.ja){var b=a.src;if(b&&b[Fm])b.nc(a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(ga(c),d):b.addListener&&b.removeListener&&b.removeListener(d),(c=ja(b))?(c.fc(a),0==c.b&&(c.src=null,b[Hm]=null)):a.a()}}}function ga(a){return a in Im?Im[a]:Im[a]="on"+a}function ha(a,b){var c=a.listener,d=a.ya||a.src;return a.oa&&fa(a),c.call(d,b)}function ia(a,b){return!!a.ja||(Bm?ha(a,new _(b,this)):ha(a,b=new _(b||D("window.event"),this)))}function ja(a){return(a=a[Hm])instanceof ba?a:null}function ka(a){return"function"==F(a)?a:(a[Jm]||(a[Jm]=function(b){return a.handleEvent(b)}),a[Jm])}function la(){O.call(this),this.c=new ba(this),(this.K=this).F=null}function ma(a,b){this.g=100,this.c=a,this.h=b,this.b=0,this.a=null}function na(){this.b=this.a=null}function oa(){this.next=this.b=this.a=null}function pa(a){cm.setTimeout(function(){throw a},0)}function qa(){for(var a;a=Om.f();){try{a.a.call(a.b)}catch(a){pa(a)}Om.g(a)}Nm=!1}function ra(a,b){la.call(this),this.b=a||1,this.a=b||cm,this.f=L(this.$d,this),this.g=fm()}function sa(a,b,c){if("function"==F(a))c&&(a=L(a,c));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=L(a.handleEvent,a)}return 2147483647<Number(b)?-1:cm.setTimeout(a,b||0)}function ta(a,b,c){O.call(this),this.f=null!=c?L(a,c):a,this.c=b,this.b=L(this.Cd,this),this.a=[]}function ua(a){O.call(this),this.b=a,this.a={}}function va(){}function wa(a){$.call(this,"serverreachability",a)}function xa(a){Qm.dispatchEvent(new wa(Qm,a))}function ya(a){$.call(this,"statevent",a)}function za(a){Qm.dispatchEvent(new ya(Qm,a))}function Aa(a){$.call(this,"timingevent",a)}function Ba(a,b){if("function"!=F(a))throw Error("Fn must not be null and must be a function");return cm.setTimeout(function(){a()},b)}function Ca(){}function Da(){}function Ea(){$.call(this,"d")}function Fa(){$.call(this,"c")}function Ga(){}function Ha(a,b,c){this.g=a,this.da=b,this.ca=c||1,this.I=new ua(this),this.L=45e3,a=sm?125:void 0,this.T=new ra(a),this.J=null,this.b=!1,this.i=this.C=this.f=this.F=this.u=this.U=this.h=null,this.j=[],this.a=null,this.A=0,this.c=this.v=null,this.o=-1,this.l=!1,this.K=0,this.B=null,this.s=this.Y=this.H=!1}function Ia(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(H(a)||C(a))im(a,b,void 0);else{if(a.O&&"function"==typeof a.O)var c=a.O();else if(a.D&&"function"==typeof a.D)c=void 0;else if(H(a)||C(a)){c=[];for(var d=a.length,e=0;d>e;e++)c.push(e)}else for(e in c=[],d=0,a)c[d++]=e;e=(d=function(a){if(a.D&&"function"==typeof a.D)return a.D();if(C(a))return a.split("");if(H(a)){for(var b=[],c=a.length,d=0;c>d;d++)b.push(a[d]);return b}for(d in b=[],c=0,a)b[c++]=a[d];return b}(a)).length;for(var f=0;e>f;f++)b.call(void 0,d[f],c&&c[f],a)}}function Ja(a,b){this.b={},this.a=[],this.c=0;var c=arguments.length;if(c>1){if(c%2)throw Error("Uneven number of arguments");for(var d=0;c>d;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.fd(a)}function Ka(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function La(a,b){var c;this.c=this.i=this.b="",this.h=null,this.j=this.g="",this.f=this.l=!1,a instanceof La?(this.f=void 0!==b?b:a.f,this.ma(a.b),this.$a(a.i),this.ka(a.c),this.la(a.h),this.Ba(a.g),this.Za(a.a.Gb()),this.Ya(a.j)):a&&(c=String(a).match(Xm))?(this.f=!!b,this.ma(c[1]||"",!0),this.$a(c[2]||"",!0),this.ka(c[3]||"",!0),this.la(c[4]),this.Ba(c[5]||"",!0),this.Za(c[6]||"",!0),this.Ya(c[7]||"",!0)):(this.f=!!b,this.a=new Pa(null,this.f))}function Ma(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Na(a,b,c){return C(a)?(a=encodeURI(a).replace(b,Oa),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Oa(a){return"%"+((a=a.charCodeAt(0))>>4&15).toString(16)+(15&a).toString(16)}function Pa(a,b){this.b=this.a=null,this.c=a||null,this.f=!!b}function Qa(a){this.a=a,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function Ra(){this.a=this.b=null}function Sa(){this.a=new Ja}function Ta(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+(a[dm]||(a[dm]=++em)):b.charAt(0)+a}function Ua(a,b){this.a=a,this.b=b}function Va(a){this.g=a||bn,a=cm.PerformanceNavigationTiming?0<(a=cm.performance.getEntriesByType("navigation")).length&&("hq"==a[0].nextHopProtocol||"h2"==a[0].nextHopProtocol):!!(cm.Ja&&cm.Ja.Vb&&cm.Ja.Vb()&&cm.Ja.Vb().te),this.f=a?this.g:1,this.a=null,1<this.f&&(this.a=new Sa),this.b=null,this.c=[]}function Wa(){this.b=this.a=void 0}function Xa(){this.f=new Wa}function Ya(a,b,c,d,e){try{b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null,e(d)}catch(a){}}function Za(a){la.call(this),this.headers=new Ja,this.l=a||null,this.b=!1,this.v=this.a=null,this.C="",this.h=0,this.f="",this.g=this.B=this.o=this.A=!1,this.u=0,this.s=null,this.J=dn,this.H=this.L=this.I=!1}function $a(a){return"content-type"==a.toLowerCase()}function _a(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}}function ab(a,b,c){a:{for(d in c){var d=!1;break a}d=!0}if(d)return a;var e;if(e="",U(c,function(a,b){e+=b,e+=":",e+=a,e+="\r\n"}),c=e,C(a)){if(b=encodeURIComponent(String(b)),b+=c=null!=c?"="+encodeURIComponent(String(c)):""){if((c=a.indexOf("#"))<0&&(c=a.length),(d=a.indexOf("?"))<0||d>c){d=c;var f=""}else f=a.substring(d+1,c);c=(a=[a.substr(0,d),f,a.substr(c)])[1],a[1]=b?c?c+"&"+b:b:c,a=a[0]+(a[1]?"?"+a[1]:"")+a[2]}return a}return a.m(b,c),a}function bb(a){this.gb=22,this.g=[],this.H=new Ra,this.da=this.fb=this.C=this.Ea=this.a=this.Fa=this.j=this.ca=this.f=this.J=this.h=null,this.sc=!0,this.zc=this.L=0,this.uc=!!D("internalChannelParams.failFast",a),this.Ga=this.v=this.s=this.l=this.i=this.b=null,this.eb=!0,this.B=this.jb=this.K=-1,this.Y=this.u=this.A=0,this.tc=D("internalChannelParams.baseRetryDelayMs",a)||5e3,this.Fc=D("internalChannelParams.retryDelaySeedMs",a)||1e4,this.pc=D("internalChannelParams.forwardChannelMaxRetries",a)||2,this.ib=D("internalChannelParams.forwardChannelRequestTimeoutMs",a)||2e4,this.xc=a&&a.ue||void 0,this.F=void 0,this.vc=0,this.T=a&&a.supportsCrossDomainXhr||!1,this.I="",this.c=new Va(a&&a.concurrentRequestLimit),this.U=new Xa,this.o=!a||void 0===a.backgroundChannelTest||a.backgroundChannelTest,(this.hb=a&&a.fastHandshake||!1)&&!this.o&&(this.o=!0),a&&a.se&&(this.eb=!1)}function cb(){}function db(){if(qm&&!(10<=Number(ym)))throw Error("Environmental error: no available transport.")}function eb(a,b){la.call(this),this.a=new bb(b),this.g=a,this.o=b&&b.testUrl?b.testUrl:function(a){for(var b=a,c=1;c<arguments.length;c++){var d,e=arguments[c];0==e.lastIndexOf("/",0)?b=e:((d=""==b)||(d=0<=(d=b.length-1)&&b.indexOf("/",d)==d),b+=d?e:"/"+e)}return b}(this.g,"test"),this.b=b&&b.messageUrlParams||null,a=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.a.cd(a),a=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(a?a["X-WebChannel-Content-Type"]=b.messageContentType:a={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.tb&&(a?a["X-WebChannel-Client-Profile"]=b.tb:a={"X-WebChannel-Client-Profile":b.tb}),this.a.Pd(a),(a=b&&b.httpHeadersOverwriteParam)&&!R(a)&&this.a.Nd(a),this.l=b&&b.supportsCrossDomainXhr||!1,this.h=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!R(b)&&(this.a.Od(b),null!==(a=this.b)&&b in a&&b in(a=this.b)&&delete a[b]),this.f=new hb(this)}function fb(a){Ea.call(this);var b=a.__sm__;if(b){a:{for(var c in b){a=c;break a}a=void 0}(this.f=a)?(a=this.f,this.data=null!==b&&a in b?b[a]:void 0):this.data=b}else this.data=a}function gb(){Fa.call(this),this.status=1}function hb(a){this.a=a}function ib(){return rn.logLevel===Oi.DEBUG?hn.DEBUG:rn.logLevel===Oi.SILENT?hn.SILENT:hn.ERROR}function jb(a){switch(a){case hn.DEBUG:rn.logLevel=Oi.DEBUG;break;case hn.ERROR:rn.logLevel=Oi.ERROR;break;case hn.SILENT:rn.logLevel=Oi.SILENT;break;default:rn.error("Firestore ("+qn+"): Invalid value passed to `setLogLevel`")}}function kb(a,b){for(var c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];if(rn.logLevel<=Oi.DEBUG){var e=c.map(mb);rn.debug.apply(rn,["Firestore ("+qn+") ["+a+"]: "+b].concat(e))}}function lb(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];if(rn.logLevel<=Oi.ERROR){var d=b.map(mb);rn.error.apply(rn,["Firestore ("+qn+"): "+a].concat(d))}}function mb(a){if("string"==typeof a)return a;var b=wn.getPlatform();try{return b.formatJSON(a)}catch(b){return a}}function nb(a){var b="FIRESTORE ("+qn+") INTERNAL ASSERTION FAILED: "+a;throw lb(b),new Error(b)}function ob(a,b){a||nb(b)}function pb(){return wn.getPlatform().emptyByteString}function qb(a,b){function c(){var a="This constructor is private.";throw b&&(a+=" ",a+=b),new yn(xn.INVALID_ARGUMENT,a)}for(var d in c.prototype=a.prototype,a)a.hasOwnProperty(d)&&(c[d]=a[d]);return c}function rb(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function sb(a,b){return void 0!==a?a:b}function tb(a,b){for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var d=Number(c);isNaN(d)||b(d,a[c])}}function ub(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])}function vb(a){for(var b in ob(null!=a&&"object"==typeof a,"isEmpty() expects object parameter."),a)if(Object.prototype.hasOwnProperty.call(a,b))return!1;return!0}function wb(a,b){if(0!==b.length)throw new yn(xn.INVALID_ARGUMENT,"Function "+a+"() does not support arguments, but was called with "+Nb(b.length,"argument")+".")}function xb(a,b,c){if(b.length!==c)throw new yn(xn.INVALID_ARGUMENT,"Function "+a+"() requires "+Nb(c,"argument")+", but was called with "+Nb(b.length,"argument")+".")}function yb(a,b,c){if(b.length<c)throw new yn(xn.INVALID_ARGUMENT,"Function "+a+"() requires at least "+Nb(c,"argument")+", but was called with "+Nb(b.length,"argument")+".")}function zb(a,b,c,d){if(b.length<c||b.length>d)throw new yn(xn.INVALID_ARGUMENT,"Function "+a+"() requires between "+c+" and "+d+" arguments, but was called with "+Nb(b.length,"argument")+".")}function Ab(a,b,c,d){Gb(a,b,Mb(c)+" argument",d)}function Bb(a,b,c,d){void 0!==d&&Ab(a,b,c,d)}function Cb(a,b,c,d){Gb(a,b,c+" option",d)}function Db(a,b,c,d){void 0!==d&&Cb(a,b,c,d)}function Eb(a,b,c,d,e){void 0!==d&&function(a,b,c,d,e){if(!(d instanceof Array))throw new yn(xn.INVALID_ARGUMENT,"Function "+a+"() requires its "+b+" option to be an array, but it was: "+Ib(d));for(var f=0;f<d.length;++f)if(!e(d[f]))throw new yn(xn.INVALID_ARGUMENT,"Function "+a+"() requires all "+b+" elements to be "+c+", but the value at index "+f+" was: "+Ib(d[f]))}(a,b,c,d,e)}function Fb(a,b,c,d,e){void 0!==d&&function(a,b,c,d,e){for(var f=[],g=0,h=e;g<h.length;g++){var i=h[g];if(i===d)return;f.push(Ib(i))}var j=Ib(d);throw new yn(xn.INVALID_ARGUMENT,"Invalid value "+j+" provided to function "+a+'() for option "'+c+'". Acceptable values: '+f.join(", "))}(a,0,c,d,e)}function Gb(a,b,c,d){if(!("object"===b?Hb(d):"non-empty string"===b?"string"==typeof d&&""!==d:typeof d===b)){var e=Ib(d);throw new yn(xn.INVALID_ARGUMENT,"Function "+a+"() requires its "+c+" to be of type "+b+", but it was: "+e)}}function Hb(a){return"object"==typeof a&&null!==a&&(Object.getPrototypeOf(a)===Object.prototype||null===Object.getPrototypeOf(a))}function Ib(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return 20<a.length&&(a=a.substring(0,20)+"..."),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"!=typeof a)return"function"==typeof a?"a function":nb("Unknown wrong type: "+typeof a);if(a instanceof Array)return"an array";var b=function(a){if(a.constructor){var b=/function\s+([^\s(]+)\s*\(/.exec(a.constructor.toString());if(b&&1<b.length)return b[1]}return null}(a);return b?"a custom "+b+" object":"an object"}function Jb(a,b,c){if(void 0===c)throw new yn(xn.INVALID_ARGUMENT,"Function "+a+"() requires a valid "+Mb(b)+" argument, but it was undefined.")}function Kb(a,b,c){ub(b,function(b,d){if(c.indexOf(b)<0)throw new yn(xn.INVALID_ARGUMENT,"Unknown option '"+b+"' passed to function "+a+"(). Available options: "+c.join(", "))})}function Lb(a,b,c,d){var e=Ib(d);return new yn(xn.INVALID_ARGUMENT,"Function "+a+"() requires its "+Mb(c)+" argument to be a "+b+", but it was: "+e)}function Mb(a){switch(a){case 1:return"first";case 2:return"second";case 3:return"third";default:return a+"th"}}function Nb(a,b){return a+" "+b+(1===a?"":"s")}function Ob(a,b){return b>a?-1:a>b?1:0}function Pb(a,b){if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(!a[c].isEqual(b[c]))return!1;return!0}function Qb(a){return a+"\x00"}function Rb(){if("undefined"==typeof Uint8Array)throw new yn(xn.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Sb(){if(!wn.getPlatform().base64Available)throw new yn(xn.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}function Tb(a,b){return a===b?0!==a||1/a==1/b:a!=a&&b!=b}function Ub(a){return null==a}function Vb(a){return oo(a)&&no>=a&&a>=mo}function Wb(a){return a instanceof ko?a.internalValue.slice():[]}function Xb(a){switch(a){case xn.OK:return nb("Treated status OK as error");case xn.CANCELLED:case xn.UNKNOWN:case xn.DEADLINE_EXCEEDED:case xn.RESOURCE_EXHAUSTED:case xn.INTERNAL:case xn.UNAVAILABLE:case xn.UNAUTHENTICATED:return!1;case xn.INVALID_ARGUMENT:case xn.NOT_FOUND:case xn.ALREADY_EXISTS:case xn.PERMISSION_DENIED:case xn.FAILED_PRECONDITION:case xn.ABORTED:case xn.OUT_OF_RANGE:case xn.UNIMPLEMENTED:case xn.DATA_LOSS:return!0;default:return nb("Unknown status code: "+a)}}function Yb(a){if(void 0===a)return lb("GRPC error has no .code"),xn.UNKNOWN;switch(a){case Jo.OK:return xn.OK;case Jo.CANCELLED:return xn.CANCELLED;case Jo.UNKNOWN:return xn.UNKNOWN;case Jo.DEADLINE_EXCEEDED:return xn.DEADLINE_EXCEEDED;case Jo.RESOURCE_EXHAUSTED:return xn.RESOURCE_EXHAUSTED;case Jo.INTERNAL:return xn.INTERNAL;case Jo.UNAVAILABLE:return xn.UNAVAILABLE;case Jo.UNAUTHENTICATED:return xn.UNAUTHENTICATED;case Jo.INVALID_ARGUMENT:return xn.INVALID_ARGUMENT;case Jo.NOT_FOUND:return xn.NOT_FOUND;case Jo.ALREADY_EXISTS:return xn.ALREADY_EXISTS;case Jo.PERMISSION_DENIED:return xn.PERMISSION_DENIED;case Jo.FAILED_PRECONDITION:return xn.FAILED_PRECONDITION;case Jo.ABORTED:return xn.ABORTED;case Jo.OUT_OF_RANGE:return xn.OUT_OF_RANGE;case Jo.UNIMPLEMENTED:return xn.UNIMPLEMENTED;case Jo.DATA_LOSS:return xn.DATA_LOSS;default:return nb("Unknown status code: "+a)}}function Zb(){return $o}function $b(){return Zb()}function _b(){return _o}function ac(){return ap}function bc(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var c=bp,d=0,e=a;d<e.length;d++){var f=e[d];c=c.add(f)}return c}function cc(){return cp}function dc(){return new Rn(Mn.comparator)}function ec(){return new Rn(Mn.comparator)}function fc(a,b){ob(!Ub(a),b+" is missing")}function gc(a){return"number"==typeof a?a:"string"==typeof a?Number(a):nb("can't parse "+a)}function hc(a,b,c){return b===c||!b&&c in a}function ic(a){for(var b="",c=0;c<a.length;c++)0<b.length&&(b=kc(b)),b=jc(a.get(c),b);return kc(b)}function jc(a,b){for(var c=b,d=a.length,e=0;d>e;e++){var f=a.charAt(e);switch(f){case"\x00":c+=Jp+Lp;break;case Jp:c+=Jp+Mp;break;default:c+=f}}return c}function kc(a){return a+Jp+Kp}function lc(a){var b=a.length;if(ob(b>=2,"Invalid path "+a),2===b)return ob(a.charAt(0)===Jp&&a.charAt(1)===Kp,"Non-empty path "+a+" had length 2"),Jn.EMPTY_PATH;for(var c=b-2,d=[],e="",f=0;b>f;){var g=a.indexOf(Jp,f);switch((0>g||g>c)&&nb('Invalid encoded resource path: "'+a+'"'),a.charAt(g+1)){case Kp:var h=a.substring(f,g),i=void 0;0===e.length?i=h:(i=e+=h,e=""),d.push(i);break;case Lp:e+=a.substring(f,g),e+="\x00";break;case Mp:e+=a.substring(f,g+1);break;default:nb('Invalid encoded resource path: "'+a+'"')}f=g+2}return new Jn(d)}function mc(a,b,c){var d=lq.prefixForPath(b,c.path),e=d[1],f=IDBKeyRange.lowerBound(d),g=!1;return qc(a).iterate({range:f,keysOnly:!0},function(a,c,d){var f=a[0],h=a[1];a[2],f===b&&h===e&&(g=!0),d.done()}).next(function(){return g})}function nc(a,b,c){var d=a.store(kq.store),e=a.store(lq.store),f=[],g=IDBKeyRange.only(c.batchId),h=0,i=d.iterate({range:g},function(a,b,c){return h++,c["delete"]()});f.push(i.next(function(){ob(1===h,"Dangling document-mutation reference found: Missing batch "+c.batchId)}));for(var j=[],k=0,l=c.mutations;k<l.length;k++){var m=l[k],n=lq.key(b,m.key.path,c.batchId);f.push(e["delete"](n)),j.push(m.key)}return Pp.waitFor(f).next(function(){return j})}function oc(a){return a instanceof Uint8Array?(ob("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),a.toString()):a}function pc(a){return Iq.getStore(a,kq.store)}function qc(a){return Iq.getStore(a,lq.store)}function rc(a){return Iq.getStore(a,jq.store)}function sc(a){return new Pp(function(b,c){a.onsuccess=function(a){var c=a.target.result;b(c)},a.onerror=function(a){c(a.target.error)}})}function tc(a){return Iq.getStore(a,qq.store)}function uc(a){return Vp.getStore(a,sq.store).get(sq.key).next(function(a){return ob(null!==a,"Missing metadata row."),a})}function vc(a){return uc(a).next(function(a){return a.highestListenSequenceNumber})}function wc(a){return Iq.getStore(a,rq.store)}function xc(a){return Iq.getStore(a,pq.store)}function yc(a){return Iq.getStore(a,oq.store)}function zc(a){return Iq.getStore(a,uq.store)}function Ac(a){return a.path.toArray()}function Bc(a){var b;if(a.document)b=a.document;else if(a.unknownDocument)b=a.unknownDocument;else{if(!a.noDocument)throw nb("Unknown remote document type");b=a.noDocument}return JSON.stringify(b).length}function Cc(a){a.createObjectStore(rq.store,{keyPath:rq.keyPath}).createIndex(rq.documentTargetsIndex,rq.documentTargetsKeyPath,{unique:!0}),a.createObjectStore(qq.store,{keyPath:qq.keyPath}).createIndex(qq.queryTargetsIndexName,qq.queryTargetsKeyPath,{unique:!0}),a.createObjectStore(sq.store)}function Dc(a){return Iq.getStore(a,tq.store)}function Ec(a,b){var c=a[0],d=a[1],e=b[0],f=b[1],g=Ob(c,e);return 0===g?Ob(d,f):g}function Fc(a){return w(this,void 0,void 0,function(){return x(this,function(b){if((c=a).code!==xn.FAILED_PRECONDITION||c.message!==Fq)throw a;var c;return kb(Eq,"Unexpectedly lost primary lease"),[2]})})}function Gc(a){return a.store(iq.store)}function Hc(a){return a.store(vq.store)}function Ic(a,b){return wc(a).put((c=b,d=a.currentSequenceNumber,new rq(0,ic(c.path),d)));var c,d}function Jc(a){return function(a,b){if("object"!=typeof a||null===a)return!1;for(var c=a,d=0,e=b;d<e.length;d++){var f=e[d];if(f in c&&"function"==typeof c[f])return!0}return!1}(a,["next","error","complete"])}function Kc(a){switch(a){case fr.Set:case fr.MergeSet:case fr.Update:return!0;case fr.Argument:return!1;default:throw nb("Unexpected case for UserDataSource: "+a)}}function Lc(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof Dn||a instanceof Cn||a instanceof An||a instanceof cs||a instanceof Tr)}function Mc(a,b,c){if(!Lc(c)||!Hb(c)){var d=Ib(c);throw"an object"===d?b.createError(a+" a custom object"):b.createError(a+" "+d)}}function Nc(a,b){if(b instanceof Mr)return b._internalPath;if("string"==typeof b)return Oc(a,b);throw new yn(xn.INVALID_ARGUMENT,"Function "+a+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Oc(a,b){try{return function(a){if(0<=a.search(Nr))throw new yn(xn.INVALID_ARGUMENT,"Invalid field path ("+a+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Mr.bind.apply(Mr,[void 0].concat(a.split("."))))}catch(b){throw new yn(xn.INVALID_ARGUMENT,"Invalid field path ("+a+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(b)._internalPath}catch(b){var c=Pc(b);throw new yn(xn.INVALID_ARGUMENT,"Function "+a+"() called with invalid data. "+c)}}function Pc(a){return a instanceof Error?a.message:a.toString()}function Qc(a,b){if(void 0===b)return{merge:!1};if(Kb(a,b,["merge","mergeFields"]),Db(a,"boolean","merge",b.merge),Eb(a,"mergeFields","a string or a FieldPath",b.mergeFields,function(a){return"string"==typeof a||a instanceof Mr}),void 0!==b.mergeFields&&void 0!==b.merge)throw new yn(xn.INVALID_ARGUMENT,"Invalid options passed to function "+a+'(): You cannot specify both "merge" and "mergeFields".');return b}function Rc(a,b){return void 0===b?{}:(Kb(a,b,["serverTimestamps"]),Fb(a,0,"serverTimestamps",b.serverTimestamps,["estimate","previous","none"]),b)}function Sc(a,b){Bb(a,"object",1,b),b&&(Kb(a,b,["source"]),Fb(a,0,"source",b.source,["default","server","cache"]))}function Tc(a,b,c){if(b instanceof ks){if(b.firestore!==c)throw new yn(xn.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return b}throw Lb(a,"DocumentReference",1,b)}function Uc(a){a.INTERNAL.registerService("firestore",function(a){return new hs(a)},function(a){ob(a&&"object"==typeof a,"shallowCopy() expects object parameter.");var b={};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b}(As))}function Vc(a,b){var c={};for(var d in a)a.hasOwnProperty(d)&&(c[d]=b(a[d]));return c}function Wc(a,b,c){return new Hs(a,c)}function Xc(a,b){if(null==a||null==b)return!1;if(a===b)return!0;if(a.byteLength!==b.byteLength)return!1;for(var c=new DataView(a),d=new DataView(b),e=0;e<a.byteLength;e++)if(c.getUint8(e)!==d.getUint8(e))return!1;return!0}function Yc(a){var b=new Uint8Array(a);return btoa(String.fromCharCode.apply(String,function(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(y(arguments[b]));return a}(b)))}function Zc(a){return Yc(a).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $c(a){for(var b=(a+"=".repeat((4-a.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),c=atob(b),d=new Uint8Array(c.length),e=0;e<c.length;++e)d[e]=c.charCodeAt(e);
return d}function _c(){var a=indexedDB.open(Ss);a.onerror=function(a){},a.onsuccess=function(b){!function(a){if(a.objectStoreNames.contains(Ts)){var b=a.transaction(Ts).objectStore(Ts),c=new Rs,d=b.openCursor();d.onerror=function(a){console.warn("Unable to cleanup old IDB.",a)},d.onsuccess=function(){var b=d.result;if(b){var e=b.value;c.deleteToken(e.fcmSenderId,e.fcmToken,e.fcmPushSet),b["continue"]()}else a.close(),indexedDB.deleteDatabase(Ss)}}}(a.result)}}function ad(a){if(a.fcmToken&&("string"!=typeof a.fcmToken||0===a.fcmToken.length))throw Ns.create("bad-token");if(a.swScope&&("string"!=typeof a.swScope||0===a.swScope.length))throw Ns.create("bad-scope");if(a.vapidKey&&(!(a.vapidKey instanceof Uint8Array)||65!==a.vapidKey.length))throw Ns.create("bad-vapid-key");if(a.endpoint&&("string"!=typeof a.endpoint||0===a.endpoint.length))throw Ns.create("bad-subscription");if(a.auth&&!(a.auth instanceof ArrayBuffer))throw Ns.create("bad-subscription");if(a.p256dh&&!(a.p256dh instanceof ArrayBuffer))throw Ns.create("bad-subscription");if(a.fcmSenderId&&("string"!=typeof a.fcmSenderId||0===a.fcmSenderId.length))throw Ns.create("bad-sender-id");if(a.fcmPushSet&&("string"!=typeof a.fcmPushSet||0===a.fcmPushSet.length))throw Ns.create("bad-push-set")}function bd(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function cd(a,b){var c;return(c={})[Is.TYPE_OF_MSG]=a,c[Is.DATA]=b,c}function dd(){return self&&"ServiceWorkerGlobalScope"in self?"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function ed(a){return"storage/"+a}function fd(){return new dt(et.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function gd(){return new dt(et.CANCELED,"User canceled the upload/download.")}function hd(){return new dt(et.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function id(a,b,c){return new dt(et.INVALID_ARGUMENT,"Invalid argument in `"+b+"` at index "+a+": "+c)}function jd(){return new dt(et.APP_DELETED,"The Firebase app was deleted.")}function kd(a,b){return new dt(et.INVALID_FORMAT,"String does not match format '"+a+"': "+b)}function ld(a){throw new dt(et.INTERNAL_ERROR,"Internal error: "+a)}function md(a){switch(a){case ft.RAW:case ft.BASE64:case ft.BASE64URL:case ft.DATA_URL:return;default:throw"Expected one of the event types: ["+ft.RAW+", "+ft.BASE64+", "+ft.BASE64URL+", "+ft.DATA_URL+"]."}}function nd(a,b){switch(a){case ft.RAW:return new gt(od(b));case ft.BASE64:case ft.BASE64URL:return new gt(pd(a,b));case ft.DATA_URL:return new gt((c=new ht(b)).base64?pd(ft.BASE64,c.rest):function(a){var b;try{b=decodeURIComponent(a)}catch(a){throw kd(ft.DATA_URL,"Malformed data URL.")}return od(b)}(c.rest),new ht(b).contentType)}var c;throw fd()}function od(a){for(var b=[],c=0;c<a.length;c++){var d=a.charCodeAt(c);127>=d?b.push(d):2047>=d?b.push(192|d>>6,128|63&d):55296==(64512&d)?c<a.length-1&&56320==(64512&a.charCodeAt(c+1))?(d=65536|(1023&d)<<10|1023&a.charCodeAt(++c),b.push(240|d>>18,128|d>>12&63,128|d>>6&63,128|63&d)):b.push(239,191,189):56320==(64512&d)?b.push(239,191,189):b.push(224|d>>12,128|d>>6&63,128|63&d)}return new Uint8Array(b)}function pd(a,b){switch(a){case ft.BASE64:var c=-1!==b.indexOf("-"),d=-1!==b.indexOf("_");if(c||d)throw kd(a,"Invalid character '"+(c?"-":"_")+"' found: is it base64url encoded?");break;case ft.BASE64URL:var e=-1!==b.indexOf("+"),f=-1!==b.indexOf("/");if(e||f)throw kd(a,"Invalid character '"+(e?"+":"/")+"' found: is it base64 encoded?");b=b.replace(/-/g,"+").replace(/_/g,"/")}var g;try{g=atob(b)}catch(b){throw kd(a,"Invalid character found")}for(var h=new Uint8Array(g.length),i=0;i<g.length;i++)h[i]=g.charCodeAt(i);return h}function qd(a){switch(a){case jt:case kt:case nt:return qt.RUNNING;case lt:return qt.PAUSED;case mt:return qt.SUCCESS;case ot:return qt.CANCELED;case pt:default:return qt.ERROR}}function rd(a,b){for(var c in a)d=a,e=c,Object.prototype.hasOwnProperty.call(d,e)&&b(c,a[c]);var d,e}function sd(a){if(null==a)return{};var b={};return rd(a,function(a,c){b[a]=c}),b}function td(a){return new Promise(a)}function ud(a){return Promise.resolve(a)}function vd(a){return null!=a}function wd(a){return void 0!==a}function xd(a){return"function"==typeof a}function yd(a){return"object"==typeof a}function zd(a){return"string"==typeof a||a instanceof String}function Ad(a){return Bd()&&a instanceof Blob}function Bd(){return"undefined"!=typeof Blob}function Cd(a){var b,c;try{b=JSON.parse(a)}catch(a){return null}return yd(c=b)&&!Array.isArray(c)?b:null}function Dd(a){var b=a.lastIndexOf("/",a.length-2);return-1===b?a:a.slice(b+1)}function Ed(a){return"https://"+ct+"/v0"+a}function Fd(a){var b=encodeURIComponent,c="?";return rd(a,function(a,d){var e=b(a)+"="+b(d);c=c+e+"&"}),c=c.slice(0,-1)}function Gd(a,b){return b}function Hd(){if(wt)return wt;var a=[];a.push(new vt("bucket")),a.push(new vt("generation")),a.push(new vt("metageneration")),a.push(new vt("name","fullPath",!0));var b=new vt("name");b.xform=function(a,b){return!zd(c=b)||c.length<2?c:Dd(c=c);var c},a.push(b);var c=new vt("size");return c.xform=function(a,b){return vd(b)?+b:b},a.push(c),a.push(new vt("timeCreated")),a.push(new vt("updated")),a.push(new vt("md5Hash",null,!0)),a.push(new vt("cacheControl",null,!0)),a.push(new vt("contentDisposition",null,!0)),a.push(new vt("contentEncoding",null,!0)),a.push(new vt("contentLanguage",null,!0)),a.push(new vt("contentType",null,!0)),a.push(new vt("metadata","customMetadata",!0)),wt=a}function Id(a,b,c){for(var d,e,f={type:"file"},g=c.length,h=0;g>h;h++){var i=c[h];f[i.local]=i.xform(f,b[i.server])}return d=f,e=a,Object.defineProperty(d,"ref",{get:function(){var a=d.bucket,b=d.fullPath,c=new ut(a,b);return e.makeStorageReference(c)}}),f}function Jd(a,b,c){var d=Cd(b);return null===d?null:Id(a,d,c)}function Kd(a,b){for(var c={},d=b.length,e=0;d>e;e++){var f=b[e];f.writable&&(c[f.server]=a[f.local])}return JSON.stringify(c)}function Ld(a){var b;if(!a||!yd(a))throw"Expected Metadata object.";for(var c in a){var d=a[c];if("customMetadata"===c){if(!yd(d))throw"Expected object for 'customMetadata' mapping."}else if(yd(b=d)&&null!==b)throw"Mapping for '"+c+"' cannot be an object."}}function Md(a,b,c){for(var d=b.length,e=b.length,f=0;f<b.length;f++)if(b[f].optional){d=f;break}var g,h,i,j,k,l;if(!(d<=c.length&&c.length<=e))throw g=d,h=e,i=a,j=c.length,l=g===h?1===(k=g)?"argument":"arguments":(k="between "+g+" and "+h,"arguments"),new dt(et.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+i+"`: Expected "+k+" "+l+", received "+j+".");for(f=0;f<c.length;f++)try{b[f].validator(c[f])}catch(b){throw b instanceof Error?id(f,a,b.message):id(f,a,b)}}function Nd(a,b){function c(a){if(!zd(a))throw"Expected string."}var d,e,f;return d=a?(e=c,f=a,function(a){e(a),f(a)}):c,new xt(d,b)}function Od(a){return new xt(Ld,a)}function Pd(){return new xt(function(a){var b;if(!(("number"==typeof(b=a)||b instanceof Number)&&a>=0))throw"Expected a number 0 or greater."})}function Qd(a,b){return new xt(function(b){if(!(null===b||vd(b)&&b instanceof Object))throw"Expected an Object.";null!=a&&a(b)},b)}function Rd(a){return new xt(function(a){if(null!==a&&!xd(a))throw"Expected a Function."},a)}function Sd(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==c){for(var d=new c,e=0;e<a.length;e++)d.append(a[e]);return d.getBlob()}if(Bd())return new Blob(a);throw Error("This browser doesn't seem to support creating Blobs")}function Td(a,b){return-1!==a.indexOf(b)}function Ud(a){if(!a)throw fd()}function Vd(a,b){return function(c,d){var e=Jd(a,d,b);return Ud(null!==e),e}}function Wd(a,b){return function(c,d){var e=Jd(a,d,b);return Ud(null!==e),function(a,b){var c=Cd(b);if(null===c)return null;if(!zd(c.downloadTokens))return null;var d=c.downloadTokens;if(0===d.length)return null;var e=encodeURIComponent;return d.split(",").map(function(b){var c=a.bucket,d=a.fullPath;return Ed("/b/"+e(c)+"/o/"+e(d))+Fd({alt:"media",token:b})})[0]}(e,d)}}function Xd(a){return function(b,c){var d,e,f;return(d=401===b.getStatus()?new dt(et.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===b.getStatus()?(f=a.bucket,new dt(et.QUOTA_EXCEEDED,"Quota for bucket '"+f+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===b.getStatus()?(e=a.path,new dt(et.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")):c).setServerResponseProp(c.serverResponseProp()),d}}function Yd(a){var b=Xd(a);return function(c,d){var e,f=b(c,d);return 404===c.getStatus()&&(e=a.path,f=new dt(et.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")),f.setServerResponseProp(d.serverResponseProp()),f}}function Zd(a,b,c){var d=Ed(b.fullServerUrl()),e=a.maxOperationRetryTime(),f=new zt(d,"GET",Vd(a,c),e);return f.errorHandler=Yd(b),f}function $d(a,b,c){var d,e,f=sd(c);return f.fullPath=a.path,f.size=b.size(),f.contentType||(f.contentType=(e=b,(d=null)&&d.contentType||e&&e.type()||"application/octet-stream")),f}function _d(a,b){var c;try{c=a.getResponseHeader("X-Goog-Upload-Status")}catch(a){Ud(!1)}return Ud(Td(b||["active"],c)),c}function ae(a,b,c,d,e,f,g,h){var i=new At(0,0);if(i.total=g?(i.current=g.current,g.total):(i.current=0,d.size()),d.size()!==i.total)throw new dt(et.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var j=i.total-i.current,k=j;e>0&&(k=Math.min(k,e));var l=i.current,m=l+k,n={"X-Goog-Upload-Command":k===j?"upload, finalize":"upload","X-Goog-Upload-Offset":i.current},o=d.slice(l,m);if(null===o)throw hd();var p=b.maxUploadRetryTime(),q=new zt(c,"POST",function(a,c){var e,g=_d(a,["active","final"]),h=i.current+k,j=d.size();return e="final"===g?Vd(b,f)(a,c):null,new At(h,j,"final"===g,e)},p);return q.headers=n,q.body=o.uploadData(),q.progressCallback=h||null,q.errorHandler=Xd(a),q}function be(a){return function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];ud(!0).then(function(){a.apply(null,b)})}}function ce(a,b,c){var d,e,f,g,h=Fd(a.urlParams),i=a.url+h,j=sd(a.headers);return d=j,null!==(e=b)&&0<e.length&&(d.Authorization="Firebase "+e),f=j,g=void 0!==Ni?Ni.SDK_VERSION:"AppManager",f["X-Firebase-Storage-Version"]="webjs/"+g,new It(i,a.method,j,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,c)}function de(a,b,c){return new Kt(a,new tt,c)}!function(a){function b(a){if("string"!=typeof a&&(a=String(a)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(a))throw new TypeError("Invalid character in header field name");return a.toLowerCase()}function c(a){return"string"!=typeof a&&(a=String(a)),a}function d(a){var b={next:function(){var b=a.shift();return{done:void 0===b,value:b}}};return o&&(b[Symbol.iterator]=function(){return b}),b}function e(a){this.map={},a instanceof e?a.forEach(function(a,b){this.append(b,a)},this):Array.isArray(a)?a.forEach(function(a){this.append(a[0],a[1])},this):a&&Object.getOwnPropertyNames(a).forEach(function(b){this.append(b,a[b])},this)}function f(a){return a.bodyUsed?Promise.reject(new TypeError("Already read")):void(a.bodyUsed=!0)}function g(a){return new Promise(function(b,c){a.onload=function(){b(a.result)},a.onerror=function(){c(a.error)}})}function h(a){var b=new FileReader,c=g(b);return b.readAsArrayBuffer(a),c}function i(a){if(a.slice)return a.slice(0);var b=new Uint8Array(a.byteLength);return b.set(new Uint8Array(a)),b.buffer}function j(){return this.bodyUsed=!1,this._initBody=function(a){if(this._bodyInit=a)if("string"==typeof a)this._bodyText=a;else if(p&&Blob.prototype.isPrototypeOf(a))this._bodyBlob=a;else if(q&&FormData.prototype.isPrototypeOf(a))this._bodyFormData=a;else if(n&&URLSearchParams.prototype.isPrototypeOf(a))this._bodyText=a.toString();else if(r&&p&&t(a))this._bodyArrayBuffer=i(a.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!r||!ArrayBuffer.prototype.isPrototypeOf(a)&&!u(a))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=i(a)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof a?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(a)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},p&&(this.blob=function(){var a=f(this);if(a)return a;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var a,b,c,d=f(this);if(d)return d;if(this._bodyBlob)return a=this._bodyBlob,b=new FileReader,c=g(b),b.readAsText(a),c;if(this._bodyArrayBuffer)return Promise.resolve(function(a){for(var b=new Uint8Array(a),c=new Array(b.length),d=0;d<b.length;d++)c[d]=String.fromCharCode(b[d]);return c.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},q&&(this.formData=function(){return this.text().then(l)}),this.json=function(){return this.text().then(JSON.parse)},this}function k(a,b){var c,d,f=(b=b||{}).body;if(a instanceof k){if(a.bodyUsed)throw new TypeError("Already read");this.url=a.url,this.credentials=a.credentials,b.headers||(this.headers=new e(a.headers)),this.method=a.method,this.mode=a.mode,f||null==a._bodyInit||(f=a._bodyInit,a.bodyUsed=!0)}else this.url=String(a);if(this.credentials=b.credentials||this.credentials||"omit",!b.headers&&this.headers||(this.headers=new e(b.headers)),this.method=(c=b.method||this.method||"GET",d=c.toUpperCase(),-1<v.indexOf(d)?d:c),this.mode=b.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&f)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(f)}function l(a){var b=new FormData;return a.trim().split("&").forEach(function(a){if(a){var c=a.split("="),d=c.shift().replace(/\+/g," "),e=c.join("=").replace(/\+/g," ");b.append(decodeURIComponent(d),decodeURIComponent(e))}}),b}function m(a,b){b||(b={}),this.type="default",this.status=void 0===b.status?200:b.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in b?b.statusText:"OK",this.headers=new e(b.headers),this.url=b.url||"",this._initBody(a)}if(!a.fetch){var n="URLSearchParams"in a,o="Symbol"in a&&"iterator"in Symbol,p="FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch(a){return!1}}(),q="FormData"in a,r="ArrayBuffer"in a;if(r)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],t=function(a){return a&&DataView.prototype.isPrototypeOf(a)},u=ArrayBuffer.isView||function(a){return a&&-1<s.indexOf(Object.prototype.toString.call(a))};e.prototype.append=function(a,d){a=b(a),d=c(d);var e=this.map[a];this.map[a]=e?e+","+d:d},e.prototype["delete"]=function(a){delete this.map[b(a)]},e.prototype.get=function(a){return a=b(a),this.has(a)?this.map[a]:null},e.prototype.has=function(a){return this.map.hasOwnProperty(b(a))},e.prototype.set=function(a,d){this.map[b(a)]=c(d)},e.prototype.forEach=function(a,b){for(var c in this.map)this.map.hasOwnProperty(c)&&a.call(b,this.map[c],c,this)},e.prototype.keys=function(){var a=[];return this.forEach(function(b,c){a.push(c)}),d(a)},e.prototype.values=function(){var a=[];return this.forEach(function(b){a.push(b)}),d(a)},e.prototype.entries=function(){var a=[];return this.forEach(function(b,c){a.push([c,b])}),d(a)},o&&(e.prototype[Symbol.iterator]=e.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];k.prototype.clone=function(){return new k(this,{body:this._bodyInit})},j.call(k.prototype),j.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new e(this.headers),url:this.url})},m.error=function(){var a=new m(null,{status:0,statusText:""});return a.type="error",a};var w=[301,302,303,307,308];m.redirect=function(a,b){if(-1===w.indexOf(b))throw new RangeError("Invalid status code");return new m(null,{status:b,headers:{location:a}})},a.Headers=e,a.Request=k,a.Response=m,a.fetch=function(a,b){return new Promise(function(c,d){var f=new k(a,b),g=new XMLHttpRequest;g.onload=function(){var a,b,d={status:g.status,statusText:g.statusText,headers:(a=g.getAllResponseHeaders()||"",b=new e,a.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(a){var c=a.split(":"),d=c.shift().trim();if(d){var e=c.join(":").trim();b.append(d,e)}}),b)};d.url="responseURL"in g?g.responseURL:d.headers.get("X-Request-URL");var f="response"in g?g.response:g.responseText;c(new m(f,d))},g.onerror=function(){d(new TypeError("Network request failed"))},g.ontimeout=function(){d(new TypeError("Network request failed"))},g.open(f.method,f.url,!0),"include"===f.credentials?g.withCredentials=!0:"omit"===f.credentials&&(g.withCredentials=!1),"responseType"in g&&p&&(g.responseType="blob"),f.headers.forEach(function(a,b){g.setRequestHeader(b,a)}),g.send(void 0===f._bodyInit?null:f._bodyInit)})},a.fetch.polyfill=!0}}("undefined"!=typeof self?self:void 0);var ee="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},fe=setTimeout;d.prototype["catch"]=function(a){return this.then(null,a)},d.prototype.then=function(a,b){var d=new this.constructor(c);return e(this,new i(a,b,d)),d},d.prototype["finally"]=b,d.all=function(a){return new d(function(b,c){function d(a,g){try{if(g&&("object"==typeof g||"function"==typeof g)){var h=g.then;if("function"==typeof h)return void h.call(g,function(b){d(a,b)},c)}e[a]=g,0==--f&&b(e)}catch(g){c(g)}}if(!a||void 0===a.length)throw new TypeError("Promise.all accepts an array");var e=Array.prototype.slice.call(a);if(0===e.length)return b([]);for(var f=e.length,g=0;g<e.length;g++)d(g,e[g])})},d.resolve=function(a){return a&&"object"==typeof a&&a.constructor===d?a:new d(function(b){b(a)})},d.reject=function(a){return new d(function(b,c){c(a)})},d.race=function(a){return new d(function(b,c){for(var d=0,e=a.length;e>d;d++)a[d].then(b,c)})},d._immediateFn="function"==typeof setImmediate&&function(a){setImmediate(a)}||function(a){fe(a,0)},d._unhandledRejectionFn=function(a){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",a)};var ge=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==ee)return ee;throw new Error("unable to locate global object")}();"Promise"in ge?ge.Promise.prototype["finally"]||(ge.Promise.prototype["finally"]=b):ge.Promise=d;var he,ie,je,ke=function(a,b,c){if(function(a){if("function"!=typeof a)throw TypeError(String(a)+" is not a function")}(a),void 0===b)return a;switch(c){case 0:return function(){return a.call(b)};case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)}}return function(){return a.apply(b,arguments)}},le=function(a){try{return!!a()}catch(a){return!0}},me={}.toString,ne=function(a){return me.call(a).slice(8,-1)},oe="".split,pe=le(function(){return!Object("z").propertyIsEnumerable(0)})?function(a){return"String"==ne(a)?oe.call(a,""):Object(a)}:Object,qe=function(a){if(null==a)throw TypeError("Can't call method on "+a);return a},re=function(a){return Object(qe(a))},se=Math.ceil,te=Math.floor,ue=function(a){return isNaN(a=+a)?0:(a>0?te:se)(a)},ve=Math.min,we=function(a){return a>0?ve(ue(a),9007199254740991):0},xe=function(a){return"object"==typeof a?null!==a:"function"==typeof a},ye=Array.isArray||function(a){return"Array"==ne(a)},ze="object"==typeof window&&window&&window.Math==Math?window:"object"==typeof self&&self&&self.Math==Math?self:Function("return this")(),Ae=!le(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),Be=ze.document,Ce=xe(Be)&&xe(Be.createElement),De=function(a){return Ce?Be.createElement(a):{}},Ee=!Ae&&!le(function(){return 7!=Object.defineProperty(De("div"),"a",{get:function(){return 7}}).a}),Fe=function(a){if(!xe(a))throw TypeError(String(a)+" is not an object");return a},Ge=function(a,b){if(!xe(a))return a;var c,d;if(b&&"function"==typeof(c=a.toString)&&!xe(d=c.call(a)))return d;if("function"==typeof(c=a.valueOf)&&!xe(d=c.call(a)))return d;if(!b&&"function"==typeof(c=a.toString)&&!xe(d=c.call(a)))return d;throw TypeError("Can't convert object to primitive value")},He=Object.defineProperty,Ie={f:Ae?He:function(a,b,c){if(Fe(a),b=Ge(b,!0),Fe(c),Ee)try{return He(a,b,c)}catch(a){}if("get"in c||"set"in c)throw TypeError("Accessors not supported");return"value"in c&&(a[b]=c.value),a}},Je=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}},Ke=Ae?function(a,b,c){return Ie.f(a,b,Je(1,c))}:function(a,b,c){return a[b]=c,a},Le=function(a,b){try{Ke(ze,a,b)}catch(c){ze[a]=b}return b},Me=a(function(a){var b="__core-js_shared__",c=ze[b]||Le(b,{});(a.exports=function(a,b){return c[a]||(c[a]=void 0!==b?b:{})})("versions",[]).push({version:"3.0.0",mode:"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})}),Ne=0,Oe=Math.random(),Pe=function(a){return"Symbol(".concat(void 0===a?"":a,")_",(++Ne+Oe).toString(36))},Qe=!le(function(){}),Re=Me("wks"),Se=ze.Symbol,Te=function(a){return Re[a]||(Re[a]=Qe&&Se[a]||(Qe?Se:Pe)("Symbol."+a))},Ue=Te("species"),Ve=function(a,b){var c;return ye(a)&&("function"!=typeof(c=a.constructor)||c!==Array&&!ye(c.prototype)?xe(c)&&null===(c=c[Ue])&&(c=void 0):c=void 0),new(void 0===c?Array:c)(0===b?0:b)},We=function(a,b){var c=1==a,d=2==a,e=3==a,f=4==a,g=6==a,h=5==a||g,i=b||Ve;return function(b,j,k){for(var l,m,n=re(b),o=pe(n),p=ke(j,k,3),q=we(o.length),r=0,s=c?i(b,q):d?i(b,0):void 0;q>r;r++)if((h||r in o)&&(m=p(l=o[r],r,n),a))if(c)s[r]=m;else if(m)switch(a){case 3:return!0;case 5:return l;case 6:return r;case 2:s.push(l)}else if(f)return!1;return g?-1:e||f?f:s}},Xe={}.propertyIsEnumerable,Ye=Object.getOwnPropertyDescriptor,Ze={f:Ye&&!Xe.call({1:2},1)?function(a){var b=Ye(this,a);return!!b&&b.enumerable}:Xe},$e=function(a){return pe(qe(a))},_e={}.hasOwnProperty,af=function(a,b){return _e.call(a,b)},bf=Object.getOwnPropertyDescriptor,cf={f:Ae?bf:function(a,b){if(a=$e(a),b=Ge(b,!0),Ee)try{return bf(a,b)}catch(a){}return af(a,b)?Je(!Ze.f.call(a,b),a[b]):void 0}},df=Me("native-function-to-string",Function.toString),ef=ze.WeakMap,ff="function"==typeof ef&&/native code/.test(df.call(ef)),gf=Me("keys"),hf=function(a){return gf[a]||(gf[a]=Pe(a))},jf={},kf=ze.WeakMap;if(ff){var lf=new kf,mf=lf.get,nf=lf.has,of=lf.set;he=function(a,b){return of.call(lf,a,b),b},ie=function(a){return mf.call(lf,a)||{}},je=function(a){return nf.call(lf,a)}}else{var pf=hf("state");jf[pf]=!0,he=function(a,b){return Ke(a,pf,b),b},ie=function(a){return af(a,pf)?a[pf]:{}},je=function(a){return af(a,pf)}}var qf,rf={set:he,get:ie,has:je,enforce:function(a){return je(a)?ie(a):he(a,{})},getterFor:function(a){return function(b){var c;if(!xe(b)||(c=ie(b)).type!==a)throw TypeError("Incompatible receiver, "+a+" required");return c}}},sf=a(function(a){var b=rf.get,c=rf.enforce,d=String(df).split("toString");Me("inspectSource",function(a){return df.call(a)}),(a.exports=function(a,b,e,f){var g=!!f&&!!f.unsafe,h=!!f&&!!f.enumerable,i=!!f&&!!f.noTargetGet;"function"==typeof e&&("string"!=typeof b||af(e,"name")||Ke(e,"name",b),c(e).source=d.join("string"==typeof b?b:"")),a!==ze?(g?!i&&a[b]&&(h=!0):delete a[b],h?a[b]=e:Ke(a,b,e)):h?a[b]=e:Le(b,e)})(Function.prototype,"toString",function(){return"function"==typeof this&&b(this).source||df.call(this)})}),tf=Math.max,uf=Math.min,vf=(qf=!1,function(a,b,c){var d,e,f,g=$e(a),h=we(g.length),i=(d=h,(e=ue(c))<0?tf(e+d,0):uf(e,d));if(qf&&b!=b){for(;h>i;)if((f=g[i++])!=f)return!0}else for(;h>i;i++)if((qf||i in g)&&g[i]===b)return qf||i||0;return!qf&&-1}),wf=function(a,b){var c,d=$e(a),e=0,f=[];for(c in d)!af(jf,c)&&af(d,c)&&f.push(c);for(;b.length>e;)af(d,c=b[e++])&&(~vf(f,c)||f.push(c));return f},xf=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],yf=xf.concat("length","prototype"),zf={f:Object.getOwnPropertyNames||function(a){return wf(a,yf)}},Af={f:Object.getOwnPropertySymbols},Bf=ze.Reflect,Cf=Bf&&Bf.ownKeys||function(a){var b=zf.f(Fe(a)),c=Af.f;return c?b.concat(c(a)):b},Df=function(a,b){for(var c=Cf(b),d=Ie.f,e=cf.f,f=0;f<c.length;f++){var g=c[f];af(a,g)||d(a,g,e(b,g))}},Ef=/#|\.prototype\./,Ff=function(a,b){var c=Hf[Gf(a)];return c==Jf||c!=If&&("function"==typeof b?le(b):!!b)},Gf=Ff.normalize=function(a){return String(a).replace(Ef,".").toLowerCase()},Hf=Ff.data={},If=Ff.NATIVE="N",Jf=Ff.POLYFILL="P",Kf=Ff,Lf=cf.f,Mf=function(a,b){var c,d,e,f,g,h=a.target,i=a.global,j=a.stat;if(c=i?ze:j?ze[h]||Le(h,{}):(ze[h]||{}).prototype)for(d in b){if(f=b[d],e=a.noTargetGet?(g=Lf(c,d))&&g.value:c[d],!Kf(i?d:h+(j?".":"#")+d,a.forced)&&void 0!==e){if(typeof f==typeof e)continue;Df(f,e)}(a.sham||e&&e.sham)&&Ke(f,"sham",!0),sf(c,d,f,a)}},Nf=Object.keys||function(a){return wf(a,xf)},Of=Ae?Object.defineProperties:function(a,b){Fe(a);for(var c,d=Nf(b),e=d.length,f=0;e>f;)Ie.f(a,c=d[f++],b[c]);return a},Pf=ze.document,Qf=Pf&&Pf.documentElement,Rf=hf("IE_PROTO"),Sf="prototype",Tf=function(){},Uf=function(){var a,b=De("iframe"),c=xf.length,d="script";for(b.style.display="none",Qf.appendChild(b),b.src=String("javascript:"),(a=b.contentWindow.document).open(),a.write("<script>document.F=Object</"+d+">"),a.close(),Uf=a.F;c--;)delete Uf[Sf][xf[c]];return Uf()},Vf=Object.create||function(a,b){var c;return null!==a?(Tf[Sf]=Fe(a),c=new Tf,Tf[Sf]=null,c[Rf]=a):c=Uf(),void 0===b?c:Of(c,b)};jf[Rf]=!0;var Wf=Te("unscopables"),Xf=Array.prototype;null==Xf[Wf]&&Ke(Xf,Wf,Vf(null));var Yf=function(a){Xf[Wf][a]=!0},Zf=We(5),$f="find",_f=!0;$f in[]&&Array(1)[$f](function(){_f=!1}),Mf({target:"Array",proto:!0,forced:_f},{find:function(a){return Zf(this,a,1<arguments.length?arguments[1]:void 0)}}),Yf($f);var ag=Function.call,bg=function(a,b,c){return ke(ag,ze[a].prototype[b],c)},cg=(bg("Array","find"),We(6)),dg="findIndex",eg=!0;dg in[]&&Array(1)[dg](function(){eg=!1}),Mf({target:"Array",proto:!0,forced:eg},{findIndex:function(a){return cg(this,a,1<arguments.length?arguments[1]:void 0)}}),Yf(dg),bg("Array","findIndex");var fg=Object.assign,gg=!fg||le(function(){var a={},b={},c=Symbol(),d="abcdefghijklmnopqrst";return a[c]=7,d.split("").forEach(function(a){b[a]=a}),7!=fg({},a)[c]||Nf(fg({},b)).join("")!=d})?function(a,b){for(var c=re(a),d=arguments.length,e=1,f=Af.f,g=Ze.f;d>e;)for(var h,i=pe(arguments[e++]),j=f?Nf(i).concat(f(i)):Nf(i),k=j.length,l=0;k>l;)g.call(i,h=j[l++])&&(c[h]=i[h]);return c}:fg;Mf({target:"Object",stat:!0,forced:Object.assign!==gg},{assign:gg});var hg=ze,ig=(hg.Object.assign,Te("match")),jg=function(a,b,c){if(xe(d=b)&&(void 0!==(e=d[ig])?e:"RegExp"==ne(d)))throw TypeError("String.prototype."+c+" doesn't accept regex");var d,e;return String(qe(a))},kg=Te("match"),lg="startsWith",mg=function(a){var b=/./;try{"/./"[a](b)}catch(c){try{return b[kg]=!1,"/./"[a](b)}catch(c){}}return!1}(lg),ng=""[lg];Mf({target:"String",proto:!0,forced:!mg},{startsWith:function(a){var b=jg(this,a,lg),c=we(Math.min(1<arguments.length?arguments[1]:void 0,b.length)),d=String(a);return ng?ng.call(b,d,c):b.slice(c,c+d.length)===d}}),bg("String","startsWith"),Mf({target:"String",proto:!0},{repeat:"".repeat||function(a){var b=String(qe(this)),c="",d=ue(a);if(0>d||d==1/0)throw RangeError("Wrong number of repetitions");for(;d>0;(d>>>=1)&&(b+=b))1&d&&(c+=b);return c}}),bg("String","repeat");var og,pg=function(a,b,c){var d=Ge(b);d in a?Ie.f(a,d,Je(0,c)):a[d]=c},qg=Te("species"),rg=Te("isConcatSpreadable"),sg=9007199254740991,tg="Maximum allowed index exceeded",ug=!le(function(){var a=[];return a[rg]=!1,a.concat()[0]!==a}),vg=(og="concat",!le(function(){var a=[];return(a.constructor={})[qg]=function(){return{foo:1}},1!==a[og](Boolean).foo})),wg=function(a){if(!xe(a))return!1;var b=a[rg];return void 0!==b?!!b:ye(a)};Mf({target:"Array",proto:!0,forced:!ug||!vg},{concat:function(a){var b,c,d,e,f,g=re(this),h=Ve(g,0),i=0;for(b=-1,d=arguments.length;d>b;b++)if(f=-1===b?g:arguments[b],wg(f)){if(e=we(f.length),i+e>sg)throw TypeError(tg);for(c=0;e>c;c++,i++)c in f&&pg(h,i,f[c])}else{if(i>=sg)throw TypeError(tg);pg(h,i++,f)}return h.length=i,h}});var xg=Te("toStringTag"),yg="Arguments"==ne(function(){return arguments}()),zg={};zg[Te("toStringTag")]="z";var Ag="[object z]"!==String(zg)?function(){return"[object "+(void 0===(a=this)?"Undefined":null===a?"Null":"string"==typeof(c=function(a,b){try{return a[b]}catch(a){}}(b=Object(a),xg))?c:yg?ne(b):"Object"==(d=ne(b))&&"function"==typeof b.callee?"Arguments":d)+"]";var a,b,c,d}:zg.toString,Bg=Object.prototype;Ag!==Bg.toString&&sf(Bg,"toString",Ag,{unsafe:!0});var Cg=Ie.f,Dg=Te("toStringTag"),Eg=function(a,b,c){a&&!af(a=c?a:a.prototype,Dg)&&Cg(a,Dg,{configurable:!0,value:b})},Fg={f:Te},Gg=Ie.f,Hg=function(a){var b=hg.Symbol||(hg.Symbol={});af(b,a)||Gg(b,a,{value:Fg.f(a)})},Ig=zf.f,Jg={}.toString,Kg="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Lg={f:function(a){return Kg&&"[object Window]"==Jg.call(a)?function(a){try{return Ig(a)}catch(a){return Kg.slice()}}(a):Ig($e(a))}},Mg=hf("hidden"),Ng="Symbol",Og=rf.set,Pg=rf.getterFor(Ng),Qg=cf.f,Rg=Ie.f,Sg=Lg.f,Tg=ze.Symbol,Ug=ze.JSON,Vg=Ug&&Ug.stringify,Wg="prototype",Xg=Te("toPrimitive"),Yg=Ze.f,Zg=Me("symbol-registry"),$g=Me("symbols"),_g=Me("op-symbols"),ah=Me("wks"),bh=Object[Wg],ch=ze.QObject,dh=!ch||!ch[Wg]||!ch[Wg].findChild,eh=Ae&&le(function(){return 7!=Vf(Rg({},"a",{get:function(){return Rg(this,"a",{value:7}).a}})).a})?function(a,b,c){var d=Qg(bh,b);d&&delete bh[b],Rg(a,b,c),d&&a!==bh&&Rg(bh,b,d)}:Rg,fh=function(a,b){var c=$g[a]=Vf(Tg[Wg]);return Og(c,{type:Ng,tag:a,description:b}),Ae||(c.description=b),c},gh=Qe&&"symbol"==typeof Tg.iterator?function(a){return"symbol"==typeof a}:function(a){return Object(a)instanceof Tg},hh=function(a,b,c){return a===bh&&hh(_g,b,c),Fe(a),b=Ge(b,!0),Fe(c),af($g,b)?(c.enumerable?(af(a,Mg)&&a[Mg][b]&&(a[Mg][b]=!1),c=Vf(c,{enumerable:Je(0,!1)})):(af(a,Mg)||Rg(a,Mg,Je(1,{})),a[Mg][b]=!0),eh(a,b,c)):Rg(a,b,c)},ih=function(a,b){Fe(a);for(var c,d=function(a){var b=Nf(a),c=Af.f;if(c)for(var d,e=c(a),f=Ze.f,g=0;e.length>g;)f.call(a,d=e[g++])&&b.push(d);return b}(b=$e(b)),e=0,f=d.length;f>e;)hh(a,c=d[e++],b[c]);return a},jh=function(a){var b=Yg.call(this,a=Ge(a,!0));return!(this===bh&&af($g,a)&&!af(_g,a))&&(!(b||!af(this,a)||!af($g,a)||af(this,Mg)&&this[Mg][a])||b)},kh=function(a,b){if(a=$e(a),b=Ge(b,!0),a!==bh||!af($g,b)||af(_g,b)){var c=Qg(a,b);return!c||!af($g,b)||af(a,Mg)&&a[Mg][b]||(c.enumerable=!0),c}},lh=function(a){for(var b,c=Sg($e(a)),d=[],e=0;c.length>e;)af($g,b=c[e++])||af(jf,b)||d.push(b);return d},mh=function(a){for(var b,c=a===bh,d=Sg(c?_g:$e(a)),e=[],f=0;d.length>f;)!af($g,b=d[f++])||c&&!af(bh,b)||e.push($g[b]);return e};Qe||(sf((Tg=function(){if(this instanceof Tg)throw TypeError("Symbol is not a constructor");var a=void 0===arguments[0]?void 0:String(arguments[0]),b=Pe(a),c=function(a){this===bh&&c.call(_g,a),af(this,Mg)&&af(this[Mg],b)&&(this[Mg][b]=!1),eh(this,b,Je(1,a));
};return Ae&&dh&&eh(bh,b,{configurable:!0,set:c}),fh(b,a)})[Wg],"toString",function(){return Pg(this).tag}),Ze.f=jh,Ie.f=hh,cf.f=kh,zf.f=Lg.f=lh,Af.f=mh,Ae&&(Rg(Tg[Wg],"description",{configurable:!0,get:function(){return Pg(this).description}}),sf(bh,"propertyIsEnumerable",jh,{unsafe:!0})),Fg.f=function(a){return fh(Te(a),a)}),Mf({global:!0,wrap:!0,forced:!Qe,sham:!Qe},{Symbol:Tg});for(var nh=Nf(ah),oh=0;nh.length>oh;)Hg(nh[oh++]);Mf({target:Ng,stat:!0,forced:!Qe},{"for":function(a){return af(Zg,a+="")?Zg[a]:Zg[a]=Tg(a)},keyFor:function(a){if(!gh(a))throw TypeError(a+" is not a symbol");for(var b in Zg)if(Zg[b]===a)return b},useSetter:function(){dh=!0},useSimple:function(){dh=!1}}),Mf({target:"Object",stat:!0,forced:!Qe,sham:!Ae},{create:function(a,b){return void 0===b?Vf(a):ih(Vf(a),b)},defineProperty:hh,defineProperties:ih,getOwnPropertyDescriptor:kh}),Mf({target:"Object",stat:!0,forced:!Qe},{getOwnPropertyNames:lh,getOwnPropertySymbols:mh}),Ug&&Mf({target:"JSON",stat:!0,forced:!Qe||le(function(){var a=Tg();return"[null]"!=Vg([a])||"{}"!=Vg({a:a})||"{}"!=Vg(Object(a))})},{stringify:function(a){for(var b,c,d=[a],e=1;arguments.length>e;)d.push(arguments[e++]);return c=b=d[1],!xe(b)&&void 0===a||gh(a)?void 0:(ye(b)||(b=function(a,b){return"function"==typeof c&&(b=c.call(this,a,b)),gh(b)?void 0:b}),d[1]=b,Vg.apply(Ug,d))}}),Tg[Wg][Xg]||Ke(Tg[Wg],Xg,Tg[Wg].valueOf),Eg(Tg,Ng),jf[Mg]=!0,Hg("asyncIterator");var ph=Ie.f,qh=ze.Symbol;if(Ae&&"function"==typeof qh&&(!("description"in qh.prototype)||void 0!==qh().description)){var rh={},sh=function(){var a=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),b=this instanceof sh?new qh(a):void 0===a?qh():qh(a);return""===a&&(rh[b]=!0),b};Df(sh,qh);var th=sh.prototype=qh.prototype;th.constructor=sh;var uh=th.toString,vh="Symbol(test)"==String(qh("test")),wh=/^Symbol\((.*)\)[^)]+$/;ph(th,"description",{configurable:!0,get:function(){var a=xe(this)?this.valueOf():this,b=uh.call(a);if(af(rh,a))return"";var c=vh?b.slice(7,-1):b.replace(wh,"$1");return""===c?void 0:c}}),Mf({global:!0,forced:!0},{Symbol:sh})}Hg("hasInstance"),Hg("isConcatSpreadable"),Hg("iterator"),Hg("match"),Hg("replace"),Hg("search"),Hg("species"),Hg("split"),Hg("toPrimitive"),Hg("toStringTag"),Hg("unscopables"),Eg(Math,"Math",!0),Eg(ze.JSON,"JSON",!0),hg.Symbol,Hg("dispose"),Hg("observable"),Hg("patternMatch");var xh,yh,zh,Ah=!le(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype}),Bh=hf("IE_PROTO"),Ch=Object.prototype,Dh=Ah?Object.getPrototypeOf:function(a){return a=re(a),af(a,Bh)?a[Bh]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?Ch:null},Eh=Te("iterator"),Fh=!1;[].keys&&("next"in(zh=[].keys())?(yh=Dh(Dh(zh)))!==Object.prototype&&(xh=yh):Fh=!0),null==xh&&(xh={}),af(xh,Eh)||Ke(xh,Eh,function(){return this});var Gh={IteratorPrototype:xh,BUGGY_SAFARI_ITERATORS:Fh},Hh=Gh.IteratorPrototype,Ih=Object.setPrototypeOf||("__proto__"in{}?function(){var a,b=!1,c={};try{(a=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(c,[]),b=c instanceof Array}catch(c){}return function(c,d){return function(a,b){if(Fe(a),!xe(b)&&null!==b)throw TypeError("Can't set "+String(b)+" as a prototype")}(c,d),b?a.call(c,d):c.__proto__=d,c}}():void 0),Jh=Te("iterator"),Kh=Gh.IteratorPrototype,Lh=Gh.BUGGY_SAFARI_ITERATORS,Mh="values",Nh="entries",Oh=function(){return this},Ph=function(a,b,c,d,e,f,g){var h,i,j;i=d,j=b+" Iterator",(h=c).prototype=Vf(Hh,{next:Je(1,i)}),Eg(h,j,!1);var k,l,m,n=function(a){if(a===e&&s)return s;if(!Lh&&a in q)return q[a];switch(a){case"keys":case Mh:case Nh:return function(){return new c(this,a)}}return function(){return new c(this)}},o=b+" Iterator",p=!1,q=a.prototype,r=q[Jh]||q["@@iterator"]||e&&q[e],s=!Lh&&r||n(e),t="Array"==b&&q.entries||r;if(t&&(k=Dh(t.call(new a)),Kh!==Object.prototype&&k.next&&(Dh(k)!==Kh&&(Ih?Ih(k,Kh):"function"!=typeof k[Jh]&&Ke(k,Jh,Oh)),Eg(k,o,!0))),e==Mh&&r&&r.name!==Mh&&(p=!0,s=function(){return r.call(this)}),q[Jh]!==s&&Ke(q,Jh,s),e)if(l={values:n(Mh),keys:f?s:n("keys"),entries:n(Nh)},g)for(m in l)!Lh&&!p&&m in q||sf(q,m,l[m]);else Mf({target:b,proto:!0,forced:Lh||p},l);return l},Qh="String Iterator",Rh=rf.set,Sh=rf.getterFor(Qh);Ph(String,"String",function(a){Rh(this,{type:Qh,string:String(a),index:0})},function(){var a,b,c,d,e,f,g,h,i=Sh(this),j=i.string,k=i.index;return k>=j.length?{value:void 0,done:!0}:(b=k,c=!0,f=String(qe(j)),g=ue(b),h=f.length,a=0>g||g>=h?c?"":void 0:(d=f.charCodeAt(g))<55296||d>56319||g+1===h||(e=f.charCodeAt(g+1))<56320||e>57343?c?f.charAt(g):d:c?f.slice(g,g+2):e-56320+(d-55296<<10)+65536,i.index+=a.length,{value:a,done:!1})});var Th={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Uh="Array Iterator",Vh=rf.set,Wh=rf.getterFor(Uh),Xh=Ph(Array,"Array",function(a,b){Vh(this,{type:Uh,target:$e(a),index:0,kind:b})},function(){var a=Wh(this),b=a.target,c=a.kind,d=a.index++;return!b||d>=b.length?{value:a.target=void 0,done:!0}:"keys"==c?{value:d,done:!1}:"values"==c?{value:b[d],done:!1}:{value:[d,b[d]],done:!1}},"values");Yf("keys"),Yf("values"),Yf("entries");var Yh=Te("iterator"),Zh=Te("toStringTag"),$h=Xh.values;for(var _h in Th){var ai=ze[_h],bi=ai&&ai.prototype;if(bi){if(bi[Yh]!==$h)try{Ke(bi,Yh,$h)}catch(ci){bi[Yh]=$h}if(bi[Zh]||Ke(bi,Zh,_h),Th[_h])for(var di in Xh)if(bi[di]!==Xh[di])try{Ke(bi,di,Xh[di])}catch(ci){bi[di]=Xh[di]}}}Fg.f("iterator");var ei=!1,fi="${JSCORE_VERSION}",gi=function(a,b){if(!a)throw hi(b)},hi=function(a){return new Error("Firebase Database ("+fi+") INTERNAL ASSERT FAILED: "+a)},ii=function(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);b[c++]=128>e?e:(b[c++]=2048>e?e>>6|192:(55296==(64512&e)&&d+1<a.length&&56320==(64512&a.charCodeAt(d+1))?(e=65536+((1023&e)<<10)+(1023&a.charCodeAt(++d)),b[c++]=e>>18|240,b[c++]=e>>12&63|128):b[c++]=e>>12|224,e>>6&63|128),63&e|128)}return b},ji={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(a,b){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var c=b?this.byteToCharMapWebSafe_:this.byteToCharMap_,d=[],e=0;e<a.length;e+=3){var f=a[e],g=e+1<a.length,h=g?a[e+1]:0,i=e+2<a.length,j=i?a[e+2]:0,k=f>>2,l=(3&f)<<4|h>>4,m=(15&h)<<2|j>>6,n=63&j;i||(n=64,g||(m=64)),d.push(c[k],c[l],c[m],c[n])}return d.join("")},encodeString:function(a,b){return this.HAS_NATIVE_SUPPORT&&!b?btoa(a):this.encodeByteArray(ii(a),b)},decodeString:function(a,b){return this.HAS_NATIVE_SUPPORT&&!b?atob(a):function(a){for(var b=[],c=0,d=0;c<a.length;){var e=a[c++];if(128>e)b[d++]=String.fromCharCode(e);else if(e>191&&224>e){var f=a[c++];b[d++]=String.fromCharCode((31&e)<<6|63&f)}else if(e>239&&365>e){var g=((7&e)<<18|(63&(f=a[c++]))<<12|(63&(h=a[c++]))<<6|63&a[c++])-65536;b[d++]=String.fromCharCode(55296+(g>>10)),b[d++]=String.fromCharCode(56320+(1023&g))}else{f=a[c++];var h=a[c++];b[d++]=String.fromCharCode((15&e)<<12|(63&f)<<6|63&h)}}return b.join("")}(this.decodeStringToByteArray(a,b))},decodeStringToByteArray:function(a,b){this.init_();for(var c=b?this.charToByteMapWebSafe_:this.charToByteMap_,d=[],e=0;e<a.length;){var f=c[a.charAt(e++)],g=e<a.length?c[a.charAt(e)]:0,h=++e<a.length?c[a.charAt(e)]:64,i=++e<a.length?c[a.charAt(e)]:64;if(++e,null==f||null==g||null==h||null==i)throw Error();var j=f<<2|g>>4;if(d.push(j),64!=h){var k=g<<4&240|h>>2;if(d.push(k),64!=i){var l=h<<6&192|i;d.push(l)}}}return d},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),(this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a)>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}},ki=function(a){try{return ji.decodeString(a,!0)}catch(a){console.error("base64Decode failed: ",a)}return null},li=function(){function a(){var a=this;this.promise=new Promise(function(b,c){a.resolve=b,a.reject=c})}return a.prototype.wrapCallback=function(a){var b=this;return function(c,d){c?b.reject(c):b.resolve(d),"function"==typeof a&&(b.promise["catch"](function(){}),1===a.length?a(c):a(c,d))}},a}(),mi=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")},ni=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},oi=function(){return!0===ei},pi="FirebaseError",qi=Error.captureStackTrace,ri=function(a,b){if(this.code=a,this.message=b,qi)qi(this,si.prototype.create);else try{throw Error.apply(this,arguments)}catch(a){this.name=pi,Object.defineProperty(this,"stack",{get:function(){return a.stack}})}};ri.prototype=Object.create(Error.prototype),(ri.prototype.constructor=ri).prototype.name=pi;var si=function(){function a(a,b,c){this.service=a,this.serviceName=b,this.errors=c,this.pattern=/\{\$([^}]+)}/g}return a.prototype.create=function(a,b){void 0===b&&(b={});var c,d=this.errors[a],e=this.service+"/"+a;c=void 0===d?"Error":d.replace(this.pattern,function(a,c){var d=b[c];return void 0!==d?d.toString():"<"+c+"?>"}),c=this.serviceName+": "+c+" ("+e+").";var f=new ri(e,c);for(var g in b)b.hasOwnProperty(g)&&"_"!==g.slice(-1)&&(f[g]=b[g]);return f},a}(),ti=function(a){var b={},c={},d={},e="";try{var f=a.split(".");b=n(ki(f[0])||""),c=n(ki(f[1])||""),e=f[2],d=c.d||{},delete c.d}catch(a){}return{header:b,claims:c,data:d,signature:e}},ui=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},vi=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:void 0},wi=function(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])},xi=function(a){return b={},wi(a,function(a,c){b[a]=c}),b;var b},yi=function(a){for(var b in a)return!1;return!0},zi=function(a){var b=0;for(var c in a)b++;return b},Ai=function(a,b,c){var d={};for(var e in a)d[e]=b.call(c,a[e],e,a);return d},Bi=function(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d},Ci=function(a){for(var b in a)return b},Di=function(){function a(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var a=1;a<this.blockSize;++a)this.pad_[a]=0;this.reset()}return a.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},a.prototype.compress_=function(a,b){b||(b=0);var c=this.W_;if("string"==typeof a)for(var d=0;16>d;d++)c[d]=a.charCodeAt(b)<<24|a.charCodeAt(b+1)<<16|a.charCodeAt(b+2)<<8|a.charCodeAt(b+3),b+=4;else for(d=0;16>d;d++)c[d]=a[b]<<24|a[b+1]<<16|a[b+2]<<8|a[b+3],b+=4;for(d=16;80>d;d++){var e=c[d-3]^c[d-8]^c[d-14]^c[d-16];c[d]=4294967295&(e<<1|e>>>31)}var f,g,h=this.chain_[0],i=this.chain_[1],j=this.chain_[2],k=this.chain_[3],l=this.chain_[4];for(d=0;80>d;d++)g=40>d?20>d?(f=k^i&(j^k),1518500249):(f=i^j^k,1859775393):60>d?(f=i&j|k&(i|j),2400959708):(f=i^j^k,3395469782),e=(h<<5|h>>>27)+f+l+g+c[d]&4294967295,l=k,k=j,j=4294967295&(i<<30|i>>>2),i=h,h=e;this.chain_[0]=this.chain_[0]+h&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+j&4294967295,this.chain_[3]=this.chain_[3]+k&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},a.prototype.update=function(a,b){if(null!=a){void 0===b&&(b=a.length);for(var c=b-this.blockSize,d=0,e=this.buf_,f=this.inbuf_;b>d;){if(0==f)for(;c>=d;)this.compress_(a,d),d+=this.blockSize;if("string"==typeof a){for(;b>d;)if(e[f]=a.charCodeAt(d),++d,++f==this.blockSize){this.compress_(e),f=0;break}}else for(;b>d;)if(e[f]=a[d],++d,++f==this.blockSize){this.compress_(e),f=0;break}}this.inbuf_=f,this.total_+=b}},a.prototype.digest=function(){var a=[],b=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var c=this.blockSize-1;c>=56;c--)this.buf_[c]=255&b,b/=256;this.compress_(this.buf_);var d=0;for(c=0;5>c;c++)for(var e=24;e>=0;e-=8)a[d]=this.chain_[c]>>e&255,++d;return a},a}(),Ei=function(){function a(a,b){var c=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=b,this.task.then(function(){a(c)})["catch"](function(a){c.error(a)})}return a.prototype.next=function(a){this.forEachObserver(function(b){b.next(a)})},a.prototype.error=function(a){this.forEachObserver(function(b){b.error(a)}),this.close(a)},a.prototype.complete=function(){this.forEachObserver(function(a){a.complete()}),this.close()},a.prototype.subscribe=function(a,b,c){var d,e=this;if(void 0===a&&void 0===b&&void 0===c)throw new Error("Missing Observer.");void 0===(d=function(a,b){if("object"!=typeof a||null===a)return!1;for(var c=0,d=b;c<d.length;c++){var e=d[c];if(e in a&&"function"==typeof a[e])return!0}return!1}(a,["next","error","complete"])?a:{next:a,error:b,complete:c}).next&&(d.next=q),void 0===d.error&&(d.error=q),void 0===d.complete&&(d.complete=q);var f=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{e.finalError?d.error(e.finalError):d.complete()}catch(a){}}),this.observers.push(d),f},a.prototype.unsubscribeOne=function(a){void 0!==this.observers&&void 0!==this.observers[a]&&(delete this.observers[a],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},a.prototype.forEachObserver=function(a){if(!this.finalized)for(var b=0;b<this.observers.length;b++)this.sendOne(b,a)},a.prototype.sendOne=function(a,b){var c=this;this.task.then(function(){if(void 0!==c.observers&&void 0!==c.observers[a])try{b(c.observers[a])}catch(a){"undefined"!=typeof console&&console.error&&console.error(a)}})},a.prototype.close=function(a){var b=this;this.finalized||(this.finalized=!0,void 0!==a&&(this.finalError=a),this.task.then(function(){b.observers=void 0,b.onNoObservers=void 0}))},a}(),Fi=function(a,b,c,d){var e;if(b>d?e="at least "+b:d>c&&(e=0===c?"none":"no more than "+c),e)throw new Error(a+" failed: Was called with "+d+(1===d?" argument.":" arguments.")+" Expects "+e+".")},Gi=function(a){for(var b=0,c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b++:2048>d?b+=2:d>=55296&&56319>=d?(b+=4,c++):b+=3}return b},Hi=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},Ii="[DEFAULT]",Ji=[],Ki=function(){function a(a,b,c){this.firebase_=c,this.isDeleted_=!1,this.services_={},this.name_=b.name,this._automaticDataCollectionEnabled=b.automaticDataCollectionEnabled||!1,this.options_=k(a),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(a){Ji.push(a),setTimeout(function(){return a(null)},0)},removeAuthTokenListener:function(a){Ji=Ji.filter(function(b){return b!==a})}}}return Object.defineProperty(a.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this._automaticDataCollectionEnabled},set:function(a){this.checkDestroyed_(),this._automaticDataCollectionEnabled=a},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),a.prototype["delete"]=function(){var a=this;return new Promise(function(b){a.checkDestroyed_(),b()}).then(function(){a.firebase_.INTERNAL.removeApp(a.name_);var b=[];return Object.keys(a.services_).forEach(function(c){Object.keys(a.services_[c]).forEach(function(d){b.push(a.services_[c][d])})}),Promise.all(b.map(function(a){return a.INTERNAL["delete"]()}))}).then(function(){a.isDeleted_=!0,a.services_={}})},a.prototype._getService=function(a,b){if(void 0===b&&(b=Ii),this.checkDestroyed_(),this.services_[a]||(this.services_[a]={}),!this.services_[a][b]){var c=b!==Ii?b:void 0,d=this.firebase_.INTERNAL.factories[a](this,this.extendApp.bind(this),c);this.services_[a][b]=d}return this.services_[a][b]},a.prototype.extendApp=function(a){var b=this;l(this,a),a.INTERNAL&&a.INTERNAL.addAuthTokenListener&&(Ji.forEach(function(a){b.INTERNAL.addAuthTokenListener(a)}),Ji=[])},a.prototype.checkDestroyed_=function(){this.isDeleted_&&u("app-deleted",{name:this.name_})},a}();Ki.prototype.name&&Ki.prototype.options||Ki.prototype["delete"]||console.log("dc");var Li=new si("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."}),Mi=!1;try{Mi="[object process]"===Object.prototype.toString.call(global.process)}catch(ci){}Mi&&console.warn('\nWarning: This is a browser-targeted Firebase bundle but it appears it is being\nrun in a Node environment.  If running in a Node environment, make sure you\nare using the bundle specified by the "main" field in package.json.\n\nIf you are using Webpack, you can specify "main" as the first item in\n"resolve.mainFields":\nhttps://webpack.js.org/configuration/resolve/#resolvemainfields\n\nIf using Rollup, use the rollup-plugin-node-resolve plugin and set "module"\nto false and "main" to true:\nhttps://github.com/rollup/rollup-plugin-node-resolve\n');var Ni=function Mt(){function a(a){return Hi(e,a=a||Ii)||u("no-app",{name:a}),e[a]}function b(){return Object.keys(e).map(function(a){return e[a]})}function c(a,b){Object.keys(f).forEach(function(c){var e=d(a,c);null!==e&&g[e]&&g[e](b,a)})}function d(a,b){if("serverAuth"===b)return null;var c=b;return a.options,c}var e={},f={},g={},h={__esModule:!0,initializeApp:function(a,b){if(void 0===b&&(b={}),"object"!=typeof b||null===b){var d=b;b={name:d}}var f=b;void 0===f.name&&(f.name=Ii);var g=f.name;"string"==typeof g&&g||u("bad-app-name",{name:g+""}),Hi(e,g)&&u("duplicate-app",{name:g});var i=new Ki(a,f,h);return c(e[g]=i,"create"),i},app:a,apps:null,Promise:Promise,SDK_VERSION:"5.9.4",INTERNAL:{registerService:function(c,d,e,i,j){f[c]&&u("duplicate-service",{name:c}),f[c]=d,i&&(g[c]=i,b().forEach(function(a){i("create",a)}));var k=function(b){return void 0===b&&(b=a()),"function"!=typeof b[c]&&u("invalid-app-argument",{name:c}),b[c]()};return void 0!==e&&l(k,e),h[c]=k,Ki.prototype[c]=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return this._getService.bind(this,c).apply(this,j?a:[])},k},createFirebaseNamespace:Mt,extendNamespace:function(a){l(h,a)},createSubscribe:p,ErrorFactory:si,removeApp:function(a){c(e[a],"delete"),delete e[a]},factories:f,useAsService:d,Promise:Promise,deepExtend:l}};return m(h,"default",h),Object.defineProperty(h,"apps",{get:b}),m(a,"App",Ki),h}();(function(){function a(a){return"string"==typeof a}function b(a){return"boolean"==typeof a}function c(){}function d(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&void 0!==a.splice&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||void 0!==a.call&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&void 0===a.call)return"object";return b}function e(a){return null===a}function f(a){return"array"==d(a)}function g(a){var b=d(a);return"array"==b||"object"==b&&"number"==typeof a.length}function h(a){return"function"==d(a)}function i(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function j(a,b,c){return a.call.apply(a.bind,arguments)}function k(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,d),a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function l(a,b,c){return(l=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?j:k).apply(null,arguments)}function m(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();return b.push.apply(b,arguments),a.apply(this,b)}}function n(a,b){function c(){}c.prototype=b.prototype,a.pb=b.prototype,a.prototype=new c,(a.prototype.constructor=a).gd=function(a,c,d){for(var e=Array(arguments.length-2),f=2;f<arguments.length;f++)e[f-2]=arguments[f];return b.prototype[c].apply(a,e)}}function o(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(a){return!1}}function p(a){if(Error.captureStackTrace)Error.captureStackTrace(this,p);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}function q(a,b){for(var c="",d=(a=a.split("%s")).length-1,e=0;d>e;e++)c+=a[e]+(e<b.length?b[e]:"%s");p.call(this,c+a[d])}function r(a,b){throw new q("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1))}function s(a,b){this.c=a,this.f=b,this.b=0,this.a=null}function t(a,b){a.f(b),a.b<100&&(a.b++,b.next=a.a,a.a=b)}function u(){this.b=this.a=null}function v(){this.next=this.b=this.a=null}function w(a,b){return 0<=fh(a,b)}function x(a,b){var c;return(c=0<=(b=fh(a,b)))&&Array.prototype.splice.call(a,b,1),c}function y(b,c){!function(b,c){var d=b.length,e=a(b)?b.split(""):b;for(--d;d>=0;--d)d in e&&c.call(void 0,e[d],d,b)}(b,function(a,d){c.call(void 0,a,d,b)&&1==Array.prototype.splice.call(b,d,1).length&&0})}function z(a){return Array.prototype.concat.apply([],arguments)}function A(a){var b=a.length;if(b>0){for(var c=Array(b),d=0;b>d;d++)c[d]=a[d];return c}return[]}function B(a,b){return-1!=a.indexOf(b)}function C(a,b){return b>a?-1:a>b?1:0}function D(a){return B(eh,a)}function E(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function F(a){for(var b in a)return!1;return!0}function G(a){var b,c={};for(b in a)c[b]=a[b];return c}function H(a,b){for(var c,d,e=1;e<arguments.length;e++){for(c in d=arguments[e])a[c]=d[c];for(var f=0;f<vh.length;f++)c=vh[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}function I(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")}function J(a){return qh.test(a)&&(-1!=a.indexOf("&")&&(a=a.replace(kh,"&amp;")),-1!=a.indexOf("<")&&(a=a.replace(lh,"&lt;")),-1!=a.indexOf(">")&&(a=a.replace(mh,"&gt;")),-1!=a.indexOf('"')&&(a=a.replace(nh,"&quot;")),-1!=a.indexOf("'")&&(a=a.replace(oh,"&#39;")),-1!=a.indexOf("\x00")&&(a=a.replace(ph,"&#0;"))),a}function K(a){Zg.setTimeout(function(){throw a},0)}function L(a,b){uh||function(){if(Zg.Promise&&Zg.Promise.resolve){var a=Zg.Promise.resolve(void 0);uh=function(){a.then(M)}}else uh=function(){var a=M;!h(Zg.setImmediate)||Zg.Window&&Zg.Window.prototype&&!D("Edge")&&Zg.Window.prototype.setImmediate==Zg.setImmediate?(th||(th=function(){var a=Zg.MessageChannel;if(void 0===a&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!D("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none",a.src="",document.documentElement.appendChild(a);var b=a.contentWindow;(a=b.document).open(),a.write(""),a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host;a=l(function(a){"*"!=d&&a.origin!=d||a.data!=c||this.port1.onmessage()},this),b.addEventListener("message",a,!1),this.port1={},this.port2={postMessage:function(){b.postMessage(c,d)}}}),void 0===a||D("Trident")||D("MSIE"))return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null,b.parentNode.removeChild(b),b=null,a(),a=null},document.documentElement.appendChild(b)}:function(a){Zg.setTimeout(a,0)};var b=new a,c={},d=c;return b.port1.onmessage=function(){if(void 0!==c.next){var a=(c=c.next).xb;c.xb=null,a()}},function(a){d.next={xb:a},d=d.next,b.port2.postMessage(0)}}()),th(a)):Zg.setImmediate(a)}}(),wh||(uh(),wh=!0),xh.add(a,b)}function M(){for(var a;c=b=void 0,c=null,(b=xh).a&&(c=b.a,b.a=b.a.next,b.a||(b.b=null),c.next=null),a=c;){try{a.a.call(a.b)}catch(a){K(a)}t(dh,a)}var b,c;wh=!1}function N(a,b){if(this.a=yh,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,a!=c)try{var d=this;a.call(b,function(a){W(d,zh,a)},function(a){if(!(a instanceof aa))try{if(a instanceof Error)throw a;throw Error("Promise rejected.")}catch(a){}W(d,Ah,a)})}catch(a){W(this,Ah,a)}}function O(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}function P(a,b,c){var d=Bh.get();return d.g=a,d.b=b,d.f=c,d}function Q(a){if(a instanceof N)return a;var b=new N(c);return W(b,zh,a),b}function R(a){return new N(function(b,c){c(a)})}function S(a,b,c){X(a,b,c,null)||L(m(b,a))}function T(a){return new N(function(b){var c=a.length,d=[];if(c)for(var e=function(a,e,f){c--,d[a]=e?{Eb:!0,value:f}:{Eb:!1,reason:f},0==c&&b(d)},f=0;f<a.length;f++)S(a[f],m(e,f,!0),m(e,f,!1));else b(d)})}function U(a,b){a.b||a.a!=zh&&a.a!=Ah||Y(a),a.f?a.f.next=b:a.b=b,a.f=b}function V(a,b,c,d){var e=P(null,null,null);return e.a=new N(function(a,f){e.g=b?function(c){try{var e=b.call(d,c);a(e)}catch(c){f(c)}}:a,e.b=c?function(b){try{var e=c.call(d,b);void 0===e&&b instanceof aa?f(b):a(e)}catch(b){f(b)}}:f}),U(e.a.c=a,e),e.a}function W(a,b,c){var d,e;a.a==yh&&(a===c&&(b=Ah,c=new TypeError("Promise cannot resolve to itself")),a.a=1,X(c,a.Pc,a.Qc,a)||(a.i=c,a.a=b,a.c=null,Y(a),b!=Ah||c instanceof aa||(e=c,(d=a).g=!0,L(function(){d.g&&Ch.call(null,e)}))))}function X(a,b,d,e){if(a instanceof N)return U(a,P(b||c,d||null,e)),!0;if(o(a))return a.then(b,d,e),!0;if(i(a))try{var f=a.then;if(h(f))return function(a,b,c,d,e){function f(a){g||(g=!0,d.call(e,a))}var g=!1;try{b.call(a,function(a){g||(g=!0,c.call(e,a))},f)}catch(a){f(a)}}(a,f,b,d,e),!0}catch(a){return d.call(e,a),!0}return!1}function Y(a){a.h||(a.h=!0,L(a.Yb,a))}function Z(a){var b=null;return a.b&&(b=a.b,a.b=b.next,b.next=null),a.b||(a.f=null),b}function $(a,b,c,d){if(c==Ah&&b.b&&!b.c)for(;a&&a.g;a=a.c)a.g=!1;if(b.a)b.a.c=null,_(b,c,d);else try{b.c?b.g.call(b.f):_(b,c,d)}catch(a){Ch.call(null,a)}t(Bh,b)}function _(a,b,c){b==zh?a.g.call(a.f,c):a.b&&a.b.call(a.f,c)}function aa(a){p.call(this,a)}function ba(){this.qa=this.qa,this.ja=this.ja}function ca(a){a.qa||(a.qa=!0,a.va(),0==Dh)||a[ah]||(a[ah]=++bh)}function da(a){return da[" "](a),a}function ea(){var a=Zg.document;return a?a.documentMode:void 0}function fa(a){return b=a,c=function(){for(var b=0,c=jh(String(Eh)).split("."),d=jh(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&e>f;f++){var g=c[f]||"",h=d[f]||"";do{if(g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],0==g[0].length&&0==h[0].length)break;b=C(0==g[1].length?0:parseInt(g[1],10),0==h[1].length?0:parseInt(h[1],10))||C(0==g[2].length,0==h[2].length)||C(g[2],h[2]),g=g[3],h=h[3]}while(0==b)}return b>=0},d=Qh,Object.prototype.hasOwnProperty.call(d,b)?d[b]:d[b]=c(b);var b,c,d}function ga(a,b){this.type=a,this.b=this.target=b,this.Kb=!0}function ha(b,c){if(ga.call(this,b?b.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,b){var d=this.type=b.type,e=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;if(this.target=b.target||b.srcElement,this.b=c,c=b.relatedTarget){if(Kh){a:{try{da(c.nodeName);var f=!0;break a}catch(b){}f=!1}f||(c=null)}}else"mouseover"==d?c=b.fromElement:"mouseout"==d&&(c=b.toElement);this.relatedTarget=c,this.screenY=e?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,e.screenY||0):(this.clientX=void 0!==b.clientX?b.clientX:b.pageX,this.clientY=void 0!==b.clientY?b.clientY:b.pageY,this.screenX=b.screenX||0,b.screenY||0),this.button=b.button,this.key=b.key||"",this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.pointerId=b.pointerId||0,this.pointerType=a(b.pointerType)?b.pointerType:Wh[b.pointerType]||"",(this.a=b).defaultPrevented&&this.preventDefault()}}function ia(a,b,c,d,e){this.listener=a,this.proxy=null,this.src=b,this.type=c,this.capture=!!d,this.Ma=e,this.key=++Yh,this.oa=this.Ia=!1}function ja(a){a.oa=!0,a.listener=null,a.proxy=null,a.src=null,a.Ma=null}function ka(a){this.src=a,this.a={},this.b=0}function la(a,b){var c=b.type;c in a.a&&x(a.a[c],b)&&(ja(b),0==a.a[c].length&&(delete a.a[c],a.b--))}function ma(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.oa&&f.listener==b&&f.capture==!!c&&f.Ma==d)return e}return-1}function na(a,b,c,d,e){if(d&&d.once)pa(a,b,c,d,e);else if(f(b))for(var g=0;g<b.length;g++)na(a,b[g],c,d,e);else c=xa(c),a&&a[Xh]?za(a,b,c,i(d)?!!d.capture:!!d,e):oa(a,b,c,!1,d,e)}function oa(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g,h,j=i(e)?!!e.capture:!!e,k=wa(a);if(k||(a[Zh]=k=new ka(a)),!(c=k.add(b,c,d,j,f)).proxy)if(g=va,d=h=Th?function(a){return g.call(h.src,h.listener,a)}:function(a){return(a=g.call(h.src,h.listener,a))?void 0:a},(c.proxy=d).src=a,d.listener=c,a.addEventListener)Vh||(e=j),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(sa(b.toString()),d);else{if(!a.addListener||!a.removeListener)throw Error("addEventListener and attachEvent are unavailable.");a.addListener(d)}}function pa(a,b,c,d,e){if(f(b))for(var g=0;g<b.length;g++)pa(a,b[g],c,d,e);else c=xa(c),a&&a[Xh]?Aa(a,b,c,i(d)?!!d.capture:!!d,e):oa(a,b,c,!0,d,e)}function qa(a,b,c,d,e){if(f(b))for(var g=0;g<b.length;g++)qa(a,b[g],c,d,e);else d=i(d)?!!d.capture:!!d,c=xa(c),a&&a[Xh]?(a=a.o,(b=String(b).toString())in a.a&&-1<(c=ma(g=a.a[b],c,d,e))&&(ja(g[c]),Array.prototype.splice.call(g,c,1),0==g.length&&(delete a.a[b],a.b--))):a&&(a=wa(a))&&(b=a.a[b.toString()],a=-1,b&&(a=ma(b,c,d,e)),(c=a>-1?b[a]:null)&&ra(c))}function ra(a){if("number"!=typeof a&&a&&!a.oa){var b=a.src;if(b&&b[Xh])la(b.o,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(sa(c),d):b.addListener&&b.removeListener&&b.removeListener(d),(c=wa(b))?(la(c,a),0==c.b&&(c.src=null,b[Zh]=null)):ja(a)}}}function sa(a){return a in $h?$h[a]:$h[a]="on"+a}function ta(a,b,c,d){var e=!0;if((a=wa(a))&&(b=a.a[b.toString()]))for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.oa&&(f=ua(f,d),
e=e&&!1!==f)}return e}function ua(a,b){var c=a.listener,d=a.Ma||a.src;return a.Ia&&ra(a),c.call(d,b)}function va(a,b){if(a.oa)return!0;if(Th)return ua(a,new ha(b,this));if(!b)a:{b=["window","event"];for(var c=Zg,d=0;d<b.length;d++)if(null==(c=c[b[d]])){b=null;break a}b=c}if(b=new ha(d=b,this),c=!0,!(d.keyCode<0||null!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(a){e=!0}(e||null==d.returnValue)&&(d.returnValue=!0)}for(d=[],e=b.b;e;e=e.parentNode)d.push(e);for(a=a.type,e=d.length-1;e>=0;e--){b.b=d[e];var f=ta(d[e],a,!0,b);c=c&&f}for(e=0;e<d.length;e++)b.b=d[e],f=ta(d[e],a,!1,b),c=c&&f}return c}function wa(a){return(a=a[Zh])instanceof ka?a:null}function xa(a){return h(a)?a:(a[_h]||(a[_h]=function(b){return a.handleEvent(b)}),a[_h])}function ya(){ba.call(this),this.o=new ka(this),(this.Rb=this).Wa=null}function za(a,b,c,d,e){a.o.add(String(b),c,!1,d,e)}function Aa(a,b,c,d,e){a.o.add(String(b),c,!0,d,e)}function Ba(a,b,c,d){if(!(b=a.o.a[String(b)]))return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.oa&&g.capture==c){var h=g.listener,i=g.Ma||g.src;g.Ia&&la(a.o,g),e=!1!==h.call(i,d)&&e}}return e&&0!=d.Kb}function Ca(a,b,c){if(h(a))c&&(a=l(a,c));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=l(a.handleEvent,a)}return 2147483647<Number(b)?-1:Zg.setTimeout(a,b||0)}function Da(a){var b=null;return new N(function(c,d){-1==(b=Ca(function(){c(void 0)},a))&&d(Error("Failed to schedule timer."))}).s(function(a){throw Zg.clearTimeout(b),a})}function Ea(b){if(b.S&&"function"==typeof b.S)return b.S();if(a(b))return b.split("");if(g(b)){for(var c=[],d=b.length,e=0;d>e;e++)c.push(b[e]);return c}for(e in c=[],d=0,b)c[d++]=b[e];return c}function Fa(b){if(b.U&&"function"==typeof b.U)return b.U();if(!b.S||"function"!=typeof b.S){if(g(b)||a(b)){var c=[];b=b.length;for(var d=0;b>d;d++)c.push(d);return c}for(var e in c=[],d=0,b)c[d++]=e;return c}}function Ga(a,b){this.b={},this.a=[],this.c=0;var c=arguments.length;if(c>1){if(c%2)throw Error("Uneven number of arguments");for(var d=0;c>d;d+=2)this.set(arguments[d],arguments[d+1])}else if(a)if(a instanceof Ga)for(c=a.U(),d=0;d<c.length;d++)this.set(c[d],a.get(c[d]));else for(d in a)this.set(d,a[d])}function Ha(a){if(a.c!=a.a.length){for(var b=0,c=0;b<a.a.length;){var d=a.a[b];Ia(a.b,d)&&(a.a[c++]=d),b++}a.a.length=c}if(a.c!=a.a.length){var e={};for(c=b=0;b<a.a.length;)Ia(e,d=a.a[b])||(e[a.a[c++]=d]=1),b++;a.a.length=c}}function Ia(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function Ja(a,b){if(this.b=this.o=this.c="",this.i=null,this.h=this.g="",this.f=!1,a instanceof Ja){this.f=void 0!==b?b:a.f,Ka(this,a.c),this.o=a.o,this.b=a.b,La(this,a.i),this.g=a.g,b=a.a;var c=new Ua;c.c=b.c,b.a&&(c.a=new Ga(b.a),c.b=b.b),Ma(this,c),this.h=a.h}else a&&(c=String(a).match(ai))?(this.f=!!b,Ka(this,c[1]||"",!0),this.o=Ra(c[2]||""),this.b=Ra(c[3]||"",!0),La(this,c[4]),this.g=Ra(c[5]||"",!0),Ma(this,c[6]||"",!0),this.h=Ra(c[7]||"")):(this.f=!!b,this.a=new Ua(null,this.f))}function Ka(a,b,c){a.c=c?Ra(b,!0):b,a.c&&(a.c=a.c.replace(/:$/,""))}function La(a,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);a.i=b}else a.i=null}function Ma(a,b,c){var d,e;b instanceof Ua?(a.a=b,d=a.a,(e=a.f)&&!d.f&&(Va(d),d.c=null,d.a.forEach(function(a,b){var c=b.toLowerCase();b!=c&&(Xa(this,b),Za(this,c,a))},d)),d.f=e):(c||(b=Sa(b,ei)),a.a=new Ua(b,a.f))}function Na(a,b,c){a.a.set(b,c)}function Oa(a,b){return a.a.get(b)}function Pa(a){return a instanceof Ja?new Ja(a):new Ja(a,void 0)}function Qa(a,b){var c=new Ja(null,void 0);return Ka(c,"https"),a&&(c.b=a),b&&(c.g=b),c}function Ra(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Sa(b,c,d){return a(b)?(b=encodeURI(b).replace(c,Ta),d&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function Ta(a){return"%"+((a=a.charCodeAt(0))>>4&15).toString(16)+(15&a).toString(16)}function Ua(a,b){this.b=this.a=null,this.c=a||null,this.f=!!b}function Va(a){a.a||(a.a=new Ga,a.b=0,a.c&&function(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),e=null;if(d>=0){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}}(a.c,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))}function Wa(a){var b=Fa(a);if(void 0===b)throw Error("Keys are undefined");var c=new Ua(null,void 0);a=Ea(a);for(var d=0;d<b.length;d++){var e=b[d],g=a[d];f(g)?Za(c,e,g):c.add(e,g)}return c}function Xa(a,b){Va(a),b=$a(a,b),Ia(a.a.b,b)&&(a.c=null,a.b-=a.a.get(b).length,Ia((a=a.a).b,b)&&(delete a.b[b],a.c--,a.a.length>2*a.c&&Ha(a)))}function Ya(a,b){return Va(a),b=$a(a,b),Ia(a.a.b,b)}function Za(a,b,c){Xa(a,b),0<c.length&&(a.c=null,a.a.set($a(a,b),A(c)),a.b+=c.length)}function $a(a,b){return b=String(b),a.f&&(b=b.toLowerCase()),b}function _a(a,b){this.a=a===ii&&b||"",this.b=hi}function ab(a){return a instanceof _a&&a.constructor===_a&&a.b===hi?a.a:(r("expected object of type Const, got '"+a+"'"),"type_error:Const")}function bb(){this.a="",this.b=li}function cb(a){return a instanceof bb&&a.constructor===bb&&a.b===li?a.a:(r("expected object of type TrustedResourceUrl, got '"+a+"' of type "+d(a)),"type_error:TrustedResourceUrl")}function db(a,b){var c,d,e=ab(a);if(!ki.test(e))throw Error("Invalid TrustedResourceUrl format: "+e);return a=e.replace(ji,function(a,c){if(!Object.prototype.hasOwnProperty.call(b,c))throw Error('Found marker, "'+c+'", in format string, "'+e+'", but no valid label mapping found in args: '+JSON.stringify(b));return(a=b[c])instanceof _a?ab(a):encodeURIComponent(String(a))}),c=a,(d=new bb).a=c,d}function eb(){this.a="",this.b=ni}function fb(a){return a instanceof eb&&a.constructor===eb&&a.b===ni?a.a:(r("expected object of type SafeUrl, got '"+a+"' of type "+d(a)),"type_error:SafeUrl")}function gb(a){return a instanceof eb?a:(a="object"==typeof a&&a.na?a.ma():String(a),mi.test(a)||(a="about:invalid#zClosurez"),hb(a))}function hb(a){var b=new eb;return b.a=a,b}function ib(){this.a="",this.b=oi}function jb(a){var b=new ib;return b.a=a,b}function kb(b){var c=document;return a(b)?c.getElementById(b):b}function lb(a,b){E(b,function(b,c){b&&"object"==typeof b&&b.na&&(b=b.ma()),"style"==c?a.style.cssText=b:"class"==c?a.className=b:"for"==c?a.htmlFor=b:pi.hasOwnProperty(c)?a.setAttribute(pi[c],b):0==c.lastIndexOf("aria-",0)||0==c.lastIndexOf("data-",0)?a.setAttribute(c,b):a[c]=b})}function mb(b,c,d){var e=arguments,h=document,j=String(e[0]),k=e[1];if(!gi&&k&&(k.name||k.type)){if(j=["<",j],k.name&&j.push(' name="',J(k.name),'"'),k.type){j.push(' type="',J(k.type),'"');var l={};H(l,k),delete l.type,k=l}j.push(">"),j=j.join("")}return j=h.createElement(j),k&&(a(k)?j.className=k:f(k)?j.className=k.join(" "):lb(j,k)),2<e.length&&function(b,c,d){function e(d){d&&c.appendChild(a(d)?b.createTextNode(d):d)}for(var f=2;f<d.length;f++){var h=d[f];!g(h)||i(h)&&0<h.nodeType?e(h):gh(nb(h)?A(h):h,e)}}(h,j,e),j}function nb(a){if(a&&"number"==typeof a.length){if(i(a))return"function"==typeof a.item||"string"==typeof a.item;if(h(a))return"function"==typeof a.item}return!1}function ob(a){var b=[];return function c(a,b,d){if(null==b)d.push("null");else{if("object"==typeof b){if(f(b)){var e=b;b=e.length,d.push("[");for(var g="",h=0;b>h;h++)d.push(g),c(a,e[h],d),g=",";return void d.push("]")}if(!(b instanceof String||b instanceof Number||b instanceof Boolean)){for(e in d.push("{"),g="",b)Object.prototype.hasOwnProperty.call(b,e)&&"function"!=typeof(h=b[e])&&(d.push(g),qb(e,d),d.push(":"),c(a,h,d),g=",");return void d.push("}")}b=b.valueOf()}switch(typeof b){case"string":qb(b,d);break;case"number":d.push(isFinite(b)&&!isNaN(b)?String(b):"null");break;case"boolean":d.push(String(b));break;case"function":d.push("null");break;default:throw Error("Unknown type: "+typeof b)}}}(new pb,a,b),b.join("")}function pb(){}function qb(a,b){b.push('"',a.replace(ri,function(a){var b=qi[a];return b||(b="\\u"+(65536|a.charCodeAt(0)).toString(16).substr(1),qi[a]=b),b}),'"')}function rb(){var a=Fb();return Hh&&!!Ph&&11==Ph||/Edge\/\d+/.test(a)}function sb(){return Zg.window&&Zg.window.location.href||self&&self.location&&self.location.href||""}function tb(a,b){b=b||Zg.window;var c="about:blank";a&&(c=fb(gb(a))),b.location.href=c}function ub(a){return!!((a=(a||Fb()).toLowerCase()).match(/android/)||a.match(/webos/)||a.match(/iphone|ipad|ipod/)||a.match(/blackberry/)||a.match(/windows phone/)||a.match(/iemobile/))}function vb(a){a=a||Zg.window;try{a.close()}catch(a){}}function wb(a,b,c){var e=Math.floor(1e9*Math.random()).toString();b=b||500,c=c||600;var f=(window.screen.availHeight-c)/2,g=(window.screen.availWidth-b)/2;for(i in b={width:b,height:c,top:f>0?f:0,left:g>0?g:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=Fb().toLowerCase(),e&&(b.target=e,B(c,"crios/")&&(b.target="_blank")),Db(Fb())==ui&&(a=a||"http://localhost",b.scrollbars=!0),c=a||"",(a=b)||(a={}),e=window,b=c instanceof eb?c:gb(void 0!==c.href?c.href:String(c)),c=a.target||c.target,f=[],a)switch(i){case"width":case"height":case"top":case"left":f.push(i+"="+a[i]);break;case"target":case"noopener":case"noreferrer":break;default:f.push(i+"="+(a[i]?1:0))}var h,i=f.join(",");if((D("iPhone")&&!D("iPod")&&!D("iPad")||D("iPad")||D("iPod"))&&e.navigator&&e.navigator.standalone&&c&&"_self"!=c?(i=e.document.createElement("A"),b instanceof eb||b instanceof eb||(b="object"==typeof b&&b.na?b.ma():String(b),mi.test(b)||(b="about:invalid#zClosurez"),b=hb(b)),i.href=fb(b),i.setAttribute("target",c),a.noreferrer&&i.setAttribute("rel","noreferrer"),(a=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,e,1),i.dispatchEvent(a),i={}):a.noreferrer?(i=e.open("",c,i),a=fb(b),i&&(Jh&&B(a,";")&&(a="'"+a.replace(/'/g,"%27")+"'"),i.opener=null,a=jb('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+J(a)+'">'),i.document.write((h=a)instanceof ib&&h.constructor===ib&&h.b===oi?h.a:(r("expected object of type SafeHtml, got '"+h+"' of type "+d(h)),"type_error:SafeHtml")),i.document.close())):(i=e.open(fb(b),c,i))&&a.noopener&&(i.opener=null),i)try{i.focus()}catch(a){}return i}function xb(){var a=null;return new N(function(b){"complete"==Zg.document.readyState?b():(a=function(){b()},pa(window,"load",a))}).s(function(b){throw qa(window,"load",a),b})}function yb(a){return a=a||Fb(),!("file:"!==Kb()||!a.toLowerCase().match(/iphone|ipad|ipod|android/))}function zb(){var a=Zg.window;try{return!(!a||a==a.top)}catch(a){return!1}}function Ab(){return"object"!=typeof Zg.window&&"function"==typeof Zg.importScripts}function Bb(){return Ni.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Ni.INTERNAL.hasOwnProperty("node")?"Node":Ab()?"Worker":"Browser"}function Cb(){var a=Bb();return"ReactNative"===a||"Node"===a}function Db(a){var b=a.toLowerCase();return B(b,"opera/")||B(b,"opr/")||B(b,"opios/")?"Opera":B(b,"iemobile")?"IEMobile":B(b,"msie")||B(b,"trident/")?"IE":B(b,"edge/")?"Edge":B(b,"firefox/")?ui:B(b,"silk/")?"Silk":B(b,"blackberry")?"Blackberry":B(b,"webos")?"Webos":!B(b,"safari/")||B(b,"chrome/")||B(b,"crios/")||B(b,"android")?!B(b,"chrome/")&&!B(b,"crios/")||B(b,"edge/")?B(b,"android")?"Android":(a=a.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==a.length?a[1]:"Other":vi:"Safari"}function Eb(a,b){b=b||[];var c,d=[],e={};for(c in wi)e[wi[c]]=!0;for(c=0;c<b.length;c++)void 0!==e[b[c]]&&(delete e[b[c]],d.push(b[c]));return d.sort(),(b=d).length||(b=["FirebaseCore-web"]),"Browser"===(d=Bb())?d=Db(e=Fb()):"Worker"===d&&(d=Db(e=Fb())+"-"+d),d+"/JsCore/"+a+"/"+b.join(",")}function Fb(){return Zg.navigator&&Zg.navigator.userAgent||""}function Gb(a,b){a=a.split("."),b=b||Zg;for(var c=0;c<a.length&&"object"==typeof b&&null!=b;c++)b=b[a[c]];return c!=a.length&&(b=void 0),b}function Hb(){try{var a=Zg.localStorage,b=Pb();if(a)return a.setItem(b,"1"),a.removeItem(b),!rb()||!!Zg.indexedDB}catch(a){return Ab()&&!!Zg.indexedDB}return!1}function Ib(){return(Jb()||"chrome-extension:"===Kb()||yb())&&!Cb()&&Hb()&&!Ab()}function Jb(){return"http:"===Kb()||"https:"===Kb()}function Kb(){return Zg.location&&Zg.location.protocol||null}function Lb(a){return!ub(a=a||Fb())&&Db(a)!=ui}function Mb(a){return void 0===a?null:ob(a)}function Nb(a){var b,c={};for(b in a)a.hasOwnProperty(b)&&null!==a[b]&&void 0!==a[b]&&(c[b]=a[b]);return c}function Ob(a){return null!==a?JSON.parse(a):void 0}function Pb(a){return a||Math.floor(1e9*Math.random()).toString()}function Qb(a){return"Safari"!=Db(a=a||Fb())&&!a.toLowerCase().match(/iphone|ipad|ipod/)}function Rb(){var a=Zg.___jsl;if(a&&a.H)for(var b in a.H)if(a.H[b].r=a.H[b].r||[],a.H[b].L=a.H[b].L||[],a.H[b].r=a.H[b].L.concat(),a.CP)for(var c=0;c<a.CP.length;c++)a.CP[c]=null}function Sb(a,b){if(a>b)throw Error("Short delay should be less than long delay!");this.a=a,this.c=b,a=Fb(),b=Bb(),this.b=ub(a)||"ReactNative"===b}function Tb(){var a=Zg.document;return!a||void 0===a.visibilityState||"visible"==a.visibilityState}function Ub(a){try{var b=new Date(parseInt(a,10));if(!isNaN(b.getTime())&&!/[^0-9]/.test(a))return b.toUTCString()}catch(a){}return null}function Vb(){return!(!Gb("fireauth.oauthhelper",Zg)&&!Gb("fireauth.iframe",Zg))}function Wb(a){yi[a]||(yi[a]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(a))}function Xb(a,b,c){xi?Object.defineProperty(a,b,{configurable:!0,enumerable:!0,value:c}):a[b]=c}function Yb(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&Xb(a,c,b[c])}function Zb(a){var b={};return Yb(b,a),b}function $b(a){var b=a;if("object"==typeof a&&null!=a)for(var c in b="length"in a?[]:{},a)Xb(b,c,$b(a[c]));return b}function _b(a){var b={},c=a[Bi],d=a[Ci];if(!(a=a[Di])||a!=Ai&&!c)throw Error("Invalid provider user info!");b[Fi]=d||null,b[Ei]=c||null,Xb(this,Hi,a),Xb(this,Gi,$b(b))}function ac(a,b){this.code=Ii+a,this.message=b||Ji[a]||""}function bc(a){var b=a&&a.code;return b?new ac(b.substring(Ii.length),a.message):null}function cc(a){var b=a[Pi];if(void 0===b)throw new ac("missing-continue-uri");if("string"!=typeof b||"string"==typeof b&&!b.length)throw new ac("invalid-continue-uri");this.h=b,this.b=this.a=null,this.g=!1;var c=a[Ki];if(c&&"object"==typeof c){b=c[Si];var d=c[Qi];if(c=c[Ri],"string"==typeof b&&b.length){if(this.a=b,void 0!==d&&"boolean"!=typeof d)throw new ac("argument-error",Qi+" property must be a boolean when specified.");if(this.g=!!d,void 0!==c&&("string"!=typeof c||"string"==typeof c&&!c.length))throw new ac("argument-error",Ri+" property must be a non empty string when specified.");this.b=c||null}else{if(void 0!==b)throw new ac("argument-error",Si+" property must be a non empty string when specified.");if(void 0!==d||void 0!==c)throw new ac("missing-android-pkg-name")}}else if(void 0!==c)throw new ac("argument-error",Ki+" property must be a non null object when specified.");if(this.f=null,(b=a[Oi])&&"object"==typeof b){if("string"==typeof(b=b[Ti])&&b.length)this.f=b;else if(void 0!==b)throw new ac("argument-error",Ti+" property must be a non empty string when specified.")}else if(void 0!==b)throw new ac("argument-error",Oi+" property must be a non null object when specified.");if(void 0!==(b=a[Mi])&&"boolean"!=typeof b)throw new ac("argument-error",Mi+" property must be a boolean when specified.");if(this.c=!!b,void 0!==(a=a[Li])&&("string"!=typeof a||"string"==typeof a&&!a.length))throw new ac("argument-error",Li+" property must be a non empty string when specified.");this.i=a||null}function dc(a){var b={};for(var c in b.continueUrl=a.h,b.canHandleCodeInApp=a.c,(b.androidPackageName=a.a)&&(b.androidMinimumVersion=a.b,b.androidInstallApp=a.g),b.iOSBundleId=a.f,b.dynamicLinkDomain=a.i,b)null===b[c]&&delete b[c];return b}function ec(a){var b="";return function(a,b){function c(b){for(;d<a.length;){var c=a.charAt(d++),e=Vi[c];if(null!=e)return e;if(!/^[\s\xa0]*$/.test(c))throw Error("Unknown base64 encoding at char: "+c)}return b}!function(){if(!Ui){Ui={},Vi={};for(var a=0;65>a;a++)Ui[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a),62<=(Vi[Ui[a]]=a)&&(Vi["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a)]=a)}}();for(var d=0;;){var e=c(-1),f=c(0),g=c(64),h=c(64);if(64===h&&-1===e)break;b(e<<2|f>>4),64!=g&&(b(f<<4&240|g>>2),64!=h&&b(g<<6&192|h))}}(a,function(a){b+=String.fromCharCode(a)}),b}function fc(a){this.c=a.sub,this.a=a.provider_id||a.firebase&&a.firebase.sign_in_provider||null,this.b=!!a.is_anonymous||"anonymous"==this.a}function gc(a){return(a=hc(a))&&a.sub&&a.iss&&a.aud&&a.exp?new fc(a):null}function hc(a){if(!a)return null;if(3!=(a=a.split(".")).length)return null;for(var b=(4-(a=a[1]).length%4)%4,c=0;b>c;c++)a+=".";try{return JSON.parse(ec(a))}catch(a){}return null}function ic(a){for(var b in Xi)if(Xi[b].id===a)return{firebaseEndpoint:(a=Xi[b]).bb,secureTokenEndpoint:a.jb};return null}function jc(a){for(var b in $i)if($i[b].Oa==a)return $i[b];return null}function kc(a){var b={};b["facebook.com"]=nc,b["google.com"]=pc,b["github.com"]=oc,b["twitter.com"]=qc;var c=a&&a[aj];try{if(c)return b[c]?new b[c](a):new mc(a);if(void 0!==a[_i])return new lc(a)}catch(a){}return null}function lc(a){var b=a[aj];if(!b&&a[_i]){var c=gc(a[_i]);c&&c.a&&(b=c.a)}if(!b)throw Error("Invalid additional user info!");"anonymous"!=b&&"custom"!=b||(b=null),c=!1,void 0!==a.isNewUser?c=!!a.isNewUser:"identitytoolkit#SignupNewUserResponse"===a.kind&&(c=!0),Xb(this,"providerId",b),Xb(this,"isNewUser",c)}function mc(a){lc.call(this,a),Xb(this,"profile",$b((a=Ob(a.rawUserInfo||"{}"))||{}))}function nc(a){if(mc.call(this,a),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function oc(a){if(mc.call(this,a),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Xb(this,"username",this.profile&&this.profile.login||null)}function pc(a){if(mc.call(this,a),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function qc(a){if(mc.call(this,a),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Xb(this,"username",a.screenName||null)}function rc(a){this.a=Pa(a)}function sc(a){var b=Pa(a),c=Oa(b,"link"),d=Oa(Pa(c),"link");return Oa(Pa(b=Oa(b,"deep_link_id")),"link")||b||d||c||a}function tc(a,b){return a.then(function(a){if(a[sj]){var c=gc(a[sj]);if(!c||b!=c.c)throw new ac("user-mismatch");return a}throw new ac("user-mismatch")}).s(function(a){throw a&&a.code&&a.code==Ii+"user-not-found"?new ac("user-mismatch"):a})}function uc(a,b){if(!b)throw new ac("internal-error","failed to construct a credential");this.a=b,Xb(this,"providerId",a),Xb(this,"signInMethod",a)}function vc(a){return{pendingToken:a.a,requestUri:"http://localhost"}}function wc(a,b,c){if(this.a=null,b.idToken||b.accessToken)b.idToken&&Xb(this,"idToken",b.idToken),b.accessToken&&Xb(this,"accessToken",b.accessToken),b.nonce&&!b.pendingToken&&Xb(this,"nonce",b.nonce),b.pendingToken&&(this.a=b.pendingToken);else{if(!b.oauthToken||!b.oauthTokenSecret)throw new ac("internal-error","failed to construct a credential");Xb(this,"accessToken",b.oauthToken),Xb(this,"secret",b.oauthTokenSecret)}Xb(this,"providerId",a),Xb(this,"signInMethod",c)}function xc(a){var b={};return a.idToken&&(b.id_token=a.idToken),a.accessToken&&(b.access_token=a.accessToken),a.secret&&(b.oauth_token_secret=a.secret),b.providerId=a.providerId,a.nonce&&!a.a&&(b.nonce=a.nonce),b={postBody:Wa(b).toString(),requestUri:"http://localhost"},a.a&&(delete b.postBody,b.pendingToken=a.a),b}function yc(a,b){this.Fc=b||[],Yb(this,{providerId:a,isOAuthProvider:!0}),this.zb={},this.eb=(jc(a)||{}).Na||null,this.ab=null}function zc(a){if("string"!=typeof a||0!=a.indexOf("saml."))throw new ac("argument-error",'SAML provider IDs must be prefixed with "saml."');yc.call(this,a,[])}function Ac(a){yc.call(this,a,Zi),this.a=[]}function Bc(){Ac.call(this,"facebook.com")}function Cc(a){if(!a)throw new ac("argument-error","credential failed: expected 1 argument (the OAuth access token).");var b=a;return i(a)&&(b=a.accessToken),(new Bc).credential(null,b)}function Dc(){Ac.call(this,"github.com")}function Ec(a){if(!a)throw new ac("argument-error","credential failed: expected 1 argument (the OAuth access token).");var b=a;return i(a)&&(b=a.accessToken),(new Dc).credential(null,b)}function Fc(){Ac.call(this,"google.com"),this.ua("profile")}function Gc(a,b){var c=a;return i(a)&&(c=a.idToken,b=a.accessToken),(new Fc).credential(c,b)}function Hc(){yc.call(this,"twitter.com",Yi)}function Ic(a,b){var c=a;if(i(c)||(c={oauthToken:a,oauthTokenSecret:b}),!c.oauthToken||!c.oauthTokenSecret)throw new ac("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new wc("twitter.com",c,"twitter.com")}function Jc(a,b,c){this.a=a,this.c=b,Xb(this,"providerId","password"),Xb(this,"signInMethod",c===Kc.EMAIL_LINK_SIGN_IN_METHOD?Kc.EMAIL_LINK_SIGN_IN_METHOD:Kc.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Kc(){Yb(this,{providerId:"password",isOAuthProvider:!1})}function Lc(a,b){if(!(b=Mc(b)))throw new ac("argument-error","Invalid email link!");return new Jc(a,b,Kc.EMAIL_LINK_SIGN_IN_METHOD)}function Mc(a){var b=Oa((a=new rc(a=sc(a))).a,"oobCode")||null;return"signIn"===(Oa(a.a,"mode")||null)&&b?b:null}function Nc(a){if(!(a.Ua&&a.Ta||a.Fa&&a.$))throw new ac("internal-error");this.a=a,Xb(this,"providerId","phone"),Xb(this,"signInMethod","phone")}function Oc(a){return a.a.Fa&&a.a.$?{temporaryProof:a.a.Fa,phoneNumber:a.a.$}:{sessionInfo:a.a.Ua,code:a.a.Ta}}function Pc(a){try{this.a=a||Ni.auth()}catch(a){throw new ac("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Yb(this,{providerId:"phone",isOAuthProvider:!1})}function Qc(a,b){if(!a)throw new ac("missing-verification-id");if(!b)throw new ac("missing-verification-code");return new Nc({Ua:a,Ta:b})}function Rc(a){if(a.temporaryProof&&a.phoneNumber)return new Nc({Fa:a.temporaryProof,$:a.phoneNumber});var b=a&&a.providerId;if(!b||"password"===b)return null;var c=a&&a.oauthAccessToken,d=a&&a.oauthTokenSecret,e=a&&a.nonce,f=a&&a.oauthIdToken,g=a&&a.pendingToken;try{switch(b){case"google.com":return Gc(f,c);case"facebook.com":return Cc(c);case"github.com":return Ec(c);case"twitter.com":return Ic(c,d);default:return c||d||f||g?g?0==b.indexOf("saml.")?new uc(b,g):new wc(b,{pendingToken:g,idToken:a.oauthIdToken,accessToken:a.oauthAccessToken},b):new Ac(b).credential(f,c,e):null}}catch(a){return null}}function Sc(a){if(!a.isOAuthProvider)throw new ac("invalid-oauth-provider")}function Tc(a,b,c,d,e,f){if(this.b=a,this.c=b||null,this.f=c||null,this.g=d||null,this.h=f||null,this.a=e||null,!this.f&&!this.a)throw new ac("invalid-auth-event");if(this.f&&this.a)throw new ac("invalid-auth-event");if(this.f&&!this.g)throw new ac("invalid-auth-event")}function Uc(a){return(a=a||{}).type?new Tc(a.type,a.eventId,a.urlResponse,a.sessionId,a.error&&bc(a.error),a.postBody):null}function Vc(){this.b=null,this.a=[]}function Wc(a){var b="unauthorized-domain",c=void 0,d=Pa(a);a=d.b,"chrome-extension"==(d=d.c)?c=I("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",a):"http"==d||"https"==d?c=I("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",a):b="operation-not-supported-in-this-environment",ac.call(this,b,c)}function Xc(a,b,c){ac.call(this,a,c),(a=b||{}).Ab&&Xb(this,"email",a.Ab),a.$&&Xb(this,"phoneNumber",a.$),a.credential&&Xb(this,"credential",a.credential)}function Yc(a){if(a.code){var b=a.code||"";0==b.indexOf(Ii)&&(b=b.substring(Ii.length));var c={credential:Rc(a)};if(a.email)c.Ab=a.email;else if(a.phoneNumber)c.$=a.phoneNumber;else if(!c.credential)return new ac(b,a.message||void 0);return new Xc(b,c,a.message)}return null}function Zc(){}function $c(a){return a.c||(a.c=a.b())}function _c(){}function ad(a){if(a.f||"undefined"!=typeof XMLHttpRequest||"undefined"==typeof ActiveXObject)return a.f;for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.f=d}catch(a){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}function bd(){}function cd(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=l(this.fc,this),this.a.onerror=l(this.Gb,this),this.a.onprogress=l(this.gc,this),this.a.ontimeout=l(this.kc,this)}function dd(a,b){a.readyState=b,a.onreadystatechange&&a.onreadystatechange()}function ed(a,b,c){this.reset(a,b,c,void 0,void 0)}function fd(a){this.f=a,this.b=this.c=this.a=null}function gd(a,b){this.name=a,this.value=b}function hd(a){var b;if(jj||(jj=new fd(""),(ij[""]=jj).c=fj),!(b=ij[a])){b=new fd(a);var c=a.lastIndexOf("."),d=a.substr(c+1);(c=hd(a.substr(0,c))).b||(c.b={}),(c.b[d]=b).a=c,ij[a]=b}return b}function id(a,b){a&&a.log(gj,b,void 0)}function jd(a){this.f=a}function kd(a){ya.call(this),this.u=a,this.readyState=kj,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=hd("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}function ld(a){a.c.read().then(a.ec.bind(a))["catch"](a.La.bind(a))}function md(a,b){b&&a.f&&(a.status=a.f.status,a.statusText=a.f.statusText),a.readyState=4,a.f=null,a.c=null,a.l=null,nd(a)}function nd(a){a.onreadystatechange&&a.onreadystatechange.call(a)}function od(a){ya.call(this),this.headers=new Ga,this.D=a||null,this.c=!1,this.w=this.a=null,this.h=this.N=this.l="",this.f=this.I=this.i=this.G=!1,this.g=0,this.u=null,this.m=lj,this.v=this.O=!1}function pd(b,c,d,e,f){if(b.a)throw Error("[goog.net.XhrIo] Object is active with another request="+b.l+"; newUri="+c);d=d?d.toUpperCase():"GET",b.l=c,b.h="",b.N=d,b.G=!1,b.c=!0,b.a=b.D?b.D.a():bj.a(),b.w=$c(b.D?b.D:bj),b.a.onreadystatechange=l(b.Jb,b);try{id(b.b,yd(b,"Opening Xhr")),b.I=!0,b.a.open(d,String(c),!0),b.I=!1}catch(c){return id(b.b,yd(b,"Error opening Xhr: "+c.message)),void rd(b,c)}c=e||"";var h,i=new Ga(b.headers);f&&function(b,c){if(b.forEach&&"function"==typeof b.forEach)b.forEach(c,void 0);else if(g(b)||a(b))gh(b,c,void 0);else for(var d=Fa(b),e=Ea(b),f=e.length,h=0;f>h;h++)c.call(void 0,e[h],d&&d[h],b)}(f,function(a,b){i.set(b,a)}),f=function(b){a:{for(var c=qd,d=b.length,e=a(b)?b.split(""):b,f=0;d>f;f++)if(f in e&&c.call(void 0,e[f],f,b)){c=f;break a}c=-1}return 0>c?null:a(b)?b.charAt(c):b[c]}(i.U()),e=Zg.FormData&&c instanceof Zg.FormData,!w(nj,d)||f||e||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,b){this.a.setRequestHeader(b,a)},b),b.m&&(b.a.responseType=b.m),"withCredentials"in b.a&&b.a.withCredentials!==b.O&&(b.a.withCredentials=b.O);try{vd(b),0<b.g&&(b.v=(h=b.a,Hh&&fa(9)&&"number"==typeof h.timeout&&void 0!==h.ontimeout),id(b.b,yd(b,"Will abort after "+b.g+"ms if incomplete, xhr2 "+b.v)),b.v?(b.a.timeout=b.g,b.a.ontimeout=l(b.Ga,b)):b.u=Ca(b.Ga,b.g,b)),id(b.b,yd(b,"Sending request")),b.i=!0,b.a.send(c),b.i=!1}catch(c){id(b.b,yd(b,"Send error: "+c.message)),rd(b,c)}}function qd(a){return"content-type"==a.toLowerCase()}function rd(a,b){a.c=!1,a.a&&(a.f=!0,a.a.abort(),a.f=!1),a.h=b,sd(a),ud(a)}function sd(a){a.G||(a.G=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}function td(a){if(a.c&&void 0!==Yg)if(a.w[1]&&4==wd(a)&&2==xd(a))id(a.b,yd(a,"Local request error detected and ignored"));else if(a.i&&4==wd(a))Ca(a.Jb,0,a);else if(a.dispatchEvent("readystatechange"),4==wd(a)){id(a.b,yd(a,"Request complete")),a.c=!1;try{var b,c=xd(a);a:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break a;default:d=!1}if(!(b=d)){var e;if(e=0===c){var f=String(a.l).match(ai)[1]||null;if(!f&&Zg.self&&Zg.self.location){var g=Zg.self.location.protocol;f=g.substr(0,g.length-1)}e=!mj.test(f?f.toLowerCase():"")}b=e}if(b)a.dispatchEvent("complete"),a.dispatchEvent("success");else{try{var h=2<wd(a)?a.a.statusText:""}catch(b){id(a.b,"Can not get status: "+b.message),h=""}a.h=h+" ["+xd(a)+"]",sd(a)}}finally{ud(a)}}}function ud(a,b){if(a.a){vd(a);var d=a.a,e=a.w[0]?c:null;a.a=null,a.w=null,b||a.dispatchEvent("ready");try{d.onreadystatechange=e}catch(b){(a=a.b)&&a.log(dj,"Problem encountered resetting onreadystatechange: "+b.message,void 0)}}}function vd(a){a.a&&a.v&&(a.a.ontimeout=null),a.u&&(Zg.clearTimeout(a.u),a.u=null)}function wd(a){return a.a?a.a.readyState:0}function xd(a){try{return 2<wd(a)?a.a.status:-1}catch(a){return-1}}function yd(a,b){return b+" ["+a.N+" "+a.l+" "+xd(a)+"]"}function zd(a){var b=Jd;this.g=[],this.v=b,this.u=a||null,this.f=this.a=!1,this.c=void 0,this.l=this.w=this.i=!1,this.h=0,this.b=null,this.o=0}function Ad(a,b,c){a.a=!0,a.c=c,a.f=!b,Ed(a)}function Bd(a){if(a.a){if(!a.l)throw new Fd(a);a.l=!1}}function Cd(a,b,c,d){a.g.push([b,c,d]),a.a&&Ed(a)}function Dd(a){return ih(a.g,function(a){return h(a[1])})}function Ed(a){if(a.h&&a.a&&Dd(a)){var b=a.h,c=oj[b];c&&(Zg.clearTimeout(c.a),delete oj[b]),a.h=0}a.b&&(a.b.o--,delete a.b),b=a.c;for(var d=c=!1;a.g.length&&!a.i;){var e=a.g.shift(),f=e[0],g=e[1];if(e=e[2],f=a.f?g:f)try{var h=f.call(e||a.u,b);void 0!==h&&(a.f=a.f&&(h==b||h instanceof Error),a.c=b=h),(o(b)||"function"==typeof Zg.Promise&&b instanceof Zg.Promise)&&(d=!0,a.i=!0)}catch(d){b=d,a.f=!0,Dd(a)||(c=!0)}}a.c=b,d&&(h=l(a.m,a,!0),d=l(a.m,a,!1),b instanceof zd?(Cd(b,h,d),b.w=!0):b.then(h,d)),c&&(b=new Hd(b),oj[b.a]=b,a.h=b.a)}function Fd(){p.call(this)}function Gd(){p.call(this)}function Hd(a){this.a=Zg.setTimeout(l(this.c,this),0),this.b=a}function Id(a){var b,c,d,e,f,g=document,h=cb(a),i=document.createElement("SCRIPT"),j={Lb:i,Ga:void 0},k=new zd(j);return b=window.setTimeout(function(){Kd(i,!0);var a=new Ld(qj,"Timeout reached for loading script "+h);Bd(k),Ad(k,!1,a)},5e3),j.Ga=b,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Kd(i,!1,b),Bd(k),Ad(k,!0,null))},i.onerror=function(){Kd(i,!0,b);var a=new Ld(pj,"Error while loading script "+h);Bd(k),Ad(k,!1,a)},H(j={},{type:"text/javascript",charset:"UTF-8"}),lb(i,j),d=a,(c=i).src=cb(d),null===_g&&(_g=(d=(d=Zg.document).querySelector&&d.querySelector("script[nonce]"))&&(d=d.nonce||d.getAttribute("nonce"))&&$g.test(d)?d:""),(d=_g)&&c.setAttribute("nonce",d),(e=g,(f=(e||document).getElementsByTagName("HEAD"))&&0!=f.length?f[0]:e.documentElement).appendChild(i),k}function Jd(){if(this&&this.Lb){var a=this.Lb;a&&"SCRIPT"==a.tagName&&Kd(a,!0,this.Ga)}}function Kd(a,b,d){null!=d&&Zg.clearTimeout(d),a.onload=c,a.onerror=c,a.onreadystatechange=c,b&&window.setTimeout(function(){a&&a.parentNode&&a.parentNode.removeChild(a)},0)}function Ld(a,b){var c="Jsloader error (code #"+a+")";b&&(c+=": "+b),p.call(this,c),this.code=a}function Md(a){this.f=a}function Nd(a,b,c){if(this.b=a,a=b||{},this.i=a.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.o=a.secureTokenTimeout||tj,this.f=G(a.secureTokenHeaders||uj),this.g=a.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=a.firebaseTimeout||vj,this.a=G(a.firebaseHeaders||wj),c&&(this.a["X-Client-Version"]=c,this.f["X-Client-Version"]=c),c="Node"==Bb(),!(c=Zg.XMLHttpRequest||c&&Ni.INTERNAL.node&&Ni.INTERNAL.node.XMLHttpRequest)&&!Ab())throw new ac("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,Ab()?this.c=new jd(self):Cb()?this.c=new Md(c):this.c=new bd}function Od(a,b){b?a.a["X-Firebase-Locale"]=b:delete a.a["X-Firebase-Locale"]}function Pd(a,b){b?(a.a["X-Client-Version"]=b,a.f["X-Client-Version"]=b):(delete a.a["X-Client-Version"],delete a.f["X-Client-Version"]);
}function Qd(a,b,c,d,e,f,g){var h;(a=!((h=Db(h=Fb())!=vi?null:(h=h.match(/\sChrome\/(\d+)/i))&&2==h.length?parseInt(h[1],10):null)&&30>h||Hh&&Ph&&!(Ph>9))||Ab()?l(a.m,a):(rj||(rj=new N(function(a,b){!function(a,b){if(((window.gapi||{}).client||{}).request)a();else{Zg[yj]=function(){((window.gapi||{}).client||{}).request?a():b(Error("CORS_UNSUPPORTED"))};var c=db(xj,{onload:yj});Cd(Id(c),null,function(){b(Error("CORS_UNSUPPORTED"))},void 0)}}(a,b)})),l(a.l,a)))(b,c,d,e,f,g)}function Rd(b){if(!a(b=b.email)||!ti.test(b))throw new ac("invalid-email")}function Sd(a){"email"in a&&Rd(a)}function Td(a){if(!a[sj])throw new ac("internal-error")}function Ud(a){if(a.phoneNumber||a.temporaryProof){if(!a.phoneNumber||!a.temporaryProof)throw new ac("internal-error")}else{if(!a.sessionInfo)throw new ac("missing-verification-id");if(!a.code)throw new ac("missing-verification-code")}}function Vd(a){if(!a.requestUri||!a.sessionId&&!a.postBody&&!a.pendingToken)throw new ac("internal-error")}function Wd(a,b){return b.oauthIdToken&&b.providerId&&0==b.providerId.indexOf("oidc.")&&!b.pendingToken&&(a.sessionId?b.nonce=a.sessionId:a.postBody&&Ya(a=new Ua(a.postBody),"nonce")&&(b.nonce=a.get("nonce"))),b}function Xd(a){var b=null;if(a.needConfirmation?(a.code="account-exists-with-different-credential",b=Yc(a)):"FEDERATED_USER_ID_ALREADY_LINKED"==a.errorMessage?(a.code="credential-already-in-use",b=Yc(a)):"EMAIL_EXISTS"==a.errorMessage?(a.code="email-already-in-use",b=Yc(a)):a.errorMessage&&(b=be(a.errorMessage)),b)throw b;if(!a[sj])throw new ac("internal-error")}function Yd(a,b){return b.returnIdpCredential=!0,ae(a,Tj,b)}function Zd(a,b){return b.returnIdpCredential=!0,ae(a,Vj,b)}function $d(a,b){return b.returnIdpCredential=!0,b.autoCreate=!1,ae(a,Uj,b)}function _d(a){if(!a.oobCode)throw new ac("invalid-action-code")}function ae(a,b,c){if(!function(a,b){if(!b||!b.length)return!0;if(!a)return!1;for(var c=0;c<b.length;c++){var d=a[b[c]];if(null==d||""===d)return!1}return!0}(c,b.T))return R(new ac("internal-error"));var d,e=b.Ib||"POST";return Q(c).then(b.B).then(function(){return b.R&&(c.returnSecureToken=!0),function(a,b,c,d,e,f){var g=Pa(a.g+b);Na(g,"key",a.b),f&&Na(g,"cb",ch().toString());var h="GET"==c;if(h)for(var i in d)d.hasOwnProperty(i)&&Na(g,i,d[i]);return new N(function(b,f){Qd(a,g.toString(),function(a){a?a.error?f(ce(a,e||{})):b(a):f(new ac("network-request-failed"))},c,h?void 0:ob(Nb(d)),a.a,a.h.get())})}(a,b.endpoint,e,c,b.Xb,b.vb||!1)}).then(function(a){return d=a,b.Pa?b.Pa(c,d):d}).then(b.J).then(function(){if(!b.da)return d;if(!(b.da in d))throw new ac("internal-error");return d[b.da]})}function be(a){return ce({error:{errors:[{message:a}],code:400,message:a}})}function ce(a,b){var c=(a.error&&a.error.errors&&a.error.errors[0]||{}).reason||"",d={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=d[c]?new ac(d[c]):null)return c;for(var e in c=a.error&&a.error.message||"",H(d={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash"},b||{}),b=(b=c.match(/^[^\s]+\s*:\s*(.*)$/))&&1<b.length?b[1]:void 0,d)if(0===c.indexOf(e))return new ac(d[e],b);return!b&&a&&(b=Mb(a)),new ac("internal-error",b)}function de(a){var b;this.b=a,this.a=null,this.gb=(b=this,(ck||(ck=new N(function(a,b){function c(){Rb(),Gb("gapi.load")("gapi.iframes",{callback:a,ontimeout:function(){Rb(),b(Error("Network Error"))},timeout:ak.get()})}if(Gb("gapi.iframes.Iframe"))a();else if(Gb("gapi.load"))c();else{var d="__iframefcb"+Math.floor(1e6*Math.random()).toString();Zg[d]=function(){Gb("gapi.load")?c():b(Error("Network Error"))},Q(Id(d=db(_j,{onload:d}))).s(function(){b(Error("Network Error"))})}}).s(function(a){throw ck=null,a}))).then(function(){return new N(function(a,c){Gb("gapi.iframes.getContext")().open({where:document.body,url:b.b,messageHandlersFilter:Gb("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(d){function e(){clearTimeout(f),a()}b.a=d,b.a.restyle({setHideOnLeave:!1});var f=setTimeout(function(){c(Error("Network Error"))},bk.get());d.ping(e).then(e,function(){c(Error("Network Error"))})})})}))}function ee(a,b,c){this.i=a,this.g=b,this.h=c,this.f=null,this.a=Qa(this.i,"/__/auth/iframe"),Na(this.a,"apiKey",this.g),Na(this.a,"appName",this.h),this.b=null,this.c=[]}function fe(a,b,c,d,e){this.m=a,this.l=b,this.c=c,this.o=d,this.h=this.g=this.i=null,this.a=e,this.f=null}function ge(a){try{return Ni.app(a).auth().ya()}catch(a){return[]}}function he(a,b,c,d,e){this.l=a,this.f=b,this.b=c,this.c=d||null,this.h=e||null,this.m=this.u=this.v=null,this.g=[],this.o=this.a=null}function ie(a){var b,c=sb();return(b=a,ae(b,Mj,{}).then(function(a){return a.authorizedDomains||[]})).then(function(a){a:{var b=Pa(c),d=b.c;b=b.b;for(var e=0;e<a.length;e++){var f=a[e],g=b,h=d;if(g=0==f.indexOf("chrome-extension://")?Pa(f).b==g&&"chrome-extension"==h:("http"==h||"https"==h)&&(si.test(f)?g==f:(f=f.split(".").join("\\."),new RegExp("^(.+\\."+f+"|"+f+")$","i").test(g)))){a=!0;break a}}a=!1}if(!a)throw new Wc(sb())})}function je(a){return a.o||(a.o=xb().then(function(){if(!a.u){var b=a.c,c=a.h,d=ge(a.b),e=new ee(a.l,a.f,a.b);e.f=b,e.b=c,e.c=A(d||[]),a.u=e.toString()}a.i=new de(a.u),function(a){if(!a.i)throw Error("IfcHandler must be initialized!");b=a.i,c=function(b){var c={};if(b&&b.authEvent){var d=!1;for(b=Uc(b.authEvent),c=0;c<a.g.length;c++)d=a.g[c](b)||d;return(c={}).status=d?"ACK":"ERROR",Q(c)}return c.status="ERROR",Q(c)},b.gb.then(function(){b.a.register("authEvent",c,Gb("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))});var b,c}(a)})),a.o}function ke(a){return a.m||(a.v=a.c?Eb(a.c,ge(a.b)):null,a.m=new Nd(a.f,ic(a.h),a.v)),a.m}function le(a,b,c,d,e,f,g,h,i,j){return(a=new fe(a,b,c,d,e)).i=f,a.g=g,a.h=h,a.b=G(i||null),a.f=j,a.toString()}function me(a){if(this.a=a||Ni.INTERNAL.reactNative&&Ni.INTERNAL.reactNative.AsyncStorage,!this.a)throw new ac("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function ne(a){this.b=a,this.a={},this.c=l(this.f,this)}function oe(a){this.a=a}function pe(a){this.c=a,this.b=!1,this.a=[]}function qe(a,b,c,d){var e,f,g,h,i=c||{},j=null;if(a.b)return R(Error("connection_unavailable"));var k=d?800:50,l="undefined"!=typeof MessageChannel?new MessageChannel:null;return new N(function(c,d){l?(e=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),g=setTimeout(function(){d(Error("unsupported_event"))},k),j={messageChannel:l,onMessage:f=function(a){a.data.eventId===e&&("ack"===a.data.status?(clearTimeout(g),h=setTimeout(function(){d(Error("timeout"))},3e3)):"done"===a.data.status?(clearTimeout(h),void 0!==a.data.response?c(a.data.response):d(Error("unknown_error"))):(clearTimeout(g),clearTimeout(h),d(Error("invalid_response"))))}},a.a.push(j),l.port1.addEventListener("message",f),a.c.postMessage({eventType:b,eventId:e,data:i},[l.port2])):d(Error("connection_unavailable"))}).then(function(b){return re(a,j),b}).s(function(b){throw re(a,j),b})}function re(a,b){if(b){var c=b.messageChannel,d=b.onMessage;c&&(c.port1.removeEventListener("message",d),c.port1.close()),y(a.a,function(a){return a==b})}}function se(){if(!ve())throw new ac("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.l=Zg.indexedDB,this.type="indexedDB",this.g=this.o=this.f=this.i=null,this.u=!1,this.h=null;var a,b=this;Ab()&&self?(this.o=function(){var a=Ab()?self:null;if(gh(ek,function(c){c.b==a&&(b=c)}),!b){var b=new ne(a);ek.push(b)}return b}(),this.o.subscribe("keyChanged",function(a,c){return Ae(b).then(function(a){return 0<a.length&&gh(b.a,function(b){b(a)}),{keyProcessed:w(a,c.key)}})}),this.o.subscribe("ping",function(){return Q(["keyChanged"])})):(a=Zg.navigator,a&&a.serviceWorker?Q().then(function(){return a.serviceWorker.ready}).then(function(a){return a.active||null}).s(function(){return null}):Q(null)).then(function(a){(b.h=a)&&(b.g=new pe(new oe(a)),qe(b.g,"ping",null,!0).then(function(a){a[0].fulfilled&&w(a[0].value,"keyChanged")&&(b.u=!0)}).s(function(){}))})}function te(a){return new N(function(b,c){var d=a.l.open("firebaseLocalStorageDb",1);d.onerror=function(a){try{a.preventDefault()}catch(a){}c(Error(a.target.error))},d.onupgradeneeded=function(a){a=a.target.result;try{a.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(a){c(a)}},d.onsuccess=function(d){var e;(d=d.target.result).objectStoreNames.contains("firebaseLocalStorage")?b(d):(e=a,new N(function(a,b){var c=e.l.deleteDatabase("firebaseLocalStorageDb");c.onsuccess=function(){a()},c.onerror=function(a){b(Error(a.target.error))}})).then(function(){return te(a)}).then(function(a){b(a)}).s(function(a){c(a)})}})}function ue(a){return a.m||(a.m=te(a)),a.m}function ve(){try{return!!Zg.indexedDB}catch(a){return!1}}function we(a){return a.objectStore("firebaseLocalStorage")}function xe(a,b){return a.transaction(["firebaseLocalStorage"],b?"readwrite":"readonly")}function ye(a){return new N(function(b,c){a.onsuccess=function(a){a&&a.target?b(a.target.result):b()},a.onerror=function(a){c(a.target.error)}})}function ze(a,b){return a.g&&a.h&&((c=Zg.navigator)&&c.serviceWorker&&c.serviceWorker.controller||null)===a.h?qe(a.g,"keyChanged",{key:b},a.u).then(function(){}).s(function(){}):Q();var c}function Ae(a){return ue(a).then(function(a){var b=we(xe(a,!1));return b.getAll?ye(b.getAll()):new N(function(a,c){var d=[],e=b.openCursor();e.onsuccess=function(b){(b=b.target.result)?(d.push(b.value),b["continue"]()):a(d)},e.onerror=function(a){c(a.target.error)}})}).then(function(b){var c={},d=[];if(0==a.b){for(d=0;d<b.length;d++)c[b[d].fbase_key]=b[d].value;d=function e(a,b){var c,d=[];for(c in a)c in b?typeof a[c]!=typeof b[c]?d.push(c):"object"==typeof a[c]&&null!=a[c]&&null!=b[c]?0<e(a[c],b[c]).length&&d.push(c):a[c]!==b[c]&&d.push(c):d.push(c);for(c in b)c in a||d.push(c);return d}(a.c,c),a.c=c}return d})}function Be(a){a.i&&a.i.cancel("STOP_EVENT"),a.f&&(clearTimeout(a.f),a.f=null)}function Ce(a){var b=this,c=null;this.a=[],this.type="indexedDB",this.c=a,this.b=Q().then(function(){if(ve()){var a=Pb(),d="__sak"+a;return dk||(dk=new se),(c=dk).set(d,a).then(function(){return c.get(d)}).then(function(b){if(b!==a)throw Error("indexedDB not supported!");return c.P(d)}).then(function(){return c}).s(function(){return b.c})}return b.c}).then(function(a){return b.type=a.type,a.Y(function(a){gh(b.a,function(b){b(a)})}),a})}function De(){this.a={},this.type="inMemory"}function Ee(){if(!function(){var a="Node"==Bb();if(!(a=Fe()||a&&Ni.INTERNAL.node&&Ni.INTERNAL.node.localStorage))return!1;try{return a.setItem("__sak","1"),a.removeItem("__sak"),!0}catch(a){return!1}}()){if("Node"==Bb())throw new ac("internal-error","The LocalStorage compatibility library was not found.");throw new ac("web-storage-unsupported")}this.a=Fe()||Ni.INTERNAL.node.localStorage,this.type="localStorage"}function Fe(){try{var a=Zg.localStorage,b=Pb();return a&&(a.setItem(b,"1"),a.removeItem(b)),a}catch(a){return null}}function Ge(){this.type="nullStorage"}function He(){if(!function(){var a="Node"==Bb();if(!(a=Ie()||a&&Ni.INTERNAL.node&&Ni.INTERNAL.node.sessionStorage))return!1;try{return a.setItem("__sak","1"),a.removeItem("__sak"),!0}catch(a){return!1}}()){if("Node"==Bb())throw new ac("internal-error","The SessionStorage compatibility library was not found.");throw new ac("web-storage-unsupported")}this.a=Ie()||Ni.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Ie(){try{var a=Zg.sessionStorage,b=Pb();return a&&(a.setItem(b,"1"),a.removeItem(b)),a}catch(a){return null}}function Je(){var a={};a.Browser=hk,a.Node=ik,a.ReactNative=jk,a.Worker=kk,this.a=a[Bb()]}function Ke(){var a=!(Qb(Fb())||!zb()),b=Lb(),c=Hb();this.m=a,this.h=b,this.o=c,this.a={},fk||(fk=new Je),a=fk;try{this.g=!rb()&&Vb()||!Zg.indexedDB?new a.a.A:new Ce(Ab()?new De:new a.a.A)}catch(a){this.g=new De,this.h=!0}try{this.i=new a.a.Sa}catch(a){this.i=new De}this.l=new De,this.f=l(this.Pb,this),this.b={}}function Le(){return gk||(gk=new Ke),gk}function Me(a,b){switch(b){case"session":return a.i;case"none":return a.l;default:return a.g}}function Ne(a,b){return"firebase:"+a.name+(b?":"+b:"")}function Oe(a,b,c){return c=Ne(b,c),"local"==b.A&&(a.b[c]=null),Me(a,b.A).P(c)}function Pe(a){a.c&&(clearInterval(a.c),a.c=null)}function Qe(a){this.a=a,this.b=Le()}function Re(){this.a=Le()}function Se(a,b){this.b=ok,this.f=Zg.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=a,this.h=b,this.o=Zg.Int32Array?new Int32Array(64):Array(64),void 0!==mk||(mk=Zg.Int32Array?new Int32Array(tk):tk),this.reset()}function Te(a){for(var b=a.f,c=a.o,d=0,e=0;e<b.length;)c[d++]=b[e]<<24|b[e+1]<<16|b[e+2]<<8|b[e+3],e=4*d;for(b=16;64>b;b++){e=0|c[b-15],d=0|c[b-2];var f=(0|c[b-16])+((e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3)|0,g=(0|c[b-7])+((d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10)|0;c[b]=f+g|0}d=0|a.a[0],e=0|a.a[1];var h=0|a.a[2],i=0|a.a[3],j=0|a.a[4],k=0|a.a[5],l=0|a.a[6];for(f=0|a.a[7],b=0;64>b;b++){var m=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&e^d&h^e&h)|0;g=(f=f+((j>>>6|j<<26)^(j>>>11|j<<21)^(j>>>25|j<<7))|0)+((g=(g=j&k^~j&l)+(0|mk[b])|0)+(0|c[b])|0)|0,f=l,l=k,k=j,j=i+g|0,i=h,h=e,e=d,d=g+m|0}a.a[0]=a.a[0]+d|0,a.a[1]=a.a[1]+e|0,a.a[2]=a.a[2]+h|0,a.a[3]=a.a[3]+i|0,a.a[4]=a.a[4]+j|0,a.a[5]=a.a[5]+k|0,a.a[6]=a.a[6]+l|0,a.a[7]=a.a[7]+f|0}function Ue(b,c,d){void 0===d&&(d=c.length);var e=0,f=b.c;if(a(c))for(;d>e;)b.f[f++]=c.charCodeAt(e++),f==b.b&&(Te(b),f=0);else{if(!g(c))throw Error("message must be string or array");for(;d>e;){var h=c[e++];if(!("number"==typeof h&&h>=0&&255>=h&&h==(0|h)))throw Error("message must be a byte array");b.f[f++]=h,f==b.b&&(Te(b),f=0)}}b.c=f,b.g+=d}function Ve(){Se.call(this,8,uk)}function We(a,b,c,d,e){this.l=a,this.i=b,this.o=c,this.m=d||null,this.u=e||null,this.h=b+":"+c,this.v=new Re,this.g=new Qe(this.h),this.f=null,this.b=[],this.a=this.c=null}function Xe(a){return new ac("invalid-cordova-configuration",a)}function Ye(a){var b=new Ve;Ue(b,a),a=[];var c=8*b.g;b.c<56?Ue(b,sk,56-b.c):Ue(b,sk,b.b-(b.c-56));for(var d=63;d>=56;d--)b.f[d]=255&c,c/=256;for(Te(b),d=c=0;d<b.i;d++)for(var e=24;e>=0;e-=8)a[c++]=b.a[d]>>e&255;return hh(a,function(a){return 1<(a=a.toString(16)).length?a:"0"+a}).join("")}function Ze(a,b){for(var c=0;c<a.b.length;c++)try{a.b[c](b)}catch(a){}}function $e(a){return a.f||(a.f=a.ga().then(function(){return new N(function(b){a.wa(function c(d){return b(d),a.Ka(c),!1}),function(a){function b(b){d=!0,e&&e.cancel(),_e(a).then(function(d){var e=c;if(d&&b&&b.url){var f=null;-1!=(e=sc(b.url)).indexOf("/__/auth/callback")&&(f=(f="object"==typeof(f=Ob(Oa(f=Pa(e),"firebaseError")||null))?bc(f):null)?new Tc(d.b,d.c,null,null,f):new Tc(d.b,d.c,e,d.g)),e=f||c}Ze(a,e)})}var c=new Tc("unknown",null,null,null,new ac("no-auth-event")),d=!1,e=Da(500).then(function(){return _e(a).then(function(){d||Ze(a,c)})}),f=Zg.handleOpenURL;Zg.handleOpenURL=function(a){if(0==a.toLowerCase().indexOf(Gb("BuildInfo.packageName",Zg).toLowerCase()+"://")&&b({url:a}),"function"==typeof f)try{f(a)}catch(a){console.error(a)}},cj||(cj=new Vc),cj.subscribe(b)}(a)})})),a.f}function _e(a){var b,c=null;return(b=a.g,b.b.get(nk,b.a).then(function(a){return Uc(a)})).then(function(b){return c=b,Oe((b=a.g).b,nk,b.a)}).then(function(){return c})}function af(a){this.a=a,this.b=Le()}function bf(a){return Oe(a.b,vk,a.a)}function cf(a,b,c){this.u=a,this.o=b,this.l=c,this.h=[],this.f=!1,this.i=l(this.cb,this),this.b=new kf,this.m=new of,this.g=new af(this.o+":"+this.l),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.m,this.c.linkViaPopup=this.m,this.c.reauthViaPopup=this.m,this.a=df(this.u,this.o,this.l,Wi)}function df(a,b,c,d){var e=Ni.SDK_VERSION||null;return yb()?new We(a,b,c,e,d):new he(a,b,c,e,d)}function ef(a){a.f||(a.f=!0,a.a.wa(a.i));var b=a.a;return a.a.ga().s(function(c){throw a.a==b&&a.reset(),c})}function ff(a){a.a.Mb()&&ef(a).s(function(b){var c=new Tc("unknown",null,null,null,new ac("operation-not-supported-in-this-environment"));hf(b)&&a.cb(c)}),a.a.Hb()||lf(a.b)}function gf(a,b,c,d,e,f){return a.a.Db(b,c,d,function(){a.f||(a.f=!0,a.a.wa(a.i))},function(){a.reset()},e,f)}function hf(a){return!(!a||"auth/cordova-not-ready"!=a.code)}function jf(a,b,c){var d=b+":"+c;return yk[d]||(yk[d]=new cf(a,b,c)),yk[d]}function kf(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function lf(a){a.g||(a.g=!0,nf(a,!1,null,null))}function mf(a,b){if(a.b=function(){return Q(b)},a.f.length)for(var c=0;c<a.f.length;c++)a.f[c](b)}function nf(a,b,c,d){b?d?function(a,b){if(a.b=function(){return R(b)},a.c.length)for(var c=0;c<a.c.length;c++)a.c[c](b)}(a,d):mf(a,c):mf(a,{user:null}),a.f=[],a.c=[]}function of(){}function pf(){this.tb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.tb},set:function(a){this.tb=a},enumerable:!1})}function qf(a,b){this.a=b,Xb(this,"verificationId",a)}function rf(a,b,c,d){return new Pc(a).Va(b,c).then(function(a){return new qf(a,d)})}function sf(a){var b=hc(a);if(!(b&&b.exp&&b.auth_time&&b.iat))throw new ac("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Yb(this,{token:a,expirationTime:Ub(1e3*b.exp),authTime:Ub(1e3*b.auth_time),issuedAtTime:Ub(1e3*b.iat),signInProvider:b.firebase&&b.firebase.sign_in_provider?b.firebase.sign_in_provider:null,claims:b})}function tf(a,b,c){if(this.h=a,this.i=b,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function uf(a,b){return b?(a.a=a.c,a.g()):(b=a.a,a.a*=2,a.a>a.f&&(a.a=a.f),b)}function vf(a){this.f=a,this.b=this.a=null,this.c=0}function wf(a,b){var c=b[sj],d=b.refreshToken;b=xf(b.expiresIn),a.b=c,a.c=b,a.a=d}function xf(a){return ch()+1e3*parseInt(a,10)}function yf(a,b){return(c=a.f,d=b,new N(function(a,b){"refresh_token"==d.grant_type&&d.refresh_token||"authorization_code"==d.grant_type&&d.code?Qd(c,c.i+"?key="+encodeURIComponent(c.b),function(c){c?c.error?b(ce(c)):c.access_token&&c.refresh_token?a(c):b(new ac("internal-error")):b(new ac("network-request-failed"))},"POST",Wa(d).toString(),c.f,c.o.get()):b(new ac("internal-error"))})).then(function(b){return a.b=b.access_token,a.c=xf(b.expires_in),a.a=b.refresh_token,{accessToken:a.b,expirationTime:a.c,refreshToken:a.a}}).s(function(b){throw"auth/user-token-expired"==b.code&&(a.a=null),b});var c,d}function zf(a,b){this.a=a||null,this.b=b||null,Yb(this,{lastSignInTime:Ub(b||null),creationTime:Ub(a||null)})}function Af(a,b,c,d,e,f){Yb(this,{uid:a,displayName:d||null,photoURL:e||null,email:c||null,phoneNumber:f||null,providerId:b})}function Bf(a,b){for(var c in ga.call(this,a),b)this[c]=b[c]}function Cf(a,b,c){var d;this.G=[],this.l=a.apiKey,this.m=a.appName,this.u=a.authDomain||null,a=Ni.SDK_VERSION?Eb(Ni.SDK_VERSION):null,this.b=new Nd(this.l,ic(Wi),a),this.h=new vf(this.b),Jf(this,b[sj]),wf(this.h,b),Xb(this,"refreshToken",this.h.a),Mf(this,c||{}),ya.call(this),this.I=!1,this.u&&Ib()&&(this.a=jf(this.u,this.l,this.m)),this.N=[],this.i=null,this.w=(d=this,new tf(function(){return d.F(!0)},function(a){return!(!a||"auth/network-request-failed"!=a.code)},function(){var a=d.h.c-ch()-3e5;return a>0?a:0})),this.V=l(this.Ha,this);var e=this;this.ka=null,this.ta=function(a){e.pa(a.g)},this.X=null,this.O=[],this.sa=function(a){Ef(e,a.c)},this.W=null}function Df(a,b){a.X&&qa(a.X,"languageCodeChanged",a.ta),(a.X=b)&&na(b,"languageCodeChanged",a.ta)}function Ef(a,b){a.O=b,Pd(a.b,Ni.SDK_VERSION?Eb(Ni.SDK_VERSION,a.O):null)}function Ff(a,b){a.W&&qa(a.W,"frameworkChanged",a.sa),(a.W=b)&&na(b,"frameworkChanged",a.sa)}function Gf(a){try{return Ni.app(a.m).auth()}catch(b){throw new ac("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+a.m+"'!")}}function Hf(a){a.D||a.w.b||(a.w.start(),qa(a,"tokenChanged",a.V),na(a,"tokenChanged",a.V))}function If(a){qa(a,"tokenChanged",a.V),a.w.stop()}function Jf(a,b){a.ra=b,Xb(a,"_lat",b)}function Kf(a){for(var b=[],c=0;c<a.N.length;c++)b.push(a.N[c](a));return T(b).then(function(){return a})}function Lf(a){a.a&&!a.I&&(a.I=!0,a.a.subscribe(a))}function Mf(a,b){Yb(a,{uid:b.uid,displayName:b.displayName||null,photoURL:b.photoURL||null,email:b.email||null,emailVerified:b.emailVerified||!1,phoneNumber:b.phoneNumber||null,isAnonymous:b.isAnonymous||!1,metadata:new zf(b.createdAt,b.lastLoginAt),providerData:[]})}function Nf(){}function Of(a){return Q().then(function(){if(a.D)throw new ac("app-deleted")})}function Pf(a){return hh(a.providerData,function(a){return a.providerId})}function Qf(a,b){b&&(Rf(a,b.providerId),a.providerData.push(b))}function Rf(a,b){y(a.providerData,function(a){return a.providerId==b})}function Sf(a,b,c){("uid"!=b||c)&&a.hasOwnProperty(b)&&Xb(a,b,c)}function Tf(a,b){var c,d,e;a!=b&&(Yb(a,{uid:b.uid,displayName:b.displayName,photoURL:b.photoURL,email:b.email,emailVerified:b.emailVerified,phoneNumber:b.phoneNumber,isAnonymous:b.isAnonymous,providerData:[]}),b.metadata?Xb(a,"metadata",new zf((e=b.metadata).a,e.b)):Xb(a,"metadata",new zf),gh(b.providerData,function(b){Qf(a,b)}),c=a.h,d=b.h,c.b=d.b,c.a=d.a,c.c=d.c,Xb(a,"refreshToken",a.h.a))}function Uf(a){return a.F().then(function(b){var c,d,e=a.isAnonymous;return(c=a,d=b,ae(c.b,Ij,{idToken:d}).then(l(c.zc,c))).then(function(){return e||Sf(a,"isAnonymous",!1),b})})}function Vf(a,b){b[sj]&&a.ra!=b[sj]&&(wf(a.h,b),a.dispatchEvent(new Bf("tokenChanged")),Jf(a,b[sj]),Sf(a,"refreshToken",a.h.a))}function Wf(a,b){return Uf(a).then(function(){return w(Pf(a),b)?Kf(a).then(function(){throw new ac("provider-already-linked")}):void 0})}function Xf(a,b,c){return Zb({user:a,credential:Rc(b),additionalUserInfo:b=kc(b),operationType:c})}function Yf(a,b){return Vf(a,b),a.reload().then(function(){return a})}function Zf(a,b,c,d,e){if(!Ib())return R(new ac("operation-not-supported-in-this-environment"));if(a.i&&!e)return R(a.i);var f=jc(c.providerId),g=Pb(a.uid+":::"),h=null;(!Lb()||zb())&&a.u&&c.isOAuthProvider&&(h=le(a.u,a.l,a.m,b,c,null,g,Ni.SDK_VERSION||null));var i=wb(h,f&&f.Ba,f&&f.Aa);return d=d().then(function(){return _f(a),e?void 0:a.F().then(function(){})}).then(function(){return gf(a.a,i,b,c,g,!!h)}).then(function(){return new N(function(c,d){a.ha(b,null,new ac("cancelled-popup-request"),a.g||null),a.f=c,a.v=d,a.g=g,a.c=a.a.Ea(a,b,i,g)})}).then(function(a){return i&&vb(i),a?Zb(a):null}).s(function(a){throw i&&vb(i),a}),ag(a,d,e)}function $f(a,b,c,d,e){if(!Ib())return R(new ac("operation-not-supported-in-this-environment"));if(a.i&&!e)return R(a.i);var f=null,g=Pb(a.uid+":::");return d=d().then(function(){return _f(a),e?void 0:a.F().then(function(){})}).then(function(){return a.aa=g,Kf(a)}).then(function(b){return a.ba&&(b=(b=a.ba).b.set(zk,a.C(),b.a)),b}).then(function(){return a.a.Ca(b,c,g)}).s(function(b){if(f=b,a.ba)return dg(a.ba);throw f}).then(function(){if(f)throw f}),ag(a,d,e)}function _f(a){if(!a.a||!a.I){if(a.a&&!a.I)throw new ac("internal-error");throw new ac("auth-domain-config-required")}}function ag(a,b,c){var d,e,f,g=(e=b,f=c,(d=a).i&&!f?(e.cancel(),R(d.i)):e.s(function(a){throw!a||"auth/user-disabled"!=a.code&&"auth/user-token-expired"!=a.code||(d.i||d.dispatchEvent(new Bf("userInvalidated")),d.i=a),a}));return a.G.push(g),g.ia(function(){x(a.G,g)}),g}function bg(a){if(!a.apiKey)return null;var b={apiKey:a.apiKey,authDomain:a.authDomain,appName:a.appName},c={};if(!(a.stsTokenManager&&a.stsTokenManager.accessToken&&a.stsTokenManager.expirationTime))return null;c[sj]=a.stsTokenManager.accessToken,c.refreshToken=a.stsTokenManager.refreshToken||null,c.expiresIn=(a.stsTokenManager.expirationTime-ch())/1e3;var d=new Cf(b,c,a);return a.providerData&&gh(a.providerData,function(a){a&&Qf(d,Zb(a))}),a.redirectEventId&&(d.aa=a.redirectEventId),d}function cg(a){this.a=a,this.b=Le()}function dg(a){return Oe(a.b,zk,a.a)}function eg(a){var b,c,d,e,f,g,h,i,j;this.a=a,this.b=Le(),this.c=null,this.f=(b=this,c=gg("local"),d=gg("session"),e=gg("none"),(f=b.b,g=c,h=b.a,i=Ne(g,h),j=Me(f,g.A),f.get(g,h).then(function(a){var b=null;try{b=Ob(Zg.localStorage.getItem(i))}catch(a){}return b&&!a?(Zg.localStorage.removeItem(i),f.set(g,b,h)):void(b&&a&&"localStorage"!=j.type&&Zg.localStorage.removeItem(i))})).then(function(){return b.b.get(d,b.a)}).then(function(a){return a?d:b.b.get(e,b.a).then(function(a){return a?e:b.b.get(c,b.a).then(function(a){return a?c:b.b.get(Ak,b.a).then(function(a){return a?gg(a):c})})})}).then(function(a){return b.c=a,fg(b,a.A)}).s(function(){b.c||(b.c=c)})),this.b.addListener(gg("local"),this.a,l(this.g,this))}function fg(a,b){var c,d,e=[];for(c in lk)lk[c]!==b&&e.push(Oe(a.b,gg(lk[c]),a.a));return e.push(Oe(a.b,Ak,a.a)),d=e,new N(function(a,b){var c=d.length,e=[];if(c)for(var f=function(b,d){c--,e[b]=d,0==c&&a(e)},g=function(a){b(a)},h=0;h<d.length;h++)S(d[h],m(f,h),g);else a(e)})}function gg(a){return{name:"authUser",A:a}}function hg(a,b){return kg(a,function(){return a.b.set(a.c,b.C(),a.a)})}function ig(a){return kg(a,function(){return Oe(a.b,a.c,a.a)})}function jg(a,b){return kg(a,function(){return a.b.get(a.c,a.a).then(function(a){return a&&b&&(a.authDomain=b),bg(a||{})})})}function kg(a,b){return a.f=a.f.then(b,b),a.f}function lg(a){if(this.l=!1,Xb(this,"settings",new pf),Xb(this,"app",a),!sg(this).options||!sg(this).options.apiKey)throw new ac("invalid-api-key");var b,c,d,e,f,g,h,i,j,k,m,n;a=Ni.SDK_VERSION?Eb(Ni.SDK_VERSION):null,this.b=new Nd(sg(this).options&&sg(this).options.apiKey,ic(Wi),a),this.N=[],this.m=[],this.I=[],this.Tb=Ni.INTERNAL.createSubscribe(l(this.oc,this)),this.O=void 0,this.Ub=Ni.INTERNAL.createSubscribe(l(this.pc,this)),qg(this,null),this.h=new eg(sg(this).options.apiKey+":"+sg(this).name),this.w=new cg(sg(this).options.apiKey+":"+sg(this).name),this.V=wg(this,(c=sg(b=this).options.authDomain,d=(e=b,f=(g=e.w,h=sg(e).options.authDomain,g.b.get(zk,g.a).then(function(a){return a&&h&&(a.authDomain=h),bg(a||{})})).then(function(a){return(e.D=a)&&(a.ba=e.w),dg(e.w)}),wg(e,f)).then(function(){return jg(b.h,c)}).then(function(a){return a?(a.ba=b.w,b.D&&(b.D.aa||null)==(a.aa||null)?a:a.reload().then(function(){return hg(b.h,a).then(function(){return a})}).s(function(c){return"auth/network-request-failed"==c.code?a:ig(b.h)})):null}).then(function(a){qg(b,a||null)}),wg(b,d))),this.i=wg(this,(i=this).V.then(function(){return i.fa()}).s(function(){}).then(function(){return i.l?void 0:i.ka()}).s(function(){}).then(function(){if(!i.l){i.X=!0;var a=i.h;a.b.addListener(gg("local"),a.a,i.ka)}})),this.X=!1,this.ka=l(this.Oc,this),this.Ha=l(this.Z,this),this.ra=l(this.bc,this),this.sa=l(this.mc,this),this.ta=l(this.nc,this),k=sg(j=this).options.authDomain,m=sg(j).options.apiKey,k&&Ib()&&(j.Sb=j.V.then(function(){if(!j.l){if(j.a=jf(k,m,sg(j).name),j.a.subscribe(j),tg(j)&&Lf(tg(j)),j.D){Lf(j.D);var a=j.D;a.pa(j.ea()),Df(a,j),Ef(a=j.D,j.G),Ff(a,j),j.D=null}return j.a}})),this.INTERNAL={},this.INTERNAL["delete"]=l(this["delete"],this),this.INTERNAL.logFramework=l(this.vc,this),this.u=0,ya.call(this),n=this,Object.defineProperty(n,"lc",{get:function(){return this.ea()},set:function(a){this.pa(a)},enumerable:!1}),n.W=null,this.G=[]}function mg(a){ga.call(this,"languageCodeChanged"),this.g=a}function ng(a){ga.call(this,"frameworkChanged"),this.c=a}function og(a){return a.Sb||R(new ac("auth-domain-config-required"))}function pg(a,b){var c={};return c.apiKey=sg(a).options.apiKey,c.authDomain=sg(a).options.authDomain,c.appName=sg(a).name,a.V.then(function(){return d=c,e=b,f=a.w,g=a.ya(),h=new Cf(d,e),f&&(h.ba=f),g&&Ef(h,g),h.reload().then(function(){return h});var d,e,f,g,h}).then(function(b){return tg(a)&&b.uid==tg(a).uid?Tf(tg(a),b):(qg(a,b),Lf(b)),a.Z(b)}).then(function(){vg(a)})}function qg(a,b){var c,d;tg(a)&&(c=tg(a),d=a.Ha,y(c.N,function(a){return a==d}),qa(tg(a),"tokenChanged",a.ra),qa(tg(a),"userDeleted",a.sa),qa(tg(a),"userInvalidated",a.ta),If(tg(a))),b&&(b.N.push(a.Ha),na(b,"tokenChanged",a.ra),na(b,"userDeleted",a.sa),na(b,"userInvalidated",a.ta),0<a.u&&Hf(b)),Xb(a,"currentUser",b),b&&(b.pa(a.ea()),Df(b,a),Ef(b,a.G),Ff(b,a))}function rg(a,b){var c=null,d=null;return wg(a,b.then(function(b){return c=Rc(b),d=kc(b),pg(a,b)}).then(function(){return Zb({user:tg(a),credential:c,additionalUserInfo:d,operationType:"signIn"})}))}function sg(a){return a.app}function tg(a){return a.currentUser}function ug(a){return tg(a)&&tg(a)._lat||null}function vg(a){if(a.X){for(var b=0;b<a.m.length;b++)a.m[b]&&a.m[b](ug(a));if(a.O!==a.getUid()&&a.I.length)for(a.O=a.getUid(),b=0;b<a.I.length;b++)a.I[b]&&a.I[b](ug(a))}}function wg(a,b){return a.N.push(b),b.ia(function(){x(a.N,b)}),b}function xg(){}function yg(){this.a={},this.b=1e12}function zg(a,b){return(b=Ag(b))&&a.a[b]||null}function Ag(a){return(a=void 0===a?1e12:a)?a.toString():null}function Bg(a,b){this.g=!1,this.c=b,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=kb(a);var c=this;this.i=function(){c.execute()},this.h?this.execute():na(this.f,"click",this.i)}function Cg(a){if(a.g)throw Error("reCAPTCHA mock was already deleted!")}function Dg(){}function Eg(){this.b=Zg.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}function Fg(a,b,c,d,e,f,g){if(Xb(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.l=b,this.g=null,g=g?(Ck||(Ck=new Dg),Ck):(Fk||(Fk=new Eg),Fk),this.m=g,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[Ik])throw new ac("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Jk],!Zg.document)throw new ac("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");
if(!kb(b)||!this.i&&kb(b).hasChildNodes())throw new ac("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new Nd(a,f||null,e||null),this.v=d||function(){return null};var h=this;this.o=[];var i=this.a[Gk];this.a[Gk]=function(a){if(Gg(h,a),"function"==typeof i)i(a);else if("string"==typeof i){var b=Gb(i,Zg);"function"==typeof b&&b(a)}};var j=this.a[Hk];this.a[Hk]=function(){if(Gg(h,null),"function"==typeof j)j();else if("string"==typeof j){var a=Gb(j,Zg);"function"==typeof a&&a()}}}function Gg(a,b){for(var c=0;c<a.o.length;c++)try{a.o[c](b)}catch(a){}}function Hg(a,b){return a.h.push(b),b.ia(function(){x(a.h,b)}),b}function Ig(a){if(a.D)throw new ac("internal-error","RecaptchaVerifier instance has been destroyed.")}function Jg(a,b,c){var d=!1;try{this.b=c||Ni.app()}catch(a){throw new ac("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new ac("invalid-api-key");c=this.b.options.apiKey;var e=this,f=null;try{f=this.b.auth().ya()}catch(a){}try{d=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}f=Ni.SDK_VERSION?Eb(Ni.SDK_VERSION,f):null,Fg.call(this,c,a,b,function(){try{var a=e.b.auth().ea()}catch(b){a=null}return a},f,ic(Wi),d)}function Kg(a,b,c,d){a:{c=Array.prototype.slice.call(c);for(var e=0,f=!1,g=0;g<b.length;g++)if(b[g].optional)f=!0;else{if(f)throw new ac("internal-error","Argument validator encountered a required argument after an optional argument.");e++}if(f=b.length,c.length<e||f<c.length)d="Expected "+(e==f?1==e?"1 argument":e+" arguments":e+"-"+f+" arguments")+" but got "+c.length+".";else{for(e=0;e<c.length;e++)if(f=b[e].optional&&void 0===c[e],!b[e].M(c[e])&&!f){if(b=b[e],0>e||e>=Kk.length)throw new ac("internal-error","Argument validator received an unsupported number of arguments.");c=Kk[e],d=(d?"":c+" argument ")+(b.name?'"'+b.name+'" ':"")+"must be "+b.K+".";break a}d=null}}if(d)throw new ac("argument-error",a+" failed: "+d)}function Lg(b,c){return{name:b||"",K:"a valid string",optional:!!c,M:a}}function Mg(a,c){return{name:a||"",K:"a boolean",optional:!!c,M:b}}function Ng(a,b){return{name:a||"",K:"a valid object",optional:!!b,M:i}}function Og(a,b){return{name:a||"",K:"a function",optional:!!b,M:h}}function Pg(a,b){return{name:a||"",K:"null",optional:!!b,M:e}}function Qg(a){return{name:a?a+"Credential":"credential",K:a?"a valid "+a+" credential":"a valid credential",optional:!1,M:function(b){if(!b)return!1;var c=!a||b.providerId===a;return!(!b.la||!c)}}}function Rg(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(b){return!!(b&&a(b.type)&&h(b.verify))}}}function Sg(a,b,c,d){return{name:c||"",K:a.K+" or "+b.K,optional:!!d,M:function(c){return a.M(c)||b.M(c)}}}function Tg(a,b){for(var c in b){var d=b[c].name;a[d]=Wg(d,a[c],b[c].j)}}function Ug(a,b){for(var c in b){var d=b[c].name;d!==c&&Object.defineProperty(a,d,{get:m(function(a){return this[a]},c),set:m(function(a,b,c,d){Kg(a,[c],[d],!0),this[b]=d},d,c,b[c].ub),enumerable:!0})}}function Vg(a,b,c,d){a[b]=Wg(b,c,d)}function Wg(a,b,c){function d(){var a=Array.prototype.slice.call(arguments);return Kg(g,c,a),b.apply(this,a)}if(!c)return b;var e,f,g=(f=(f=a).split("."))[f.length-1];for(e in b)d[e]=b[e];for(e in b.prototype)d.prototype[e]=b.prototype[e];return d}var Xg,Yg=Yg||{},Zg=this,$g=/^[\w+\/_-]+[=]{0,2}$/,_g=null,ah="closure_uid_"+(1e9*Math.random()>>>0),bh=0,ch=Date.now||function(){return+new Date};n(p,Error),p.prototype.name="CustomError",n(q,p),q.prototype.name="AssertionError",s.prototype.get=function(){if(0<this.b){this.b--;var a=this.a;this.a=a.next,a.next=null}else a=this.c();return a};var dh=new s(function(){return new v},function(a){a.reset()});u.prototype.add=function(a,b){var c=dh.get();c.set(a,b),this.b?this.b.next=c:this.a=c,this.b=c},v.prototype.set=function(a,b){this.a=a,this.b=b,this.next=null},v.prototype.reset=function(){this.next=this.b=this.a=null};var eh,fh=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(b,c){if(a(b))return a(c)&&1==c.length?b.indexOf(c,0):-1;for(var d=0;d<b.length;d++)if(d in b&&b[d]===c)return d;return-1},gh=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(b,c,d){for(var e=b.length,f=a(b)?b.split(""):b,g=0;e>g;g++)g in f&&c.call(d,f[g],g,b)},hh=Array.prototype.map?function(a,b){return Array.prototype.map.call(a,b,void 0)}:function(b,c){for(var d=b.length,e=Array(d),f=a(b)?b.split(""):b,g=0;d>g;g++)g in f&&(e[g]=c.call(void 0,f[g],g,b));return e},ih=Array.prototype.some?function(a,b){return Array.prototype.some.call(a,b,void 0)}:function(b,c){for(var d=b.length,e=a(b)?b.split(""):b,f=0;d>f;f++)if(f in e&&c.call(void 0,e[f],f,b))return!0;return!1},jh=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]},kh=/&/g,lh=/</g,mh=/>/g,nh=/"/g,oh=/'/g,ph=/\x00/g,qh=/[\x00&<>"']/;a:{var rh=Zg.navigator;if(rh){var sh=rh.userAgent;if(sh){eh=sh;break a}}eh=""}var th,uh,vh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),wh=!1,xh=new u,yh=0,zh=2,Ah=3;O.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Bh=new s(function(){return new O},function(a){a.reset()});N.prototype.then=function(a,b,c){return V(this,h(a)?a:null,h(b)?b:null,c)},N.prototype.$goog_Thenable=!0,(Xg=N.prototype).ia=function(a,b){return(a=P(a,a,b)).c=!0,U(this,a),this},Xg.s=function(a,b){return V(this,null,a,b)},Xg.cancel=function(a){this.a==yh&&L(function(){!function b(a,c){if(a.a==yh)if(a.c){var d=a.c;if(d.b){for(var e=0,f=null,g=null,h=d.b;h&&(h.c||(e++,h.a==a&&(f=h),!(f&&e>1)));h=h.next)f||(g=h);f&&(d.a==yh&&1==e?b(d,c):(g?((e=g).next==d.f&&(d.f=e),e.next=e.next.next):Z(d),$(d,f,Ah,c)))}a.c=null}else W(a,Ah,c)}(this,new aa(a))},this)},Xg.Pc=function(a){this.a=yh,W(this,zh,a)},Xg.Qc=function(a){this.a=yh,W(this,Ah,a)},Xg.Yb=function(){for(var a;a=Z(this);)$(this,a,this.a,this.i);this.h=!1};var Ch=K;n(aa,p);var Dh=0;ba.prototype.qa=!(aa.prototype.name="cancel"),ba.prototype.va=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()},da[" "]=c;var Eh,Fh,Gh=D("Opera"),Hh=D("Trident")||D("MSIE"),Ih=D("Edge"),Jh=Ih||Hh,Kh=D("Gecko")&&!(B(eh.toLowerCase(),"webkit")&&!D("Edge"))&&!(D("Trident")||D("MSIE"))&&!D("Edge"),Lh=B(eh.toLowerCase(),"webkit")&&!D("Edge");a:{var Mh="",Nh=(Fh=eh,Kh?/rv:([^\);]+)(\)|;)/.exec(Fh):Ih?/Edge\/([\d\.]+)/.exec(Fh):Hh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Fh):Lh?/WebKit\/(\S+)/.exec(Fh):Gh?/(?:Version)[ \/]?(\S+)/.exec(Fh):void 0);if(Nh&&(Mh=Nh?Nh[1]:""),Hh){var Oh=ea();if(null!=Oh&&Oh>parseFloat(Mh)){Eh=String(Oh);break a}}Eh=Mh}var Ph,Qh={},Rh=Zg.document;Ph=Rh&&Hh?ea()||("CSS1Compat"==Rh.compatMode?parseInt(Eh,10):5):void 0;var Sh=Object.freeze||function(a){return a},Th=!Hh||9<=Number(Ph),Uh=Hh&&!fa("9"),Vh=function(){if(!Zg.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{Zg.addEventListener("test",c,b),Zg.removeEventListener("test",c,b)}catch(a){}return a}();ga.prototype.preventDefault=function(){this.Kb=!1},n(ha,ga);var Wh=Sh({2:"touch",3:"pen",4:"mouse"});ha.prototype.preventDefault=function(){ha.pb.preventDefault.call(this);var a=this.a;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Uh)try{(a.ctrlKey||112<=a.keyCode&&a.keyCode<=123)&&(a.keyCode=-1)}catch(a){}},ha.prototype.f=function(){return this.a};var Xh="closure_listenable_"+(1e6*Math.random()|0),Yh=0;ka.prototype.add=function(a,b,c,d,e){var f=a.toString();(a=this.a[f])||(a=this.a[f]=[],this.b++);var g=ma(a,b,d,e);return g>-1?(b=a[g],c||(b.Ia=!1)):((b=new ia(b,this.src,f,!!d,e)).Ia=c,a.push(b)),b};var Zh="closure_lm_"+(1e6*Math.random()|0),$h={},_h="__closure_events_fn_"+(1e9*Math.random()>>>0);n(ya,ba),ya.prototype[Xh]=!0,ya.prototype.addEventListener=function(a,b,c,d){na(this,a,b,c,d)},ya.prototype.removeEventListener=function(a,b,c,d){qa(this,a,b,c,d)},ya.prototype.dispatchEvent=function(b){var c,d=this.Wa;if(d)for(c=[];d;d=d.Wa)c.push(d);d=this.Rb;var e=b.type||b;if(a(b))b=new ga(b,d);else if(b instanceof ga)b.target=b.target||d;else{var f=b;H(b=new ga(e,d),f)}if(f=!0,c)for(var g=c.length-1;g>=0;g--){var h=b.b=c[g];f=Ba(h,e,!0,b)&&f}if(f=Ba(h=b.b=d,e,!0,b)&&f,f=Ba(h,e,!1,b)&&f,c)for(g=0;g<c.length;g++)f=Ba(h=b.b=c[g],e,!1,b)&&f;return f},ya.prototype.va=function(){if(ya.pb.va.call(this),this.o){var a,b=this.o;for(a in b.a){for(var c=b.a[a],d=0;d<c.length;d++)ja(c[d]);delete b.a[a],b.b--}}this.Wa=null},(Xg=Ga.prototype).S=function(){Ha(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.b[this.a[b]]);return a},Xg.U=function(){return Ha(this),this.a.concat()},Xg.clear=function(){this.b={},this.c=this.a.length=0},Xg.get=function(a,b){return Ia(this.b,a)?this.b[a]:b},Xg.set=function(a,b){Ia(this.b,a)||(this.c++,this.a.push(a)),this.b[a]=b},Xg.forEach=function(a,b){for(var c=this.U(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};var ai=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;Ja.prototype.toString=function(){var a=[],b=this.c;b&&a.push(Sa(b,bi,!0),":");var c=this.b;return(c||"file"==b)&&(a.push("//"),(b=this.o)&&a.push(Sa(b,bi,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(c=this.i)&&a.push(":",String(c))),(c=this.g)&&(this.b&&"/"!=c.charAt(0)&&a.push("/"),a.push(Sa(c,"/"==c.charAt(0)?di:ci,!0))),(c=this.a.toString())&&a.push("?",c),(c=this.h)&&a.push("#",Sa(c,fi)),a.join("")};var bi=/[#\/\?@]/g,ci=/[#\?:]/g,di=/[#\?]/g,ei=/[#\?@]/g,fi=/#/g;(Xg=Ua.prototype).add=function(a,b){Va(this),this.c=null,a=$a(this,a);var c=this.a.get(a);return c||this.a.set(a,c=[]),c.push(b),this.b+=1,this},Xg.clear=function(){this.a=this.c=null,this.b=0},Xg.forEach=function(a,b){Va(this),this.a.forEach(function(c,d){gh(c,function(c){a.call(b,c,d,this)},this)},this)},Xg.U=function(){Va(this);for(var a=this.a.S(),b=this.a.U(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c},Xg.S=function(b){Va(this);var c=[];if(a(b))Ya(this,b)&&(c=z(c,this.a.get($a(this,b))));else{b=this.a.S();for(var d=0;d<b.length;d++)c=z(c,b[d])}return c},Xg.set=function(a,b){return Va(this),this.c=null,Ya(this,a=$a(this,a))&&(this.b-=this.a.get(a).length),this.a.set(a,[b]),this.b+=1,this},Xg.get=function(a,b){return a&&0<(a=this.S(a)).length?String(a[0]):b},Xg.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var a=[],b=this.a.U(),c=0;c<b.length;c++){var d=b[c],e=encodeURIComponent(String(d));d=this.S(d);for(var f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f]))),a.push(g)}}return this.c=a.join("&")};var gi=!Hh||9<=Number(Ph);_a.prototype.na=!0,_a.prototype.ma=function(){return this.a},_a.prototype.toString=function(){return"Const{"+this.a+"}"};var hi={},ii={};bb.prototype.na=!0,bb.prototype.ma=function(){return this.a},bb.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var ji=/%{(\w+)}/g,ki=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^\/\\]|[^:\/\\%]+\/|[^:\/\\%]*[?#]|about:blank#)/i,li={};eb.prototype.na=!0,eb.prototype.ma=function(){return this.a},eb.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var mi=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i,ni={};hb("about:blank"),ib.prototype.na=!0,ib.prototype.ma=function(){return this.a},ib.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var oi={};jb("<!DOCTYPE html>"),jb(""),jb("<br>");var pi={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},qi={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\u000b"},ri=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g,si=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ti=/^[^@]+@[^@]+$/,ui="Firefox",vi="Chrome",wi={Wc:"FirebaseCore-web",Yc:"FirebaseUI-web"};Sb.prototype.get=function(){var a=Zg.navigator;return!a||"boolean"!=typeof a.onLine||!Jb()&&"chrome-extension:"!==Kb()&&void 0===a.connection||a.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var xi,yi={};try{var zi={};Object.defineProperty(zi,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(zi,"abcd",{configurable:!0,enumerable:!0,value:2}),xi=2==zi.abcd}catch(Xg){xi=!1}var Ai="EMAIL_SIGNIN",Bi="email",Ci="newEmail",Di="requestType",Ei="email",Fi="fromEmail",Gi="data",Hi="operation";n(ac,Error),ac.prototype.C=function(){return{code:this.code,message:this.message}},ac.prototype.toJSON=function(){return this.C()};var Ii="auth/",Ji={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Ki="android",Li="dynamicLinkDomain",Mi="handleCodeInApp",Oi="iOS",Pi="url",Qi="installApp",Ri="minimumVersion",Si="packageName",Ti="bundleId",Ui=null,Vi=null;fc.prototype.f=function(){return this.b};var Wi,Xi={bd:{bb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",jb:"https://securetoken.googleapis.com/v1/token",id:"p"},dd:{bb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",jb:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},ed:{bb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",jb:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};Wi=ic("__EID__")?"__EID__":void 0;var Yi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Zi=["client_id","response_type","scope","redirect_uri","state"],$i={Xc:{Na:"locale",Ba:500,Aa:600,Oa:"facebook.com",ib:Zi},Zc:{Na:null,Ba:500,Aa:620,Oa:"github.com",ib:Zi},$c:{Na:"hl",Ba:515,Aa:680,Oa:"google.com",ib:Zi},fd:{Na:"lang",Ba:485,Aa:705,Oa:"twitter.com",ib:Yi}},_i="idToken",aj="providerId";n(mc,lc),n(nc,mc),n(oc,mc),n(pc,mc),n(qc,mc),uc.prototype.la=function(a){return Yd(a,vc(this))},uc.prototype.b=function(a,b){var c=vc(this);return c.idToken=b,Zd(a,c)},uc.prototype.f=function(a,b){return tc($d(a,vc(this)),b)},uc.prototype.C=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},wc.prototype.la=function(a){return Yd(a,xc(this))},wc.prototype.b=function(a,b){var c=xc(this);return c.idToken=b,Zd(a,c)},wc.prototype.f=function(a,b){return tc($d(a,xc(this)),b)},wc.prototype.C=function(){var a={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(a.oauthIdToken=this.idToken),this.accessToken&&(a.oauthAccessToken=this.accessToken),this.secret&&(a.oauthTokenSecret=this.secret),this.nonce&&(a.nonce=this.nonce),this.a&&(a.pendingToken=this.a),a},yc.prototype.Da=function(a){return this.zb=G(a),this},n(zc,yc),n(Ac,yc),Ac.prototype.ua=function(a){return w(this.a,a)||this.a.push(a),this},Ac.prototype.Fb=function(){return A(this.a)},Ac.prototype.credential=function(a,b,c){if(!a&&!b)throw new ac("argument-error","credential failed: must provide the ID token and/or the access token.");return new wc(this.providerId,{idToken:a||null,accessToken:b||null,nonce:c||null},this.providerId)},n(Bc,Ac),Xb(Bc,"PROVIDER_ID","facebook.com"),Xb(Bc,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),n(Dc,Ac),Xb(Dc,"PROVIDER_ID","github.com"),Xb(Dc,"GITHUB_SIGN_IN_METHOD","github.com"),n(Fc,Ac),Xb(Fc,"PROVIDER_ID","google.com"),Xb(Fc,"GOOGLE_SIGN_IN_METHOD","google.com"),n(Hc,yc),Xb(Hc,"PROVIDER_ID","twitter.com"),Xb(Hc,"TWITTER_SIGN_IN_METHOD","twitter.com"),Jc.prototype.la=function(a){return this.signInMethod==Kc.EMAIL_LINK_SIGN_IN_METHOD?ae(a,Gj,{email:this.a,oobCode:this.c}):ae(a,Xj,{email:this.a,password:this.c})},Jc.prototype.b=function(a,b){return this.signInMethod==Kc.EMAIL_LINK_SIGN_IN_METHOD?ae(a,Hj,{idToken:b,email:this.a,oobCode:this.c}):ae(a,Rj,{idToken:b,email:this.a,password:this.c})},Jc.prototype.f=function(a,b){return tc(this.la(a),b)},Jc.prototype.C=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},Yb(Kc,{PROVIDER_ID:"password"}),Yb(Kc,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Yb(Kc,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Nc.prototype.la=function(a){return a.Va(Oc(this))},Nc.prototype.b=function(a,b){var c=Oc(this);return c.idToken=b,ae(a,Zj,c)},Nc.prototype.f=function(a,b){var c=Oc(this);return c.operation="REAUTH",tc(a=ae(a,$j,c),b)},Nc.prototype.C=function(){var a={providerId:"phone"};return this.a.Ua&&(a.verificationId=this.a.Ua),this.a.Ta&&(a.verificationCode=this.a.Ta),this.a.Fa&&(a.temporaryProof=this.a.Fa),this.a.$&&(a.phoneNumber=this.a.$),a},Pc.prototype.Va=function(b,c){var d=this.a.b;return Q(c.verify()).then(function(e){if(!a(e))throw new ac("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(c.type){case"recaptcha":return(f=d,g={phoneNumber:b,recaptchaToken:e},ae(f,Pj,g)).then(function(a){return"function"==typeof c.reset&&c.reset(),a},function(a){throw"function"==typeof c.reset&&c.reset(),a});default:throw new ac("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}var f,g})},Yb(Pc,{PROVIDER_ID:"phone"}),Yb(Pc,{PHONE_SIGN_IN_METHOD:"phone"}),Tc.prototype.C=function(){return{type:this.b,eventId:this.c,urlResponse:this.f,sessionId:this.g,postBody:this.h,error:this.a&&this.a.C()}};var bj,cj=null;Vc.prototype.subscribe=function(a){var b=this;this.a.push(a),this.b||(this.b=function(a){for(var c=0;c<b.a.length;c++)b.a[c](a)},"function"==typeof(a=Gb("universalLinks.subscribe",Zg))&&a(null,this.b))},Vc.prototype.unsubscribe=function(a){y(this.a,function(b){return b==a})},n(Wc,ac),n(Xc,ac),Xc.prototype.C=function(){var a={code:this.code,message:this.message};this.email&&(a.email=this.email),this.phoneNumber&&(a.phoneNumber=this.phoneNumber);var b=this.credential&&this.credential.C();return b&&H(a,b),a},Xc.prototype.toJSON=function(){return this.C()},Zc.prototype.c=null,n(_c,Zc),_c.prototype.a=function(){var a=ad(this);return a?new ActiveXObject(a):new XMLHttpRequest},_c.prototype.b=function(){var a={};return ad(this)&&(a[0]=!0,a[1]=!0),a},bj=new _c,n(bd,Zc),bd.prototype.a=function(){var a=new XMLHttpRequest;if("withCredentials"in a)return a;if("undefined"!=typeof XDomainRequest)return new cd;throw Error("Unsupported browser")},bd.prototype.b=function(){return{}},(Xg=cd.prototype).open=function(a,b,c){if(null!=c&&!c)throw Error("Only async requests are supported.");this.a.open(a,b)},Xg.send=function(a){if(a){if("string"!=typeof a)throw Error("Only string data is supported");this.a.send(a)}else this.a.send()},Xg.abort=function(){this.a.abort()},Xg.setRequestHeader=function(){},Xg.getResponseHeader=function(a){return"content-type"==a.toLowerCase()?this.a.contentType:""},Xg.fc=function(){this.status=200,this.response=this.responseText=this.a.responseText,dd(this,4)},Xg.Gb=function(){this.status=500,this.response=this.responseText="",dd(this,4)},Xg.kc=function(){this.Gb()},Xg.gc=function(){this.status=200,dd(this,1)},Xg.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ed.prototype.a=null,ed.prototype.reset=function(a,b,c,d,e){delete this.a},gd.prototype.toString=function(){return this.name};var dj=new gd("SEVERE",1e3),ej=new gd("WARNING",900),fj=new gd("CONFIG",700),gj=new gd("FINE",500);fd.prototype.log=function(a,b,c){if(a.value>=function d(a){return a.c?a.c:a.a?d(a.a):(r("Root logger has no level set."),null)}(this).value)for(h(b)&&(b=b()),a=new ed(a,String(b),this.f),c&&(a.a=c),c=this;c;)c=c.a};var hj,ij={},jj=null;n(jd,Zc),jd.prototype.a=function(){return new kd(this.f)},jd.prototype.b=(hj={},function(){return hj}),n(kd,ya);var kj=0;(Xg=kd.prototype).open=function(a,b){if(this.readyState!=kj)throw this.abort(),Error("Error reopening a connection");this.m=a,this.g=b,this.readyState=1,nd(this)},Xg.send=function(a){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var b={headers:this.i,method:this.m,credentials:void 0,cache:void 0};a&&(b.body=a),this.u.fetch(new Request(this.g,b)).then(this.jc.bind(this),this.La.bind(this))},Xg.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,md(this,!1)),this.readyState=kj},Xg.jc=function(a){this.a&&(this.f=a,this.b||(this.b=a.headers,this.readyState=2,nd(this)),this.a&&(this.readyState=3,nd(this),this.a&&("arraybuffer"===this.responseType?a.arrayBuffer().then(this.hc.bind(this),this.La.bind(this)):void 0!==Zg.ReadableStream&&"body"in a?(this.response=this.responseText="",this.c=a.body.getReader(),this.l=new TextDecoder,ld(this)):a.text().then(this.ic.bind(this),this.La.bind(this)))))},Xg.ec=function(a){if(this.a){var b=this.l.decode(a.value?a.value:new Uint8Array(0),{stream:!a.done});b&&(this.response=this.responseText+=b),a.done?md(this,!0):nd(this),3==this.readyState&&ld(this)}},Xg.ic=function(a){this.a&&(this.response=this.responseText=a,md(this,!0))},Xg.hc=function(a){this.a&&(this.response=a,md(this,!0))},Xg.La=function(a){var b=this.h;b&&b.log(ej,"Failed to fetch url "+this.g,a instanceof Error?a:Error(a)),this.a&&md(this,!0)},Xg.setRequestHeader=function(a,b){this.i.append(a,b)},Xg.getResponseHeader=function(a){return this.b?this.b.get(a.toLowerCase())||"":((a=this.h)&&a.log(ej,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},Xg.getAllResponseHeaders=function(){if(!this.b){var a=this.h;return a&&a.log(ej,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}a=[];for(var b=this.b.entries(),c=b.next();!c.done;)c=c.value,a.push(c[0]+": "+c[1]),c=b.next();return a.join("\r\n")},n(od,ya);var lj="";od.prototype.b=hd("goog.net.XhrIo");var mj=/^https?$/i,nj=["POST","PUT"];(Xg=od.prototype).Ga=function(){void 0!==Yg&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",id(this.b,yd(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},Xg.abort=function(){this.a&&this.c&&(id(this.b,yd(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ud(this))},Xg.va=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ud(this,!0)),od.pb.va.call(this)},Xg.Jb=function(){this.qa||(this.I||this.i||this.f?td(this):this.yc())},Xg.yc=function(){td(this)},Xg.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case lj:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var a=this.b;return a&&a.log(dj,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(a){return id(this.b,"Can not get response: "+a.message),null}},zd.prototype.cancel=function(a){if(this.a)this.c instanceof zd&&this.c.cancel();else{if(this.b){var b=this.b;delete this.b,a?b.cancel(a):(b.o--,b.o<=0&&b.cancel())}this.v?this.v.call(this.u,this):this.l=!0,this.a||(a=new Gd(this),Bd(this),Ad(this,!1,a))}},zd.prototype.m=function(a,b){this.i=!1,Ad(this,a,b)},zd.prototype.then=function(a,b,c){var d,e,f=new N(function(a,b){d=a,e=b});return Cd(this,d,function(a){a instanceof Gd?f.cancel():e(a)}),f.then(a,b,c)},zd.prototype.$goog_Thenable=!0,n(Fd,p),Fd.prototype.message="Deferred has already fired",
Fd.prototype.name="AlreadyCalledError",n(Gd,p),Gd.prototype.message="Deferred was canceled",Gd.prototype.name="CanceledError",Hd.prototype.c=function(){throw delete oj[this.a],this.b};var oj={},pj=0,qj=1;n(Ld,p),n(Md,Zc),Md.prototype.a=function(){return new this.f},Md.prototype.b=function(){return{}};var rj,sj="idToken",tj=new Sb(3e4,6e4),uj={"Content-Type":"application/x-www-form-urlencoded"},vj=new Sb(3e4,6e4),wj={"Content-Type":"application/json"};Nd.prototype.m=function(a,b,c,d,e,f){if(Ab()&&(void 0===Zg.fetch||void 0===Zg.Headers||void 0===Zg.Request))throw new ac("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var g=new od(this.c);if(f){g.g=Math.max(0,f);var h=setTimeout(function(){g.dispatchEvent("timeout")},f)}za(g,"complete",function(){h&&clearTimeout(h);var a=null;try{a=JSON.parse(function(a){try{return a.a?a.a.responseText:""}catch(b){return id(a.b,"Can not get responseText: "+b.message),""}}(this))||null}catch(c){a=null}b&&b(a)}),Aa(g,"ready",function(){h&&clearTimeout(h),ca(this)}),Aa(g,"timeout",function(){h&&clearTimeout(h),ca(this),b&&b(null)}),pd(g,a,c,d,e)};var xj=new _a(ii,"https://apis.google.com/js/client.js?onload=%{onload}"),yj="__fcb"+Math.floor(1e6*Math.random()).toString();Nd.prototype.l=function(a,b,c,d,e){var f=this;rj.then(function(){window.gapi.client.setApiKey(f.b);var g=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:a,method:c,body:d,headers:e,authType:"none",callback:function(a){window.gapi.auth.setToken(g),b&&b(a)}})}).s(function(a){b&&b({error:{message:a&&a.message||"CORS_UNSUPPORTED"}})})},Nd.prototype.Ra=function(){return ae(this,Sj,{})},Nd.prototype.qb=function(a,b){return ae(this,Qj,{idToken:a,email:b})},Nd.prototype.rb=function(a,b){return ae(this,Rj,{idToken:a,password:b})};var zj={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};(Xg=Nd.prototype).sb=function(a,b){var c={idToken:a},d=[];return E(zj,function(a,e){var f=b[e];null===f?d.push(a):e in b&&(c[e]=f)}),d.length&&(c.deleteAttribute=d),ae(this,Qj,c)},Xg.lb=function(a,b){return H(a={requestType:"PASSWORD_RESET",email:a},b),ae(this,Lj,a)},Xg.mb=function(a,b){return H(a={requestType:"EMAIL_SIGNIN",email:a},b),ae(this,Jj,a)},Xg.kb=function(a,b){return H(a={requestType:"VERIFY_EMAIL",idToken:a},b),ae(this,Kj,a)},Xg.Va=function(a){return ae(this,Yj,a)},Xg.$a=function(a,b){return ae(this,Oj,{oobCode:a,newPassword:b})},Xg.Ja=function(a){return ae(this,Bj,{oobCode:a})},Xg.Xa=function(a){return ae(this,Aj,{oobCode:a})};var Aj={endpoint:"setAccountInfo",B:_d,da:"email"},Bj={endpoint:"resetPassword",B:_d,J:function(a){var b=a.requestType;if(!b||!a.email&&"EMAIL_SIGNIN"!=b)throw new ac("internal-error")}},Cj={endpoint:"signupNewUser",B:function(a){if(Rd(a),!a.password)throw new ac("weak-password")},J:Td,R:!0},Dj={endpoint:"createAuthUri"},Ej={endpoint:"deleteAccount",T:["idToken"]},Fj={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],B:function(a){if(!f(a.deleteProvider))throw new ac("internal-error")}},Gj={endpoint:"emailLinkSignin",T:["email","oobCode"],B:Rd,J:Td,R:!0},Hj={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],B:Rd,J:Td,R:!0},Ij={endpoint:"getAccountInfo"},Jj={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(a){if("EMAIL_SIGNIN"!=a.requestType)throw new ac("internal-error");Rd(a)},da:"email"},Kj={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],B:function(a){if("VERIFY_EMAIL"!=a.requestType)throw new ac("internal-error")},da:"email"},Lj={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(a){if("PASSWORD_RESET"!=a.requestType)throw new ac("internal-error");Rd(a)},da:"email"},Mj={vb:!0,endpoint:"getProjectConfig",Ib:"GET"},Nj={vb:!0,endpoint:"getRecaptchaParam",Ib:"GET",J:function(a){if(!a.recaptchaSiteKey)throw new ac("internal-error")}},Oj={endpoint:"resetPassword",B:_d,da:"email"},Pj={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],da:"sessionInfo"},Qj={endpoint:"setAccountInfo",T:["idToken"],B:Sd,R:!0},Rj={endpoint:"setAccountInfo",T:["idToken"],B:function(a){if(Sd(a),!a.password)throw new ac("weak-password")},J:Td,R:!0},Sj={endpoint:"signupNewUser",J:Td,R:!0},Tj={endpoint:"verifyAssertion",B:Vd,Pa:Wd,J:Xd,R:!0},Uj={endpoint:"verifyAssertion",B:Vd,Pa:Wd,J:function(a){if(a.errorMessage&&"USER_NOT_FOUND"==a.errorMessage)throw new ac("user-not-found");if(a.errorMessage)throw be(a.errorMessage);if(!a[sj])throw new ac("internal-error")},R:!0},Vj={endpoint:"verifyAssertion",B:function(a){if(Vd(a),!a.idToken)throw new ac("internal-error")},Pa:Wd,J:Xd,R:!0},Wj={endpoint:"verifyCustomToken",B:function(a){if(!a.token)throw new ac("invalid-custom-token")},J:Td,R:!0},Xj={endpoint:"verifyPassword",B:function(a){if(Rd(a),!a.password)throw new ac("wrong-password")},J:Td,R:!0},Yj={endpoint:"verifyPhoneNumber",B:Ud,J:Td},Zj={endpoint:"verifyPhoneNumber",B:function(a){if(!a.idToken)throw new ac("internal-error");Ud(a)},J:function(a){if(a.temporaryProof)throw a.code="credential-already-in-use",Yc(a);Td(a)}},$j={Xb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:Ud,J:Td},_j=new _a(ii,"https://apis.google.com/js/api.js?onload=%{onload}"),ak=new Sb(3e4,6e4),bk=new Sb(5e3,15e3),ck=null;ee.prototype.toString=function(){return this.f?Na(this.a,"v",this.f):Xa(this.a.a,"v"),this.b?Na(this.a,"eid",this.b):Xa(this.a.a,"eid"),this.c.length?Na(this.a,"fw",this.c.join(",")):Xa(this.a.a,"fw"),this.a.toString()},fe.prototype.toString=function(){var a=Qa(this.m,"/__/auth/handler");if(Na(a,"apiKey",this.l),Na(a,"appName",this.c),Na(a,"authType",this.o),this.a.isOAuthProvider){var b=this.a;try{var c=Ni.app(this.c).auth().ea()}catch(a){c=null}for(var d in b.ab=c,Na(a,"providerId",this.a.providerId),c=Nb((b=this.a).zb))c[d]=c[d].toString();d=b.Fc,c=G(c);for(var e=0;e<d.length;e++){var f=d[e];f in c&&delete c[f]}b.eb&&b.ab&&!c[b.eb]&&(c[b.eb]=b.ab),F(c)||Na(a,"customParameters",Mb(c))}if("function"==typeof this.a.Fb&&(b=this.a.Fb()).length&&Na(a,"scopes",b.join(",")),this.i?Na(a,"redirectUrl",this.i):Xa(a.a,"redirectUrl"),this.g?Na(a,"eventId",this.g):Xa(a.a,"eventId"),this.h?Na(a,"v",this.h):Xa(a.a,"v"),this.b)for(var g in this.b)this.b.hasOwnProperty(g)&&!Oa(a,g)&&Na(a,g,this.b[g]);return this.f?Na(a,"eid",this.f):Xa(a.a,"eid"),(g=ge(this.c)).length&&Na(a,"fw",g.join(",")),a.toString()},(Xg=he.prototype).Ea=function(a,b,c){var d=new ac("popup-closed-by-user"),e=new ac("web-storage-unsupported"),f=this,g=!1;return this.ga().then(function(){var c,d;(c=f,d={type:"webStorageSupport"},je(c).then(function(){return a=c.i,b=d,a.gb.then(function(){return new N(function(c){a.a.send(b.type,b,c,Gb("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})});var a,b}).then(function(a){if(a&&a.length&&void 0!==a[0].webStorageSupport)return a[0].webStorageSupport;throw Error()})).then(function(c){c||(a&&vb(a),b(e),g=!0)})}).s(function(){}).then(function(){if(!g)return b=a,new N(function(a){return function c(){Da(2e3).then(function(){return b&&!b.closed?c():void a()})}()});var b}).then(function(){return g?void 0:Da(c).then(function(){b(d)})})},Xg.Mb=function(){var a=Fb();return!Lb(a)&&!Qb(a)},Xg.Hb=function(){return!1},Xg.Db=function(a,b,c,d,e,f,g){if(!a)return R(new ac("popup-blocked"));if(g&&!Lb())return this.ga().s(function(b){vb(a),e(b)}),d(),Q();this.a||(this.a=ie(ke(this)));var h=this;return this.a.then(function(){var b=h.ga().s(function(b){throw vb(a),e(b),b});return d(),b}).then(function(){Sc(c),g||tb(le(h.l,h.f,h.b,b,c,null,f,h.c,void 0,h.h),a)}).s(function(a){throw"auth/network-request-failed"==a.code&&(h.a=null),a})},Xg.Ca=function(a,b,c){this.a||(this.a=ie(ke(this)));var d=this;return this.a.then(function(){Sc(b),tb(le(d.l,d.f,d.b,a,b,sb(),c,d.c,void 0,d.h))}).s(function(a){throw"auth/network-request-failed"==a.code&&(d.a=null),a})},Xg.ga=function(){var a=this;return je(this).then(function(){return a.i.gb}).s(function(){throw a.a=null,new ac("network-request-failed")})},Xg.Qb=function(){return!0},Xg.wa=function(a){this.g.push(a)},Xg.Ka=function(a){y(this.g,function(b){return b==a})},(Xg=me.prototype).get=function(a){return Q(this.a.getItem(a)).then(function(a){return a&&Ob(a)})},Xg.set=function(a,b){return Q(this.a.setItem(a,Mb(b)))},Xg.P=function(a){return Q(this.a.removeItem(a))},Xg.Y=function(){},Xg.ca=function(){};var dk,ek=[];ne.prototype.f=function(a){var b=a.data.eventType,c=a.data.eventId,d=this.a[b];if(d&&0<d.length){a.ports[0].postMessage({status:"ack",eventId:c,eventType:b,response:null});var e=[];gh(d,function(b){e.push(Q().then(function(){return b(a.origin,a.data.data)}))}),T(e).then(function(d){var e=[];gh(d,function(a){e.push({fulfilled:a.Eb,value:a.value,reason:a.reason?a.reason.message:void 0})}),gh(e,function(a){for(var b in a)void 0===a[b]&&delete a[b]}),a.ports[0].postMessage({status:"done",eventId:c,eventType:b,response:e})})}},ne.prototype.subscribe=function(a,b){F(this.a)&&this.b.addEventListener("message",this.c),void 0===this.a[a]&&(this.a[a]=[]),this.a[a].push(b)},ne.prototype.unsubscribe=function(a,b){void 0!==this.a[a]&&b?(y(this.a[a],function(a){return a==b}),0==this.a[a].length&&delete this.a[a]):b||delete this.a[a],F(this.a)&&this.b.removeEventListener("message",this.c)},oe.prototype.postMessage=function(a,b){this.a.postMessage(a,b)},pe.prototype.close=function(){for(;0<this.a.length;)re(this,this.a[0]);this.b=!0},(Xg=se.prototype).set=function(a,b){var c,d=!1,e=this;return ue(this).then(function(b){return ye((b=we(xe(c=b,!0))).get(a))}).then(function(f){var g=we(xe(c,!0));return f?(f.value=b,ye(g.put(f))):(e.b++,d=!0,(f={}).fbase_key=a,f.value=b,ye(g.add(f)))}).then(function(){return e.c[a]=b,ze(e,a)}).ia(function(){d&&e.b--})},Xg.get=function(a){return ue(this).then(function(b){return ye(we(xe(b,!1)).get(a))}).then(function(a){return a&&a.value})},Xg.P=function(a){var b=!1,c=this;return ue(this).then(function(d){return b=!0,c.b++,ye(we(xe(d,!0))["delete"](a))}).then(function(){return delete c.c[a],ze(c,a)}).ia(function(){b&&c.b--})},Xg.Y=function(a){var b;0==this.a.length&&(Be(b=this),function c(){b.f=setTimeout(function(){b.i=Ae(b).then(function(a){0<a.length&&gh(b.a,function(b){b(a)})}).then(function(){c()}).s(function(a){"STOP_EVENT"!=a.message&&c()})},800)}()),this.a.push(a)},Xg.ca=function(a){y(this.a,function(b){return b==a}),0==this.a.length&&Be(this)},(Xg=Ce.prototype).get=function(a){return this.b.then(function(b){return b.get(a)})},Xg.set=function(a,b){return this.b.then(function(c){return c.set(a,b)})},Xg.P=function(a){return this.b.then(function(b){return b.P(a)})},Xg.Y=function(a){this.a.push(a)},Xg.ca=function(a){y(this.a,function(b){return b==a})},(Xg=De.prototype).get=function(a){return Q(this.a[a])},Xg.set=function(a,b){return this.a[a]=b,Q()},Xg.P=function(a){return delete this.a[a],Q()},Xg.Y=function(){},Xg.ca=function(){},(Xg=Ee.prototype).get=function(a){var b=this;return Q().then(function(){return Ob(b.a.getItem(a))})},Xg.set=function(a,b){var c=this;return Q().then(function(){var d=Mb(b);null===d?c.P(a):c.a.setItem(a,d)})},Xg.P=function(a){var b=this;return Q().then(function(){b.a.removeItem(a)})},Xg.Y=function(a){Zg.window&&na(Zg.window,"storage",a)},Xg.ca=function(a){Zg.window&&qa(Zg.window,"storage",a)},(Xg=Ge.prototype).get=function(){return Q(null)},Xg.set=function(){return Q()},Xg.P=function(){return Q()},Xg.Y=function(){},Xg.ca=function(){},(Xg=He.prototype).get=function(a){var b=this;return Q().then(function(){return Ob(b.a.getItem(a))})},Xg.set=function(a,b){var c=this;return Q().then(function(){var d=Mb(b);null===d?c.P(a):c.a.setItem(a,d)})},Xg.P=function(a){var b=this;return Q().then(function(){b.a.removeItem(a)})},Xg.Y=function(){},Xg.ca=function(){};var fk,gk,hk={A:Ee,Sa:He},ik={A:Ee,Sa:He},jk={A:me,Sa:Ge},kk={A:Ee,Sa:Ge},lk={ad:"local",NONE:"none",cd:"session"};(Xg=Ke.prototype).get=function(a,b){return Me(this,a.A).get(Ne(a,b))},Xg.set=function(a,b,c){var d=Ne(a,c),e=this,f=Me(this,a.A);return f.set(d,b).then(function(){return f.get(d)}).then(function(b){"local"==a.A&&(e.b[d]=b)})},Xg.addListener=function(a,b,c){var d;a=Ne(a,b),this.o&&(this.b[a]=Zg.localStorage.getItem(a)),F(this.a)&&(Me(this,"local").Y(this.f),this.h||(rb()||!Vb())&&Zg.indexedDB||!this.o||(Pe(d=this),d.c=setInterval(function(){for(var a in d.a){var b=Zg.localStorage.getItem(a),c=d.b[a];b!=c&&(d.b[a]=b,b=new ha({type:"storage",key:a,target:window,oldValue:c,newValue:b,a:!0}),d.Pb(b))}},1e3))),this.a[a]||(this.a[a]=[]),this.a[a].push(c)},Xg.removeListener=function(a,b,c){a=Ne(a,b),this.a[a]&&(y(this.a[a],function(a){return a==c}),0==this.a[a].length&&delete this.a[a]),F(this.a)&&(Me(this,"local").ca(this.f),Pe(this))},Xg.Pb=function(a){if(a&&a.f){var b=a.a.key;if(null==b)for(var c in this.a){var d=this.b[c];void 0===d&&(d=null);var e=Zg.localStorage.getItem(c);e!==d&&(this.b[c]=e,this.Ya(c))}else if(0==b.indexOf("firebase:")&&this.a[b]){if(void 0!==a.a.a?Me(this,"local").ca(this.f):Pe(this),this.m)if(c=Zg.localStorage.getItem(b),(d=a.a.newValue)!==c)null!==d?Zg.localStorage.setItem(b,d):Zg.localStorage.removeItem(b);else if(this.b[b]===d&&void 0===a.a.a)return;var f=this;c=function(){void 0===a.a.a&&f.b[b]===Zg.localStorage.getItem(b)||(f.b[b]=Zg.localStorage.getItem(b),f.Ya(b))},Hh&&Ph&&10==Ph&&Zg.localStorage.getItem(b)!==a.a.newValue&&a.a.newValue!==a.a.oldValue?setTimeout(c,10):c()}}else gh(a,l(this.Ya,this))},Xg.Ya=function(a){this.a[a]&&gh(this.a[a],function(a){a()})};var mk,nk={name:"authEvent",A:"local"};n(Se,function(){this.b=-1});for(var ok=64,pk=ok-1,qk=[],rk=0;pk>rk;rk++)qk[rk]=0;var sk=z(128,qk);Se.prototype.reset=function(){this.g=this.c=0,this.a=Zg.Int32Array?new Int32Array(this.h):A(this.h)};var tk=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];n(Ve,Se);var uk=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];(Xg=We.prototype).ga=function(){return this.za?this.za:this.za=(yb(void 0)?xb().then(function(){return new N(function(a,b){var c=Zg.document,d=setTimeout(function(){b(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(d),a()},!1)})}):R(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof Gb("universalLinks.subscribe",Zg))throw Xe("cordova-universal-links-plugin-fix is not installed");if(void 0===Gb("BuildInfo.packageName",Zg))throw Xe("cordova-plugin-buildinfo is not installed");if("function"!=typeof Gb("cordova.plugins.browsertab.openUrl",Zg))throw Xe("cordova-plugin-browsertab is not installed");if("function"!=typeof Gb("cordova.InAppBrowser.open",Zg))throw Xe("cordova-plugin-inappbrowser is not installed")},function(){throw new ac("cordova-not-ready")})},Xg.Ea=function(a,b){return b(new ac("operation-not-supported-in-this-environment")),Q()},Xg.Db=function(){return R(new ac("operation-not-supported-in-this-environment"))},Xg.Qb=function(){return!1},Xg.Mb=function(){return!0},Xg.Hb=function(){return!0},Xg.Ca=function(a,b,c){if(this.c)return R(new ac("redirect-operation-pending"));var d=this,e=Zg.document,f=null,g=null,h=null,i=null;return this.c=Q().then(function(){return Sc(b),$e(d)}).then(function(){return function(a,b,c,d){var e=function(){for(var a=20,b=[];a>0;)b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),a--;return b.join("")}(),f=new Tc(b,d,null,e,new ac("no-auth-event")),g=Gb("BuildInfo.packageName",Zg);if("string"!=typeof g)throw new ac("invalid-cordova-configuration");var h=Gb("BuildInfo.displayName",Zg),i={};if(Fb().toLowerCase().match(/iphone|ipad|ipod/))i.ibi=g;else{if(!Fb().toLowerCase().match(/android/))return R(new ac("operation-not-supported-in-this-environment"));i.apn=g}h&&(i.appDisplayName=h),e=Ye(e),i.sessionId=e;var j=le(a.l,a.i,a.o,b,c,null,d,a.m,i,a.u);return a.ga().then(function(){var b=a.h;return a.v.a.set(nk,f.C(),b)}).then(function(){var b=Gb("cordova.plugins.browsertab.isAvailable",Zg);if("function"!=typeof b)throw new ac("invalid-cordova-configuration");var c=null;b(function(b){if(b){if("function"!=typeof(c=Gb("cordova.plugins.browsertab.openUrl",Zg)))throw new ac("invalid-cordova-configuration");c(j)}else{if("function"!=typeof(c=Gb("cordova.InAppBrowser.open",Zg)))throw new ac("invalid-cordova-configuration");b=!(!(b=Fb()).match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!b.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),a.a=c(j,b?"_blank":"_system","location=yes")}})})}(d,a,b,c)}).then(function(){return new N(function(a,b){g=function(){var b=Gb("cordova.plugins.browsertab.close",Zg);return a(),"function"==typeof b&&b(),d.a&&"function"==typeof d.a.close&&(d.a.close(),d.a=null),!1},d.wa(g),h=function(){f||(f=Da(2e3).then(function(){b(new ac("redirect-cancelled-by-user"))}))},i=function(){Tb()&&h()},e.addEventListener("resume",h,!1),Fb().toLowerCase().match(/android/)||e.addEventListener("visibilitychange",i,!1)}).s(function(a){return _e(d).then(function(){throw a})})}).ia(function(){h&&e.removeEventListener("resume",h,!1),i&&e.removeEventListener("visibilitychange",i,!1),f&&f.cancel(),g&&d.Ka(g),d.c=null})},Xg.wa=function(a){this.b.push(a),$e(this).s(function(b){"auth/invalid-cordova-configuration"===b.code&&(b=new Tc("unknown",null,null,null,new ac("no-auth-event")),a(b))})},Xg.Ka=function(a){y(this.b,function(b){return b==a})};var vk={name:"pendingRedirect",A:"session"};(Xg=cf.prototype).reset=function(){this.f=!1,this.a.Ka(this.i),this.a=df(this.u,this.o,this.l)},Xg.Za=function(){this.b.Za()},Xg.subscribe=function(a){if(w(this.h,a)||this.h.push(a),!this.f){var b=this;(c=this.g,c.b.get(vk,c.a).then(function(a){return"pending"==a})).then(function(a){a?bf(b.g).then(function(){ef(b).s(function(a){var c=new Tc("unknown",null,null,null,new ac("operation-not-supported-in-this-environment"));hf(a)&&b.cb(c)})}):ff(b)}).s(function(){ff(b)})}var c},Xg.unsubscribe=function(a){y(this.h,function(b){return b==a})},Xg.cb=function(a){if(!a)throw new ac("invalid-auth-event");for(var b=!1,c=0;c<this.h.length;c++){var d=this.h[c];if(d.wb(a.b,a.c)){(b=this.c[a.b])&&b.h(a,d),b=!0;break}}return lf(this.b),b};var wk=new Sb(2e3,1e4),xk=new Sb(3e4,6e4);cf.prototype.fa=function(){return this.b.fa()},cf.prototype.Ca=function(a,b,c){var d,e,f=this;return(e=this.g,e.b.set(vk,"pending",e.a)).then(function(){return f.a.Ca(a,b,c).s(function(a){if(hf(a))throw new ac("operation-not-supported-in-this-environment");return d=a,bf(f.g).then(function(){throw d})}).then(function(){return f.a.Qb()?new N(function(){}):bf(f.g).then(function(){return f.fa()}).then(function(){}).s(function(){})})})},cf.prototype.Ea=function(a,b,c,d){return this.a.Ea(c,function(c){a.ha(b,null,c,d)},wk.get())};var yk={};kf.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},kf.prototype.h=function(a,b){if(a){this.reset(),this.g=!0;var c=a.b,d=a.c,e=a.a&&"auth/web-storage-unsupported"==a.a.code,f=a.a&&"auth/operation-not-supported-in-this-environment"==a.a.code;this.i=!(!e&&!f),"unknown"!=c||e||f?a.a?(nf(this,!0,null,a.a),Q()):b.xa(c,d)?function(a,b,c){c=c.xa(b.b,b.c);var d=b.f,e=b.g,f=b.h,g=!!b.b.match(/Redirect$/);c(d,e,f).then(function(b){nf(a,g,b,null)}).s(function(b){nf(a,g,null,b)})}(this,a,b):R(new ac("invalid-auth-event")):(nf(this,!1,null,null),Q())}else R(new ac("invalid-auth-event"))},kf.prototype.Za=function(){this.g&&!this.i&&nf(this,!1,null,null)},kf.prototype.fa=function(){var a=this;return new N(function(b,c){var d,e;a.b?a.b().then(b,c):(a.f.push(b),a.c.push(c),d=a,e=new ac("timeout"),d.a&&d.a.cancel(),d.a=Da(xk.get()).then(function(){d.b||(d.g=!0,nf(d,!0,null,e))}))})},of.prototype.h=function(a,b){if(a){var c=a.b,d=a.c;a.a?(b.ha(a.b,null,a.a,a.c),Q()):b.xa(c,d)?(f=b,g=(e=a).c,h=e.b,f.xa(h,g)(e.f,e.g,e.h).then(function(a){f.ha(h,a,null,g)}).s(function(a){f.ha(h,null,a,g)})):R(new ac("invalid-auth-event"))}else R(new ac("invalid-auth-event"));var e,f,g,h},qf.prototype.confirm=function(a){return a=Qc(this.verificationId,a),this.a(a)},tf.prototype.start=function(){this.a=this.c,function a(b,c){b.stop(),b.b=Da(uf(b,c)).then(function(){return a=Zg.document,b=null,Tb()||!a?Q():new N(function(c){b=function(){Tb()&&(a.removeEventListener("visibilitychange",b,!1),c())},a.addEventListener("visibilitychange",b,!1)}).s(function(c){throw a.removeEventListener("visibilitychange",b,!1),c});var a,b}).then(function(){return b.h()}).then(function(){a(b,!0)}).s(function(c){b.i(c)&&a(b,!1)})}(this,!0)},tf.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},vf.prototype.C=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},vf.prototype.getToken=function(a){return a=!!a,this.b&&!this.a?R(new ac("user-token-expired")):a||!this.b||ch()>this.c-3e4?this.a?yf(this,{grant_type:"refresh_token",refresh_token:this.a}):Q(null):Q({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},zf.prototype.C=function(){return{lastLoginAt:this.b,createdAt:this.a}},n(Bf,ga),n(Cf,ya),Cf.prototype.pa=function(a){this.ka=a,Od(this.b,a)},Cf.prototype.ea=function(){return this.ka},Cf.prototype.ya=function(){return A(this.O)},Cf.prototype.Ha=function(){this.w.b&&(this.w.stop(),this.w.start())},Xb(Cf.prototype,"providerId","firebase"),(Xg=Cf.prototype).reload=function(){var a=this;return ag(this,Of(this).then(function(){return Uf(a).then(function(){return Kf(a)}).then(Nf)}))},Xg.dc=function(a){return this.F(a).then(function(a){return new sf(a)})},Xg.F=function(a){var b=this;return ag(this,Of(this).then(function(){return b.h.getToken(a)}).then(function(a){if(!a)throw new ac("internal-error");return a.accessToken!=b.ra&&(Jf(b,a.accessToken),b.dispatchEvent(new Bf("tokenChanged"))),Sf(b,"refreshToken",a.refreshToken),a.accessToken}))},Xg.zc=function(a){if(!(a=a.users)||!a.length)throw new ac("internal-error");Mf(this,{uid:(a=a[0]).localId,displayName:a.displayName,photoURL:a.photoUrl,email:a.email,emailVerified:!!a.emailVerified,phoneNumber:a.phoneNumber,lastLoginAt:a.lastLoginAt,createdAt:a.createdAt});for(var b=(d=(d=a).providerUserInfo)&&d.length?hh(d,function(a){return new Af(a.rawId,a.providerId,a.email,a.displayName,a.photoUrl,a.phoneNumber)}):[],c=0;c<b.length;c++)Qf(this,b[c]);var d;Sf(this,"isAnonymous",!(this.email&&a.passwordHash||this.providerData&&this.providerData.length))},Xg.hb=function(a){var b=this,c=null;return ag(this,a.f(this.b,this.uid).then(function(a){return Vf(b,a),c=Xf(b,a,"reauthenticate"),b.i=null,b.reload()}).then(function(){return c}),!0)},Xg.Ac=function(a){return Wb("firebase.User.prototype.reauthenticateWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential instead."),this.hb(a).then(function(){})},Xg.fb=function(a){var b=this,c=null;return ag(this,Wf(this,a.providerId).then(function(){return b.F()}).then(function(c){return a.b(b.b,c)}).then(function(a){return c=Xf(b,a,"link"),Yf(b,a)}).then(function(){return c}))},Xg.rc=function(a){return Wb("firebase.User.prototype.linkWithCredential is deprecated. Please use firebase.User.prototype.linkAndRetrieveDataWithCredential instead."),this.fb(a).then(function(a){return a.user})},Xg.sc=function(a,b){var c=this;return ag(this,Wf(this,"phone").then(function(){return rf(Gf(c),a,b,l(c.fb,c))}))},Xg.Bc=function(a,b){var c=this;return ag(this,Q().then(function(){return rf(Gf(c),a,b,l(c.hb,c))}),!0)},Xg.qb=function(a){var b=this;return ag(this,this.F().then(function(c){return b.b.qb(c,a)}).then(function(a){return Vf(b,a),b.reload()}))},Xg.Tc=function(a){var b=this;return ag(this,this.F().then(function(c){return a.b(b.b,c)}).then(function(a){return Vf(b,a),b.reload()}))},Xg.rb=function(a){var b=this;return ag(this,this.F().then(function(c){return b.b.rb(c,a)}).then(function(a){return Vf(b,a),b.reload()}))},Xg.sb=function(a){if(void 0===a.displayName&&void 0===a.photoURL)return Of(this);var b=this;return ag(this,this.F().then(function(c){return b.b.sb(c,{displayName:a.displayName,photoUrl:a.photoURL})}).then(function(a){return Vf(b,a),Sf(b,"displayName",a.displayName||null),Sf(b,"photoURL",a.photoUrl||null),gh(b.providerData,function(a){"password"===a.providerId&&(Xb(a,"displayName",b.displayName),Xb(a,"photoURL",b.photoURL))}),Kf(b)}).then(Nf))},Xg.Rc=function(a){var b=this;return ag(this,Uf(this).then(function(c){return w(Pf(b),a)?(d=b.b,e=c,f=[a],ae(d,Fj,{idToken:e,deleteProvider:f})).then(function(a){var c={};return gh(a.providerUserInfo||[],function(a){c[a.providerId]=!0}),gh(Pf(b),function(a){c[a]||Rf(b,a)}),c[Pc.PROVIDER_ID]||Xb(b,"phoneNumber",null),Kf(b)}):Kf(b).then(function(){throw new ac("no-such-provider")});var d,e,f}))},Xg["delete"]=function(){var a=this;return ag(this,this.F().then(function(b){return ae(a.b,Ej,{idToken:b})}).then(function(){a.dispatchEvent(new Bf("userDeleted"))})).then(function(){for(var b=0;b<a.G.length;b++)a.G[b].cancel("app-deleted");Df(a,null),Ff(a,null),a.G=[],a.D=!0,If(a),Xb(a,"refreshToken",null),a.a&&a.a.unsubscribe(a)})},Xg.wb=function(a,b){return!!("linkViaPopup"==a&&(this.g||null)==b&&this.f||"reauthViaPopup"==a&&(this.g||null)==b&&this.f||"linkViaRedirect"==a&&(this.aa||null)==b||"reauthViaRedirect"==a&&(this.aa||null)==b)},Xg.ha=function(a,b,c,d){"linkViaPopup"!=a&&"reauthViaPopup"!=a||d!=(this.g||null)||(c&&this.v?this.v(c):b&&!c&&this.f&&this.f(b),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},Xg.xa=function(a,b){return"linkViaPopup"==a&&b==(this.g||null)?l(this.Bb,this):"reauthViaPopup"==a&&b==(this.g||null)?l(this.Cb,this):"linkViaRedirect"==a&&(this.aa||null)==b?l(this.Bb,this):"reauthViaRedirect"==a&&(this.aa||null)==b?l(this.Cb,this):null},Xg.tc=function(a){var b=this;return Zf(this,"linkViaPopup",a,function(){return Wf(b,a.providerId).then(function(){return Kf(b)})},!1)},Xg.Cc=function(a){return Zf(this,"reauthViaPopup",a,function(){return Q()},!0)},Xg.uc=function(a){var b=this;return $f(this,"linkViaRedirect",a,function(){return Wf(b,a.providerId)},!1)},Xg.Dc=function(a){return $f(this,"reauthViaRedirect",a,function(){return Q()},!0)},Xg.Bb=function(a,b,c){var d=this;this.c&&(this.c.cancel(),this.c=null);var e=null;return ag(this,this.F().then(function(e){return Zd(d.b,{requestUri:a,postBody:c,sessionId:b,idToken:e})}).then(function(a){return e=Xf(d,a,"link"),Yf(d,a)}).then(function(){return e}))},Xg.Cb=function(a,b,c){var d=this;this.c&&(this.c.cancel(),this.c=null);var e=null;return ag(this,Q().then(function(){return tc($d(d.b,{requestUri:a,sessionId:b,postBody:c}),d.uid)}).then(function(a){return e=Xf(d,a,"reauthenticate"),Vf(d,a),d.i=null,d.reload()}).then(function(){return e}),!0)},Xg.kb=function(a){var b=this,c=null;return ag(this,this.F().then(function(b){return c=b,void 0===a||F(a)?{}:dc(new cc(a))}).then(function(a){return b.b.kb(c,a)}).then(function(a){return b.email!=a?b.reload():void 0}).then(function(){}))},Xg.toJSON=function(){return this.C()},Xg.C=function(){var a={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.u,stsTokenManager:this.h.C(),redirectEventId:this.aa||null};return this.metadata&&H(a,this.metadata.C()),gh(this.providerData,function(b){a.providerData.push(function(a){var b,c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c}(b))}),a};var zk={name:"redirectUser",A:"session"};eg.prototype.g=function(){var a=this,b=gg("local");kg(this,function(){return Q().then(function(){return a.c&&"local"!=a.c.A?a.b.get(b,a.a):null}).then(function(c){return c?fg(a,"local").then(function(){a.c=b}):void 0})})};var Ak={name:"persistence",A:"session"};eg.prototype.nb=function(a){var b=null,c=this;return function(a){var b=new ac("invalid-persistence-type"),c=new ac("unsupported-persistence-type");a:{for(d in lk)if(lk[d]==a){var d=!0;break a}d=!1}if(!d||"string"!=typeof a)throw b;switch(Bb()){case"ReactNative":if("session"===a)throw c;break;case"Node":if("none"!==a)throw c;break;default:if(!Hb()&&"none"!==a)throw c}}(a),kg(this,function(){return a!=c.c.A?c.b.get(c.c,c.a).then(function(d){return b=d,fg(c,a)}).then(function(){return c.c=gg(a),b?c.b.set(c.c,b,c.a):void 0}):Q()})},n(lg,ya),n(mg,ga),n(ng,ga),(Xg=lg.prototype).nb=function(a){return wg(this,a=this.h.nb(a))},Xg.pa=function(a){this.W===a||this.l||(this.W=a,Od(this.b,this.W),this.dispatchEvent(new mg(this.ea())))},Xg.ea=function(){return this.W},Xg.Uc=function(){var a=Zg.navigator;this.pa(a&&(a.languages&&a.languages[0]||a.language||a.userLanguage)||null)},Xg.vc=function(a){this.G.push(a),Pd(this.b,Ni.SDK_VERSION?Eb(Ni.SDK_VERSION,this.G):null),this.dispatchEvent(new ng(this.G))},Xg.ya=function(){return A(this.G)},Xg.toJSON=function(){return{apiKey:sg(this).options.apiKey,authDomain:sg(this).options.authDomain,appName:sg(this).name,currentUser:tg(this)&&tg(this).C()}},Xg.wb=function(a,b){switch(a){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==b&&!!this.f;default:return!1}},Xg.ha=function(a,b,c,d){"signInViaPopup"==a&&this.g==d&&(c&&this.v?this.v(c):b&&!c&&this.f&&this.f(b),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},Xg.xa=function(a,b){return"signInViaRedirect"==a||"signInViaPopup"==a&&this.g==b&&this.f?l(this.ac,this):null},Xg.ac=function(a,b,c){var d=this;a={requestUri:a,postBody:c,sessionId:b},this.c&&(this.c.cancel(),this.c=null);var e=null,f=null,g=Yd(d.b,a).then(function(a){return e=Rc(a),f=kc(a),a});return wg(this,a=d.V.then(function(){return g}).then(function(a){return pg(d,a)}).then(function(){return Zb({user:tg(d),credential:e,additionalUserInfo:f,operationType:"signIn"})}))},Xg.Mc=function(a){if(!Ib())return R(new ac("operation-not-supported-in-this-environment"));var b=this,c=jc(a.providerId),d=Pb(),e=null;(!Lb()||zb())&&sg(this).options.authDomain&&a.isOAuthProvider&&(e=le(sg(this).options.authDomain,sg(this).options.apiKey,sg(this).name,"signInViaPopup",a,null,d,Ni.SDK_VERSION||null));var f=wb(e,c&&c.Ba,c&&c.Aa);return wg(this,c=og(this).then(function(b){return gf(b,f,"signInViaPopup",a,d,!!e)}).then(function(){return new N(function(a,c){b.ha("signInViaPopup",null,new ac("cancelled-popup-request"),b.g),b.f=a,b.v=c,b.g=d,b.c=b.a.Ea(b,"signInViaPopup",f,d)})}).then(function(a){return f&&vb(f),a?Zb(a):null}).s(function(a){throw f&&vb(f),a}))},Xg.Nc=function(a){if(!Ib())return R(new ac("operation-not-supported-in-this-environment"));var b=this;return wg(this,og(this).then(function(){return kg(a=b.h,function(){return a.b.set(Ak,a.c.A,a.a)});var a}).then(function(){return b.a.Ca("signInViaRedirect",a)}))},Xg.fa=function(){if(!Ib())return R(new ac("operation-not-supported-in-this-environment"));var a=this;return wg(this,og(this).then(function(){return a.a.fa()}).then(function(a){return a?Zb(a):null}))},Xg.Sc=function(a){if(!a)return R(new ac("null-user"));var b=this,c={};c.apiKey=sg(this).options.apiKey,c.authDomain=sg(this).options.authDomain,c.appName=sg(this).name;var d=function(a,b,c,d){b=b||{apiKey:a.l,authDomain:a.u,appName:a.m};var e=a.h,f={};return f[sj]=e.b,f.refreshToken=e.a,f.expiresIn=(e.c-ch())/1e3,b=new Cf(b,f),c&&(b.ba=c),d&&Ef(b,d),Tf(b,a),b}(a,c,b.w,b.ya());return wg(this,this.i.then(function(){return sg(b).options.apiKey!=a.l?d.reload():void 0}).then(function(){return tg(b)&&a.uid==tg(b).uid?(Tf(tg(b),a),b.Z(a)):(qg(b,d),Lf(d),b.Z(d))}).then(function(){
vg(b)}))},Xg.ob=function(){var a=this;return wg(this,this.i.then(function(){return tg(a)?(qg(a,null),ig(a.h).then(function(){vg(a)})):Q()}))},Xg.Oc=function(){var a=this;return jg(this.h,sg(this).options.authDomain).then(function(b){if(!a.l){var c;if(c=tg(a)&&b){c=tg(a).uid;var d=b.uid;c=null!=c&&""!==c&&null!=d&&""!==d&&c==d}if(c)return Tf(tg(a),b),tg(a).F();(tg(a)||b)&&(qg(a,b),b&&(Lf(b),b.ba=a.w),a.a&&a.a.subscribe(a),vg(a))}})},Xg.Z=function(a){return hg(this.h,a)},Xg.bc=function(){vg(this),this.Z(tg(this))},Xg.mc=function(){this.ob()},Xg.nc=function(){this.ob()},Xg.oc=function(a){var b=this;this.addAuthTokenListener(function(){a.next(tg(b))})},Xg.pc=function(a){var b,c,d=this;c=function(){a.next(tg(d))},(b=this).I.push(c),wg(b,b.i.then(function(){!b.l&&w(b.I,c)&&b.O!==b.getUid()&&(b.O=b.getUid(),c(ug(b)))}))},Xg.xc=function(a,b,c){var d=this;return this.X&&Ni.Promise.resolve().then(function(){h(a)?a(tg(d)):h(a.next)&&a.next(tg(d))}),this.Tb(a,b,c)},Xg.wc=function(a,b,c){var d=this;return this.X&&Ni.Promise.resolve().then(function(){d.O=d.getUid(),h(a)?a(tg(d)):h(a.next)&&a.next(tg(d))}),this.Ub(a,b,c)},Xg.cc=function(a){var b=this;return wg(this,this.i.then(function(){return tg(b)?tg(b).F(a).then(function(a){return{accessToken:a}}):null}))},Xg.Nb=function(a){var b=this;return this.i.then(function(){return rg(b,ae(b.b,Wj,{token:a}))}).then(function(a){var c=a.user;return Sf(c,"isAnonymous",!1),b.Z(c),a})},Xg.Gc=function(a){return Wb("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCustomToken is deprecated. Please use firebase.auth.Auth.prototype.signInWithCustomToken instead."),this.Nb(a)},Xg.Hc=function(a,b){return Wb("firebase.auth.Auth.prototype.signInAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.signInWithEmailAndPassword instead."),this.Ob(a,b)},Xg.Ob=function(a,b){var c=this;return this.i.then(function(){return rg(c,ae(c.b,Xj,{email:a,password:b}))})},Xg.yb=function(a,b){var c=this;return this.i.then(function(){return rg(c,ae(c.b,Cj,{email:a,password:b}))})},Xg.Wb=function(a,b){return Wb("firebase.auth.Auth.prototype.createUserAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.createUserWithEmailAndPassword instead."),this.yb(a,b)},Xg.Jc=function(a){return Wb("firebase.auth.Auth.prototype.signInWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential instead."),this.Qa(a).then(function(a){return a.user})},Xg.Qa=function(a){var b=this;return this.i.then(function(){return rg(b,a.la(b.b))})},Xg.Ra=function(){var a=this;return this.i.then(function(){var b=tg(a);return b&&b.isAnonymous?Zb({user:b,credential:null,additionalUserInfo:Zb({providerId:null,isNewUser:!1}),operationType:"signIn"}):rg(a,a.b.Ra()).then(function(b){var c=b.user;return Sf(c,"isAnonymous",!0),a.Z(c),b})})},Xg.Ic=function(){return Wb("firebase.auth.Auth.prototype.signInAnonymouslyAndRetrieveData is deprecated. Please use firebase.auth.Auth.prototype.signInAnonymously instead."),this.Ra()},Xg.getUid=function(){return tg(this)&&tg(this).uid||null},Xg.Vb=function(a){this.addAuthTokenListener(a),this.u++,0<this.u&&tg(this)&&Hf(tg(this))},Xg.Ec=function(a){var b=this;gh(this.m,function(c){c==a&&b.u--}),this.u<0&&(this.u=0),0==this.u&&tg(this)&&If(tg(this)),this.removeAuthTokenListener(a)},Xg.addAuthTokenListener=function(a){var b=this;this.m.push(a),wg(this,this.i.then(function(){b.l||w(b.m,a)&&a(ug(b))}))},Xg.removeAuthTokenListener=function(a){y(this.m,function(b){return b==a})},Xg["delete"]=function(){this.l=!0;for(var a=0;a<this.N.length;a++)this.N[a].cancel("app-deleted");return this.N=[],this.h&&(a=this.h).b.removeListener(gg("local"),a.a,this.ka),this.a&&(this.a.unsubscribe(this),this.a.Za()),Ni.Promise.resolve()},Xg.Zb=function(a){return Wb("firebase.auth.Auth.prototype.fetchProvidersForEmail is deprecated. Please use firebase.auth.Auth.prototype.fetchSignInMethodsForEmail instead."),wg(this,ae(this.b,Dj,{identifier:a,continueUri:Jb()?sb():"http://localhost"}).then(function(a){return a.allProviders||[]}))},Xg.$b=function(a){return wg(this,ae(this.b,Dj,{identifier:a,continueUri:Jb()?sb():"http://localhost"}).then(function(a){return a.signinMethods||[]}))},Xg.qc=function(a){return!!Mc(a)},Xg.mb=function(a,b){var c=this;return wg(this,Q().then(function(){var a=new cc(b);if(!a.c)throw new ac("argument-error",Mi+" must be true when sending sign in link to email");return dc(a)}).then(function(b){return c.b.mb(a,b)}).then(function(){}))},Xg.Vc=function(a){return this.Ja(a).then(function(a){return a.data.email})},Xg.$a=function(a,b){return wg(this,this.b.$a(a,b).then(function(){}))},Xg.Ja=function(a){return wg(this,this.b.Ja(a).then(function(a){return new _b(a)}))},Xg.Xa=function(a){return wg(this,this.b.Xa(a).then(function(){}))},Xg.lb=function(a,b){var c=this;return wg(this,Q().then(function(){return void 0===b||F(b)?{}:dc(new cc(b))}).then(function(b){return c.b.lb(a,b)}).then(function(){}))},Xg.Lc=function(a,b){return wg(this,rf(this,a,b,l(this.Qa,this)))},Xg.Kc=function(a,b){var c=this;return wg(this,Q().then(function(){var d=Lc(a,b||sb());return c.Qa(d)}))},xg.prototype.render=function(){},xg.prototype.reset=function(){},xg.prototype.getResponse=function(){},xg.prototype.execute=function(){};var Bk=null;yg.prototype.render=function(a,b){return this.a[this.b.toString()]=new Bg(a,b),this.b++},yg.prototype.reset=function(a){var b=zg(this,a);a=Ag(a),b&&a&&(b["delete"](),delete this.a[a])},yg.prototype.getResponse=function(a){return(a=zg(this,a))?a.getResponse():null},yg.prototype.execute=function(a){(a=zg(this,a))&&a.execute()},Bg.prototype.getResponse=function(){return Cg(this),this.b},Bg.prototype.execute=function(){Cg(this);var a=this;this.a||(this.a=setTimeout(function(){a.b=function(){for(var a=50,b=[];a>0;)b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),a--;return b.join("")}();var b=a.c.callback,c=a.c["expired-callback"];if(b)try{b(a.b)}catch(b){}a.a=setTimeout(function(){if(a.a=null,a.b=null,c)try{c()}catch(b){}a.h&&a.execute()},6e4)},500))},Bg.prototype["delete"]=function(){Cg(this),this.g=!0,clearTimeout(this.a),this.a=null,qa(this.f,"click",this.i)},Dg.prototype.g=function(){return Bk||(Bk=new yg),Q(Bk)},Dg.prototype.c=function(){};var Ck=null,Dk=new _a(ii,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ek=new Sb(3e4,6e4);Eg.prototype.g=function(a){var b=this;return new N(function(c,d){var e=setTimeout(function(){d(new ac("network-request-failed"))},Ek.get());!Zg.grecaptcha||a!==b.f&&!b.b?(Zg[b.a]=function(){if(Zg.grecaptcha){b.f=a;var f=Zg.grecaptcha.render;Zg.grecaptcha.render=function(a,c){return a=f(a,c),b.b++,a},clearTimeout(e),c(Zg.grecaptcha)}else clearTimeout(e),d(new ac("internal-error"));delete Zg[b.a]},Q(Id(db(Dk,{onload:b.a,hl:a||""}))).s(function(){clearTimeout(e),d(new ac("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(e),c(Zg.grecaptcha))})},Eg.prototype.c=function(){this.b--};var Fk=null,Gk="callback",Hk="expired-callback",Ik="sitekey",Jk="size";(Xg=Fg.prototype).za=function(){var a=this;return this.f?this.f:this.f=Hg(this,Q().then(function(){if(Jb()&&!Ab())return xb();throw new ac("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return a.m.g(a.v())}).then(function(b){return a.g=b,ae(a.u,Nj,{})}).then(function(b){a.a[Ik]=b.recaptchaSiteKey}).s(function(b){throw a.f=null,b}))},Xg.render=function(){Ig(this);var a=this;return Hg(this,this.za().then(function(){if(null===a.c){var b=a.l;if(!a.i){var c=kb(b);b=mb("DIV"),c.appendChild(b)}a.c=a.g.render(b,a.a)}return a.c}))},Xg.verify=function(){Ig(this);var a=this;return Hg(this,this.render().then(function(b){return new N(function(c){var d=a.g.getResponse(b);if(d)c(d);else{var e=function(b){var d;b&&(d=e,y(a.o,function(a){return a==d}),c(b))};a.o.push(e),a.i&&a.g.execute(a.c)}})}))},Xg.reset=function(){Ig(this),null!==this.c&&this.g.reset(this.c)},Xg.clear=function(){Ig(this),this.D=!0,this.m.c();for(var a=0;a<this.h.length;a++)this.h[a].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){a=kb(this.l);for(var b;b=a.firstChild;)a.removeChild(b)}},n(Jg,Fg);var Kk="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");Tg(lg.prototype,{Xa:{name:"applyActionCode",j:[Lg("code")]},Ja:{name:"checkActionCode",j:[Lg("code")]},$a:{name:"confirmPasswordReset",j:[Lg("code"),Lg("newPassword")]},yb:{name:"createUserWithEmailAndPassword",j:[Lg("email"),Lg("password")]},Wb:{name:"createUserAndRetrieveDataWithEmailAndPassword",j:[Lg("email"),Lg("password")]},Zb:{name:"fetchProvidersForEmail",j:[Lg("email")]},$b:{name:"fetchSignInMethodsForEmail",j:[Lg("email")]},fa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[Lg("emailLink")]},wc:{name:"onAuthStateChanged",j:[Sg(Ng(),Og(),"nextOrObserver"),Og("opt_error",!0),Og("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[Sg(Ng(),Og(),"nextOrObserver"),Og("opt_error",!0),Og("opt_completed",!0)]},lb:{name:"sendPasswordResetEmail",j:[Lg("email"),Sg(Ng("opt_actionCodeSettings",!0),Pg(null,!0),"opt_actionCodeSettings",!0)]},mb:{name:"sendSignInLinkToEmail",j:[Lg("email"),Ng("actionCodeSettings")]},nb:{name:"setPersistence",j:[Lg("persistence")]},Qa:{name:"signInAndRetrieveDataWithCredential",j:[Qg()]},Ra:{name:"signInAnonymously",j:[]},Ic:{name:"signInAnonymouslyAndRetrieveData",j:[]},Jc:{name:"signInWithCredential",j:[Qg()]},Nb:{name:"signInWithCustomToken",j:[Lg("token")]},Gc:{name:"signInAndRetrieveDataWithCustomToken",j:[Lg("token")]},Ob:{name:"signInWithEmailAndPassword",j:[Lg("email"),Lg("password")]},Kc:{name:"signInWithEmailLink",j:[Lg("email"),Lg("emailLink",!0)]},Hc:{name:"signInAndRetrieveDataWithEmailAndPassword",j:[Lg("email"),Lg("password")]},Lc:{name:"signInWithPhoneNumber",j:[Lg("phoneNumber"),Rg()]},Mc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Sc:{name:"updateCurrentUser",j:[Sg({name:"user",K:"an instance of Firebase User",optional:!1,M:function(a){return!!(a&&a instanceof Cf)}},Pg(),"user")]},ob:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Lg(null,!0)]},Uc:{name:"useDeviceLanguage",j:[]},Vc:{name:"verifyPasswordResetCode",j:[Lg("code")]}}),Ug(lg.prototype,{lc:{name:"languageCode",ub:Sg(Lg(),Pg(),"languageCode")}}),(lg.Persistence=lk).LOCAL="local",lg.Persistence.SESSION="session",lg.Persistence.NONE="none",Tg(Cf.prototype,{"delete":{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[Mg("opt_forceRefresh",!0)]},F:{name:"getIdToken",j:[Mg("opt_forceRefresh",!0)]},fb:{name:"linkAndRetrieveDataWithCredential",j:[Qg()]},rc:{name:"linkWithCredential",j:[Qg()]},sc:{name:"linkWithPhoneNumber",j:[Lg("phoneNumber"),Rg()]},tc:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},uc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},hb:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Qg()]},Ac:{name:"reauthenticateWithCredential",j:[Qg()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[Lg("phoneNumber"),Rg()]},Cc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},kb:{name:"sendEmailVerification",j:[Sg(Ng("opt_actionCodeSettings",!0),Pg(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Lg(null,!0)]},Rc:{name:"unlink",j:[Lg("provider")]},qb:{name:"updateEmail",j:[Lg("email")]},rb:{name:"updatePassword",j:[Lg("password")]},Tc:{name:"updatePhoneNumber",j:[Qg("phone")]},sb:{name:"updateProfile",j:[Ng("profile")]}}),Tg(yg.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Tg(xg.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Tg(N.prototype,{ia:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),Ug(pf.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",ub:Mg("appVerificationDisabledForTesting")}}),Tg(qf.prototype,{confirm:{name:"confirm",j:[Lg("verificationCode")]}}),Vg(Kc,"credential",function(a,b){return new Jc(a,b)},[Lg("email"),Lg("password")]),Tg(Bc.prototype,{ua:{name:"addScope",j:[Lg("scope")]},Da:{name:"setCustomParameters",j:[Ng("customOAuthParameters")]}}),Vg(Bc,"credential",Cc,[Sg(Lg(),Ng(),"token")]),Vg(Kc,"credentialWithLink",Lc,[Lg("email"),Lg("emailLink")]),Tg(Dc.prototype,{ua:{name:"addScope",j:[Lg("scope")]},Da:{name:"setCustomParameters",j:[Ng("customOAuthParameters")]}}),Vg(Dc,"credential",Ec,[Sg(Lg(),Ng(),"token")]),Tg(Fc.prototype,{ua:{name:"addScope",j:[Lg("scope")]},Da:{name:"setCustomParameters",j:[Ng("customOAuthParameters")]}}),Vg(Fc,"credential",Gc,[Sg(Lg(),Sg(Ng(),Pg()),"idToken"),Sg(Lg(),Pg(),"accessToken",!0)]),Tg(Hc.prototype,{Da:{name:"setCustomParameters",j:[Ng("customOAuthParameters")]}}),Vg(Hc,"credential",Ic,[Sg(Lg(),Ng(),"token"),Lg("secret",!0)]),Tg(Ac.prototype,{ua:{name:"addScope",j:[Lg("scope")]},credential:{name:"credential",j:[Sg(Lg(),Pg(),"idToken",!0),Sg(Lg(),Pg(),"accessToken",!0),Sg(Lg(),Pg(),"nonce",!0)]},Da:{name:"setCustomParameters",j:[Ng("customOAuthParameters")]}}),Vg(Pc,"credential",Qc,[Lg("verificationId"),Lg("verificationCode")]),Tg(Pc.prototype,{Va:{name:"verifyPhoneNumber",j:[Lg("phoneNumber"),Rg()]}}),Tg(ac.prototype,{toJSON:{name:"toJSON",j:[Lg(null,!0)]}}),Tg(Xc.prototype,{toJSON:{name:"toJSON",j:[Lg(null,!0)]}}),Tg(Wc.prototype,{toJSON:{name:"toJSON",j:[Lg(null,!0)]}}),Tg(Jg.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if(void 0===Ni||!Ni.INTERNAL||!Ni.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var a={Auth:lg,Error:ac};Vg(a,"EmailAuthProvider",Kc,[]),Vg(a,"FacebookAuthProvider",Bc,[]),Vg(a,"GithubAuthProvider",Dc,[]),Vg(a,"GoogleAuthProvider",Fc,[]),Vg(a,"TwitterAuthProvider",Hc,[]),Vg(a,"OAuthProvider",Ac,[Lg("providerId")]),Vg(a,"SAMLAuthProvider",zc,[Lg("providerId")]),Vg(a,"PhoneAuthProvider",Pc,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(a){return!!(a&&a instanceof lg)}}]),Vg(a,"RecaptchaVerifier",Jg,[Sg(Lg(),{name:"",K:"an HTML element",optional:!1,M:function(a){return!!(a&&a instanceof Element)}},"recaptchaContainer"),Ng("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(a){return!!(a&&a instanceof Ni.app.App)}}]),Ni.INTERNAL.registerService("auth",function(a,b){return b({INTERNAL:{getUid:l((a=new lg(a)).getUid,a),getToken:l(a.cc,a),addAuthTokenListener:l(a.Vb,a),removeAuthTokenListener:l(a.Ec,a)}}),a},a,function(a,b){if("create"===a)try{b.auth()}catch(a){}}),Ni.INTERNAL.extendNamespace({User:Cf})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Oi,Pi,Qi=function(a,b){return(Qi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},Ri=function(){return(Ri=Object.assign||function(a){for(var b,c=1,d=arguments.length;d>c;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};(Pi=Oi||(Oi={}))[Pi.DEBUG=0]="DEBUG",Pi[Pi.VERBOSE=1]="VERBOSE",Pi[Pi.INFO=2]="INFO",Pi[Pi.WARN=3]="WARN",Pi[Pi.ERROR=4]="ERROR",Pi[Pi.SILENT=5]="SILENT";var Si,Ti,Ui,Vi,Wi,Xi,Yi,Zi,$i,_i,aj,bj=Oi.INFO,cj=function(a,b){for(var c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];if(!(b<a.logLevel)){var e=(new Date).toISOString();switch(b){case Oi.DEBUG:case Oi.VERBOSE:console.log.apply(console,["["+e+"]  "+a.name+":"].concat(c));break;case Oi.INFO:console.info.apply(console,["["+e+"]  "+a.name+":"].concat(c));break;case Oi.WARN:console.warn.apply(console,["["+e+"]  "+a.name+":"].concat(c));break;case Oi.ERROR:console.error.apply(console,["["+e+"]  "+a.name+":"].concat(c));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+b+")")}}},dj=function(){function a(a){this.name=a,this._logLevel=bj,this._logHandler=cj}return Object.defineProperty(a.prototype,"logLevel",{get:function(){return this._logLevel},set:function(a){if(!(a in Oi))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=a},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"logHandler",{get:function(){return this._logHandler},set:function(a){if("function"!=typeof a)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=a},enumerable:!0,configurable:!0}),a.prototype.debug=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this._logHandler.apply(this,[this,Oi.DEBUG].concat(a))},a.prototype.log=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this._logHandler.apply(this,[this,Oi.VERBOSE].concat(a))},a.prototype.info=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this._logHandler.apply(this,[this,Oi.INFO].concat(a))},a.prototype.warn=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this._logHandler.apply(this,[this,Oi.WARN].concat(a))},a.prototype.error=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this._logHandler.apply(this,[this,Oi.ERROR].concat(a))},a}(),ej=function(){function a(a){this.domStorage_=a,this.prefix_="firebase:"}return a.prototype.set=function(a,b){null==b?this.domStorage_.removeItem(this.prefixedName_(a)):this.domStorage_.setItem(this.prefixedName_(a),o(b))},a.prototype.get=function(a){var b=this.domStorage_.getItem(this.prefixedName_(a));return null==b?null:n(b)},a.prototype.remove=function(a){this.domStorage_.removeItem(this.prefixedName_(a))},a.prototype.prefixedName_=function(a){return this.prefix_+a},a.prototype.toString=function(){return this.domStorage_.toString()},a}(),fj=function(){function a(){this.cache_={},this.isInMemoryStorage=!0}return a.prototype.set=function(a,b){null==b?delete this.cache_[a]:this.cache_[a]=b},a.prototype.get=function(a){return ui(this.cache_,a)?this.cache_[a]:null},a.prototype.remove=function(a){delete this.cache_[a]},a}(),gj=function(a){try{if("undefined"!=typeof window&&void 0!==window[a]){var b=window[a];return b.setItem("firebase:sentinel","cache"),b.removeItem("firebase:sentinel"),new ej(b)}}catch(a){}return new fj},hj=gj("localStorage"),ij=gj("sessionStorage"),jj=new dj("@firebase/database"),kj=(Si=1,function(){return Si++}),lj=function(a){var b=function(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);if(e>=55296&&56319>=e){var f=e-55296;gi(++d<a.length,"Surrogate pair missing trail surrogate."),e=65536+(f<<10)+(a.charCodeAt(d)-56320)}b[c++]=128>e?e:(b[c++]=2048>e?e>>6|192:(b[c++]=65536>e?e>>12|224:(b[c++]=e>>18|240,e>>12&63|128),e>>6&63|128),63&e|128)}return b}(a),c=new Di;c.update(b);var d=c.digest();return ji.encodeByteArray(d)},mj=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var c="",d=0;d<a.length;d++)c+=Array.isArray(a[d])||a[d]&&"object"==typeof a[d]&&"number"==typeof a[d].length?mj.apply(null,a[d]):"object"==typeof a[d]?o(a[d]):a[d],c+=" ";return c},nj=null,oj=!0,pj=function(a,b){gi(!b||!0===a||!1===a,"Can't turn on custom loggers persistently."),!0===a?(jj.logLevel=Oi.VERBOSE,nj=jj.log.bind(jj),b&&ij.set("logging_enabled",!0)):"function"==typeof a?nj=a:(nj=null,ij.remove("logging_enabled"))},qj=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(!0===oj&&(oj=!1,null===nj&&!0===ij.get("logging_enabled")&&pj(!0)),nj){var c=mj.apply(null,a);nj(c)}},rj=function(a){return function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];qj.apply(void 0,[a].concat(b))}},sj=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c="FIREBASE INTERNAL ERROR: "+mj.apply(void 0,a);jj.error(c)},tj=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c="FIREBASE FATAL ERROR: "+mj.apply(void 0,a);throw jj.error(c),new Error(c)},uj=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c="FIREBASE WARNING: "+mj.apply(void 0,a);jj.warn(c)},vj=function(a){return"number"==typeof a&&(a!=a||a==Number.POSITIVE_INFINITY||a==Number.NEGATIVE_INFINITY)},wj="[MIN_NAME]",xj="[MAX_NAME]",yj=function(a,b){if(a===b)return 0;if(a===wj||b===xj)return-1;if(b===wj||a===xj)return 1;var c=Gj(a),d=Gj(b);return null!==c?null!==d?c-d==0?a.length-b.length:c-d:-1:null!==d?1:b>a?-1:1},zj=function(a,b){return a===b?0:b>a?-1:1},Aj=function(a,b){if(b&&a in b)return b[a];throw new Error("Missing required key ("+a+") in object: "+o(b))},Bj=function(a){if("object"!=typeof a||null===a)return o(a);var b=[];for(var c in a)b.push(c);b.sort();for(var d="{",e=0;e<b.length;e++)0!==e&&(d+=","),d+=o(b[e]),d+=":",d+=Bj(a[b[e]]);return d+="}"},Cj=function(a,b){var c=a.length;if(b>=c)return[a];for(var d=[],e=0;c>e;e+=b)e+b>c?d.push(a.substring(e,c)):d.push(a.substring(e,e+b));return d},Dj=function(a,b){if(Array.isArray(a))for(var c=0;c<a.length;++c)b(c,a[c]);else wi(a,function(a,c){return b(c,a)})},Ej=function(a){gi(!vj(a),"Invalid JSON number");var b,c,d,e,f,g,h;for(0===a?b=1/a==-1/(d=c=0)?1:0:(b=0>a,d=(a=Math.abs(a))>=Math.pow(2,-1022)?(c=(e=Math.min(Math.floor(Math.log(a)/Math.LN2),1023))+1023,Math.round(a*Math.pow(2,52-e)-Math.pow(2,52))):(c=0,Math.round(a/Math.pow(2,-1074)))),g=[],f=52;f;f-=1)g.push(d%2?1:0),d=Math.floor(d/2);for(f=11;f;f-=1)g.push(c%2?1:0),c=Math.floor(c/2);g.push(b?1:0),g.reverse(),h=g.join("");var i="";for(f=0;64>f;f+=8){var j=parseInt(h.substr(f,8),2).toString(16);1===j.length&&(j="0"+j),i+=j}return i.toLowerCase()},Fj=new RegExp("^-?\\d{1,10}$"),Gj=function(a){if(Fj.test(a)){var b=Number(a);if(b>=-2147483648&&2147483647>=b)return b}return null},Hj=function(a){try{a()}catch(b){setTimeout(function(){var a=b.stack||"";throw uj("Exception was thrown by user callback.",a),b},Math.floor(0))}},Ij=function(a,b){var c=setTimeout(a,b);return"object"==typeof c&&c.unref&&c.unref(),c},Jj=function(){function a(a,b){if(void 0===b){this.pieces_=a.split("/");for(var c=0,d=0;d<this.pieces_.length;d++)0<this.pieces_[d].length&&(this.pieces_[c]=this.pieces_[d],c++);this.pieces_.length=c,this.pieceNum_=0}else this.pieces_=a,this.pieceNum_=b}return Object.defineProperty(a,"Empty",{get:function(){return new a("")},enumerable:!0,configurable:!0}),a.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},a.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},a.prototype.popFront=function(){var b=this.pieceNum_;return b<this.pieces_.length&&b++,new a(this.pieces_,b)},a.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},a.prototype.toString=function(){for(var a="",b=this.pieceNum_;b<this.pieces_.length;b++)""!==this.pieces_[b]&&(a+="/"+this.pieces_[b]);return a||"/"},a.prototype.toUrlEncodedString=function(){for(var a="",b=this.pieceNum_;b<this.pieces_.length;b++)""!==this.pieces_[b]&&(a+="/"+encodeURIComponent(String(this.pieces_[b])));return a||"/"},a.prototype.slice=function(a){return void 0===a&&(a=0),this.pieces_.slice(this.pieceNum_+a)},a.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var b=[],c=this.pieceNum_;c<this.pieces_.length-1;c++)b.push(this.pieces_[c]);return new a(b,0)},a.prototype.child=function(b){for(var c=[],d=this.pieceNum_;d<this.pieces_.length;d++)c.push(this.pieces_[d]);if(b instanceof a)for(d=b.pieceNum_;d<b.pieces_.length;d++)c.push(b.pieces_[d]);else{var e=b.split("/");for(d=0;d<e.length;d++)0<e[d].length&&c.push(e[d])}return new a(c,0)},a.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},a.relativePath=function(b,c){var d=b.getFront(),e=c.getFront();if(null===d)return c;if(d===e)return a.relativePath(b.popFront(),c.popFront());throw new Error("INTERNAL ERROR: innerPath ("+c+") is not within outerPath ("+b+")")},a.comparePaths=function(a,b){for(var c=a.slice(),d=b.slice(),e=0;e<c.length&&e<d.length;e++){var f=yj(c[e],d[e]);if(0!==f)return f}return c.length===d.length?0:c.length<d.length?-1:1},a.prototype.equals=function(a){if(this.getLength()!==a.getLength())return!1;for(var b=this.pieceNum_,c=a.pieceNum_;b<=this.pieces_.length;b++,c++)if(this.pieces_[b]!==a.pieces_[c])return!1;return!0},a.prototype.contains=function(a){var b=this.pieceNum_,c=a.pieceNum_;if(this.getLength()>a.getLength())return!1;for(;b<this.pieces_.length;){if(this.pieces_[b]!==a.pieces_[c])return!1;++b,++c}return!0},a}(),Kj=function(){function a(a,b){this.errorPrefix_=b,this.parts_=a.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var c=0;c<this.parts_.length;c++)this.byteLength_+=Gi(this.parts_[c]);this.checkValid_()}return Object.defineProperty(a,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(a,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),a.prototype.push=function(a){0<this.parts_.length&&(this.byteLength_+=1),this.parts_.push(a),this.byteLength_+=Gi(a),this.checkValid_()},a.prototype.pop=function(){var a=this.parts_.pop();this.byteLength_-=Gi(a),0<this.parts_.length&&(this.byteLength_-=1)},a.prototype.checkValid_=function(){if(this.byteLength_>a.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+a.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>a.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+a.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},a.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},a}(),Lj="firebaseio.com",Mj="websocket",Nj="long_polling",Oj=function(){function a(a,b,c,d,e){void 0===e&&(e=""),this.secure=b,this.namespace=c,this.webSocketOnly=d,this.persistenceKey=e,this.host=a.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=hj.get("host:"+a)||this.host}return a.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()},a.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},a.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},a.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},a.prototype.updateHost=function(a){a!==this.internalHost&&(this.internalHost=a,this.isCacheableHost()&&hj.set("host:"+this.host,this.internalHost))},a.prototype.connectionURL=function(a,b){var c;if(gi("string"==typeof a,"typeof type must == string"),gi("object"==typeof b,"typeof params must == object"),a===Mj)c=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(a!==Nj)throw new Error("Unknown connection type: "+a);c=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(b.ns=this.namespace);var d=[];return wi(b,function(a,b){d.push(a+"="+b)}),c+d.join("&")},a.prototype.toString=function(){var a=this.toURLString();return this.persistenceKey&&(a+="<"+this.persistenceKey+">"),a},a.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},a}(),Pj=function(a){var b=Qj(a),c=b.subdomain;"firebase"===b.domain&&tj(b.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),c&&"undefined"!=c||"localhost"===b.domain||tj("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),b.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&uj("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var d="ws"===b.scheme||"wss"===b.scheme;return{repoInfo:new Oj(b.host,b.secure,c,d),path:new Jj(b.pathString)}},Qj=function(a){var b="",c="",d="",e="",f=!0,g="https",h=443;if("string"==typeof a){var i=a.indexOf("//");i>=0&&(g=a.substring(0,i-1),a=a.substring(i+2));var j=a.indexOf("/");-1===j&&(j=a.length);var k=a.indexOf("?");-1===k&&(k=a.length),b=a.substring(0,Math.min(j,k)),k>j&&(e=function(a){for(var b="",c=a.split("/"),d=0;d<c.length;d++)if(0<c[d].length){var e=c[d];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(a){}b+="/"+e}return b}(a.substring(j,k)));var l=function(a){var b={};"?"===a.charAt(0)&&(a=a.substring(1));for(var c=0,d=a.split("&");c<d.length;c++){var e=d[c];if(0!==e.length){var f=e.split("=");2===f.length?b[decodeURIComponent(f[0])]=decodeURIComponent(f[1]):uj("Invalid query segment '"+e+"' in query '"+a+"'")}}return b}(a.substring(Math.min(a.length,k)));0<=(i=b.indexOf(":"))?(f="https"===g||"wss"===g,h=parseInt(b.substring(i+1),10)):i=a.length;var m=b.split(".");3===m.length?(c=m[1],d=m[0].toLowerCase()):2===m.length?c=m[0]:"localhost"===m[0].slice(0,i).toLowerCase()&&(c="localhost"),""===d&&"ns"in l&&(d=l.ns)}return{host:b,port:h,domain:c,subdomain:d,secure:f,scheme:g,pathString:e}},Rj=/[\[\].#$\/\u0000-\u001F\u007F]/,Sj=/[\[\].#$\u0000-\u001F\u007F]/,Tj=10485760,Uj=function(a){return"string"==typeof a&&0!==a.length&&!Rj.test(a)},Vj=function(a){return"string"==typeof a&&0!==a.length&&!Sj.test(a)},Wj=function(a){return null===a||"string"==typeof a||"number"==typeof a&&!vj(a)||a&&"object"==typeof a&&ui(a,".sv")},Xj=function(a,b,c,d,e){e&&void 0===c||Yj(r(a,b,e),c,d)},Yj=function(a,b,c){var d=c instanceof Jj?new Kj(c,a):c;if(void 0===b)throw new Error(a+"contains undefined "+d.toErrorString());if("function"==typeof b)throw new Error(a+"contains a function "+d.toErrorString()+" with contents = "+b.toString());if(vj(b))throw new Error(a+"contains "+b.toString()+" "+d.toErrorString());if("string"==typeof b&&b.length>Tj/3&&Gi(b)>Tj)throw new Error(a+"contains a string greater than "+Tj+" utf8 bytes "+d.toErrorString()+" ('"+b.substring(0,50)+"...')");if(b&&"object"==typeof b){var e=!1,f=!1;if(wi(b,function(b,c){if(".value"===b)e=!0;else if(".priority"!==b&&".sv"!==b&&(f=!0,!Uj(b)))throw new Error(a+" contains an invalid key ("+b+") "+d.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');d.push(b),Yj(a,c,d),d.pop()}),e&&f)throw new Error(a+' contains ".value" child '+d.toErrorString()+" in addition to actual children.")}},Zj=function(a,b,c,d,e){if(!e||void 0!==c){var f=r(a,b,e);if(!c||"object"!=typeof c||Array.isArray(c))throw new Error(f+" must be an object containing the children to replace.");var g=[];wi(c,function(a,b){var c=new Jj(a);if(Yj(f,b,d.child(c)),".priority"===c.getBack()&&!Wj(b))throw new Error(f+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");g.push(c)}),function(a,b){var c,d;for(c=0;c<b.length;c++)for(var e=(d=b[c]).slice(),f=0;f<e.length;f++)if(".priority"===e[f]&&f===e.length-1);else if(!Uj(e[f]))throw new Error(a+"contains an invalid key ("+e[f]+") in path "+d.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');b.sort(Jj.comparePaths);
var g=null;for(c=0;c<b.length;c++){if(d=b[c],null!==g&&g.contains(d))throw new Error(a+"contains a path "+g.toString()+" that is ancestor of another path "+d.toString());g=d}}(f,g)}},$j=function(a,b,c,d){if(!d||void 0!==c){if(vj(c))throw new Error(r(a,b,d)+"is "+c.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Wj(c))throw new Error(r(a,b,d)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},_j=function(a,b,c,d){if(!d||void 0!==c)switch(c){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(r(a,b,d)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ak=function(a,b,c,d){if(!(d&&void 0===c||Uj(c)))throw new Error(r(a,b,d)+'was an invalid key = "'+c+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},bk=function(a,b,c,d){if(!(d&&void 0===c||Vj(c)))throw new Error(r(a,b,d)+'was an invalid path = "'+c+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ck=function(a,b){if(".info"===b.getFront())throw new Error(a+" failed = Can't modify data under /.info/")},dk=function(a,b,c){var d,e=c.path.toString();if("string"!=typeof c.repoInfo.host||0===c.repoInfo.host.length||!Uj(c.repoInfo.namespace)&&"localhost"!==c.repoInfo.host.split(":")[0]||0!==e.length&&((d=e)&&(d=d.replace(/^\/*\.info(\/|$)/,"/")),!Vj(d)))throw new Error(r(a,b,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ek=function(){function a(a,b){this.repo_=a,this.path_=b}return a.prototype.cancel=function(a){Fi("OnDisconnect.cancel",0,1,arguments.length),s("OnDisconnect.cancel",1,a,!0);var b=new li;return this.repo_.onDisconnectCancel(this.path_,b.wrapCallback(a)),b.promise},a.prototype.remove=function(a){Fi("OnDisconnect.remove",0,1,arguments.length),ck("OnDisconnect.remove",this.path_),s("OnDisconnect.remove",1,a,!0);var b=new li;return this.repo_.onDisconnectSet(this.path_,null,b.wrapCallback(a)),b.promise},a.prototype.set=function(a,b){Fi("OnDisconnect.set",1,2,arguments.length),ck("OnDisconnect.set",this.path_),Xj("OnDisconnect.set",1,a,this.path_,!1),s("OnDisconnect.set",2,b,!0);var c=new li;return this.repo_.onDisconnectSet(this.path_,a,c.wrapCallback(b)),c.promise},a.prototype.setWithPriority=function(a,b,c){Fi("OnDisconnect.setWithPriority",2,3,arguments.length),ck("OnDisconnect.setWithPriority",this.path_),Xj("OnDisconnect.setWithPriority",1,a,this.path_,!1),$j("OnDisconnect.setWithPriority",2,b,!1),s("OnDisconnect.setWithPriority",3,c,!0);var d=new li;return this.repo_.onDisconnectSetWithPriority(this.path_,a,b,d.wrapCallback(c)),d.promise},a.prototype.update=function(a,b){if(Fi("OnDisconnect.update",1,2,arguments.length),ck("OnDisconnect.update",this.path_),Array.isArray(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c,uj("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Zj("OnDisconnect.update",1,a,this.path_,!1),s("OnDisconnect.update",2,b,!0);var e=new li;return this.repo_.onDisconnectUpdate(this.path_,a,e.wrapCallback(b)),e.promise},a}(),fk=function(){function a(a,b){this.committed=a,this.snapshot=b}return a.prototype.toJSON=function(){return Fi("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},a}(),gk=(Ti="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ui=0,Vi=[],function(a){var b,c=a===Ui;Ui=a;var d=new Array(8);for(b=7;b>=0;b--)d[b]=Ti.charAt(a%64),a=Math.floor(a/64);gi(0===a,"Cannot push at time == 0");var e=d.join("");if(c){for(b=11;b>=0&&63===Vi[b];b--)Vi[b]=0;Vi[b]++}else for(b=0;12>b;b++)Vi[b]=Math.floor(64*Math.random());for(b=0;12>b;b++)e+=Ti.charAt(Vi[b]);return gi(20===e.length,"nextPushId: Length should be 20."),e}),hk=function(){function a(a,b){this.name=a,this.node=b}return a.Wrap=function(b,c){return new a(b,c)},a}(),ik=function(){function a(){}return a.prototype.getCompare=function(){return this.compare.bind(this)},a.prototype.indexedValueChanged=function(a,b){var c=new hk(wj,a),d=new hk(wj,b);return 0!==this.compare(c,d)},a.prototype.minPost=function(){return hk.MIN},a}(),jk=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return v(b,a),Object.defineProperty(b,"__EMPTY_NODE",{get:function(){return Wi},set:function(a){Wi=a},enumerable:!0,configurable:!0}),b.prototype.compare=function(a,b){return yj(a.name,b.name)},b.prototype.isDefinedOn=function(a){throw hi("KeyIndex.isDefinedOn not expected to be called.")},b.prototype.indexedValueChanged=function(a,b){return!1},b.prototype.minPost=function(){return hk.MIN},b.prototype.maxPost=function(){return new hk(xj,Wi)},b.prototype.makePost=function(a,b){return gi("string"==typeof a,"KeyIndex indexValue must always be a string."),new hk(a,Wi)},b.prototype.toString=function(){return".key"},b}(ik),kk=new jk,lk=function(a){return"number"==typeof a?"number:"+Ej(a):"string:"+a},mk=function(a){if(a.isLeafNode()){var b=a.val();gi("string"==typeof b||"number"==typeof b||"object"==typeof b&&ui(b,".sv"),"Priority must be a string or number.")}else gi(a===Xi||a.isEmpty(),"priority of unexpected type.");gi(a===Xi||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},nk=function(){function a(b,c){void 0===c&&(c=a.__childrenNodeConstructor.EMPTY_NODE),this.value_=b,this.priorityNode_=c,this.lazyHash_=null,gi(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),mk(this.priorityNode_)}return Object.defineProperty(a,"__childrenNodeConstructor",{get:function(){return Yi},set:function(a){Yi=a},enumerable:!0,configurable:!0}),a.prototype.isLeafNode=function(){return!0},a.prototype.getPriority=function(){return this.priorityNode_},a.prototype.updatePriority=function(b){return new a(this.value_,b)},a.prototype.getImmediateChild=function(b){return".priority"===b?this.priorityNode_:a.__childrenNodeConstructor.EMPTY_NODE},a.prototype.getChild=function(b){return b.isEmpty()?this:".priority"===b.getFront()?this.priorityNode_:a.__childrenNodeConstructor.EMPTY_NODE},a.prototype.hasChild=function(){return!1},a.prototype.getPredecessorChildName=function(a,b){return null},a.prototype.updateImmediateChild=function(b,c){return".priority"===b?this.updatePriority(c):c.isEmpty()&&".priority"!==b?this:a.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(b,c).updatePriority(this.priorityNode_)},a.prototype.updateChild=function(b,c){var d=b.getFront();return null===d?c:c.isEmpty()&&".priority"!==d?this:(gi(".priority"!==d||1===b.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(d,a.__childrenNodeConstructor.EMPTY_NODE.updateChild(b.popFront(),c)))},a.prototype.isEmpty=function(){return!1},a.prototype.numChildren=function(){return 0},a.prototype.forEachChild=function(a,b){return!1},a.prototype.val=function(a){return a&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},a.prototype.hash=function(){if(null===this.lazyHash_){var a="";this.priorityNode_.isEmpty()||(a+="priority:"+lk(this.priorityNode_.val())+":");var b=typeof this.value_;a+=b+":",a+="number"===b?Ej(this.value_):this.value_,this.lazyHash_=lj(a)}return this.lazyHash_},a.prototype.getValue=function(){return this.value_},a.prototype.compareTo=function(b){return b===a.__childrenNodeConstructor.EMPTY_NODE?1:b instanceof a.__childrenNodeConstructor?-1:(gi(b.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(b))},a.prototype.compareToLeafNode_=function(b){var c=typeof b.value_,d=typeof this.value_,e=a.VALUE_TYPE_ORDER.indexOf(c),f=a.VALUE_TYPE_ORDER.indexOf(d);return gi(e>=0,"Unknown leaf type: "+c),gi(f>=0,"Unknown leaf type: "+d),e===f?"object"===d?0:this.value_<b.value_?-1:this.value_===b.value_?0:1:f-e},a.prototype.withIndex=function(){return this},a.prototype.isIndexed=function(){return!0},a.prototype.equals=function(a){if(a===this)return!0;if(a.isLeafNode()){var b=a;return this.value_===b.value_&&this.priorityNode_.equals(b.priorityNode_)}return!1},a.VALUE_TYPE_ORDER=["object","boolean","number","string"],a}(),ok=new(function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return v(b,a),b.prototype.compare=function(a,b){var c=a.node.getPriority(),d=b.node.getPriority(),e=c.compareTo(d);return 0===e?yj(a.name,b.name):e},b.prototype.isDefinedOn=function(a){return!a.getPriority().isEmpty()},b.prototype.indexedValueChanged=function(a,b){return!a.getPriority().equals(b.getPriority())},b.prototype.minPost=function(){return hk.MIN},b.prototype.maxPost=function(){return new hk(xj,new nk("[PRIORITY-POST]",$i))},b.prototype.makePost=function(a,b){var c=Zi(a);return new hk(b,new nk("[PRIORITY-POST]",c))},b.prototype.toString=function(){return".priority"},b}(ik)),pk=function(){function a(a,b,c,d,e){void 0===e&&(e=null),this.isReverse_=d,this.resultGenerator_=e,this.nodeStack_=[];for(var f=1;!a.isEmpty();)if(a=a,f=b?c(a.key,b):1,d&&(f*=-1),0>f)a=this.isReverse_?a.left:a.right;else{if(0===f){this.nodeStack_.push(a);break}this.nodeStack_.push(a),a=this.isReverse_?a.right:a.left}}return a.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var a,b=this.nodeStack_.pop();if(a=this.resultGenerator_?this.resultGenerator_(b.key,b.value):{key:b.key,value:b.value},this.isReverse_)for(b=b.left;!b.isEmpty();)this.nodeStack_.push(b),b=b.right;else for(b=b.right;!b.isEmpty();)this.nodeStack_.push(b),b=b.left;return a},a.prototype.hasNext=function(){return 0<this.nodeStack_.length},a.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var a=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(a.key,a.value):{key:a.key,value:a.value}},a}(),qk=function(){function a(b,c,d,e,f){this.key=b,this.value=c,this.color=null!=d?d:a.RED,this.left=null!=e?e:sk.EMPTY_NODE,this.right=null!=f?f:sk.EMPTY_NODE}return a.prototype.copy=function(b,c,d,e,f){return new a(null!=b?b:this.key,null!=c?c:this.value,null!=d?d:this.color,null!=e?e:this.left,null!=f?f:this.right)},a.prototype.count=function(){return this.left.count()+1+this.right.count()},a.prototype.isEmpty=function(){return!1},a.prototype.inorderTraversal=function(a){return this.left.inorderTraversal(a)||a(this.key,this.value)||this.right.inorderTraversal(a)},a.prototype.reverseTraversal=function(a){return this.right.reverseTraversal(a)||a(this.key,this.value)||this.left.reverseTraversal(a)},a.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},a.prototype.minKey=function(){return this.min_().key},a.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},a.prototype.insert=function(a,b,c){var d,e;return(e=(d=c(a,(e=this).key))<0?e.copy(null,null,null,e.left.insert(a,b,c),null):0===d?e.copy(null,b,null,null,null):e.copy(null,null,null,null,e.right.insert(a,b,c))).fixUp_()},a.prototype.removeMin_=function(){if(this.left.isEmpty())return sk.EMPTY_NODE;var a=this;return a.left.isRed_()||a.left.left.isRed_()||(a=a.moveRedLeft_()),(a=a.copy(null,null,null,a.left.removeMin_(),null)).fixUp_()},a.prototype.remove=function(a,b){var c,d;if(b(a,(c=this).key)<0)c.left.isEmpty()||c.left.isRed_()||c.left.left.isRed_()||(c=c.moveRedLeft_()),c=c.copy(null,null,null,c.left.remove(a,b),null);else{if(c.left.isRed_()&&(c=c.rotateRight_()),c.right.isEmpty()||c.right.isRed_()||c.right.left.isRed_()||(c=c.moveRedRight_()),0===b(a,c.key)){if(c.right.isEmpty())return sk.EMPTY_NODE;d=c.right.min_(),c=c.copy(d.key,d.value,null,null,c.right.removeMin_())}c=c.copy(null,null,null,null,c.right.remove(a,b))}return c.fixUp_()},a.prototype.isRed_=function(){return this.color},a.prototype.fixUp_=function(){var a=this;return a.right.isRed_()&&!a.left.isRed_()&&(a=a.rotateLeft_()),a.left.isRed_()&&a.left.left.isRed_()&&(a=a.rotateRight_()),a.left.isRed_()&&a.right.isRed_()&&(a=a.colorFlip_()),a},a.prototype.moveRedLeft_=function(){var a=this.colorFlip_();return a.right.left.isRed_()&&(a=(a=(a=a.copy(null,null,null,null,a.right.rotateRight_())).rotateLeft_()).colorFlip_()),a},a.prototype.moveRedRight_=function(){var a=this.colorFlip_();return a.left.left.isRed_()&&(a=(a=a.rotateRight_()).colorFlip_()),a},a.prototype.rotateLeft_=function(){var b=this.copy(null,null,a.RED,null,this.right.left);return this.right.copy(null,null,this.color,b,null)},a.prototype.rotateRight_=function(){var b=this.copy(null,null,a.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,b)},a.prototype.colorFlip_=function(){var a=this.left.copy(null,null,!this.left.color,null,null),b=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,a,b)},a.prototype.checkMaxDepth_=function(){var a=this.check_();return Math.pow(2,a)<=this.count()+1},a.prototype.check_=function(){var a;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((a=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return a+(this.isRed_()?0:1)},a.RED=!0,a.BLACK=!1,a}(),rk=function(){function a(){}return a.prototype.copy=function(a,b,c,d,e){return this},a.prototype.insert=function(a,b,c){return new qk(a,b,null)},a.prototype.remove=function(a,b){return this},a.prototype.count=function(){return 0},a.prototype.isEmpty=function(){return!0},a.prototype.inorderTraversal=function(a){return!1},a.prototype.reverseTraversal=function(a){return!1},a.prototype.minKey=function(){return null},a.prototype.maxKey=function(){return null},a.prototype.check_=function(){return 0},a.prototype.isRed_=function(){return!1},a}(),sk=function(){function a(b,c){void 0===c&&(c=a.EMPTY_NODE),this.comparator_=b,this.root_=c}return a.prototype.insert=function(b,c){return new a(this.comparator_,this.root_.insert(b,c,this.comparator_).copy(null,null,qk.BLACK,null,null))},a.prototype.remove=function(b){return new a(this.comparator_,this.root_.remove(b,this.comparator_).copy(null,null,qk.BLACK,null,null))},a.prototype.get=function(a){for(var b,c=this.root_;!c.isEmpty();){if(0===(b=this.comparator_(a,c.key)))return c.value;0>b?c=c.left:b>0&&(c=c.right)}return null},a.prototype.getPredecessorKey=function(a){for(var b,c=this.root_,d=null;!c.isEmpty();){if(0===(b=this.comparator_(a,c.key))){if(c.left.isEmpty())return d?d.key:null;for(c=c.left;!c.right.isEmpty();)c=c.right;return c.key}0>b?c=c.left:b>0&&(c=(d=c).right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},a.prototype.isEmpty=function(){return this.root_.isEmpty()},a.prototype.count=function(){return this.root_.count()},a.prototype.minKey=function(){return this.root_.minKey()},a.prototype.maxKey=function(){return this.root_.maxKey()},a.prototype.inorderTraversal=function(a){return this.root_.inorderTraversal(a)},a.prototype.reverseTraversal=function(a){return this.root_.reverseTraversal(a)},a.prototype.getIterator=function(a){return new pk(this.root_,null,this.comparator_,!1,a)},a.prototype.getIteratorFrom=function(a,b){return new pk(this.root_,a,this.comparator_,!1,b)},a.prototype.getReverseIteratorFrom=function(a,b){return new pk(this.root_,a,this.comparator_,!0,b)},a.prototype.getReverseIterator=function(a){return new pk(this.root_,null,this.comparator_,!0,a)},a.EMPTY_NODE=new rk,a}(),tk=Math.log(2),uk=function(){function a(a){var b;this.count=(b=a+1,parseInt(Math.log(b)/tk,10)),this.current_=this.count-1;var c,d=(c=this.count,parseInt(Array(c+1).join("1"),2));this.bits_=a+1&d}return a.prototype.nextBitIsOne=function(){var a=!(this.bits_&1<<this.current_);return this.current_--,a},a}(),vk=function(a,b,c,d){a.sort(b);var e=function(b,d){var f,g,h=d-b;if(0==h)return null;if(1==h)return f=a[b],g=c?c(f):f,new qk(g,f.node,qk.BLACK,null,null);var i=parseInt(h/2,10)+b,j=e(b,i),k=e(i+1,d);return f=a[i],g=c?c(f):f,new qk(g,f.node,qk.BLACK,j,k)},f=function(b){for(var d=null,f=null,g=a.length,h=function(b,d){var f=g-b,h=g;g-=b;var j=e(f+1,h),k=a[f],l=c?c(k):k;i(new qk(l,k.node,d,null,j))},i=function(a){d=d?d.left=a:f=a},j=0;j<b.count;++j){var k=b.nextBitIsOne(),l=Math.pow(2,b.count-(j+1));k?h(l,qk.BLACK):(h(l,qk.BLACK),h(l,qk.RED))}return f}(new uk(a.length));return new sk(d||b,f)},wk={},xk=function(){function a(a,b){this.indexes_=a,this.indexSet_=b}return Object.defineProperty(a,"Default",{get:function(){return gi(ok,"ChildrenNode.ts has not been loaded"),_i=_i||new a({".priority":wk},{".priority":ok})},enumerable:!0,configurable:!0}),a.prototype.get=function(a){var b=vi(this.indexes_,a);if(!b)throw new Error("No index defined for "+a);return b===wk?null:b},a.prototype.hasIndex=function(a){return ui(this.indexSet_,a.toString())},a.prototype.addIndex=function(b,c){gi(b!==kk,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var d,e=[],f=!1,g=c.getIterator(hk.Wrap),h=g.getNext();h;)f=f||b.isDefinedOn(h.node),e.push(h),h=g.getNext();d=f?vk(e,b.getCompare()):wk;var i=b.toString(),j=xi(this.indexSet_);j[i]=b;var k=xi(this.indexes_);return k[i]=d,new a(k,j)},a.prototype.addToIndexes=function(b,c){var d=this;return new a(Ai(this.indexes_,function(a,e){var f=vi(d.indexSet_,e);if(gi(f,"Missing index implementation for "+e),a===wk){if(f.isDefinedOn(b.node)){for(var g=[],h=c.getIterator(hk.Wrap),i=h.getNext();i;)i.name!=b.name&&g.push(i),i=h.getNext();return g.push(b),vk(g,f.getCompare())}return wk}var j=c.get(b.name),k=a;return j&&(k=k.remove(new hk(b.name,j))),k.insert(b,b.node)}),this.indexSet_)},a.prototype.removeFromIndexes=function(b,c){return new a(Ai(this.indexes_,function(a){if(a===wk)return a;var d=c.get(b.name);return d?a.remove(new hk(b.name,d)):a}),this.indexSet_)},a}(),yk=function(){function a(a,b,c){this.children_=a,this.priorityNode_=b,this.indexMap_=c,this.lazyHash_=null,this.priorityNode_&&mk(this.priorityNode_),this.children_.isEmpty()&&gi(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(a,"EMPTY_NODE",{get:function(){return aj||(aj=new a(new sk(A),null,xk.Default))},enumerable:!0,configurable:!0}),a.prototype.isLeafNode=function(){return!1},a.prototype.getPriority=function(){return this.priorityNode_||aj},a.prototype.updatePriority=function(b){return this.children_.isEmpty()?this:new a(this.children_,b,this.indexMap_)},a.prototype.getImmediateChild=function(a){if(".priority"===a)return this.getPriority();var b=this.children_.get(a);return null===b?aj:b},a.prototype.getChild=function(a){var b=a.getFront();return null===b?this:this.getImmediateChild(b).getChild(a.popFront())},a.prototype.hasChild=function(a){return null!==this.children_.get(a)},a.prototype.updateImmediateChild=function(b,c){if(gi(c,"We should always be passing snapshot nodes"),".priority"===b)return this.updatePriority(c);var d=new hk(b,c),e=void 0,f=void 0;return f=c.isEmpty()?(e=this.children_.remove(b),this.indexMap_.removeFromIndexes(d,this.children_)):(e=this.children_.insert(b,c),this.indexMap_.addToIndexes(d,this.children_)),new a(e,e.isEmpty()?aj:this.priorityNode_,f)},a.prototype.updateChild=function(a,b){var c=a.getFront();if(null===c)return b;gi(".priority"!==a.getFront()||1===a.getLength(),".priority must be the last token in a path");var d=this.getImmediateChild(c).updateChild(a.popFront(),b);return this.updateImmediateChild(c,d)},a.prototype.isEmpty=function(){return this.children_.isEmpty()},a.prototype.numChildren=function(){return this.children_.count()},a.prototype.val=function(b){if(this.isEmpty())return null;var c={},d=0,e=0,f=!0;if(this.forEachChild(ok,function(g,h){c[g]=h.val(b),d++,f&&a.INTEGER_REGEXP_.test(g)?e=Math.max(e,Number(g)):f=!1}),!b&&f&&2*d>e){var g=[];for(var h in c)g[h]=c[h];return g}return b&&!this.getPriority().isEmpty()&&(c[".priority"]=this.getPriority().val()),c},a.prototype.hash=function(){if(null===this.lazyHash_){var a="";this.getPriority().isEmpty()||(a+="priority:"+lk(this.getPriority().val())+":"),this.forEachChild(ok,function(b,c){var d=c.hash();""!==d&&(a+=":"+b+":"+d)}),this.lazyHash_=""===a?"":lj(a)}return this.lazyHash_},a.prototype.getPredecessorChildName=function(a,b,c){var d=this.resolveIndex_(c);if(d){var e=d.getPredecessorKey(new hk(a,b));return e?e.name:null}return this.children_.getPredecessorKey(a)},a.prototype.getFirstChildName=function(a){var b=this.resolveIndex_(a);if(b){var c=b.minKey();return c&&c.name}return this.children_.minKey()},a.prototype.getFirstChild=function(a){var b=this.getFirstChildName(a);return b?new hk(b,this.children_.get(b)):null},a.prototype.getLastChildName=function(a){var b=this.resolveIndex_(a);if(b){var c=b.maxKey();return c&&c.name}return this.children_.maxKey()},a.prototype.getLastChild=function(a){var b=this.getLastChildName(a);return b?new hk(b,this.children_.get(b)):null},a.prototype.forEachChild=function(a,b){var c=this.resolveIndex_(a);return c?c.inorderTraversal(function(a){return b(a.name,a.node)}):this.children_.inorderTraversal(b)},a.prototype.getIterator=function(a){return this.getIteratorFrom(a.minPost(),a)},a.prototype.getIteratorFrom=function(a,b){var c=this.resolveIndex_(b);if(c)return c.getIteratorFrom(a,function(a){return a});for(var d=this.children_.getIteratorFrom(a.name,hk.Wrap),e=d.peek();null!=e&&b.compare(e,a)<0;)d.getNext(),e=d.peek();return d},a.prototype.getReverseIterator=function(a){return this.getReverseIteratorFrom(a.maxPost(),a)},a.prototype.getReverseIteratorFrom=function(a,b){var c=this.resolveIndex_(b);if(c)return c.getReverseIteratorFrom(a,function(a){return a});for(var d=this.children_.getReverseIteratorFrom(a.name,hk.Wrap),e=d.peek();null!=e&&0<b.compare(e,a);)d.getNext(),e=d.peek();return d},a.prototype.compareTo=function(a){return this.isEmpty()?a.isEmpty()?0:-1:a.isLeafNode()||a.isEmpty()?1:a===zk?-1:0},a.prototype.withIndex=function(b){if(b===kk||this.indexMap_.hasIndex(b))return this;var c=this.indexMap_.addIndex(b,this.children_);return new a(this.children_,this.priorityNode_,c)},a.prototype.isIndexed=function(a){return a===kk||this.indexMap_.hasIndex(a)},a.prototype.equals=function(a){if(a===this)return!0;if(a.isLeafNode())return!1;var b=a;if(this.getPriority().equals(b.getPriority())){if(this.children_.count()!==b.children_.count())return!1;for(var c=this.getIterator(ok),d=b.getIterator(ok),e=c.getNext(),f=d.getNext();e&&f;){if(e.name!==f.name||!e.node.equals(f.node))return!1;e=c.getNext(),f=d.getNext()}return null===e&&null===f}return!1},a.prototype.resolveIndex_=function(a){return a===kk?null:this.indexMap_.get(a.toString())},a.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,a}(),zk=new(function(a){function b(){return a.call(this,new sk(A),yk.EMPTY_NODE,xk.Default)||this}return v(b,a),b.prototype.compareTo=function(a){return a===this?0:1},b.prototype.equals=function(a){return a===this},b.prototype.getPriority=function(){return this},b.prototype.getImmediateChild=function(a){return yk.EMPTY_NODE},b.prototype.isEmpty=function(){return!1},b}(yk));Object.defineProperties(hk,{MIN:{value:new hk(wj,yk.EMPTY_NODE)},MAX:{value:new hk(xj,zk)}}),jk.__EMPTY_NODE=yk.EMPTY_NODE,nk.__childrenNodeConstructor=yk,Xi=zk,$i=zk;var Ak=!0;Zi=B;var Bk,Ck,Dk,Ek=new(function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return v(b,a),b.prototype.compare=function(a,b){var c=a.node.compareTo(b.node);return 0===c?yj(a.name,b.name):c},b.prototype.isDefinedOn=function(a){return!0},b.prototype.indexedValueChanged=function(a,b){return!a.equals(b)},b.prototype.minPost=function(){return hk.MIN},b.prototype.maxPost=function(){return hk.MAX},b.prototype.makePost=function(a,b){var c=B(a);return new hk(b,c)},b.prototype.toString=function(){return".value"},b}(ik)),Fk=function(a){function b(b){var c=a.call(this)||this;return c.indexPath_=b,gi(!b.isEmpty()&&".priority"!==b.getFront(),"Can't create PathIndex with empty path or .priority key"),c}return v(b,a),b.prototype.extractChild=function(a){return a.getChild(this.indexPath_)},b.prototype.isDefinedOn=function(a){return!a.getChild(this.indexPath_).isEmpty()},b.prototype.compare=function(a,b){var c=this.extractChild(a.node),d=this.extractChild(b.node),e=c.compareTo(d);return 0===e?yj(a.name,b.name):e},b.prototype.makePost=function(a,b){var c=B(a),d=yk.EMPTY_NODE.updateChild(this.indexPath_,c);return new hk(b,d)},b.prototype.maxPost=function(){var a=yk.EMPTY_NODE.updateChild(this.indexPath_,zk);return new hk(xj,a)},b.prototype.toString=function(){return this.indexPath_.slice().join("/")},b}(ik),Gk=function(){function a(a,b,c){this.node_=a,this.ref_=b,this.index_=c}return a.prototype.val=function(){return Fi("DataSnapshot.val",0,0,arguments.length),this.node_.val()},a.prototype.exportVal=function(){return Fi("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},a.prototype.toJSON=function(){return Fi("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},a.prototype.exists=function(){return Fi("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},a.prototype.child=function(b){Fi("DataSnapshot.child",0,1,arguments.length),b=String(b),bk("DataSnapshot.child",1,b,!1);var c=new Jj(b),d=this.ref_.child(c);return new a(this.node_.getChild(c),d,ok)},a.prototype.hasChild=function(a){Fi("DataSnapshot.hasChild",1,1,arguments.length),bk("DataSnapshot.hasChild",1,a,!1);var b=new Jj(a);return!this.node_.getChild(b).isEmpty()},a.prototype.getPriority=function(){return Fi("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},a.prototype.forEach=function(b){var c=this;return Fi("DataSnapshot.forEach",1,1,arguments.length),s("DataSnapshot.forEach",1,b,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,function(d,e){return b(new a(e,c.ref_.child(d),ok))})},a.prototype.hasChildren=function(){return Fi("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(a.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),a.prototype.numChildren=function(){return Fi("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},a.prototype.getRef=function(){return Fi("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(a.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),a}(),Hk=function(){function a(a,b,c,d){this.eventType=a,this.eventRegistration=b,this.snapshot=c,this.prevName=d}return a.prototype.getPath=function(){var a=this.snapshot.getRef();return"value"===this.eventType?a.path:a.getParent().path},a.prototype.getEventType=function(){return this.eventType},a.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},a.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+o(this.snapshot.exportVal())},a}(),Ik=function(){function a(a,b,c){this.eventRegistration=a,this.error=b,this.path=c}return a.prototype.getPath=function(){return this.path},a.prototype.getEventType=function(){return"cancel"},a.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},a.prototype.toString=function(){return this.path.toString()+":cancel"},a}(),Jk=function(){function a(a,b,c){this.callback_=a,this.cancelCallback_=b,this.context_=c}return a.prototype.respondsTo=function(a){return"value"===a},a.prototype.createEvent=function(a,b){var c=b.getQueryParams().getIndex();return new Hk("value",this,new Gk(a.snapshotNode,b.getRef(),c))},a.prototype.getEventRunner=function(a){var b=this.context_;if("cancel"===a.getEventType()){gi(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var c=this.cancelCallback_;return function(){c.call(b,a.error)}}var d=this.callback_;return function(){d.call(b,a.snapshot)}},a.prototype.createCancelEvent=function(a,b){return this.cancelCallback_?new Ik(this,a,b):null},a.prototype.matches=function(b){return b instanceof a&&(!b.callback_||!this.callback_||b.callback_===this.callback_&&b.context_===this.context_)},a.prototype.hasAnyCallback=function(){return null!==this.callback_},a}(),Kk=function(){function a(a,b,c){this.callbacks_=a,this.cancelCallback_=b,this.context_=c}return a.prototype.respondsTo=function(a){var b="children_added"===a?"child_added":a;return b="children_removed"===b?"child_removed":b,ui(this.callbacks_,b)},a.prototype.createCancelEvent=function(a,b){return this.cancelCallback_?new Ik(this,a,b):null},a.prototype.createEvent=function(a,b){gi(null!=a.childName,"Child events should have a childName.");var c=b.getRef().child(a.childName),d=b.getQueryParams().getIndex();return new Hk(a.type,this,new Gk(a.snapshotNode,c,d),a.prevName)},a.prototype.getEventRunner=function(a){var b=this.context_;if("cancel"===a.getEventType()){gi(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var c=this.cancelCallback_;return function(){c.call(b,a.error)}}var d=this.callbacks_[a.eventType];return function(){d.call(b,a.snapshot,a.prevName)}},a.prototype.matches=function(b){if(b instanceof a){if(!this.callbacks_||!b.callbacks_)return!0;if(this.context_===b.context_){var c=zi(b.callbacks_);if(c===zi(this.callbacks_)){if(1!==c)return function(a,b){for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)&&!b(c,a[c]))return!1;return!0}(this.callbacks_,function(a,c){return b.callbacks_[a]===c});var d=Ci(b.callbacks_),e=Ci(this.callbacks_);return!(e!==d||b.callbacks_[d]&&this.callbacks_[e]&&b.callbacks_[d]!==this.callbacks_[e])}}}return!1},a.prototype.hasAnyCallback=function(){return null!==this.callbacks_},a}(),Lk=function(){function a(a,b,c,d){this.repo=a,this.path=b,this.queryParams_=c,this.orderByCalled_=d}return Object.defineProperty(a,"__referenceConstructor",{get:function(){return gi(Bk,"Reference.ts has not been loaded"),Bk},set:function(a){Bk=a},enumerable:!0,configurable:!0}),a.validateQueryEndpoints_=function(a){var b=null,c=null;if(a.hasStart()&&(b=a.getIndexStartValue()),a.hasEnd()&&(c=a.getIndexEndValue()),a.getIndex()===kk){var d="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",e="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(a.hasStart()){if(a.getIndexStartName()!=wj)throw new Error(d);if("string"!=typeof b)throw new Error(e)}if(a.hasEnd()){if(a.getIndexEndName()!=xj)throw new Error(d);if("string"!=typeof c)throw new Error(e)}}else if(a.getIndex()===ok){if(null!=b&&!Wj(b)||null!=c&&!Wj(c))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(gi(a.getIndex()instanceof Fk||a.getIndex()===Ek,"unknown index type."),null!=b&&"object"==typeof b||null!=c&&"object"==typeof c)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},a.validateLimit_=function(a){if(a.hasStart()&&a.hasEnd()&&a.hasLimit()&&!a.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},a.prototype.validateNoPreviousOrderByCall_=function(a){if(!0===this.orderByCalled_)throw new Error(a+": You can't combine multiple orderBy calls.")},a.prototype.getQueryParams=function(){return this.queryParams_},a.prototype.getRef=function(){return Fi("Query.ref",0,0,arguments.length),new a.__referenceConstructor(this.repo,this.path)},a.prototype.on=function(b,c,d,e){Fi("Query.on",2,4,arguments.length),_j("Query.on",1,b,!1),s("Query.on",2,c,!1);var f=a.getCancelAndContextArgs_("Query.on",d,e);if("value"===b)this.onValueEvent(c,f.cancel,f.context);else{var g={};g[b]=c,this.onChildEvent(g,f.cancel,f.context);
}return c},a.prototype.onValueEvent=function(a,b,c){var d=new Jk(a,b||null,c||null);this.repo.addEventCallbackForQuery(this,d)},a.prototype.onChildEvent=function(a,b,c){var d=new Kk(a,b,c);this.repo.addEventCallbackForQuery(this,d)},a.prototype.off=function(a,b,c){Fi("Query.off",0,3,arguments.length),_j("Query.off",1,a,!0),s("Query.off",2,b,!0),t("Query.off",3,c,!0);var d=null,e=null;"value"===a?d=new Jk(b||null,null,c||null):a&&(b&&((e={})[a]=b),d=new Kk(e,null,c||null)),this.repo.removeEventCallbackForQuery(this,d)},a.prototype.once=function(b,c,d,e){var f=this;Fi("Query.once",1,4,arguments.length),_j("Query.once",1,b,!1),s("Query.once",2,c,!0);var g=a.getCancelAndContextArgs_("Query.once",d,e),h=!0,i=new li;i.promise["catch"](function(){});var j=function(a){h&&(h=!1,f.off(b,j),c&&c.bind(g.context)(a),i.resolve(a))};return this.on(b,j,function(a){f.off(b,j),g.cancel&&g.cancel.bind(g.context)(a),i.reject(a)}),i.promise},a.prototype.limitToFirst=function(b){if(Fi("Query.limitToFirst",1,1,arguments.length),"number"!=typeof b||Math.floor(b)!==b||0>=b)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new a(this.repo,this.path,this.queryParams_.limitToFirst(b),this.orderByCalled_)},a.prototype.limitToLast=function(b){if(Fi("Query.limitToLast",1,1,arguments.length),"number"!=typeof b||Math.floor(b)!==b||0>=b)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new a(this.repo,this.path,this.queryParams_.limitToLast(b),this.orderByCalled_)},a.prototype.orderByChild=function(b){if(Fi("Query.orderByChild",1,1,arguments.length),"$key"===b)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===b)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===b)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');bk("Query.orderByChild",1,b,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var c=new Jj(b);if(c.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var d=new Fk(c),e=this.queryParams_.orderBy(d);return a.validateQueryEndpoints_(e),new a(this.repo,this.path,e,!0)},a.prototype.orderByKey=function(){Fi("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var b=this.queryParams_.orderBy(kk);return a.validateQueryEndpoints_(b),new a(this.repo,this.path,b,!0)},a.prototype.orderByPriority=function(){Fi("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var b=this.queryParams_.orderBy(ok);return a.validateQueryEndpoints_(b),new a(this.repo,this.path,b,!0)},a.prototype.orderByValue=function(){Fi("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var b=this.queryParams_.orderBy(Ek);return a.validateQueryEndpoints_(b),new a(this.repo,this.path,b,!0)},a.prototype.startAt=function(b,c){void 0===b&&(b=null),Fi("Query.startAt",0,2,arguments.length),Xj("Query.startAt",1,b,this.path,!0),ak("Query.startAt",2,c,!0);var d=this.queryParams_.startAt(b,c);if(a.validateLimit_(d),a.validateQueryEndpoints_(d),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===b&&(c=b=null),new a(this.repo,this.path,d,this.orderByCalled_)},a.prototype.endAt=function(b,c){void 0===b&&(b=null),Fi("Query.endAt",0,2,arguments.length),Xj("Query.endAt",1,b,this.path,!0),ak("Query.endAt",2,c,!0);var d=this.queryParams_.endAt(b,c);if(a.validateLimit_(d),a.validateQueryEndpoints_(d),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new a(this.repo,this.path,d,this.orderByCalled_)},a.prototype.equalTo=function(a,b){if(Fi("Query.equalTo",1,2,arguments.length),Xj("Query.equalTo",1,a,this.path,!1),ak("Query.equalTo",2,b,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(a,b).endAt(a,b)},a.prototype.toString=function(){return Fi("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},a.prototype.toJSON=function(){return Fi("Query.toJSON",0,1,arguments.length),this.toString()},a.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},a.prototype.queryIdentifier=function(){var a=this.queryObject(),b=Bj(a);return"{}"===b?"default":b},a.prototype.isEqual=function(b){if(Fi("Query.isEqual",1,1,arguments.length),!(b instanceof a))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var c=this.repo===b.repo,d=this.path.equals(b.path),e=this.queryIdentifier()===b.queryIdentifier();return c&&d&&e},a.getCancelAndContextArgs_=function(a,b,c){var d={cancel:null,context:null};if(b&&c)d.cancel=b,s(a,3,d.cancel,!0),d.context=c,t(a,4,d.context,!0);else if(b)if("object"==typeof b&&null!==b)d.context=b;else{if("function"!=typeof b)throw new Error(r(a,3,!0)+" must either be a cancel callback or a context object.");d.cancel=b}return d},Object.defineProperty(a.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),a}(),Mk=function(){function a(){this.set={}}return a.prototype.add=function(a,b){this.set[a]=null===b||b},a.prototype.contains=function(a){return ui(this.set,a)},a.prototype.get=function(a){return this.contains(a)?this.set[a]:void 0},a.prototype.remove=function(a){delete this.set[a]},a.prototype.clear=function(){this.set={}},a.prototype.isEmpty=function(){return yi(this.set)},a.prototype.count=function(){return zi(this.set)},a.prototype.each=function(a){wi(this.set,function(b,c){return a(b,c)})},a.prototype.keys=function(){var a=[];return wi(this.set,function(b){a.push(b)}),a},a}(),Nk=function(){function a(){this.value_=null,this.children_=null}return a.prototype.find=function(a){if(null!=this.value_)return this.value_.getChild(a);if(a.isEmpty()||null==this.children_)return null;var b=a.getFront();return a=a.popFront(),this.children_.contains(b)?this.children_.get(b).find(a):null},a.prototype.remember=function(b,c){if(b.isEmpty())this.value_=c,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(b,c);else{null==this.children_&&(this.children_=new Mk);var d=b.getFront();this.children_.contains(d)||this.children_.add(d,new a);var e=this.children_.get(d);b=b.popFront(),e.remember(b,c)}},a.prototype.forget=function(a){if(a.isEmpty())return this.value_=null,!(this.children_=null);if(null!==this.value_){if(this.value_.isLeafNode())return!1;var b=this.value_;this.value_=null;var c=this;return b.forEachChild(ok,function(a,b){c.remember(new Jj(a),b)}),this.forget(a)}if(null===this.children_)return!0;var d=a.getFront();return a=a.popFront(),this.children_.contains(d)&&this.children_.get(d).forget(a)&&this.children_.remove(d),!!this.children_.isEmpty()&&!(this.children_=null)},a.prototype.forEachTree=function(a,b){null!==this.value_?b(a,this.value_):this.forEachChild(function(c,d){var e=new Jj(a.toString()+"/"+c);d.forEachTree(e,b)})},a.prototype.forEachChild=function(a){null!==this.children_&&this.children_.each(function(b,c){a(b,c)})},a}(),Ok=function(a,b){return a&&"object"==typeof a?(gi(".sv"in a,"Unexpected leaf node or priority contents"),b[a[".sv"]]):a},Pk=function(a,b){var c,d=a.getPriority().val(),e=Ok(d,b);if(a.isLeafNode()){var f=a,g=Ok(f.getValue(),b);return g!==f.getValue()||e!==f.getPriority().val()?new nk(g,B(e)):a}var h=a;return e!==(c=h).getPriority().val()&&(c=c.updatePriority(new nk(e))),h.forEachChild(ok,function(a,d){var e=Pk(d,b);e!==d&&(c=c.updateImmediateChild(a,e))}),c};(Dk=Ck||(Ck={}))[Dk.OVERWRITE=0]="OVERWRITE",Dk[Dk.MERGE=1]="MERGE",Dk[Dk.ACK_USER_WRITE=2]="ACK_USER_WRITE",Dk[Dk.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";var Qk,Rk,Sk=function(){function a(a,b,c,d){this.fromUser=a,this.fromServer=b,this.queryId=c,this.tagged=d,gi(!d||b,"Tagged queries must be from server.")}return a.User=new a(!0,!1,null,!1),a.Server=new a(!1,!0,null,!1),a.forServerTaggedQuery=function(b){return new a(!1,!0,b,!0)},a}(),Tk=function(){function a(a,b,c){this.path=a,this.affectedTree=b,this.revert=c,this.type=Ck.ACK_USER_WRITE,this.source=Sk.User}return a.prototype.operationForChild=function(b){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return gi(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var c=this.affectedTree.subtree(new Jj(b));return new a(Jj.Empty,c,this.revert)}return gi(this.path.getFront()===b,"operationForChild called for unrelated child."),new a(this.path.popFront(),this.affectedTree,this.revert)},a}(),Uk=function(){function a(a,b){void 0===b&&(Qk||(Qk=new sk(zj)),b=Qk),this.value=a,this.children=b}return a.fromObject=function(b){var c=a.Empty;return wi(b,function(a,b){c=c.set(new Jj(a),b)}),c},a.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},a.prototype.findRootMostMatchingPathAndValue=function(a,b){if(null!=this.value&&b(this.value))return{path:Jj.Empty,value:this.value};if(a.isEmpty())return null;var c=a.getFront(),d=this.children.get(c);if(null===d)return null;var e=d.findRootMostMatchingPathAndValue(a.popFront(),b);return null==e?null:{path:new Jj(c).child(e.path),value:e.value}},a.prototype.findRootMostValueAndPath=function(a){return this.findRootMostMatchingPathAndValue(a,function(){return!0})},a.prototype.subtree=function(b){if(b.isEmpty())return this;var c=b.getFront(),d=this.children.get(c);return null!==d?d.subtree(b.popFront()):a.Empty},a.prototype.set=function(b,c){if(b.isEmpty())return new a(c,this.children);var d=b.getFront(),e=(this.children.get(d)||a.Empty).set(b.popFront(),c),f=this.children.insert(d,e);return new a(this.value,f)},a.prototype.remove=function(b){if(b.isEmpty())return this.children.isEmpty()?a.Empty:new a(null,this.children);var c=b.getFront(),d=this.children.get(c);if(d){var e=d.remove(b.popFront()),f=void 0;return f=e.isEmpty()?this.children.remove(c):this.children.insert(c,e),null===this.value&&f.isEmpty()?a.Empty:new a(this.value,f)}return this},a.prototype.get=function(a){if(a.isEmpty())return this.value;var b=a.getFront(),c=this.children.get(b);return c?c.get(a.popFront()):null},a.prototype.setTree=function(b,c){if(b.isEmpty())return c;var d=b.getFront(),e=(this.children.get(d)||a.Empty).setTree(b.popFront(),c),f=void 0;return f=e.isEmpty()?this.children.remove(d):this.children.insert(d,e),new a(this.value,f)},a.prototype.fold=function(a){return this.fold_(Jj.Empty,a)},a.prototype.fold_=function(a,b){var c={};return this.children.inorderTraversal(function(d,e){c[d]=e.fold_(a.child(d),b)}),b(a,this.value,c)},a.prototype.findOnPath=function(a,b){return this.findOnPath_(a,Jj.Empty,b)},a.prototype.findOnPath_=function(a,b,c){var d=!!this.value&&c(b,this.value);if(d)return d;if(a.isEmpty())return null;var e=a.getFront(),f=this.children.get(e);return f?f.findOnPath_(a.popFront(),b.child(e),c):null},a.prototype.foreachOnPath=function(a,b){return this.foreachOnPath_(a,Jj.Empty,b)},a.prototype.foreachOnPath_=function(b,c,d){if(b.isEmpty())return this;this.value&&d(c,this.value);var e=b.getFront(),f=this.children.get(e);return f?f.foreachOnPath_(b.popFront(),c.child(e),d):a.Empty},a.prototype.foreach=function(a){this.foreach_(Jj.Empty,a)},a.prototype.foreach_=function(a,b){this.children.inorderTraversal(function(c,d){d.foreach_(a.child(c),b)}),this.value&&b(a,this.value)},a.prototype.foreachChild=function(a){this.children.inorderTraversal(function(b,c){c.value&&a(b,c.value)})},a.Empty=new a(null),a}(),Vk=function(){function a(a,b){this.source=a,this.path=b,this.type=Ck.LISTEN_COMPLETE}return a.prototype.operationForChild=function(b){return this.path.isEmpty()?new a(this.source,Jj.Empty):new a(this.source,this.path.popFront())},a}(),Wk=function(){function a(a,b,c){this.source=a,this.path=b,this.snap=c,this.type=Ck.OVERWRITE}return a.prototype.operationForChild=function(b){return this.path.isEmpty()?new a(this.source,Jj.Empty,this.snap.getImmediateChild(b)):new a(this.source,this.path.popFront(),this.snap)},a}(),Xk=function(){function a(a,b,c){this.source=a,this.path=b,this.children=c,this.type=Ck.MERGE}return a.prototype.operationForChild=function(b){if(this.path.isEmpty()){var c=this.children.subtree(new Jj(b));return c.isEmpty()?null:c.value?new Wk(this.source,Jj.Empty,c.value):new a(this.source,Jj.Empty,c)}return gi(this.path.getFront()===b,"Can't get a merge for a child not on the path of the operation"),new a(this.source,this.path.popFront(),this.children)},a.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},a}(),Yk=function(){function a(a,b,c){this.node_=a,this.fullyInitialized_=b,this.filtered_=c}return a.prototype.isFullyInitialized=function(){return this.fullyInitialized_},a.prototype.isFiltered=function(){return this.filtered_},a.prototype.isCompleteForPath=function(a){if(a.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var b=a.getFront();return this.isCompleteForChild(b)},a.prototype.isCompleteForChild=function(a){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(a)},a.prototype.getNode=function(){return this.node_},a}(),Zk=function(){function a(a,b){this.eventCache_=a,this.serverCache_=b}return a.prototype.updateEventSnap=function(b,c,d){return new a(new Yk(b,c,d),this.serverCache_)},a.prototype.updateServerSnap=function(b,c,d){return new a(this.eventCache_,new Yk(b,c,d))},a.prototype.getEventCache=function(){return this.eventCache_},a.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},a.prototype.getServerCache=function(){return this.serverCache_},a.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},a.Empty=new a(new Yk(yk.EMPTY_NODE,!1,!1),new Yk(yk.EMPTY_NODE,!1,!1)),a}(),$k=function(){function a(a,b,c,d,e){this.type=a,this.snapshotNode=b,this.childName=c,this.oldSnap=d,this.prevName=e}return a.valueChange=function(b){return new a(a.VALUE,b)},a.childAddedChange=function(b,c){return new a(a.CHILD_ADDED,c,b)},a.childRemovedChange=function(b,c){return new a(a.CHILD_REMOVED,c,b)},a.childChangedChange=function(b,c,d){return new a(a.CHILD_CHANGED,c,b,d)},a.childMovedChange=function(b,c){return new a(a.CHILD_MOVED,c,b)},a.CHILD_ADDED="child_added",a.CHILD_REMOVED="child_removed",a.CHILD_CHANGED="child_changed",a.CHILD_MOVED="child_moved",a.VALUE="value",a}(),_k=function(){function a(a){this.index_=a}return a.prototype.updateChild=function(a,b,c,d,e,f){gi(a.isIndexed(this.index_),"A node must be indexed if only a child is updated");var g=a.getImmediateChild(b);return g.getChild(d).equals(c.getChild(d))&&g.isEmpty()==c.isEmpty()?a:(null!=f&&(c.isEmpty()?a.hasChild(b)?f.trackChildChange($k.childRemovedChange(b,g)):gi(a.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):g.isEmpty()?f.trackChildChange($k.childAddedChange(b,c)):f.trackChildChange($k.childChangedChange(b,c,g))),a.isLeafNode()&&c.isEmpty()?a:a.updateImmediateChild(b,c).withIndex(this.index_))},a.prototype.updateFullNode=function(a,b,c){return null!=c&&(a.isLeafNode()||a.forEachChild(ok,function(a,d){b.hasChild(a)||c.trackChildChange($k.childRemovedChange(a,d))}),b.isLeafNode()||b.forEachChild(ok,function(b,d){if(a.hasChild(b)){var e=a.getImmediateChild(b);e.equals(d)||c.trackChildChange($k.childChangedChange(b,d,e))}else c.trackChildChange($k.childAddedChange(b,d))})),b.withIndex(this.index_)},a.prototype.updatePriority=function(a,b){return a.isEmpty()?yk.EMPTY_NODE:a.updatePriority(b)},a.prototype.filtersNodes=function(){return!1},a.prototype.getIndexedFilter=function(){return this},a.prototype.getIndex=function(){return this.index_},a}(),al=function(){function a(){this.changeMap_={}}return a.prototype.trackChildChange=function(a){var b=a.type,c=a.childName;gi(b==$k.CHILD_ADDED||b==$k.CHILD_CHANGED||b==$k.CHILD_REMOVED,"Only child changes supported for tracking"),gi(".priority"!==c,"Only non-priority child changes can be tracked.");var d=vi(this.changeMap_,c);if(d){var e=d.type;if(b==$k.CHILD_ADDED&&e==$k.CHILD_REMOVED)this.changeMap_[c]=$k.childChangedChange(c,a.snapshotNode,d.snapshotNode);else if(b==$k.CHILD_REMOVED&&e==$k.CHILD_ADDED)delete this.changeMap_[c];else if(b==$k.CHILD_REMOVED&&e==$k.CHILD_CHANGED)this.changeMap_[c]=$k.childRemovedChange(c,d.oldSnap);else if(b==$k.CHILD_CHANGED&&e==$k.CHILD_ADDED)this.changeMap_[c]=$k.childAddedChange(c,a.snapshotNode);else{if(b!=$k.CHILD_CHANGED||e!=$k.CHILD_CHANGED)throw hi("Illegal combination of changes: "+a+" occurred after "+d);this.changeMap_[c]=$k.childChangedChange(c,a.snapshotNode,d.oldSnap)}}else this.changeMap_[c]=a},a.prototype.getChanges=function(){return function(a){var b=[],c=0;for(var d in a)b[c++]=a[d];return b}(this.changeMap_)},a}(),bl=new(function(){function a(){}return a.prototype.getCompleteChild=function(a){return null},a.prototype.getChildAfterChild=function(a,b,c){return null},a}()),cl=function(){function a(a,b,c){void 0===c&&(c=null),this.writes_=a,this.viewCache_=b,this.optCompleteServerCache_=c}return a.prototype.getCompleteChild=function(a){var b=this.viewCache_.getEventCache();if(b.isCompleteForChild(a))return b.getNode().getImmediateChild(a);var c=null!=this.optCompleteServerCache_?new Yk(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(a,c)},a.prototype.getChildAfterChild=function(a,b,c){var d=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),e=this.writes_.calcIndexedSlice(d,b,1,c,a);return 0===e.length?null:e[0]},a}(),dl=function(a,b){this.viewCache=a,this.changes=b},el=function(){function a(a){this.filter_=a}return a.prototype.assertIndexed=function(a){gi(a.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),gi(a.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},a.prototype.applyOperation=function(b,c,d,e){var f,g,h=new al;if(c.type===Ck.OVERWRITE){var i=c;f=i.source.fromUser?this.applyUserOverwrite_(b,i.path,i.snap,d,e,h):(gi(i.source.fromServer,"Unknown source."),g=i.source.tagged||b.getServerCache().isFiltered()&&!i.path.isEmpty(),this.applyServerOverwrite_(b,i.path,i.snap,d,e,g,h))}else if(c.type===Ck.MERGE){var j=c;f=j.source.fromUser?this.applyUserMerge_(b,j.path,j.children,d,e,h):(gi(j.source.fromServer,"Unknown source."),g=j.source.tagged||b.getServerCache().isFiltered(),this.applyServerMerge_(b,j.path,j.children,d,e,g,h))}else if(c.type===Ck.ACK_USER_WRITE){var k=c;f=k.revert?this.revertUserWrite_(b,k.path,d,e,h):this.ackUserWrite_(b,k.path,k.affectedTree,d,e,h)}else{if(c.type!==Ck.LISTEN_COMPLETE)throw hi("Unknown operation type: "+c.type);f=this.listenComplete_(b,c.path,d,h)}var l=h.getChanges();return a.maybeAddValueEvent_(b,f,l),new dl(f,l)},a.maybeAddValueEvent_=function(a,b,c){var d=b.getEventCache();if(d.isFullyInitialized()){var e=d.getNode().isLeafNode()||d.getNode().isEmpty(),f=a.getCompleteEventSnap();(0<c.length||!a.getEventCache().isFullyInitialized()||e&&!d.getNode().equals(f)||!d.getNode().getPriority().equals(f.getPriority()))&&c.push($k.valueChange(b.getCompleteEventSnap()))}},a.prototype.generateEventCacheAfterServerEvent_=function(a,b,c,d,e){var f=a.getEventCache();if(null!=c.shadowingWrite(b))return a;var g=void 0,h=void 0;if(b.isEmpty())if(gi(a.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),a.getServerCache().isFiltered()){var i=a.getCompleteServerSnap(),j=i instanceof yk?i:yk.EMPTY_NODE,k=c.calcCompleteEventChildren(j);g=this.filter_.updateFullNode(a.getEventCache().getNode(),k,e)}else{var l=c.calcCompleteEventCache(a.getCompleteServerSnap());g=this.filter_.updateFullNode(a.getEventCache().getNode(),l,e)}else{var m=b.getFront();if(".priority"==m){gi(1==b.getLength(),"Can't have a priority with additional path components");var n=f.getNode();h=a.getServerCache().getNode();var o=c.calcEventCacheAfterServerOverwrite(b,n,h);g=null!=o?this.filter_.updatePriority(n,o):f.getNode()}else{var p=b.popFront(),q=void 0;if(f.isCompleteForChild(m)){h=a.getServerCache().getNode();var r=c.calcEventCacheAfterServerOverwrite(b,f.getNode(),h);q=null!=r?f.getNode().getImmediateChild(m).updateChild(p,r):f.getNode().getImmediateChild(m)}else q=c.calcCompleteChild(m,a.getServerCache());g=null!=q?this.filter_.updateChild(f.getNode(),m,q,p,d,e):f.getNode()}}return a.updateEventSnap(g,f.isFullyInitialized()||b.isEmpty(),this.filter_.filtersNodes())},a.prototype.applyServerOverwrite_=function(a,b,c,d,e,f,g){var h,i=a.getServerCache(),j=f?this.filter_:this.filter_.getIndexedFilter();if(b.isEmpty())h=j.updateFullNode(i.getNode(),c,null);else if(j.filtersNodes()&&!i.isFiltered()){var k=i.getNode().updateChild(b,c);h=j.updateFullNode(i.getNode(),k,null)}else{var l=b.getFront();if(!i.isCompleteForPath(b)&&1<b.getLength())return a;var m=b.popFront(),n=i.getNode().getImmediateChild(l).updateChild(m,c);h=".priority"==l?j.updatePriority(i.getNode(),n):j.updateChild(i.getNode(),l,n,m,bl,null)}var o=a.updateServerSnap(h,i.isFullyInitialized()||b.isEmpty(),j.filtersNodes()),p=new cl(d,o,e);return this.generateEventCacheAfterServerEvent_(o,b,d,p,g)},a.prototype.applyUserOverwrite_=function(a,b,c,d,e,f){var g,h,i=a.getEventCache(),j=new cl(d,a,e);if(b.isEmpty())h=this.filter_.updateFullNode(a.getEventCache().getNode(),c,f),g=a.updateEventSnap(h,!0,this.filter_.filtersNodes());else{var k=b.getFront();if(".priority"===k)h=this.filter_.updatePriority(a.getEventCache().getNode(),c),g=a.updateEventSnap(h,i.isFullyInitialized(),i.isFiltered());else{var l=b.popFront(),m=i.getNode().getImmediateChild(k),n=void 0;if(l.isEmpty())n=c;else{var o=j.getCompleteChild(k);n=null!=o?".priority"===l.getBack()&&o.getChild(l.parent()).isEmpty()?o:o.updateChild(l,c):yk.EMPTY_NODE}if(m.equals(n))g=a;else{var p=this.filter_.updateChild(i.getNode(),k,n,l,j,f);g=a.updateEventSnap(p,i.isFullyInitialized(),this.filter_.filtersNodes())}}}return g},a.cacheHasChild_=function(a,b){return a.getEventCache().isCompleteForChild(b)},a.prototype.applyUserMerge_=function(b,c,d,e,f,g){var h=this,i=b;return d.foreach(function(d,j){var k=c.child(d);a.cacheHasChild_(b,k.getFront())&&(i=h.applyUserOverwrite_(i,k,j,e,f,g))}),d.foreach(function(d,j){var k=c.child(d);a.cacheHasChild_(b,k.getFront())||(i=h.applyUserOverwrite_(i,k,j,e,f,g))}),i},a.prototype.applyMerge_=function(a,b){return b.foreach(function(b,c){a=a.updateChild(b,c)}),a},a.prototype.applyServerMerge_=function(a,b,c,d,e,f,g){var h=this;if(a.getServerCache().getNode().isEmpty()&&!a.getServerCache().isFullyInitialized())return a;var i,j=a;i=b.isEmpty()?c:Uk.Empty.setTree(b,c);var k=a.getServerCache().getNode();return i.children.inorderTraversal(function(b,c){if(k.hasChild(b)){var i=a.getServerCache().getNode().getImmediateChild(b),l=h.applyMerge_(i,c);j=h.applyServerOverwrite_(j,new Jj(b),l,d,e,f,g)}}),i.children.inorderTraversal(function(b,c){var i=!a.getServerCache().isCompleteForChild(b)&&null==c.value;if(!k.hasChild(b)&&!i){var l=a.getServerCache().getNode().getImmediateChild(b),m=h.applyMerge_(l,c);j=h.applyServerOverwrite_(j,new Jj(b),m,d,e,f,g)}}),j},a.prototype.ackUserWrite_=function(a,b,c,d,e,f){if(null!=d.shadowingWrite(b))return a;var g=a.getServerCache().isFiltered(),h=a.getServerCache();if(null!=c.value){if(b.isEmpty()&&h.isFullyInitialized()||h.isCompleteForPath(b))return this.applyServerOverwrite_(a,b,h.getNode().getChild(b),d,e,g,f);if(b.isEmpty()){var i=Uk.Empty;return h.getNode().forEachChild(kk,function(a,b){i=i.set(new Jj(a),b)}),this.applyServerMerge_(a,b,i,d,e,g,f)}return a}var j=Uk.Empty;return c.foreach(function(a,c){var d=b.child(a);h.isCompleteForPath(d)&&(j=j.set(a,h.getNode().getChild(d)))}),this.applyServerMerge_(a,b,j,d,e,g,f)},a.prototype.listenComplete_=function(a,b,c,d){var e=a.getServerCache(),f=a.updateServerSnap(e.getNode(),e.isFullyInitialized()||b.isEmpty(),e.isFiltered());return this.generateEventCacheAfterServerEvent_(f,b,c,bl,d)},a.prototype.revertUserWrite_=function(a,b,c,d,e){var f;if(null!=c.shadowingWrite(b))return a;var g=new cl(c,a,d),h=a.getEventCache().getNode(),i=void 0;if(b.isEmpty()||".priority"===b.getFront()){var j=void 0;if(a.getServerCache().isFullyInitialized())j=c.calcCompleteEventCache(a.getCompleteServerSnap());else{var k=a.getServerCache().getNode();gi(k instanceof yk,"serverChildren would be complete if leaf node"),j=c.calcCompleteEventChildren(k)}j=j,i=this.filter_.updateFullNode(h,j,e)}else{var l=b.getFront(),m=c.calcCompleteChild(l,a.getServerCache());null==m&&a.getServerCache().isCompleteForChild(l)&&(m=h.getImmediateChild(l)),(i=null!=m?this.filter_.updateChild(h,l,m,b.popFront(),g,e):a.getEventCache().getNode().hasChild(l)?this.filter_.updateChild(h,l,yk.EMPTY_NODE,b.popFront(),g,e):h).isEmpty()&&a.getServerCache().isFullyInitialized()&&(f=c.calcCompleteEventCache(a.getCompleteServerSnap())).isLeafNode()&&(i=this.filter_.updateFullNode(i,f,e))}return f=a.getServerCache().isFullyInitialized()||null!=c.shadowingWrite(Jj.Empty),a.updateEventSnap(i,f,this.filter_.filtersNodes())},a}(),fl=function(){function a(a){this.query_=a,this.index_=this.query_.getQueryParams().getIndex()}return a.prototype.generateEventsForChanges=function(a,b,c){var d=this,e=[],f=[];return a.forEach(function(a){a.type===$k.CHILD_CHANGED&&d.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&f.push($k.childMovedChange(a.childName,a.snapshotNode))}),this.generateEventsForType_(e,$k.CHILD_REMOVED,a,c,b),this.generateEventsForType_(e,$k.CHILD_ADDED,a,c,b),this.generateEventsForType_(e,$k.CHILD_MOVED,f,c,b),this.generateEventsForType_(e,$k.CHILD_CHANGED,a,c,b),this.generateEventsForType_(e,$k.VALUE,a,c,b),e},a.prototype.generateEventsForType_=function(a,b,c,d,e){var f=this,g=c.filter(function(a){return a.type===b});g.sort(this.compareChanges_.bind(this)),g.forEach(function(b){var c=f.materializeSingleChange_(b,e);d.forEach(function(d){d.respondsTo(b.type)&&a.push(d.createEvent(c,f.query_))})})},a.prototype.materializeSingleChange_=function(a,b){return"value"===a.type||"child_removed"===a.type||(a.prevName=b.getPredecessorChildName(a.childName,a.snapshotNode,this.index_)),a},a.prototype.compareChanges_=function(a,b){if(null==a.childName||null==b.childName)throw hi("Should only compare child_ events.");var c=new hk(a.childName,a.snapshotNode),d=new hk(b.childName,b.snapshotNode);return this.index_.compare(c,d)},a}(),gl=function(){function a(a,b){this.query_=a,this.eventRegistrations_=[];var c=this.query_.getQueryParams(),d=new _k(c.getIndex()),e=c.getNodeFilter();this.processor_=new el(e);var f=b.getServerCache(),g=b.getEventCache(),h=d.updateFullNode(yk.EMPTY_NODE,f.getNode(),null),i=e.updateFullNode(yk.EMPTY_NODE,g.getNode(),null),j=new Yk(h,f.isFullyInitialized(),d.filtersNodes()),k=new Yk(i,g.isFullyInitialized(),e.filtersNodes());this.viewCache_=new Zk(k,j),this.eventGenerator_=new fl(this.query_)}return a.prototype.getQuery=function(){return this.query_},a.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},a.prototype.getCompleteServerCache=function(a){var b=this.viewCache_.getCompleteServerSnap();return b&&(this.query_.getQueryParams().loadsAllData()||!a.isEmpty()&&!b.getImmediateChild(a.getFront()).isEmpty())?b.getChild(a):null},a.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},a.prototype.addEventRegistration=function(a){this.eventRegistrations_.push(a)},a.prototype.removeEventRegistration=function(a,b){var c=[];if(b){gi(null==a,"A cancel should cancel all event registrations.");var d=this.query_.path;this.eventRegistrations_.forEach(function(a){b=b;var e=a.createCancelEvent(b,d);e&&c.push(e)})}if(a){for(var e=[],f=0;f<this.eventRegistrations_.length;++f){var g=this.eventRegistrations_[f];if(g.matches(a)){if(a.hasAnyCallback()){e=e.concat(this.eventRegistrations_.slice(f+1));break}}else e.push(g)}this.eventRegistrations_=e}else this.eventRegistrations_=[];return c},a.prototype.applyOperation=function(a,b,c){a.type===Ck.MERGE&&null!==a.source.queryId&&(gi(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),gi(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var d=this.viewCache_,e=this.processor_.applyOperation(d,a,b,c);return this.processor_.assertIndexed(e.viewCache),gi(e.viewCache.getServerCache().isFullyInitialized()||!d.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=e.viewCache,this.generateEventsForChanges_(e.changes,e.viewCache.getEventCache().getNode(),null)},a.prototype.getInitialEvents=function(a){var b=this.viewCache_.getEventCache(),c=[];return b.getNode().isLeafNode()||b.getNode().forEachChild(ok,function(a,b){c.push($k.childAddedChange(a,b))}),b.isFullyInitialized()&&c.push($k.valueChange(b.getNode())),this.generateEventsForChanges_(c,b.getNode(),a)},a.prototype.generateEventsForChanges_=function(a,b,c){var d=c?[c]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(a,b,d)},a}(),hl=function(){function a(){this.views_={}}return Object.defineProperty(a,"__referenceConstructor",{get:function(){return gi(Rk,"Reference.ts has not been loaded"),Rk},set:function(a){gi(!Rk,"__referenceConstructor has already been defined"),Rk=a},enumerable:!0,configurable:!0}),a.prototype.isEmpty=function(){return yi(this.views_)},a.prototype.applyOperation=function(a,b,c){var d=a.source.queryId;if(null!==d){var e=vi(this.views_,d);return gi(null!=e,"SyncTree gave us an op for an invalid query."),e.applyOperation(a,b,c)}var f=[];return wi(this.views_,function(d,e){f=f.concat(e.applyOperation(a,b,c))}),f},a.prototype.addEventRegistration=function(a,b,c,d,e){var f=a.queryIdentifier(),g=vi(this.views_,f);if(!g){var h=c.calcCompleteEventCache(e?d:null),i=!1;i=!!h||(h=d instanceof yk?c.calcCompleteEventChildren(d):yk.EMPTY_NODE,!1);var j=new Zk(new Yk(h,i,!1),new Yk(d,e,!1));g=new gl(a,j),this.views_[f]=g}return g.addEventRegistration(b),g.getInitialEvents(b)},a.prototype.removeEventRegistration=function(b,c,d){var e=b.queryIdentifier(),f=[],g=[],h=this.hasCompleteView();if("default"===e){var i=this;wi(this.views_,function(a,b){g=g.concat(b.removeEventRegistration(c,d)),b.isEmpty()&&(delete i.views_[a],b.getQuery().getQueryParams().loadsAllData()||f.push(b.getQuery()))})}else{var j=vi(this.views_,e);j&&(g=g.concat(j.removeEventRegistration(c,d)),j.isEmpty()&&(delete this.views_[e],j.getQuery().getQueryParams().loadsAllData()||f.push(j.getQuery())))}return h&&!this.hasCompleteView()&&f.push(new a.__referenceConstructor(b.repo,b.path)),{removed:f,events:g}},a.prototype.getQueryViews=function(){var a=this;return Object.keys(this.views_).map(function(b){return a.views_[b]}).filter(function(a){return!a.getQuery().getQueryParams().loadsAllData()})},a.prototype.getCompleteServerCache=function(a){var b=null;return wi(this.views_,function(c,d){b=b||d.getCompleteServerCache(a)}),b},a.prototype.viewForQuery=function(a){if(a.getQueryParams().loadsAllData())return this.getCompleteView();var b=a.queryIdentifier();return vi(this.views_,b)},a.prototype.viewExistsForQuery=function(a){
return null!=this.viewForQuery(a)},a.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},a.prototype.getCompleteView=function(){var a,b,c;return a=this.views_,(c=Bi(a,function(a){return a.getQuery().getQueryParams().loadsAllData()},b))&&a[c]||null},a}(),il=function(){function a(a){this.writeTree_=a}return a.prototype.addWrite=function(b,c){if(b.isEmpty())return new a(new Uk(c));var d=this.writeTree_.findRootMostValueAndPath(b);if(null!=d){var e=d.path,f=d.value,g=Jj.relativePath(e,b);return f=f.updateChild(g,c),new a(this.writeTree_.set(e,f))}var h=new Uk(c);return new a(this.writeTree_.setTree(b,h))},a.prototype.addWrites=function(a,b){var c=this;return wi(b,function(b,d){c=c.addWrite(a.child(b),d)}),c},a.prototype.removeWrite=function(b){return b.isEmpty()?a.Empty:new a(this.writeTree_.setTree(b,Uk.Empty))},a.prototype.hasCompleteWrite=function(a){return null!=this.getCompleteNode(a)},a.prototype.getCompleteNode=function(a){var b=this.writeTree_.findRootMostValueAndPath(a);return null!=b?this.writeTree_.get(b.path).getChild(Jj.relativePath(b.path,a)):null},a.prototype.getCompleteChildren=function(){var a=[],b=this.writeTree_.value;return null!=b?b.isLeafNode()||b.forEachChild(ok,function(b,c){a.push(new hk(b,c))}):this.writeTree_.children.inorderTraversal(function(b,c){null!=c.value&&a.push(new hk(b,c.value))}),a},a.prototype.childCompoundWrite=function(b){if(b.isEmpty())return this;var c=this.getCompleteNode(b);return new a(null!=c?new Uk(c):this.writeTree_.subtree(b))},a.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},a.prototype.apply=function(b){return a.applySubtreeWrite_(Jj.Empty,this.writeTree_,b)},a.Empty=new a(new Uk(null)),a.applySubtreeWrite_=function(b,c,d){if(null!=c.value)return d.updateChild(b,c.value);var e=null;return c.children.inorderTraversal(function(c,f){".priority"===c?(gi(null!==f.value,"Priority writes must always be leaf nodes"),e=f.value):d=a.applySubtreeWrite_(b.child(c),f,d)}),d.getChild(b).isEmpty()||null===e||(d=d.updateChild(b.child(".priority"),e)),d},a}(),jl=function(){function a(){this.visibleWrites_=il.Empty,this.allWrites_=[],this.lastWriteId_=-1}return a.prototype.childWrites=function(a){return new kl(a,this)},a.prototype.addOverwrite=function(a,b,c,d){gi(c>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===d&&(d=!0),this.allWrites_.push({path:a,snap:b,writeId:c,visible:d}),d&&(this.visibleWrites_=this.visibleWrites_.addWrite(a,b)),this.lastWriteId_=c},a.prototype.addMerge=function(a,b,c){gi(c>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:a,children:b,writeId:c,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(a,b),this.lastWriteId_=c},a.prototype.getWrite=function(a){for(var b=0;b<this.allWrites_.length;b++){var c=this.allWrites_[b];if(c.writeId===a)return c}return null},a.prototype.removeWrite=function(a){var b=this,c=this.allWrites_.findIndex(function(b){return b.writeId===a});gi(c>=0,"removeWrite called with nonexistent writeId.");var d=this.allWrites_[c];this.allWrites_.splice(c,1);for(var e=d.visible,f=!1,g=this.allWrites_.length-1;e&&g>=0;){var h=this.allWrites_[g];h.visible&&(g>=c&&this.recordContainsPath_(h,d.path)?e=!1:d.path.contains(h.path)&&(f=!0)),g--}if(e){if(f)return this.resetTree_(),!0;if(d.snap)this.visibleWrites_=this.visibleWrites_.removeWrite(d.path);else{var i=d.children;wi(i,function(a){b.visibleWrites_=b.visibleWrites_.removeWrite(d.path.child(a))})}return!0}return!1},a.prototype.getCompleteWriteData=function(a){return this.visibleWrites_.getCompleteNode(a)},a.prototype.calcCompleteEventCache=function(b,c,d,e){if(d||e){var f=this.visibleWrites_.childCompoundWrite(b);if(!e&&f.isEmpty())return c;if(e||null!=c||f.hasCompleteWrite(Jj.Empty)){var g=a.layerTree_(this.allWrites_,function(a){return(a.visible||e)&&(!d||!~d.indexOf(a.writeId))&&(a.path.contains(b)||b.contains(a.path))},b);return j=c||yk.EMPTY_NODE,g.apply(j)}return null}var h=this.visibleWrites_.getCompleteNode(b);if(null!=h)return h;var i=this.visibleWrites_.childCompoundWrite(b);if(i.isEmpty())return c;if(null!=c||i.hasCompleteWrite(Jj.Empty)){var j=c||yk.EMPTY_NODE;return i.apply(j)}return null},a.prototype.calcCompleteEventChildren=function(a,b){var c=yk.EMPTY_NODE,d=this.visibleWrites_.getCompleteNode(a);if(d)return d.isLeafNode()||d.forEachChild(ok,function(a,b){c=c.updateImmediateChild(a,b)}),c;if(b){var e=this.visibleWrites_.childCompoundWrite(a);return b.forEachChild(ok,function(a,b){var d=e.childCompoundWrite(new Jj(a)).apply(b);c=c.updateImmediateChild(a,d)}),e.getCompleteChildren().forEach(function(a){c=c.updateImmediateChild(a.name,a.node)}),c}return this.visibleWrites_.childCompoundWrite(a).getCompleteChildren().forEach(function(a){c=c.updateImmediateChild(a.name,a.node)}),c},a.prototype.calcEventCacheAfterServerOverwrite=function(a,b,c,d){gi(c||d,"Either existingEventSnap or existingServerSnap must exist");var e=a.child(b);if(this.visibleWrites_.hasCompleteWrite(e))return null;var f=this.visibleWrites_.childCompoundWrite(e);return f.isEmpty()?d.getChild(b):f.apply(d.getChild(b))},a.prototype.calcCompleteChild=function(a,b,c){var d=a.child(b),e=this.visibleWrites_.getCompleteNode(d);return null!=e?e:c.isCompleteForChild(b)?this.visibleWrites_.childCompoundWrite(d).apply(c.getNode().getImmediateChild(b)):null},a.prototype.shadowingWrite=function(a){return this.visibleWrites_.getCompleteNode(a)},a.prototype.calcIndexedSlice=function(a,b,c,d,e,f){var g,h=this.visibleWrites_.childCompoundWrite(a),i=h.getCompleteNode(Jj.Empty);if(null!=i)g=i;else{if(null==b)return[];g=h.apply(b)}if((g=g.withIndex(f)).isEmpty()||g.isLeafNode())return[];for(var j=[],k=f.getCompare(),l=e?g.getReverseIteratorFrom(c,f):g.getIteratorFrom(c,f),m=l.getNext();m&&j.length<d;)0!==k(m,c)&&j.push(m),m=l.getNext();return j},a.prototype.recordContainsPath_=function(a,b){return a.snap?a.path.contains(b):!!Bi(a.children,function(c,d){return a.path.child(d).contains(b)})},a.prototype.resetTree_=function(){this.visibleWrites_=a.layerTree_(this.allWrites_,a.DefaultFilter_,Jj.Empty),0<this.allWrites_.length?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},a.DefaultFilter_=function(a){return a.visible},a.layerTree_=function(a,b,c){for(var d=il.Empty,e=0;e<a.length;++e){var f=a[e];if(b(f)){var g=f.path,h=void 0;if(f.snap)c.contains(g)?(h=Jj.relativePath(c,g),d=d.addWrite(h,f.snap)):g.contains(c)&&(h=Jj.relativePath(g,c),d=d.addWrite(Jj.Empty,f.snap.getChild(h)));else{if(!f.children)throw hi("WriteRecord should have .snap or .children");if(c.contains(g))h=Jj.relativePath(c,g),d=d.addWrites(h,f.children);else if(g.contains(c))if((h=Jj.relativePath(g,c)).isEmpty())d=d.addWrites(Jj.Empty,f.children);else{var i=vi(f.children,h.getFront());if(i){var j=i.getChild(h.popFront());d=d.addWrite(Jj.Empty,j)}}}}}return d},a}(),kl=function(){function a(a,b){this.treePath_=a,this.writeTree_=b}return a.prototype.calcCompleteEventCache=function(a,b,c){return this.writeTree_.calcCompleteEventCache(this.treePath_,a,b,c)},a.prototype.calcCompleteEventChildren=function(a){return this.writeTree_.calcCompleteEventChildren(this.treePath_,a)},a.prototype.calcEventCacheAfterServerOverwrite=function(a,b,c){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,a,b,c)},a.prototype.shadowingWrite=function(a){return this.writeTree_.shadowingWrite(this.treePath_.child(a))},a.prototype.calcIndexedSlice=function(a,b,c,d,e){return this.writeTree_.calcIndexedSlice(this.treePath_,a,b,c,d,e)},a.prototype.calcCompleteChild=function(a,b){return this.writeTree_.calcCompleteChild(this.treePath_,a,b)},a.prototype.child=function(b){return new a(this.treePath_.child(b),this.writeTree_)},a}(),ll=function(){function a(a){this.listenProvider_=a,this.syncPointTree_=Uk.Empty,this.pendingWriteTree_=new jl,this.tagToQueryMap_={},this.queryToTagMap_={}}return a.prototype.applyUserOverwrite=function(a,b,c,d){return this.pendingWriteTree_.addOverwrite(a,b,c,d),d?this.applyOperationToSyncPoints_(new Wk(Sk.User,a,b)):[]},a.prototype.applyUserMerge=function(a,b,c){this.pendingWriteTree_.addMerge(a,b,c);var d=Uk.fromObject(b);return this.applyOperationToSyncPoints_(new Xk(Sk.User,a,d))},a.prototype.ackUserWrite=function(a,b){void 0===b&&(b=!1);var c=this.pendingWriteTree_.getWrite(a);if(this.pendingWriteTree_.removeWrite(a)){var d=Uk.Empty;return null!=c.snap?d=d.set(Jj.Empty,!0):wi(c.children,function(a,b){d=d.set(new Jj(a),b)}),this.applyOperationToSyncPoints_(new Tk(c.path,d,b))}return[]},a.prototype.applyServerOverwrite=function(a,b){return this.applyOperationToSyncPoints_(new Wk(Sk.Server,a,b))},a.prototype.applyServerMerge=function(a,b){var c=Uk.fromObject(b);return this.applyOperationToSyncPoints_(new Xk(Sk.Server,a,c))},a.prototype.applyListenComplete=function(a){return this.applyOperationToSyncPoints_(new Vk(Sk.Server,a))},a.prototype.applyTaggedQueryOverwrite=function(b,c,d){var e=this.queryKeyForTag_(d);if(null==e)return[];var f=a.parseQueryKey_(e),g=f.path,h=f.queryId,i=Jj.relativePath(g,b),j=new Wk(Sk.forServerTaggedQuery(h),i,c);return this.applyTaggedOperation_(g,j)},a.prototype.applyTaggedQueryMerge=function(b,c,d){var e=this.queryKeyForTag_(d);if(e){var f=a.parseQueryKey_(e),g=f.path,h=f.queryId,i=Jj.relativePath(g,b),j=Uk.fromObject(c),k=new Xk(Sk.forServerTaggedQuery(h),i,j);return this.applyTaggedOperation_(g,k)}return[]},a.prototype.applyTaggedListenComplete=function(b,c){var d=this.queryKeyForTag_(c);if(d){var e=a.parseQueryKey_(d),f=e.path,g=e.queryId,h=Jj.relativePath(f,b),i=new Vk(Sk.forServerTaggedQuery(g),h);return this.applyTaggedOperation_(f,i)}return[]},a.prototype.addEventRegistration=function(b,c){var d=b.path,e=null,f=!1;this.syncPointTree_.foreachOnPath(d,function(a,b){var c=Jj.relativePath(a,d);e=e||b.getCompleteServerCache(c),f=f||b.hasCompleteView()});var g,h=this.syncPointTree_.get(d);h?(f=f||h.hasCompleteView(),e=e||h.getCompleteServerCache(Jj.Empty)):(h=new hl,this.syncPointTree_=this.syncPointTree_.set(d,h)),null!=e?g=!0:(g=!1,e=yk.EMPTY_NODE,this.syncPointTree_.subtree(d).foreachChild(function(a,b){var c=b.getCompleteServerCache(Jj.Empty);c&&(e=e.updateImmediateChild(a,c))}));var i=h.viewExistsForQuery(b);if(!i&&!b.getQueryParams().loadsAllData()){var j=a.makeQueryKey_(b);gi(!(j in this.queryToTagMap_),"View does not exist, but we have a tag");var k=a.getNextQueryTag_();this.queryToTagMap_[j]=k,this.tagToQueryMap_["_"+k]=j}var l=this.pendingWriteTree_.childWrites(d),m=h.addEventRegistration(b,c,l,e,g);if(!i&&!f){var n=h.viewForQuery(b);m=m.concat(this.setupListener_(b,n))}return m},a.prototype.removeEventRegistration=function(b,c,d){var e=this,f=b.path,g=this.syncPointTree_.get(f),h=[];if(g&&("default"===b.queryIdentifier()||g.viewExistsForQuery(b))){var i=g.removeEventRegistration(b,c,d);g.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(f));var j=i.removed;h=i.events;var k=-1!==j.findIndex(function(a){return a.getQueryParams().loadsAllData()}),l=this.syncPointTree_.findOnPath(f,function(a,b){return b.hasCompleteView()});if(k&&!l){var m=this.syncPointTree_.subtree(f);if(!m.isEmpty())for(var n=this.collectDistinctViewsForSubTree_(m),o=0;o<n.length;++o){var p=n[o],q=p.getQuery(),r=this.createListenerForView_(p);this.listenProvider_.startListening(a.queryForListening_(q),this.tagForQuery_(q),r.hashFn,r.onComplete)}}!l&&0<j.length&&!d&&(k?this.listenProvider_.stopListening(a.queryForListening_(b),null):j.forEach(function(b){var c=e.queryToTagMap_[a.makeQueryKey_(b)];e.listenProvider_.stopListening(a.queryForListening_(b),c)})),this.removeTags_(j)}return h},a.prototype.calcCompleteEventCache=function(a,b){var c=this.pendingWriteTree_,d=this.syncPointTree_.findOnPath(a,function(b,c){var d=Jj.relativePath(b,a),e=c.getCompleteServerCache(d);return e?e:void 0});return c.calcCompleteEventCache(a,d,b,!0)},a.prototype.collectDistinctViewsForSubTree_=function(a){return a.fold(function(a,b,c){if(b&&b.hasCompleteView())return[b.getCompleteView()];var d=[];return b&&(d=b.getQueryViews()),wi(c,function(a,b){d=d.concat(b)}),d})},a.prototype.removeTags_=function(b){for(var c=0;c<b.length;++c){var d=b[c];if(!d.getQueryParams().loadsAllData()){var e=a.makeQueryKey_(d),f=this.queryToTagMap_[e];delete this.queryToTagMap_[e],delete this.tagToQueryMap_["_"+f]}}},a.queryForListening_=function(a){return a.getQueryParams().loadsAllData()&&!a.getQueryParams().isDefault()?a.getRef():a},a.prototype.setupListener_=function(b,c){var d=b.path,e=this.tagForQuery_(b),f=this.createListenerForView_(c),g=this.listenProvider_.startListening(a.queryForListening_(b),e,f.hashFn,f.onComplete),h=this.syncPointTree_.subtree(d);if(e)gi(!h.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var i=h.fold(function(a,b,c){if(!a.isEmpty()&&b&&b.hasCompleteView())return[b.getCompleteView().getQuery()];var d=[];return b&&(d=d.concat(b.getQueryViews().map(function(a){return a.getQuery()}))),wi(c,function(a,b){d=d.concat(b)}),d}),j=0;j<i.length;++j){var k=i[j];this.listenProvider_.stopListening(a.queryForListening_(k),this.tagForQuery_(k))}return g},a.prototype.createListenerForView_=function(a){var b=this,c=a.getQuery(),d=this.tagForQuery_(c);return{hashFn:function(){return(a.getServerCache()||yk.EMPTY_NODE).hash()},onComplete:function(a){if("ok"===a)return d?b.applyTaggedListenComplete(c.path,d):b.applyListenComplete(c.path);var e=function(a,b){var c="Unknown Error";"too_big"===a?c="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==a?c="Client doesn't have permission to access the desired data.":"unavailable"==a&&(c="The service is unavailable");var d=new Error(a+" at "+b.path.toString()+": "+c);return d.code=a.toUpperCase(),d}(a,c);return b.removeEventRegistration(c,null,e)}}},a.makeQueryKey_=function(a){return a.path.toString()+"$"+a.queryIdentifier()},a.parseQueryKey_=function(a){var b=a.indexOf("$");return gi(-1!==b&&b<a.length-1,"Bad queryKey."),{queryId:a.substr(b+1),path:new Jj(a.substr(0,b))}},a.prototype.queryKeyForTag_=function(a){return this.tagToQueryMap_["_"+a]},a.prototype.tagForQuery_=function(b){var c=a.makeQueryKey_(b);return vi(this.queryToTagMap_,c)},a.getNextQueryTag_=function(){return a.nextQueryTag_++},a.prototype.applyTaggedOperation_=function(a,b){var c=this.syncPointTree_.get(a);gi(c,"Missing sync point for query tag that we're tracking");var d=this.pendingWriteTree_.childWrites(a);return c.applyOperation(b,d,null)},a.prototype.applyOperationToSyncPoints_=function(a){return this.applyOperationHelper_(a,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(Jj.Empty))},a.prototype.applyOperationHelper_=function(a,b,c,d){if(a.path.isEmpty())return this.applyOperationDescendantsHelper_(a,b,c,d);var e=b.get(Jj.Empty);null==c&&null!=e&&(c=e.getCompleteServerCache(Jj.Empty));var f=[],g=a.path.getFront(),h=a.operationForChild(g),i=b.children.get(g);if(i&&h){var j=c?c.getImmediateChild(g):null,k=d.child(g);f=f.concat(this.applyOperationHelper_(h,i,j,k))}return e&&(f=f.concat(e.applyOperation(a,d,c))),f},a.prototype.applyOperationDescendantsHelper_=function(a,b,c,d){var e=this,f=b.get(Jj.Empty);null==c&&null!=f&&(c=f.getCompleteServerCache(Jj.Empty));var g=[];return b.children.inorderTraversal(function(b,f){var h=c?c.getImmediateChild(b):null,i=d.child(b),j=a.operationForChild(b);j&&(g=g.concat(e.applyOperationDescendantsHelper_(j,f,h,i)))}),f&&(g=g.concat(f.applyOperation(a,d,c))),g},a.nextQueryTag_=1,a}(),ml=function(){function a(){this.rootNode_=yk.EMPTY_NODE}return a.prototype.getNode=function(a){return this.rootNode_.getChild(a)},a.prototype.updateSnapshot=function(a,b){this.rootNode_=this.rootNode_.updateChild(a,b)},a}(),nl=function(){function a(a){this.app_=a}return a.prototype.getToken=function(a){return this.app_.INTERNAL.getToken(a).then(null,function(a){return a&&"auth/token-not-initialized"===a.code?(qj("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(a)})},a.prototype.addTokenChangeListener=function(a){this.app_.INTERNAL.addAuthTokenListener(a)},a.prototype.removeTokenChangeListener=function(a){this.app_.INTERNAL.removeAuthTokenListener(a)},a.prototype.notifyForInvalidToken=function(){var a='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';a+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',uj(a)},a}(),ol=function(){function a(){this.counters_={}}return a.prototype.incrementCounter=function(a,b){void 0===b&&(b=1),ui(this.counters_,a)||(this.counters_[a]=0),this.counters_[a]+=b},a.prototype.get=function(){return k(this.counters_)},a}(),pl=function(){function a(){}return a.getCollection=function(a){var b=a.toString();return this.collections_[b]||(this.collections_[b]=new ol),this.collections_[b]},a.getOrCreateReporter=function(a,b){var c=a.toString();return this.reporters_[c]||(this.reporters_[c]=b()),this.reporters_[c]},a.collections_={},a.reporters_={},a}(),ql=function(){function a(a){this.collection_=a,this.last_=null}return a.prototype.get=function(){var a=this.collection_.get(),b=xi(a);return this.last_&&wi(this.last_,function(a,c){b[a]=b[a]-c}),this.last_=a,b},a}(),rl=function(){function a(a,b){this.server_=b,this.statsToReport_={},this.statsListener_=new ql(a);var c=1e4+2e4*Math.random();Ij(this.reportStats_.bind(this),Math.floor(c))}return a.prototype.includeStat=function(a){this.statsToReport_[a]=!0},a.prototype.reportStats_=function(){var a=this,b=this.statsListener_.get(),c={},d=!1;wi(b,function(b,e){e>0&&ui(a.statsToReport_,b)&&(c[b]=e,d=!0)}),d&&this.server_.reportStats(c),Ij(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},a}(),sl=function(){function a(){this.eventLists_=[],this.recursionDepth_=0}return a.prototype.queueEvents=function(a){for(var b=null,c=0;c<a.length;c++){var d=a[c],e=d.getPath();null===b||e.equals(b.getPath())||(this.eventLists_.push(b),b=null),null===b&&(b=new tl(e)),b.add(d)}b&&this.eventLists_.push(b)},a.prototype.raiseEventsAtPath=function(a,b){this.queueEvents(b),this.raiseQueuedEventsMatchingPredicate_(function(b){return b.equals(a)})},a.prototype.raiseEventsForChangedPath=function(a,b){this.queueEvents(b),this.raiseQueuedEventsMatchingPredicate_(function(b){return b.contains(a)||a.contains(b)})},a.prototype.raiseQueuedEventsMatchingPredicate_=function(a){this.recursionDepth_++;for(var b=!0,c=0;c<this.eventLists_.length;c++){var d=this.eventLists_[c];d&&(a(d.getPath())?(this.eventLists_[c].raise(),this.eventLists_[c]=null):b=!1)}b&&(this.eventLists_=[]),this.recursionDepth_--},a}(),tl=function(){function a(a){this.path_=a,this.events_=[]}return a.prototype.add=function(a){this.events_.push(a)},a.prototype.raise=function(){for(var a=0;a<this.events_.length;a++){var b=this.events_[a];if(null!==b){this.events_[a]=null;var c=b.getEventRunner();nj&&qj("event: "+b.toString()),Hj(c)}}},a.prototype.getPath=function(){return this.path_},a}(),ul=function(){function a(a){this.allowedEvents_=a,this.listeners_={},gi(Array.isArray(a)&&0<a.length,"Requires a non-empty array")}return a.prototype.trigger=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];if(Array.isArray(this.listeners_[a]))for(var d=this.listeners_[a].slice(),e=0;e<d.length;e++)d[e].callback.apply(d[e].context,b)},a.prototype.on=function(a,b,c){this.validateEventType_(a),this.listeners_[a]=this.listeners_[a]||[],this.listeners_[a].push({callback:b,context:c});var d=this.getInitialEvent(a);d&&b.apply(c,d)},a.prototype.off=function(a,b,c){this.validateEventType_(a);for(var d=this.listeners_[a]||[],e=0;e<d.length;e++)if(d[e].callback===b&&(!c||c===d[e].context))return void d.splice(e,1)},a.prototype.validateEventType_=function(a){gi(this.allowedEvents_.find(function(b){return b===a}),"Unknown event: "+a)},a}(),vl=function(a){function b(){var b,c,d=a.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(c="visibilitychange",b="hidden"):void 0!==document.mozHidden?(c="mozvisibilitychange",b="mozHidden"):void 0!==document.msHidden?(c="msvisibilitychange",b="msHidden"):void 0!==document.webkitHidden&&(c="webkitvisibilitychange",b="webkitHidden")),d.visible_=!0,c&&document.addEventListener(c,function(){var a=!document[b];a!==d.visible_&&(d.visible_=a,d.trigger("visible",a))},!1),d}return v(b,a),b.getInstance=function(){return new b},b.prototype.getInitialEvent=function(a){return gi("visible"===a,"Unknown event type: "+a),[this.visible_]},b}(ul),wl=function(a){function b(){var b=a.call(this,["online"])||this;return b.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||mi()||(window.addEventListener("online",function(){b.online_||(b.online_=!0,b.trigger("online",!0))},!1),window.addEventListener("offline",function(){b.online_&&(b.online_=!1,b.trigger("online",!1))},!1)),b}return v(b,a),b.getInstance=function(){return new b},b.prototype.getInitialEvent=function(a){return gi("online"===a,"Unknown event type: "+a),[this.online_]},b.prototype.currentlyOnline=function(){return this.online_},b}(ul),xl=function(){function a(a){this.onMessage_=a,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return a.prototype.closeAfter=function(a,b){this.closeAfterResponse=a,this.onClose=b,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},a.prototype.handleResponse=function(a,b){var c=this;this.pendingResponses[a]=b;for(var d=function(){var a=e.pendingResponses[e.currentResponseNum];delete e.pendingResponses[e.currentResponseNum];for(var b=function(b){a[b]&&Hj(function(){c.onMessage_(a[b])})},d=0;d<a.length;++d)b(d);return e.currentResponseNum===e.closeAfterResponse?(e.onClose&&(e.onClose(),e.onClose=null),"break"):void e.currentResponseNum++},e=this;this.pendingResponses[this.currentResponseNum]&&"break"!==d(););},a}(),yl=function(){function a(a,b,c,d){this.connId=a,this.repoInfo=b,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=rj(a),this.stats_=pl.getCollection(b),this.urlFn=function(a){return b.connectionURL(Nj,a)}}return a.prototype.open=function(a,b){var c=this;this.curSegmentNum=0,this.onDisconnect_=b,this.myPacketOrderer=new xl(a),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){c.log_("Timed out trying to connect."),c.onClosed_(),c.connectTimeoutTimer_=null},Math.floor(3e4)),function(a){if("complete"===document.readyState)a();else{var b=!1,c=function(){document.body?b||(b=!0,a()):setTimeout(c,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&c()}),window.attachEvent("onload",c))}}(function(){if(!c.isClosed_){c.scriptTagHolder=new zl(function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var d=a[0],e=a[1],f=a[2];if(c.incrementIncomingBytes_(a),c.scriptTagHolder)if(c.connectTimeoutTimer_&&(clearTimeout(c.connectTimeoutTimer_),c.connectTimeoutTimer_=null),c.everConnected_=!0,"start"==d)c.id=e,c.password=f;else{if("close"!==d)throw new Error("Unrecognized command received: "+d);e?(c.scriptTagHolder.sendNewPolls=!1,c.myPacketOrderer.closeAfter(e,function(){c.onClosed_()})):c.onClosed_()}},function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var d=a[0],e=a[1];c.incrementIncomingBytes_(a),c.myPacketOrderer.handleResponse(d,e)},function(){c.onClosed_()},c.urlFn);var a={start:"t"};a.ser=Math.floor(1e8*Math.random()),c.scriptTagHolder.uniqueCallbackIdentifier&&(a.cb=c.scriptTagHolder.uniqueCallbackIdentifier),a.v="5",c.transportSessionId&&(a.s=c.transportSessionId),c.lastSessionId&&(a.ls=c.lastSessionId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(Lj)&&(a.r="f");var b=c.urlFn(a);c.log_("Connecting via long-poll to "+b),c.scriptTagHolder.addTag(b,function(){})}})},a.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},a.forceAllow=function(){a.forceAllow_=!0},a.forceDisallow=function(){a.forceDisallow_=!0},a.isAvailable=function(){return a.forceAllow_||!a.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.UI)&&!oi()},a.prototype.markConnectionHealthy=function(){},a.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},a.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},a.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},a.prototype.send=function(a){var b=o(a);this.bytesSent+=b.length,this.stats_.incrementCounter("bytes_sent",b.length);for(var c,d=(c=ii(b),ji.encodeByteArray(c,!0)),e=Cj(d,1840),f=0;f<e.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,e.length,e[f]),this.curSegmentNum++},a.prototype.addDisconnectPingFrame=function(a,b){this.myDisconnFrame=document.createElement("iframe");var c={dframe:"t"};c.id=a,c.pw=b,this.myDisconnFrame.src=this.urlFn(c),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},a.prototype.incrementIncomingBytes_=function(a){var b=o(a).length;this.bytesReceived+=b,this.stats_.incrementCounter("bytes_received",b)},a}(),zl=function(){function a(b,c,d,e){this.onDisconnect=d,this.urlFn=e,this.outstandingRequests=new Mk,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=kj(),window["pLPCommand"+this.uniqueCallbackIdentifier]=b,window["pRTLPCB"+this.uniqueCallbackIdentifier]=c,this.myIFrame=a.createIFrame_();var f="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(f='<script>document.domain="'+document.domain+'";</script>');var g="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(g),this.myIFrame.doc.close()}catch(b){qj("frame writing exception"),b.stack&&qj(b.stack),qj(b)}}return a.createIFrame_=function(){var a=document.createElement("iframe");if(a.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(a);try{a.contentWindow.document||qj("No IE domain setting required")}catch(b){var c=document.domain;a.src="javascript:void((function(){document.open();document.domain='"+c+"';document.close();})())"}return a.contentDocument?a.doc=a.contentDocument:a.contentWindow?a.doc=a.contentWindow.document:a.document&&(a.doc=a.document),a},a.prototype.close=function(){var a=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==a.myIFrame&&(document.body.removeChild(a.myIFrame),a.myIFrame=null)},Math.floor(0)));var b=this.onDisconnect;b&&(this.onDisconnect=null,b())},a.prototype.startLongPoll=function(a,b){for(this.myID=a,this.myPW=b,this.alive=!0;this.newRequest_(););},a.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(0<this.pendingSegs.length?2:1)){this.currentSerial++;var a={};a.id=this.myID,a.pw=this.myPW,a.ser=this.currentSerial;for(var b=this.urlFn(a),c="",d=0;0<this.pendingSegs.length&&this.pendingSegs[0].d.length+30+c.length<=1870;){var e=this.pendingSegs.shift();c=c+"&seg"+d+"="+e.seg+"&ts"+d+"="+e.ts+"&d"+d+"="+e.d,d++}return b+=c,this.addLongPollTag_(b,this.currentSerial),!0}return!1},a.prototype.enqueueSegment=function(a,b,c){this.pendingSegs.push({seg:a,ts:b,d:c}),this.alive&&this.newRequest_()},a.prototype.addLongPollTag_=function(a,b){var c=this;this.outstandingRequests.add(b,1);var d=function(){c.outstandingRequests.remove(b),c.newRequest_()},e=setTimeout(d,Math.floor(25e3));this.addTag(a,function(){clearTimeout(e),d()})},a.prototype.addTag=function(a,b){var c=this;setTimeout(function(){try{if(!c.sendNewPolls)return;var a=c.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=d,a.onload=a.onreadystatechange=function(){var c=a.readyState;c&&"loaded"!==c&&"complete"!==c||(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),b())},a.onerror=function(){qj("Long-poll script failed to load: "+d),c.sendNewPolls=!1,c.close()},c.myIFrame.doc.body.appendChild(a)}catch(d){}},Math.floor(1))},a}(),Al=null;"undefined"!=typeof MozWebSocket?Al=MozWebSocket:"undefined"!=typeof WebSocket&&(Al=WebSocket);var Bl=function(){function a(b,c,d,e){this.connId=b,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=rj(this.connId),this.stats_=pl.getCollection(c),this.connURL=a.connectionURL_(c,d,e)}return a.connectionURL_=function(a,b,c){var d={v:"5"};return"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(Lj)&&(d.r="f"),b&&(d.s=b),c&&(d.ls=c),a.connectionURL(Mj,d)},a.prototype.open=function(a,b){var c=this;this.onDisconnect=b,this.onMessage=a,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,hj.set("previous_websocket_failure",!0);try{this.mySock=new Al(this.connURL)}catch(a){this.log_("Error instantiating WebSocket.");var d=a.message||a.data;return d&&this.log_(d),void this.onClosed_()}this.mySock.onopen=function(){c.log_("Websocket connected."),c.everConnected_=!0},this.mySock.onclose=function(){c.log_("Websocket connection was disconnected."),c.mySock=null,c.onClosed_()},this.mySock.onmessage=function(a){c.handleIncomingFrame(a)},this.mySock.onerror=function(a){c.log_("WebSocket error.  Closing connection.");var b=a.message||a.data;b&&c.log_(b),c.onClosed_()}},a.prototype.start=function(){},a.forceDisallow=function(){a.forceDisallow_=!0},a.isAvailable=function(){var b=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var c=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);c&&1<c.length&&parseFloat(c[1])<4.4&&(b=!0)}return!b&&null!==Al&&!a.forceDisallow_},a.previouslyFailed=function(){return hj.isInMemoryStorage||!0===hj.get("previous_websocket_failure")},a.prototype.markConnectionHealthy=function(){hj.remove("previous_websocket_failure")},a.prototype.appendFrame_=function(a){if(this.frames.push(a),this.frames.length==this.totalFrames){var b=this.frames.join("");this.frames=null;var c=n(b);this.onMessage(c)}},a.prototype.handleNewFrameCount_=function(a){this.totalFrames=a,this.frames=[]},a.prototype.extractFrameCount_=function(a){if(gi(null===this.frames,"We already have a frame buffer"),a.length<=6){var b=Number(a);if(!isNaN(b))return this.handleNewFrameCount_(b),null}return this.handleNewFrameCount_(1),a},a.prototype.handleIncomingFrame=function(a){if(null!==this.mySock){var b=a.data;if(this.bytesReceived+=b.length,this.stats_.incrementCounter("bytes_received",b.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(b);else{var c=this.extractFrameCount_(b);
null!==c&&this.appendFrame_(c)}}},a.prototype.send=function(a){this.resetKeepAlive();var b=o(a);this.bytesSent+=b.length,this.stats_.incrementCounter("bytes_sent",b.length);var c=Cj(b,16384);1<c.length&&this.sendString_(String(c.length));for(var d=0;d<c.length;d++)this.sendString_(c[d])},a.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},a.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},a.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},a.prototype.resetKeepAlive=function(){var a=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){a.mySock&&a.sendString_("0"),a.resetKeepAlive()},Math.floor(45e3))},a.prototype.sendString_=function(a){try{this.mySock.send(a)}catch(a){this.log_("Exception thrown from WebSocket.send():",a.message||a.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},a.responsesRequiredToBeHealthy=2,a.healthyTimeout=3e4,a}(),Cl=function(){function a(a){this.initTransports_(a)}return Object.defineProperty(a,"ALL_TRANSPORTS",{get:function(){return[yl,Bl]},enumerable:!0,configurable:!0}),a.prototype.initTransports_=function(b){var c=Bl&&Bl.isAvailable(),d=c&&!Bl.previouslyFailed();if(b.webSocketOnly&&(c||uj("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),d=!0),d)this.transports_=[Bl];else{var e=this.transports_=[];Dj(a.ALL_TRANSPORTS,function(a,b){b&&b.isAvailable()&&e.push(b)})}},a.prototype.initialTransport=function(){if(0<this.transports_.length)return this.transports_[0];throw new Error("No transports available")},a.prototype.upgradeTransport=function(){return 1<this.transports_.length?this.transports_[1]:null},a}(),Dl=function(){function a(a,b,c,d,e,f,g){this.id=a,this.repoInfo_=b,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=e,this.onKill_=f,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=rj("c:"+this.id+":"),this.transportManager_=new Cl(b),this.log_("Connection created"),this.start_()}return a.prototype.start_=function(){var a=this,b=this.transportManager_.initialTransport();this.conn_=new b(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=b.responsesRequiredToBeHealthy||0;var c=this.connReceiver_(this.conn_),d=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){a.conn_&&a.conn_.open(c,d)},Math.floor(0));var e=b.healthyTimeout||0;e>0&&(this.healthyTimeout_=Ij(function(){a.healthyTimeout_=null,a.isHealthy_||(a.conn_&&102400<a.conn_.bytesReceived?(a.log_("Connection exceeded healthy timeout but has received "+a.conn_.bytesReceived+" bytes.  Marking connection healthy."),a.isHealthy_=!0,a.conn_.markConnectionHealthy()):a.conn_&&10240<a.conn_.bytesSent?a.log_("Connection exceeded healthy timeout but has sent "+a.conn_.bytesSent+" bytes.  Leaving connection alive."):(a.log_("Closing unhealthy connection after timeout."),a.close()))},Math.floor(e)))},a.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},a.prototype.disconnReceiver_=function(a){var b=this;return function(c){a===b.conn_?b.onConnectionLost_(c):a===b.secondaryConn_?(b.log_("Secondary connection lost."),b.onSecondaryConnectionLost_()):b.log_("closing an old connection")}},a.prototype.connReceiver_=function(a){var b=this;return function(c){2!=b.state_&&(a===b.rx_?b.onPrimaryMessageReceived_(c):a===b.secondaryConn_?b.onSecondaryMessageReceived_(c):b.log_("message on old connection"))}},a.prototype.sendRequest=function(a){var b={t:"d",d:a};this.sendData_(b)},a.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},a.prototype.onSecondaryControl_=function(a){if("t"in a){var b=a.t;"a"===b?this.upgradeIfSecondaryHealthy_():"r"===b?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===b&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},a.prototype.onSecondaryMessageReceived_=function(a){var b=Aj("t",a),c=Aj("d",a);if("c"==b)this.onSecondaryControl_(c);else{if("d"!=b)throw new Error("Unknown protocol layer: "+b);this.pendingDataMessages.push(c)}},a.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},a.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},a.prototype.onPrimaryMessageReceived_=function(a){var b=Aj("t",a),c=Aj("d",a);"c"==b?this.onControl_(c):"d"==b&&this.onDataMessage_(c)},a.prototype.onDataMessage_=function(a){this.onPrimaryResponse_(),this.onMessage_(a)},a.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},a.prototype.onControl_=function(a){var b=Aj("t",a);if("d"in a){var c=a.d;if("h"===b)this.onHandshake_(c);else if("n"===b){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var d=0;d<this.pendingDataMessages.length;++d)this.onDataMessage_(this.pendingDataMessages[d]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===b?this.onConnectionShutdown_(c):"r"===b?this.onReset_(c):"e"===b?sj("Server Error: "+c):"o"===b?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):sj("Unknown control packet command: "+b)}},a.prototype.onHandshake_=function(a){var b=a.ts,c=a.v,d=a.h;this.sessionId=a.s,this.repoInfo_.updateHost(d),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,b),"5"!==c&&uj("Protocol version mismatch detected"),this.tryStartUpgrade_())},a.prototype.tryStartUpgrade_=function(){var a=this.transportManager_.upgradeTransport();a&&this.startUpgrade_(a)},a.prototype.startUpgrade_=function(a){var b=this;this.secondaryConn_=new a(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=a.responsesRequiredToBeHealthy||0;var c=this.connReceiver_(this.secondaryConn_),d=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(c,d),Ij(function(){b.secondaryConn_&&(b.log_("Timed out trying to upgrade."),b.secondaryConn_.close())},Math.floor(6e4))},a.prototype.onReset_=function(a){this.log_("Reset packet received.  New host: "+a),this.repoInfo_.updateHost(a),1===this.state_?this.close():(this.closeConnections_(),this.start_())},a.prototype.onConnectionEstablished_=function(a,b){var c=this;this.log_("Realtime connection established."),this.conn_=a,this.state_=1,this.onReady_&&(this.onReady_(b,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ij(function(){c.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},a.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},a.prototype.onSecondaryConnectionLost_=function(){var a=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==a&&this.rx_!==a||this.close()},a.prototype.onConnectionLost_=function(a){this.conn_=null,a||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(hj.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},a.prototype.onConnectionShutdown_=function(a){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(a),this.onKill_=null),this.onDisconnect_=null,this.close()},a.prototype.sendData_=function(a){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(a)},a.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},a.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},a}(),El=function(){function a(){}return a.prototype.put=function(a,b,c,d){},a.prototype.merge=function(a,b,c,d){},a.prototype.refreshAuthToken=function(a){},a.prototype.onDisconnectPut=function(a,b,c){},a.prototype.onDisconnectMerge=function(a,b,c){},a.prototype.onDisconnectCancel=function(a,b){},a.prototype.reportStats=function(a){},a}(),Fl=function(a){function b(c,d,e,f,g,h){var i=a.call(this)||this;if(i.repoInfo_=c,i.onDataUpdate_=d,i.onConnectStatus_=e,i.onServerInfoUpdate_=f,i.authTokenProvider_=g,i.authOverride_=h,i.id=b.nextPersistentConnectionId_++,i.log_=rj("p:"+i.id+":"),i.interruptReasons_={},i.listens_={},i.outstandingPuts_=[],i.outstandingPutCount_=0,i.onDisconnectRequestQueue_=[],i.connected_=!1,i.reconnectDelay_=1e3,i.maxReconnectDelay_=3e5,i.securityDebugCallback_=null,i.lastSessionId=null,i.establishConnectionTimer_=null,i.visible_=!1,i.requestCBHash_={},i.requestNumber_=0,i.realtime_=null,i.authToken_=null,i.forceTokenRefresh_=!1,i.invalidAuthTokenCount_=0,i.firstConnection_=!0,i.lastConnectionAttemptTime_=null,i.lastConnectionEstablishedTime_=null,h&&!oi())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return i.scheduleConnect_(0),vl.getInstance().on("visible",i.onVisible_,i),-1===c.host.indexOf("fblocal")&&wl.getInstance().on("online",i.onOnline_,i),i}return v(b,a),b.prototype.sendRequest=function(a,b,c){var d=++this.requestNumber_,e={r:d,a:a,b:b};this.log_(o(e)),gi(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(e),c&&(this.requestCBHash_[d]=c)},b.prototype.listen=function(a,b,c,d){var e=a.queryIdentifier(),f=a.path.toString();this.log_("Listen called for "+f+" "+e),this.listens_[f]=this.listens_[f]||{},gi(a.getQueryParams().isDefault()||!a.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),gi(!this.listens_[f][e],"listen() called twice for same path/queryId.");var g={onComplete:d,hashFn:b,query:a,tag:c};this.listens_[f][e]=g,this.connected_&&this.sendListen_(g)},b.prototype.sendListen_=function(a){var c=this,d=a.query,e=d.path.toString(),f=d.queryIdentifier();this.log_("Listen on "+e+" for "+f);var g={p:e};a.tag&&(g.q=d.queryObject(),g.t=a.tag),g.h=a.hashFn(),this.sendRequest("q",g,function(g){var h=g.d,i=g.s;b.warnOnListenWarnings_(h,d),(c.listens_[e]&&c.listens_[e][f])===a&&(c.log_("listen response",g),"ok"!==i&&c.removeListen_(e,f),a.onComplete&&a.onComplete(i,h))})},b.warnOnListenWarnings_=function(a,b){if(a&&"object"==typeof a&&ui(a,"w")){var c=vi(a,"w");if(Array.isArray(c)&&~c.indexOf("no_index")){var d='".indexOn": "'+b.getQueryParams().getIndex().toString()+'"',e=b.path.toString();uj("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+d+" at "+e+" to your security rules for better performance.")}}},b.prototype.refreshAuthToken=function(a){this.authToken_=a,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(a)},b.prototype.reduceReconnectDelayIfAdminCredential_=function(a){var b;(a&&40===a.length||"object"==typeof(b=ti(a).claims)&&!0===b.admin)&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},b.prototype.tryAuth=function(){var a,b=this;if(this.connected_&&this.authToken_){var c=this.authToken_,d=(a=ti(c).claims)&&"object"==typeof a&&a.hasOwnProperty("iat")?"auth":"gauth",e={cred:c};null===this.authOverride_?e.noauth=!0:"object"==typeof this.authOverride_&&(e.authvar=this.authOverride_),this.sendRequest(d,e,function(a){var d=a.s,e=a.d||"error";b.authToken_===c&&("ok"===d?b.invalidAuthTokenCount_=0:b.onAuthRevoked_(d,e))})}},b.prototype.unlisten=function(a,b){var c=a.path.toString(),d=a.queryIdentifier();this.log_("Unlisten called for "+c+" "+d),gi(a.getQueryParams().isDefault()||!a.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(c,d)&&this.connected_&&this.sendUnlisten_(c,d,a.queryObject(),b)},b.prototype.sendUnlisten_=function(a,b,c,d){this.log_("Unlisten on "+a+" for "+b);var e={p:a};d&&(e.q=c,e.t=d),this.sendRequest("n",e)},b.prototype.onDisconnectPut=function(a,b,c){this.connected_?this.sendOnDisconnect_("o",a,b,c):this.onDisconnectRequestQueue_.push({pathString:a,action:"o",data:b,onComplete:c})},b.prototype.onDisconnectMerge=function(a,b,c){this.connected_?this.sendOnDisconnect_("om",a,b,c):this.onDisconnectRequestQueue_.push({pathString:a,action:"om",data:b,onComplete:c})},b.prototype.onDisconnectCancel=function(a,b){this.connected_?this.sendOnDisconnect_("oc",a,null,b):this.onDisconnectRequestQueue_.push({pathString:a,action:"oc",data:null,onComplete:b})},b.prototype.sendOnDisconnect_=function(a,b,c,d){var e={p:b,d:c};this.log_("onDisconnect "+a,e),this.sendRequest(a,e,function(a){d&&setTimeout(function(){d(a.s,a.d)},Math.floor(0))})},b.prototype.put=function(a,b,c,d){this.putInternal("p",a,b,c,d)},b.prototype.merge=function(a,b,c,d){this.putInternal("m",a,b,c,d)},b.prototype.putInternal=function(a,b,c,d,e){var f={p:b,d:c};void 0!==e&&(f.h=e),this.outstandingPuts_.push({action:a,request:f,onComplete:d}),this.outstandingPutCount_++;var g=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(g):this.log_("Buffering put: "+b)},b.prototype.sendPut_=function(a){var b=this,c=this.outstandingPuts_[a].action,d=this.outstandingPuts_[a].request,e=this.outstandingPuts_[a].onComplete;this.outstandingPuts_[a].queued=this.connected_,this.sendRequest(c,d,function(d){b.log_(c+" response",d),delete b.outstandingPuts_[a],b.outstandingPutCount_--,0===b.outstandingPutCount_&&(b.outstandingPuts_=[]),e&&e(d.s,d.d)})},b.prototype.reportStats=function(a){var b=this;if(this.connected_){var c={c:a};this.log_("reportStats",c),this.sendRequest("s",c,function(a){if("ok"!==a.s){var c=a.d;b.log_("reportStats","Error sending stats: "+c)}})}},b.prototype.onDataMessage_=function(a){if("r"in a){this.log_("from server: "+o(a));var b=a.r,c=this.requestCBHash_[b];c&&(delete this.requestCBHash_[b],c(a.b))}else{if("error"in a)throw"A server-side error has occurred: "+a.error;"a"in a&&this.onDataPush_(a.a,a.b)}},b.prototype.onDataPush_=function(a,b){this.log_("handleServerMessage",a,b),"d"===a?this.onDataUpdate_(b.p,b.d,!1,b.t):"m"===a?this.onDataUpdate_(b.p,b.d,!0,b.t):"c"===a?this.onListenRevoked_(b.p,b.q):"ac"===a?this.onAuthRevoked_(b.s,b.d):"sd"===a?this.onSecurityDebugPacket_(b):sj("Unrecognized action received from server: "+o(a)+"\nAre you using the latest client?")},b.prototype.onReady_=function(a,b){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(a),this.lastSessionId=b,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},b.prototype.scheduleConnect_=function(a){var b=this;gi(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){b.establishConnectionTimer_=null,b.establishConnection_()},Math.floor(a))},b.prototype.onVisible_=function(a){a&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=a},b.prototype.onOnline_=function(a){a?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},b.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(3e4<(new Date).getTime()-this.lastConnectionEstablishedTime_&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var a=(new Date).getTime()-this.lastConnectionAttemptTime_,b=Math.max(0,this.reconnectDelay_-a);b=Math.random()*b,this.log_("Trying to reconnect in "+b+"ms"),this.scheduleConnect_(b),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},b.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var a=this.onDataMessage_.bind(this),c=this.onReady_.bind(this),d=this.onRealtimeDisconnect_.bind(this),e=this.id+":"+b.nextConnectionId_++,f=this,g=this.lastSessionId,h=!1,i=null,j=function(){i?i.close():(h=!0,d())};this.realtime_={close:j,sendRequest:function(a){gi(i,"sendRequest call when we're not connected not allowed."),i.sendRequest(a)}};var k=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(k).then(function(b){h?qj("getToken() completed but was canceled"):(qj("getToken() completed. Creating connection."),f.authToken_=b&&b.accessToken,i=new Dl(e,f.repoInfo_,a,c,d,function(a){uj(a+" ("+f.repoInfo_.toString()+")"),f.interrupt("server_kill")},g))}).then(null,function(a){f.log_("Failed to get token: "+a),h||j()})}},b.prototype.interrupt=function(a){qj("Interrupting connection for reason: "+a),this.interruptReasons_[a]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},b.prototype.resume=function(a){qj("Resuming connection for reason: "+a),delete this.interruptReasons_[a],yi(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},b.prototype.handleTimestamp_=function(a){var b=a-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:b})},b.prototype.cancelSentTransactions_=function(){for(var a=0;a<this.outstandingPuts_.length;a++){var b=this.outstandingPuts_[a];b&&"h"in b.request&&b.queued&&(b.onComplete&&b.onComplete("disconnect"),delete this.outstandingPuts_[a],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},b.prototype.onListenRevoked_=function(a,b){var c;c=b?b.map(function(a){return Bj(a)}).join("$"):"default";var d=this.removeListen_(a,c);d&&d.onComplete&&d.onComplete("permission_denied")},b.prototype.removeListen_=function(a,b){var c,d=new Jj(a).toString();return void 0!==this.listens_[d]?(c=this.listens_[d][b],delete this.listens_[d][b],0===zi(this.listens_[d])&&delete this.listens_[d]):c=void 0,c},b.prototype.onAuthRevoked_=function(a,b){qj("Auth token revoked: "+a+"/"+b),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==a&&"permission_denied"!==a||(this.invalidAuthTokenCount_++,3<=this.invalidAuthTokenCount_&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},b.prototype.onSecurityDebugPacket_=function(a){this.securityDebugCallback_?this.securityDebugCallback_(a):"msg"in a&&console.log("FIREBASE: "+a.msg.replace("\n","\nFIREBASE: "))},b.prototype.restoreState_=function(){var a=this;this.tryAuth(),wi(this.listens_,function(b,c){wi(c,function(b,c){a.sendListen_(c)})});for(var b=0;b<this.outstandingPuts_.length;b++)this.outstandingPuts_[b]&&this.sendPut_(b);for(;this.onDisconnectRequestQueue_.length;){var c=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(c.action,c.pathString,c.data,c.onComplete)}},b.prototype.sendConnectStats_=function(){var a={};a["sdk.js."+Ni.SDK_VERSION.replace(/\./g,"-")]=1,mi()?a["framework.cordova"]=1:ni()&&(a["framework.reactnative"]=1),this.reportStats(a)},b.prototype.shouldReconnect_=function(){var a=wl.getInstance().currentlyOnline();return yi(this.interruptReasons_)&&a},b.nextPersistentConnectionId_=0,b.nextConnectionId_=0,b}(El),Gl=function(a){function b(b,c,d){var e=a.call(this)||this;return e.repoInfo_=b,e.onDataUpdate_=c,e.authTokenProvider_=d,e.log_=rj("p:rest:"),e.listens_={},e}return v(b,a),b.prototype.reportStats=function(a){throw new Error("Method not implemented.")},b.getListenId_=function(a,b){return void 0!==b?"tag$"+b:(gi(a.getQueryParams().isDefault(),"should have a tag if it's not a default query."),a.path.toString())},b.prototype.listen=function(a,c,d,e){var f=this,g=a.path.toString();this.log_("Listen called for "+g+" "+a.queryIdentifier());var h=b.getListenId_(a,d),i={};this.listens_[h]=i;var j=a.getQueryParams().toRestQueryStringParameters();this.restRequest_(g+".json",j,function(a,b){var c=b;404===a&&(a=c=null),null===a&&f.onDataUpdate_(g,c,!1,d),vi(f.listens_,h)===i&&e(a?401==a?"permission_denied":"rest_error:"+a:"ok",null)})},b.prototype.unlisten=function(a,c){var d=b.getListenId_(a,c);delete this.listens_[d]},b.prototype.refreshAuthToken=function(a){},b.prototype.restRequest_=function(a,b,c){var d=this;void 0===b&&(b={}),b.format="export",this.authTokenProvider_.getToken(!1).then(function(e){var f=e&&e.accessToken;f&&(b.auth=f);var g,h=(d.repoInfo_.secure?"https://":"http://")+d.repoInfo_.host+a+"?ns="+d.repoInfo_.namespace+(g=[],wi(b,function(a,b){Array.isArray(b)?b.forEach(function(b){g.push(encodeURIComponent(a)+"="+encodeURIComponent(b))}):g.push(encodeURIComponent(a)+"="+encodeURIComponent(b))}),g.length?"&"+g.join("&"):"");d.log_("Sending REST request for "+h);var i=new XMLHttpRequest;i.onreadystatechange=function(){if(c&&4===i.readyState){d.log_("REST Response for "+h+" received. status:",i.status,"response:",i.responseText);var a=null;if(200<=i.status&&i.status<300){try{a=n(i.responseText)}catch(a){uj("Failed to parse JSON response for "+h+": "+i.responseText)}c(null,a)}else 401!==i.status&&404!==i.status&&uj("Got unsuccessful REST response for "+h+" Status: "+i.status),c(i.status);c=null}},i.open("GET",h,!0),i.send()})},b}(El),Hl="repo_interrupt",Il=function(){function a(a,b,c){var d=this;this.repoInfo_=a,this.app=c,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sl,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new Nk,this.persistentConnection_=null;var e=new nl(c);if(this.stats_=pl.getCollection(a),b||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))this.server_=new Gl(this.repoInfo_,this.onDataUpdate_.bind(this),e),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var f=c.options.databaseAuthVariableOverride;if(null!=f){if("object"!=typeof f)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{o(f)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}this.persistentConnection_=new Fl(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),e,f),this.server_=this.persistentConnection_}e.addTokenChangeListener(function(a){d.server_.refreshAuthToken(a)}),this.statsReporter_=pl.getOrCreateReporter(a,function(){return new rl(d.stats_,d.server_)}),this.transactions_init_(),this.infoData_=new ml,this.infoSyncTree_=new ll({startListening:function(a,b,c,e){var f=[],g=d.infoData_.getNode(a.path);return g.isEmpty()||(f=d.infoSyncTree_.applyServerOverwrite(a.path,g),setTimeout(function(){e("ok")},0)),f},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new ll({startListening:function(a,b,c,e){return d.server_.listen(a,c,b,function(b,c){var f=e(b,c);d.eventQueue_.raiseEventsForChangedPath(a.path,f)}),[]},stopListening:function(a,b){d.server_.unlisten(a,b)}})}return a.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},a.prototype.name=function(){return this.repoInfo_.namespace},a.prototype.serverTime=function(){var a=this.infoData_.getNode(new Jj(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+a},a.prototype.generateServerValues=function(){return(a=(a={timestamp:this.serverTime()})||{}).timestamp=a.timestamp||(new Date).getTime(),a;var a},a.prototype.onDataUpdate_=function(a,b,c,d){this.dataUpdateCount++;var e=new Jj(a);b=this.interceptServerDataCallback_?this.interceptServerDataCallback_(a,b):b;var f=[];if(d)if(c){var g=Ai(b,function(a){return B(a)});f=this.serverSyncTree_.applyTaggedQueryMerge(e,g,d)}else{var h=B(b);f=this.serverSyncTree_.applyTaggedQueryOverwrite(e,h,d)}else if(c){var i=Ai(b,function(a){return B(a)});f=this.serverSyncTree_.applyServerMerge(e,i)}else{var j=B(b);f=this.serverSyncTree_.applyServerOverwrite(e,j)}var k=e;0<f.length&&(k=this.rerunTransactions_(e)),this.eventQueue_.raiseEventsForChangedPath(k,f)},a.prototype.interceptServerData_=function(a){this.interceptServerDataCallback_=a},a.prototype.onConnectStatus_=function(a){this.updateInfo_("connected",a),!1===a&&this.runOnDisconnectEvents_()},a.prototype.onServerInfoUpdate_=function(a){var b=this;Dj(a,function(a,c){b.updateInfo_(c,a)})},a.prototype.updateInfo_=function(a,b){var c=new Jj("/.info/"+a),d=B(b);this.infoData_.updateSnapshot(c,d);var e=this.infoSyncTree_.applyServerOverwrite(c,d);this.eventQueue_.raiseEventsForChangedPath(c,e)},a.prototype.getNextWriteId_=function(){return this.nextWriteId_++},a.prototype.setWithPriority=function(a,b,c,d){var e=this;this.log_("set",{path:a.toString(),value:b,priority:c});var f=this.generateServerValues(),g=B(b,c),h=Pk(g,f),i=this.getNextWriteId_(),j=this.serverSyncTree_.applyUserOverwrite(a,h,i,!0);this.eventQueue_.queueEvents(j),this.server_.put(a.toString(),g.val(!0),function(b,c){var f="ok"===b;f||uj("set at "+a+" failed: "+b);var g=e.serverSyncTree_.ackUserWrite(i,!f);e.eventQueue_.raiseEventsForChangedPath(a,g),e.callOnCompleteCallback(d,b,c)});var k=this.abortTransactions_(a);this.rerunTransactions_(k),this.eventQueue_.raiseEventsForChangedPath(k,[])},a.prototype.update=function(a,b,c){var d=this;this.log_("update",{path:a.toString(),value:b});var e=!0,f=this.generateServerValues(),g={};if(wi(b,function(a,b){e=!1;var c=B(b);g[a]=Pk(c,f)}),e)qj("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(c,"ok");else{var h=this.getNextWriteId_(),i=this.serverSyncTree_.applyUserMerge(a,g,h);this.eventQueue_.queueEvents(i),this.server_.merge(a.toString(),b,function(b,e){var f="ok"===b;f||uj("update at "+a+" failed: "+b);var g=d.serverSyncTree_.ackUserWrite(h,!f),i=0<g.length?d.rerunTransactions_(a):a;d.eventQueue_.raiseEventsForChangedPath(i,g),d.callOnCompleteCallback(c,b,e)}),wi(b,function(b){var c=d.abortTransactions_(a.child(b));d.rerunTransactions_(c)}),this.eventQueue_.raiseEventsForChangedPath(a,[])}},a.prototype.runOnDisconnectEvents_=function(){var a=this;this.log_("onDisconnectEvents");var b,c,d,e=this.generateServerValues(),f=(b=this.onDisconnect_,c=e,d=new Nk,b.forEachTree(new Jj(""),function(a,b){d.remember(a,Pk(b,c))}),d),g=[];f.forEachTree(Jj.Empty,function(b,c){g=g.concat(a.serverSyncTree_.applyServerOverwrite(b,c));var d=a.abortTransactions_(b);a.rerunTransactions_(d)}),this.onDisconnect_=new Nk,this.eventQueue_.raiseEventsForChangedPath(Jj.Empty,g)},a.prototype.onDisconnectCancel=function(a,b){var c=this;this.server_.onDisconnectCancel(a.toString(),function(d,e){"ok"===d&&c.onDisconnect_.forget(a),c.callOnCompleteCallback(b,d,e)})},a.prototype.onDisconnectSet=function(a,b,c){var d=this,e=B(b);this.server_.onDisconnectPut(a.toString(),e.val(!0),function(b,f){"ok"===b&&d.onDisconnect_.remember(a,e),d.callOnCompleteCallback(c,b,f)})},a.prototype.onDisconnectSetWithPriority=function(a,b,c,d){var e=this,f=B(b,c);this.server_.onDisconnectPut(a.toString(),f.val(!0),function(b,c){"ok"===b&&e.onDisconnect_.remember(a,f),e.callOnCompleteCallback(d,b,c)})},a.prototype.onDisconnectUpdate=function(a,b,c){var d=this;return yi(b)?(qj("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(c,"ok")):void this.server_.onDisconnectMerge(a.toString(),b,function(e,f){"ok"===e&&wi(b,function(b,c){var e=B(c);d.onDisconnect_.remember(a.child(b),e)}),d.callOnCompleteCallback(c,e,f)})},a.prototype.addEventCallbackForQuery=function(a,b){var c;c=".info"===a.path.getFront()?this.infoSyncTree_.addEventRegistration(a,b):this.serverSyncTree_.addEventRegistration(a,b),this.eventQueue_.raiseEventsAtPath(a.path,c)},a.prototype.removeEventCallbackForQuery=function(a,b){var c;c=".info"===a.path.getFront()?this.infoSyncTree_.removeEventRegistration(a,b):this.serverSyncTree_.removeEventRegistration(a,b),this.eventQueue_.raiseEventsAtPath(a.path,c)},a.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(Hl)},a.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(Hl)},a.prototype.stats=function(a){if(void 0===a&&(a=!1),"undefined"!=typeof console){var b;b=a?(this.statsListener_||(this.statsListener_=new ql(this.stats_)),this.statsListener_.get()):this.stats_.get();var c=Object.keys(b).reduce(function(a,b){return Math.max(b.length,a)},0);wi(b,function(a,b){for(var d=a.length;c+2>d;d++)a+=" ";console.log(a+b)})}},a.prototype.statsIncrementCounter=function(a){this.stats_.incrementCounter(a),this.statsReporter_.includeStat(a)},a.prototype.log_=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c="";this.persistentConnection_&&(c=this.persistentConnection_.id+":"),qj.apply(void 0,[c].concat(a))},a.prototype.callOnCompleteCallback=function(a,b,c){a&&Hj(function(){if("ok"==b)a(null);else{var d=(b||"error").toUpperCase(),e=d;c&&(e+=": "+c);var f=new Error(e);f.code=d,a(f)}})},Object.defineProperty(a.prototype,"database",{get:function(){return this.__database||(this.__database=new Ul(this))},enumerable:!0,configurable:!0}),a}(),Jl=function(){function a(b){this.indexedFilter_=new _k(b.getIndex()),this.index_=b.getIndex(),this.startPost_=a.getStartPost_(b),this.endPost_=a.getEndPost_(b)}return a.prototype.getStartPost=function(){return this.startPost_},a.prototype.getEndPost=function(){return this.endPost_},a.prototype.matches=function(a){return this.index_.compare(this.getStartPost(),a)<=0&&this.index_.compare(a,this.getEndPost())<=0},a.prototype.updateChild=function(a,b,c,d,e,f){return this.matches(new hk(b,c))||(c=yk.EMPTY_NODE),this.indexedFilter_.updateChild(a,b,c,d,e,f)},a.prototype.updateFullNode=function(a,b,c){b.isLeafNode()&&(b=yk.EMPTY_NODE);var d=b.withIndex(this.index_);d=d.updatePriority(yk.EMPTY_NODE);var e=this;return b.forEachChild(ok,function(a,b){
e.matches(new hk(a,b))||(d=d.updateImmediateChild(a,yk.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(a,d,c)},a.prototype.updatePriority=function(a,b){return a},a.prototype.filtersNodes=function(){return!0},a.prototype.getIndexedFilter=function(){return this.indexedFilter_},a.prototype.getIndex=function(){return this.index_},a.getStartPost_=function(a){if(a.hasStart()){var b=a.getIndexStartName();return a.getIndex().makePost(a.getIndexStartValue(),b)}return a.getIndex().minPost()},a.getEndPost_=function(a){if(a.hasEnd()){var b=a.getIndexEndName();return a.getIndex().makePost(a.getIndexEndValue(),b)}return a.getIndex().maxPost()},a}(),Kl=function(){function a(a){this.rangedFilter_=new Jl(a),this.index_=a.getIndex(),this.limit_=a.getLimit(),this.reverse_=!a.isViewFromLeft()}return a.prototype.updateChild=function(a,b,c,d,e,f){return this.rangedFilter_.matches(new hk(b,c))||(c=yk.EMPTY_NODE),a.getImmediateChild(b).equals(c)?a:a.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(a,b,c,d,e,f):this.fullLimitUpdateChild_(a,b,c,e,f)},a.prototype.updateFullNode=function(a,b,c){var d;if(b.isLeafNode()||b.isEmpty())d=yk.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<b.numChildren()&&b.isIndexed(this.index_)){d=yk.EMPTY_NODE.withIndex(this.index_);var e=void 0;e=this.reverse_?b.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):b.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var f=0;e.hasNext()&&f<this.limit_;){var g=e.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),g)<=0:this.index_.compare(g,this.rangedFilter_.getEndPost())<=0))break;d=d.updateImmediateChild(g.name,g.node),f++}}else{d=(d=b.withIndex(this.index_)).updatePriority(yk.EMPTY_NODE);var h=void 0,i=void 0,j=void 0;if(e=void 0,this.reverse_){e=d.getReverseIterator(this.index_),h=this.rangedFilter_.getEndPost(),i=this.rangedFilter_.getStartPost();var k=this.index_.getCompare();j=function(a,b){return k(b,a)}}else e=d.getIterator(this.index_),h=this.rangedFilter_.getStartPost(),i=this.rangedFilter_.getEndPost(),j=this.index_.getCompare();f=0;for(var l=!1;e.hasNext();)g=e.getNext(),!l&&j(h,g)<=0&&(l=!0),l&&f<this.limit_&&j(g,i)<=0?f++:d=d.updateImmediateChild(g.name,yk.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(a,d,c)},a.prototype.updatePriority=function(a,b){return a},a.prototype.filtersNodes=function(){return!0},a.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},a.prototype.getIndex=function(){return this.index_},a.prototype.fullLimitUpdateChild_=function(a,b,c,d,e){var f;if(this.reverse_){var g=this.index_.getCompare();f=function(a,b){return g(b,a)}}else f=this.index_.getCompare();var h=a;gi(h.numChildren()==this.limit_,"");var i=new hk(b,c),j=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),k=this.rangedFilter_.matches(i);if(h.hasChild(b)){for(var l=h.getImmediateChild(b),m=d.getChildAfterChild(this.index_,j,this.reverse_);null!=m&&(m.name==b||h.hasChild(m.name));)m=d.getChildAfterChild(this.index_,m,this.reverse_);var n=null==m?1:f(m,i);if(k&&!c.isEmpty()&&n>=0)return null!=e&&e.trackChildChange($k.childChangedChange(b,c,l)),h.updateImmediateChild(b,c);null!=e&&e.trackChildChange($k.childRemovedChange(b,l));var o=h.updateImmediateChild(b,yk.EMPTY_NODE);return null!=m&&this.rangedFilter_.matches(m)?(null!=e&&e.trackChildChange($k.childAddedChange(m.name,m.node)),o.updateImmediateChild(m.name,m.node)):o}return c.isEmpty()?a:k&&0<=f(j,i)?(null!=e&&(e.trackChildChange($k.childRemovedChange(j.name,j.node)),e.trackChildChange($k.childAddedChange(b,c))),h.updateImmediateChild(b,c).updateImmediateChild(j.name,yk.EMPTY_NODE)):a},a}(),Ll=function(){function a(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ok}return a.prototype.hasStart=function(){return this.startSet_},a.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===a.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},a.prototype.getIndexStartValue=function(){return gi(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},a.prototype.getIndexStartName=function(){return gi(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:wj},a.prototype.hasEnd=function(){return this.endSet_},a.prototype.getIndexEndValue=function(){return gi(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},a.prototype.getIndexEndName=function(){return gi(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xj},a.prototype.hasLimit=function(){return this.limitSet_},a.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},a.prototype.getLimit=function(){return gi(this.limitSet_,"Only valid if limit has been set"),this.limit_},a.prototype.getIndex=function(){return this.index_},a.prototype.copy_=function(){var b=new a;return b.limitSet_=this.limitSet_,b.limit_=this.limit_,b.startSet_=this.startSet_,b.indexStartValue_=this.indexStartValue_,b.startNameSet_=this.startNameSet_,b.indexStartName_=this.indexStartName_,b.endSet_=this.endSet_,b.indexEndValue_=this.indexEndValue_,b.endNameSet_=this.endNameSet_,b.indexEndName_=this.indexEndName_,b.index_=this.index_,b.viewFrom_=this.viewFrom_,b},a.prototype.limit=function(a){var b=this.copy_();return b.limitSet_=!0,b.limit_=a,b.viewFrom_="",b},a.prototype.limitToFirst=function(b){var c=this.copy_();return c.limitSet_=!0,c.limit_=b,c.viewFrom_=a.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,c},a.prototype.limitToLast=function(b){var c=this.copy_();return c.limitSet_=!0,c.limit_=b,c.viewFrom_=a.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,c},a.prototype.startAt=function(a,b){var c=this.copy_();return c.startSet_=!0,void 0===a&&(a=null),c.indexStartValue_=a,c.indexStartName_=null!=b?(c.startNameSet_=!0,b):(c.startNameSet_=!1,""),c},a.prototype.endAt=function(a,b){var c=this.copy_();return c.endSet_=!0,void 0===a&&(a=null),c.indexEndValue_=a,c.indexEndName_=void 0!==b?(c.endNameSet_=!0,b):(c.endNameSet_=!1,""),c},a.prototype.orderBy=function(a){var b=this.copy_();return b.index_=a,b},a.prototype.getQueryObject=function(){var b=a.WIRE_PROTOCOL_CONSTANTS_,c={};if(this.startSet_&&(c[b.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(c[b.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(c[b.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(c[b.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){c[b.LIMIT]=this.limit_;var d=this.viewFrom_;""===d&&(d=this.isViewFromLeft()?b.VIEW_FROM_LEFT:b.VIEW_FROM_RIGHT),c[b.VIEW_FROM]=d}return this.index_!==ok&&(c[b.INDEX]=this.index_.toString()),c},a.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},a.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==ok},a.prototype.getNodeFilter=function(){return this.loadsAllData()?new _k(this.getIndex()):this.hasLimit()?new Kl(this):new Jl(this)},a.prototype.toRestQueryStringParameters=function(){var b,c=a.REST_QUERY_CONSTANTS_,d={};return this.isDefault()||(b=this.index_===ok?c.PRIORITY_INDEX:this.index_===Ek?c.VALUE_INDEX:this.index_===kk?c.KEY_INDEX:(gi(this.index_ instanceof Fk,"Unrecognized index type!"),this.index_.toString()),d[c.ORDER_BY]=o(b),this.startSet_&&(d[c.START_AT]=o(this.indexStartValue_),this.startNameSet_&&(d[c.START_AT]+=","+o(this.indexStartName_))),this.endSet_&&(d[c.END_AT]=o(this.indexEndValue_),this.endNameSet_&&(d[c.END_AT]+=","+o(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?d[c.LIMIT_TO_FIRST]=this.limit_:d[c.LIMIT_TO_LAST]=this.limit_)),d},a.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},a.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},a.DEFAULT=new a,a}(),Ml=function(a){function b(b,c){if(!(b instanceof Il))throw new Error("new Reference() no longer supported - use app.database().");return a.call(this,b,c,Ll.DEFAULT,!1)||this}return v(b,a),b.prototype.getKey=function(){return Fi("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},b.prototype.child=function(a){var c,d,e,f;return Fi("Reference.child",1,1,arguments.length),"number"==typeof a?a=String(a):a instanceof Jj||(null===this.path.getFront()?(c="Reference.child",f=!(d=1),(e=a)&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),bk(c,d,e,f)):bk("Reference.child",1,a,!1)),new b(this.repo,this.path.child(a))},b.prototype.getParent=function(){Fi("Reference.parent",0,0,arguments.length);var a=this.path.parent();return null===a?null:new b(this.repo,a)},b.prototype.getRoot=function(){Fi("Reference.root",0,0,arguments.length);for(var a=this;null!==a.getParent();)a=a.getParent();return a},b.prototype.databaseProp=function(){return this.repo.database},b.prototype.set=function(a,b){Fi("Reference.set",1,2,arguments.length),ck("Reference.set",this.path),Xj("Reference.set",1,a,this.path,!1),s("Reference.set",2,b,!0);var c=new li;return this.repo.setWithPriority(this.path,a,null,c.wrapCallback(b)),c.promise},b.prototype.update=function(a,b){if(Fi("Reference.update",1,2,arguments.length),ck("Reference.update",this.path),Array.isArray(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c,uj("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Zj("Reference.update",1,a,this.path,!1),s("Reference.update",2,b,!0);var e=new li;return this.repo.update(this.path,a,e.wrapCallback(b)),e.promise},b.prototype.setWithPriority=function(a,b,c){if(Fi("Reference.setWithPriority",2,3,arguments.length),ck("Reference.setWithPriority",this.path),Xj("Reference.setWithPriority",1,a,this.path,!1),$j("Reference.setWithPriority",2,b,!1),s("Reference.setWithPriority",3,c,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var d=new li;return this.repo.setWithPriority(this.path,a,b,d.wrapCallback(c)),d.promise},b.prototype.remove=function(a){return Fi("Reference.remove",0,1,arguments.length),ck("Reference.remove",this.path),s("Reference.remove",1,a,!0),this.set(null,a)},b.prototype.transaction=function(a,b,c){if(Fi("Reference.transaction",1,3,arguments.length),ck("Reference.transaction",this.path),s("Reference.transaction",1,a,!1),s("Reference.transaction",2,b,!0),function(a,b,c,d){if((!d||void 0!==c)&&"boolean"!=typeof c)throw new Error(r(a,b,d)+"must be a boolean.")}("Reference.transaction",3,c,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===c&&(c=!0);var d=new li;return"function"==typeof b&&d.promise["catch"](function(){}),this.repo.startTransaction(this.path,a,function(a,c,e){a?d.reject(a):d.resolve(new fk(c,e)),"function"==typeof b&&b(a,c,e)},c),d.promise},b.prototype.setPriority=function(a,b){Fi("Reference.setPriority",1,2,arguments.length),ck("Reference.setPriority",this.path),$j("Reference.setPriority",1,a,!1),s("Reference.setPriority",2,b,!0);var c=new li;return this.repo.setWithPriority(this.path.child(".priority"),a,null,c.wrapCallback(b)),c.promise},b.prototype.push=function(a,b){Fi("Reference.push",0,2,arguments.length),ck("Reference.push",this.path),Xj("Reference.push",1,a,this.path,!0),s("Reference.push",2,b,!0);var c,d=this.repo.serverTime(),e=gk(d),f=this.child(e),g=this.child(e);return c=null!=a?f.set(a,b).then(function(){return g}):Promise.resolve(g),f.then=c.then.bind(c),f["catch"]=c.then.bind(c,void 0),"function"==typeof b&&c["catch"](function(){}),f},b.prototype.onDisconnect=function(){return ck("Reference.onDisconnect",this.path),new ek(this.repo,this.path)},Object.defineProperty(b.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),b}(Lk);Lk.__referenceConstructor=Ml,hl.__referenceConstructor=Ml;var Nl,Ol,Pl=function(){this.children={},this.childCount=0,this.value=null},Ql=function(){function a(a,b,c){void 0===a&&(a=""),void 0===b&&(b=null),void 0===c&&(c=new Pl),this.name_=a,this.parent_=b,this.node_=c}return a.prototype.subTree=function(b){for(var c,d=b instanceof Jj?b:new Jj(b),e=this;null!==(c=d.getFront());)e=new a(c,e,vi(e.node_.children,c)||new Pl),d=d.popFront();return e},a.prototype.getValue=function(){return this.node_.value},a.prototype.setValue=function(a){gi(void 0!==a,"Cannot set value to undefined"),this.node_.value=a,this.updateParents_()},a.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},a.prototype.hasChildren=function(){return 0<this.node_.childCount},a.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},a.prototype.forEachChild=function(b){var c=this;wi(this.node_.children,function(d,e){b(new a(d,c,e))})},a.prototype.forEachDescendant=function(a,b,c){b&&!c&&a(this),this.forEachChild(function(b){b.forEachDescendant(a,!0,c)}),b&&c&&a(this)},a.prototype.forEachAncestor=function(a,b){for(var c=b?this:this.parent();null!==c;){if(a(c))return!0;c=c.parent()}return!1},a.prototype.forEachImmediateDescendantWithValue=function(a){this.forEachChild(function(b){null!==b.getValue()?a(b):b.forEachImmediateDescendantWithValue(a)})},a.prototype.path=function(){return new Jj(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},a.prototype.name=function(){return this.name_},a.prototype.parent=function(){return this.parent_},a.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},a.prototype.updateChild_=function(a,b){var c=b.isEmpty(),d=ui(this.node_.children,a);c&&d?(delete this.node_.children[a],this.node_.childCount--,this.updateParents_()):c||d||(this.node_.children[a]=b.node_,this.node_.childCount++,this.updateParents_())},a}();(Ol=Nl||(Nl={}))[Ol.RUN=0]="RUN",Ol[Ol.SENT=1]="SENT",Ol[Ol.COMPLETED=2]="COMPLETED",Ol[Ol.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",Ol[Ol.NEEDS_ABORT=4]="NEEDS_ABORT",Il.MAX_TRANSACTION_RETRIES_=25,Il.prototype.transactions_init_=function(){this.transactionQueueTree_=new Ql},Il.prototype.startTransaction=function(a,b,c,d){this.log_("transaction on "+a);var e=function(){},f=new Ml(this,a);f.on("value",e);var g={path:a,update:b,onComplete:c,status:null,order:kj(),applyLocally:d,retryCount:0,unwatcher:function(){f.off("value",e)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=this.getLatestState_(a);g.currentInputSnapshot=h;var i=g.update(h.val());if(void 0===i){if(g.unwatcher(),g.currentOutputSnapshotRaw=null,g.currentOutputSnapshotResolved=null,g.onComplete){var j=new Gk(g.currentInputSnapshot,new Ml(this,g.path),ok);g.onComplete(null,!1,j)}}else{Yj("transaction failed: Data returned ",i,g.path),g.status=Nl.RUN;var k=this.transactionQueueTree_.subTree(a),l=k.getValue()||[];l.push(g),k.setValue(l);var m=void 0;"object"==typeof i&&null!==i&&ui(i,".priority")?(m=vi(i,".priority"),gi(Wj(m),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):m=(this.serverSyncTree_.calcCompleteEventCache(a)||yk.EMPTY_NODE).getPriority().val(),m=m;var n=this.generateServerValues(),o=B(i,m),p=Pk(o,n);g.currentOutputSnapshotRaw=o,g.currentOutputSnapshotResolved=p,g.currentWriteId=this.getNextWriteId_();var q=this.serverSyncTree_.applyUserOverwrite(a,p,g.currentWriteId,g.applyLocally);this.eventQueue_.raiseEventsForChangedPath(a,q),this.sendReadyTransactions_()}},Il.prototype.getLatestState_=function(a,b){return this.serverSyncTree_.calcCompleteEventCache(a,b)||yk.EMPTY_NODE},Il.prototype.sendReadyTransactions_=function(a){var b=this;if(void 0===a&&(a=this.transactionQueueTree_),a||this.pruneCompletedTransactionsBelowNode_(a),null!==a.getValue()){var c=this.buildTransactionQueue_(a);gi(0<c.length,"Sending zero length transaction queue"),c.every(function(a){return a.status===Nl.RUN})&&this.sendTransactionQueue_(a.path(),c)}else a.hasChildren()&&a.forEachChild(function(a){b.sendReadyTransactions_(a)})},Il.prototype.sendTransactionQueue_=function(a,b){for(var c=this,d=b.map(function(a){return a.currentWriteId}),e=this.getLatestState_(a,d),f=e,g=e.hash(),h=0;h<b.length;h++){var i=b[h];gi(i.status===Nl.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),i.status=Nl.SENT,i.retryCount++;var j=Jj.relativePath(a,i.path);f=f.updateChild(j,i.currentOutputSnapshotRaw)}var k=f.val(!0),l=a;this.server_.put(l.toString(),k,function(d){c.log_("transaction put response",{path:l.toString(),status:d});var e=[];if("ok"===d){for(var f=[],g=0;g<b.length;g++){if(b[g].status=Nl.COMPLETED,e=e.concat(c.serverSyncTree_.ackUserWrite(b[g].currentWriteId)),b[g].onComplete){var h=b[g].currentOutputSnapshotResolved,i=new Ml(c,b[g].path),j=new Gk(h,i,ok);f.push(b[g].onComplete.bind(null,null,!0,j))}b[g].unwatcher()}for(c.pruneCompletedTransactionsBelowNode_(c.transactionQueueTree_.subTree(a)),c.sendReadyTransactions_(),c.eventQueue_.raiseEventsForChangedPath(a,e),g=0;g<f.length;g++)Hj(f[g])}else{if("datastale"===d)for(g=0;g<b.length;g++)b[g].status===Nl.SENT_NEEDS_ABORT?b[g].status=Nl.NEEDS_ABORT:b[g].status=Nl.RUN;else for(uj("transaction at "+l.toString()+" failed: "+d),g=0;g<b.length;g++)b[g].status=Nl.NEEDS_ABORT,b[g].abortReason=d;c.rerunTransactions_(a)}},g)},Il.prototype.rerunTransactions_=function(a){var b=this.getAncestorTransactionNode_(a),c=b.path(),d=this.buildTransactionQueue_(b);return this.rerunTransactionQueue_(d,c),c},Il.prototype.rerunTransactionQueue_=function(a,b){if(0!==a.length){for(var c,d=[],e=[],f=a.filter(function(a){return a.status===Nl.RUN}).map(function(a){return a.currentWriteId}),g=0;g<a.length;g++){var h=a[g],i=Jj.relativePath(b,h.path),j=!1,k=void 0;if(gi(null!==i,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===Nl.NEEDS_ABORT)j=!0,k=h.abortReason,e=e.concat(this.serverSyncTree_.ackUserWrite(h.currentWriteId,!0));else if(h.status===Nl.RUN)if(h.retryCount>=Il.MAX_TRANSACTION_RETRIES_)j=!0,k="maxretry",e=e.concat(this.serverSyncTree_.ackUserWrite(h.currentWriteId,!0));else{var l=this.getLatestState_(h.path,f);h.currentInputSnapshot=l;var m=a[g].update(l.val());if(void 0!==m){Yj("transaction failed: Data returned ",m,h.path);var n=B(m);"object"==typeof m&&null!=m&&ui(m,".priority")||(n=n.updatePriority(l.getPriority()));var o=h.currentWriteId,p=this.generateServerValues(),q=Pk(n,p);h.currentOutputSnapshotRaw=n,h.currentOutputSnapshotResolved=q,h.currentWriteId=this.getNextWriteId_(),f.splice(f.indexOf(o),1),e=(e=e.concat(this.serverSyncTree_.applyUserOverwrite(h.path,q,h.currentWriteId,h.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(o,!0))}else j=!0,k="nodata",e=e.concat(this.serverSyncTree_.ackUserWrite(h.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(b,e),e=[],j&&(a[g].status=Nl.COMPLETED,c=a[g].unwatcher,setTimeout(c,Math.floor(0)),a[g].onComplete))if("nodata"===k){var r=new Ml(this,a[g].path),s=a[g].currentInputSnapshot,t=new Gk(s,r,ok);d.push(a[g].onComplete.bind(null,null,!1,t))}else d.push(a[g].onComplete.bind(null,new Error(k),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),g=0;g<d.length;g++)Hj(d[g]);this.sendReadyTransactions_()}},Il.prototype.getAncestorTransactionNode_=function(a){for(var b,c=this.transactionQueueTree_;null!==(b=a.getFront())&&null===c.getValue();)c=c.subTree(b),a=a.popFront();return c},Il.prototype.buildTransactionQueue_=function(a){var b=[];return this.aggregateTransactionQueuesForNode_(a,b),b.sort(function(a,b){return a.order-b.order}),b},Il.prototype.aggregateTransactionQueuesForNode_=function(a,b){var c=this,d=a.getValue();if(null!==d)for(var e=0;e<d.length;e++)b.push(d[e]);a.forEachChild(function(a){c.aggregateTransactionQueuesForNode_(a,b)})},Il.prototype.pruneCompletedTransactionsBelowNode_=function(a){var b=this,c=a.getValue();if(c){for(var d=0,e=0;e<c.length;e++)c[e].status!==Nl.COMPLETED&&(c[d]=c[e],d++);c.length=d,a.setValue(0<c.length?c:null)}a.forEachChild(function(a){b.pruneCompletedTransactionsBelowNode_(a)})},Il.prototype.abortTransactions_=function(a){var b=this,c=this.getAncestorTransactionNode_(a).path(),d=this.transactionQueueTree_.subTree(a);return d.forEachAncestor(function(a){b.abortTransactionsOnNode_(a)}),this.abortTransactionsOnNode_(d),d.forEachDescendant(function(a){b.abortTransactionsOnNode_(a)}),c},Il.prototype.abortTransactionsOnNode_=function(a){var b=a.getValue();if(null!==b){for(var c=[],d=[],e=-1,f=0;f<b.length;f++)b[f].status===Nl.SENT_NEEDS_ABORT||(b[f].status===Nl.SENT?(gi(e===f-1,"All SENT items should be at beginning of queue."),b[e=f].status=Nl.SENT_NEEDS_ABORT,b[f].abortReason="set"):(gi(b[f].status===Nl.RUN,"Unexpected transaction status in abort"),b[f].unwatcher(),d=d.concat(this.serverSyncTree_.ackUserWrite(b[f].currentWriteId,!0)),b[f].onComplete&&c.push(b[f].onComplete.bind(null,new Error("set"),!1,null))));for(-1===e?a.setValue(null):b.length=e+1,this.eventQueue_.raiseEventsForChangedPath(a.path(),d),f=0;f<c.length;f++)Hj(c[f])}};var Rl,Sl="databaseURL",Tl=function(){function a(){this.repos_={},this.useRestClient_=!1}return a.getInstance=function(){return Rl||(Rl=new a),Rl},a.prototype.interrupt=function(){for(var a in this.repos_)for(var b in this.repos_[a])this.repos_[a][b].interrupt()},a.prototype.resume=function(){for(var a in this.repos_)for(var b in this.repos_[a])this.repos_[a][b].resume()},a.prototype.databaseFromApp=function(a,b){var c=b||a.options[Sl];void 0===c&&tj("Can't determine Firebase Database URL.  Be sure to include "+Sl+" option when calling firebase.initializeApp().");var d=Pj(c),e=d.repoInfo;return dk("Invalid Firebase Database URL",1,d),d.path.isEmpty()||tj("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(e,a).database},a.prototype.deleteRepo=function(a){var b=vi(this.repos_,a.app.name);b&&vi(b,a.repoInfo_.toURLString())===a||tj("Database "+a.app.name+"("+a.repoInfo_+") has already been deleted."),a.interrupt(),delete b[a.repoInfo_.toURLString()]},a.prototype.createRepo=function(a,b){var c=vi(this.repos_,b.name);c||(c={},this.repos_[b.name]=c);var d=vi(c,a.toURLString());return d&&tj("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),d=new Il(a,this.useRestClient_,b),c[a.toURLString()]=d},a.prototype.forceRestClient=function(a){this.useRestClient_=a},a}(),Ul=function(){function a(a){(this.repo_=a)instanceof Il||tj("Don't call new Database() directly - please use firebase.database()."),this.root_=new Ml(a,Jj.Empty),this.INTERNAL=new Vl(this)}return Object.defineProperty(a.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),a.prototype.ref=function(a){return this.checkDeleted_("ref"),Fi("database.ref",0,1,arguments.length),a instanceof Ml?this.refFromURL(a.toString()):void 0!==a?this.root_.child(a):this.root_},a.prototype.refFromURL=function(a){var b="database.refFromURL";this.checkDeleted_(b),Fi(b,1,1,arguments.length);var c=Pj(a);dk(b,1,c);var d=c.repoInfo;return d.host!==this.repo_.repoInfo_.host&&tj(b+": Host name does not match the current database: (found "+d.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(c.path.toString())},a.prototype.checkDeleted_=function(a){null===this.repo_&&tj("Cannot call "+a+" on a deleted database.")},a.prototype.goOffline=function(){Fi("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},a.prototype.goOnline=function(){Fi("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},a.ServerValue={TIMESTAMP:{".sv":"timestamp"}},a}(),Vl=function(){function a(a){this.database=a}return a.prototype["delete"]=function(){return w(this,void 0,void 0,function(){return x(this,function(a){return this.database.checkDeleted_("delete"),Tl.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},a}(),Wl=Object.freeze({forceLongPolling:function(){Bl.forceDisallow(),yl.forceAllow()},forceWebSockets:function(){yl.forceDisallow()},isWebSocketsAvailable:function(){return Bl.isAvailable()},setSecurityDebugCallback:function(a,b){a.repo.persistentConnection_.securityDebugCallback_=b},stats:function(a,b){a.repo.stats(b)},statsIncrementCounter:function(a,b){a.repo.statsIncrementCounter(b)},dataUpdateCount:function(a){return a.repo.dataUpdateCount},interceptServerData:function(a,b){return a.repo.interceptServerData_(b)}}),Xl=Fl;Fl.prototype.simpleListen=function(a,b){this.sendRequest("q",{p:a},b)},Fl.prototype.echo=function(a,b){this.sendRequest("echo",{d:a},b)};var Yl=Dl,Zl=Oj,$l=Object.freeze({DataConnection:Xl,RealTimeConnection:Yl,hijackHash:function(a){var b=Fl.prototype.put;return Fl.prototype.put=function(c,d,e,f){void 0!==f&&(f=a()),b.call(this,c,d,e,f)},function(){Fl.prototype.put=b}},ConnectionTarget:Zl,queryIdentifier:function(a){return a.queryIdentifier()},listens:function(a){return a.repo.persistentConnection_.listens_},forceRestClient:function(a){Tl.getInstance().forceRestClient(a)}}),_l=Ul.ServerValue;Ni.INTERNAL.registerService("database",function(a,b,c){return Tl.getInstance().databaseFromApp(a,c)},{Reference:Ml,Query:Lk,Database:Ul,DataSnapshot:Gk,enableLogging:pj,INTERNAL:Wl,ServerValue:_l,TEST_ACCESS:$l},null,!0);var ci,am="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},bm=bm||{},cm=am,dm="closure_uid_"+(1e9*Math.random()>>>0),em=0,fm=Date.now||function(){return+new Date};O.prototype.i=!1,O.prototype.La=function(){!this.i&&(this.i=!0,this.G(),0)&&(this[dm]||(this[dm]=++em))},O.prototype.G=function(){if(this.j)for(;this.j.length;)this.j.shift()()};var gm,hm=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(C(a))return C(b)&&1==b.length?a.indexOf(b,0):-1;for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},im=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=C(a)?a.split(""):a,f=0;d>f;f++)f in e&&b.call(c,e[f],f,a)},jm=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};a:{var km=cm.navigator;if(km){var lm=km.userAgent;if(lm){gm=lm;break a}}gm=""}var mm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");X[" "]=E;var nm,om,pm=S(gm,"Opera"),qm=S(gm,"Trident")||S(gm,"MSIE"),rm=S(gm,"Edge"),sm=rm||qm,tm=S(gm,"Gecko")&&!(S(gm.toLowerCase(),"webkit")&&!S(gm,"Edge"))&&!(S(gm,"Trident")||S(gm,"MSIE"))&&!S(gm,"Edge"),um=S(gm.toLowerCase(),"webkit")&&!S(gm,"Edge");a:{var vm="",wm=(om=gm,tm?/rv:([^\);]+)(\)|;)/.exec(om):rm?/Edge\/([\d\.]+)/.exec(om):qm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(om):um?/WebKit\/(\S+)/.exec(om):pm?/(?:Version)[ \/]?(\S+)/.exec(om):void 0);if(wm&&(vm=wm?wm[1]:""),qm){var xm=Y();if(null!=xm&&xm>parseFloat(vm)){nm=String(xm);break a}}nm=vm}var ym,zm={},Am=cm.document;ym=Am&&qm?Y()||("CSS1Compat"==Am.compatMode?parseInt(nm,10):5):void 0;var Bm=!qm||9<=Number(ym),Cm=qm&&!Z("9"),Dm=function(){if(!cm.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{cm.addEventListener("test",E,b),cm.removeEventListener("test",E,b)}catch(a){}return a}();$.prototype.c=function(){this.hc=!1},N(_,$);var Em={2:"touch",3:"pen",4:"mouse"};_.prototype.g=function(a,b){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.a=b,b=a.relatedTarget){if(tm){a:{try{X(b.nodeName);var e=!0;break a}catch(a){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b,this.screenY=d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,d.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=C(a.pointerType)?a.pointerType:Em[a.pointerType]||"",(this.f=a).defaultPrevented&&this.c()},_.prototype.c=function(){_.S.c.call(this);var a=this.f;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Cm)try{(a.ctrlKey||112<=a.keyCode&&a.keyCode<=123)&&(a.keyCode=-1)}catch(a){}};var Fm="closure_listenable_"+(1e6*Math.random()|0),Gm=0;aa.prototype.a=function(){this.ja=!0,this.ya=this.src=this.proxy=this.listener=null},(ci=ba.prototype).add=function(a,b,c,d,e){var f=a.toString();(a=this.a[f])||(a=this.a[f]=[],this.b++);var g=ca(a,b,d,e);return g>-1?(b=a[g],c||(b.oa=!1)):((b=new aa(b,this.src,f,!!d,e)).oa=c,a.push(b)),b},ci.Sc=function(a,b,c,d){if((a=a.toString())in this.a){var e=this.a[a];-1<(b=ca(e,b,c,d))&&(e[b].a(),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.a[a],this.b--))}},ci.fc=function(a){var b=a.type;if(b in this.a){var c,d=this.a[b],e=hm(d,a);(c=e>=0)&&Array.prototype.splice.call(d,e,1),c&&(a.a(),0==this.a[b].length&&(delete this.a[b],this.b--))}},ci.Tc=function(){var a;for(a in this.a){for(var b=this.a[a],c=0;c<b.length;c++)b[c].a();delete this.a[a],this.b--}},ci.Rc=function(a,b,c,d){var e=-1;return(a=this.a[a.toString()])&&(e=ca(a,b,c,d)),e>-1?a[e]:null};var Hm="closure_lm_"+(1e6*Math.random()|0),Im={},Jm="__closure_events_fn_"+(1e9*Math.random()>>>0);N(la,O),la.prototype[Fm]=!0,(ci=la.prototype).addEventListener=function(a,b,c,d){da(this,a,b,c,d)},ci.removeEventListener=function(a,b,c,d){!function e(a,b,c,d,f){if(G(b))for(var g=0;g<b.length;g++)e(a,b[g],c,d,f);else d=I(d)?!!d.capture:!!d,c=ka(c),a&&a[Fm]?a.Qc(b,c,d,f):a&&(a=ja(a))&&(b=a.Rc(b,c,d,f))&&fa(b)}(this,a,b,c,d)},ci.dispatchEvent=function(a){var b,c=this.F;if(c)for(b=[];c;c=c.F)b.push(c);c=this.K;var d=a.type||a;if(C(a))a=new $(a,c);else if(a instanceof $)a.target=a.target||c;else{var e=a;W(a=new $(d,c),e)}if(e=!0,b)for(var f=b.length-1;!a.b&&f>=0;f--){var g=a.a=b[f];e=g.ua(d,!0,a)&&e}if(a.b||(e=(g=a.a=c).ua(d,!0,a)&&e,a.b||(e=g.ua(d,!1,a)&&e)),b)for(f=0;!a.b&&f<b.length;f++)e=(g=a.a=b[f]).ua(d,!1,a)&&e;return e},ci.G=function(){la.S.G.call(this),this.Id(),this.F=null},ci.Lb=function(a,b,c,d){return this.c.add(String(a),b,!1,c,d)},ci.Mb=function(a,b,c,d){return this.c.add(String(a),b,!0,c,d)},ci.Qc=function(a,b,c,d){this.c.Sc(String(a),b,c,d)},ci.nc=function(a){this.c.fc(a)},ci.Id=function(){this.c&&this.c.Tc()},ci.ua=function(a,b,c){if(!(a=this.c.a[String(a)]))return!0;a=a.concat();for(var d=!0,e=0;e<a.length;++e){var f=a[e];if(f&&!f.ja&&f.capture==b){var g=f.listener,h=f.ya||f.src;f.oa&&this.nc(f),d=!1!==g.call(h,c)&&d}}return d&&0!=c.hc};var Km=cm.JSON.stringify;ma.prototype.get=function(){if(0<this.b){this.b--;var a=this.a;this.a=a.next,a.next=null}else a=this.c();return a},ma.prototype.f=function(a){this.h(a),this.b<this.g&&(this.b++,a.next=this.a,
this.a=a)};var Lm,Mm=new ma(function(){return new oa},function(a){a.reset()});na.prototype.add=function(a,b){var c=this.c();c.set(a,b),this.b?this.b.next=c:this.a=c,this.b=c},na.prototype.f=function(){var a=null;return this.a&&(a=this.a,this.a=this.a.next,this.a||(this.b=null),a.next=null),a},na.prototype.g=function(a){Mm.f(a)},na.prototype.c=function(){return Mm.get()},oa.prototype.set=function(a,b){this.a=a,this.b=b,this.next=null};var Nm=!(oa.prototype.reset=function(){this.next=this.b=this.a=null}),Om=new na;N(ra,la),(ci=ra.prototype).wa=!1,ci.P=null,ci.$d=function(){if(this.wa){var a=fm()-this.g;a>0&&a<.8*this.b?this.P=this.a.setTimeout(this.f,this.b-a):(this.P&&(this.a.clearTimeout(this.P),this.P=null),this.Gc(),this.wa&&(this.Na(),this.start()))}},ci.Gc=function(){this.dispatchEvent("tick")},ci.start=function(){this.wa=!0,this.P||(this.P=this.a.setTimeout(this.f,this.b),this.g=fm())},ci.Na=function(){this.wa=!1,this.P&&(this.a.clearTimeout(this.P),this.P=null)},ci.G=function(){ra.S.G.call(this),this.Na(),delete this.a},N(ta,O),(ci=ta.prototype).Ca=!1,ci.ec=0,ci.ba=null,ci.Hc=function(a){this.a=arguments,this.ba||this.ec?this.Ca=!0:this.yb()},ci.Pc=function(){this.ba&&(cm.clearTimeout(this.ba),this.ba=null,this.Ca=!1,this.a=[])},ci.G=function(){ta.S.G.call(this),this.Pc()},ci.Cd=function(){this.ba=null,this.Ca&&!this.ec&&(this.Ca=!1,this.yb())},ci.yb=function(){this.ba=sa(this.b,this.c),this.f.apply(null,this.a)},N(ua,O);var Pm=[];(ci=ua.prototype).Jb=function(a,b,c){this.wd(a,b,c)},ci.wd=function(a,b,c){G(b)||(b&&(Pm[0]=b.toString()),b=Pm);for(var d=0;d<b.length;d++){var e=da(a,b[d],c||this.handleEvent,!1,this.b||this);if(!e)break;this.a[e.key]=e}},ci.Kb=function(){U(this.a,function(a,b){this.a.hasOwnProperty(b)&&fa(a)},this),this.a={}},ci.G=function(){ua.S.G.call(this),this.Kb()},ci.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qm=new la;N(wa,$),N(ya,$),N(Aa,$);var Rm={NO_ERROR:0,ae:1,he:2,ge:3,de:4,fe:5,ie:6,qc:7,TIMEOUT:8,le:9},Sm={ce:"complete",pe:"success",rc:"error",qc:"abort",ne:"ready",oe:"readystatechange",TIMEOUT:"timeout",je:"incrementaldata",me:"progress",ee:"downloadprogress",qe:"uploadprogress"};Ca.prototype.a=null,Ca.prototype.c=function(){return this.a||(this.a={})};var Tm,Um={OPEN:"a",be:"b",rc:"c",ke:"d"};N(Ea,$),N(Fa,$),N(Ga,Ca),Ga.prototype.b=function(){return new XMLHttpRequest},Tm=new Ga;var Vm={},Wm={};(ci=Ha.prototype).ha=function(a){this.J=a},ci.setTimeout=function(a){this.L=a},ci.Xc=function(a){this.K=a},ci.Qd=function(a){this.j=a},ci.cb=function(a,b){this.F=1,this.f=a.N().za(),this.i=b,this.H=!0,this.ic(null)},ci.bb=function(a,b,c){this.F=1,this.f=a.N().za(),this.i=null,this.H=b,this.ic(c)},ci.ic=function(a){this.u=fm(),this.fa(),this.C=this.f.N(),this.C.Aa("t",this.ca),this.A=0,this.a=this.g.sa(this.g.Da()?a:null),0<this.K&&(this.B=new ta(L(this.oc,this,this.a),this.K)),this.I.Jb(this.a,"readystatechange",this.Hd),a=this.J?V(this.J):{},this.i?(this.v||(this.v="POST"),a["Content-Type"]="application/x-www-form-urlencoded",this.a.xa(this.C,this.v,this.i,a)):(this.v="GET",this.a.xa(this.C,this.v,null,a)),xa(1)},ci.Hd=function(a){a=a.target;var b=this.B;b&&3==a.W()?b.Hc():this.oc(a)},ci.oc=function(a){try{a==this.a&&this.Ed()}catch(a){}},ci.Ed=function(){var a=this.a.W(),b=this.a.Db(),c=this.a.aa();if(!(3>a||3==a&&!sm&&!this.a.va()))if(this.l||4!=a||7==b||xa(8==b||0>=c?3:2),this.pa(),this.o=c=this.a.aa(),b=this.a.va(),this.b=200==c){if(this.Td()){if(!(c=this.Kc()))return this.b=!1,this.c=3,za(12),this.Z(),void this.ta();this.s=!0,this.Wa(c)}this.H?(this.vb(a,b),sm&&this.b&&3==a&&this.Yd()):this.Wa(b),4==a&&this.Z(),this.b&&!this.l&&(4==a?this.g.Va(this):(this.b=!1,this.fa()))}else 400==c&&0<b.indexOf("Unknown SID")?(this.c=3,za(12)):(this.c=0,za(13)),this.Z(),this.ta()},ci.Td=function(){return this.Y&&!this.s},ci.Kc=function(){if(this.a){var a=this.a.ga("X-HTTP-Initial-Response");if(a&&!R(a))return a}return null},ci.Md=function(){this.Y=!0},ci.vb=function(a,b){for(var c=!0;!this.l&&this.A<b.length;){var d=this.Lc(b);if(d==Wm){4==a&&(this.c=4,za(14),c=!1);break}if(d==Vm){this.c=4,za(15),c=!1;break}this.Wa(d)}4==a&&0==b.length&&(this.c=1,za(16),c=!1),this.b=this.b&&c,c||(this.Z(),this.ta())},ci.Gd=function(){if(this.a){var a=this.a.W(),b=this.a.va();this.A<b.length&&(this.pa(),this.vb(a,b),this.b&&4!=a&&this.fa())}},ci.Yd=function(){this.I.Jb(this.T,"tick",this.Gd),this.T.start()},ci.Lc=function(a){var b=this.A,c=a.indexOf("\n",b);return-1==c?Wm:(b=Number(a.substring(b,c)),isNaN(b)?Vm:(c+=1)+b>a.length?Wm:(a=a.substr(c,b),this.A=c+b,a))},ci.Ld=function(a){this.F=2,this.f=a.N().za(),a=!1,cm.navigator&&cm.navigator.sendBeacon&&(a=cm.navigator.sendBeacon(this.f.toString(),"")),!a&&cm.Image&&((new Image).src=this.f,a=!0),a||(this.a=this.g.sa(null),this.a.xa(this.f)),this.u=fm(),this.fa()},ci.cancel=function(){this.l=!0,this.Z()},ci.Kd=function(a){a&&this.setTimeout(a),this.h&&(this.pa(),this.fa())},ci.fa=function(){this.U=fm()+this.L,this.mc(this.L)},ci.mc=function(a){if(null!=this.h)throw Error("WatchDog timer not null");this.h=Ba(L(this.Dd,this),a)},ci.pa=function(){this.h&&(cm.clearTimeout(this.h),this.h=null)},ci.Dd=function(){this.h=null;var a=fm();0<=a-this.U?this.md():this.mc(this.U-a)},ci.md=function(){2!=this.F&&(xa(3),za(17)),this.Z(),this.c=2,this.ta()},ci.ta=function(){this.g.Tb()||this.l||this.g.Va(this)},ci.Z=function(){this.pa();var a=this.B;a&&"function"==typeof a.La&&a.La(),this.B=null,this.T.Na(),this.I.Kb(),this.a&&(a=this.a,this.a=null,a.abort(),a.La())},ci.Wa=function(a){try{this.g.bc(this,a),xa(4)}catch(a){}},(ci=Ja.prototype).D=function(){this.Ka();for(var a=[],b=0;b<this.a.length;b++)a.push(this.b[this.a[b]]);return a},ci.O=function(){return this.Ka(),this.a.concat()},ci.Ra=function(a){return Ka(this.b,a)},ci.hd=function(){return 0==this.c},ci.gd=function(){this.b={},this.c=this.a.length=0},ci.Qb=function(a){Ka(this.b,a)&&(delete this.b[a],this.c--,this.a.length>2*this.c&&this.Ka())},ci.Ka=function(){if(this.c!=this.a.length){for(var a=0,b=0;a<this.a.length;){var c=this.a[a];Ka(this.b,c)&&(this.a[b++]=c),a++}this.a.length=b}if(this.c!=this.a.length){var d={};for(b=a=0;a<this.a.length;)Ka(d,c=this.a[a])||(d[this.a[b++]=c]=1),a++;this.a.length=b}},ci.get=function(a,b){return Ka(this.b,a)?this.b[a]:b},ci.set=function(a,b){Ka(this.b,a)||(this.c++,this.a.push(a)),this.b[a]=b},ci.fd=function(a){if(a instanceof Ja)for(var b=a.O(),c=0;c<b.length;c++)this.set(b[c],a.get(b[c]));else for(b in a)this.set(b,a[b])},ci.forEach=function(a,b){for(var c=this.O(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}},ci.Pb=function(){return new Ja(this)};var Xm=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;(ci=La.prototype).toString=function(){var a=[],b=this.b;b&&a.push(Na(b,Ym,!0),":");var c=this.c;return(c||"file"==b)&&(a.push("//"),(b=this.i)&&a.push(Na(b,Ym,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(c=this.h)&&a.push(":",String(c))),(c=this.g)&&(this.Sa()&&"/"!=c.charAt(0)&&a.push("/"),a.push(Na(c,"/"==c.charAt(0)?$m:Zm,!0))),(c=this.Ic())&&a.push("?",c),(c=this.j)&&a.push("#",Na(c,an)),a.join("")},ci.resolve=function(a){var b=this.N(),c=a.qd();c?b.ma(a.b):c=a.rd(),c?b.$a(a.i):c=a.Sa(),c?b.ka(a.c):c=a.od();var d=a.g;if(c)b.la(a.h);else if(c=a.Sb()){if("/"!=d.charAt(0))if(this.Sa()&&!this.Sb())d="/"+d;else{var e=b.g.lastIndexOf("/");-1!=e&&(d=b.g.substr(0,e+1)+d)}if(".."==(e=d)||"."==e)d="";else if(S(e,"./")||S(e,"/.")){d=0==e.lastIndexOf("/",0),e=e.split("/");for(var f=[],g=0;g<e.length;){var h=e[g++];"."==h?d&&g==e.length&&f.push(""):".."==h?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),d&&g==e.length&&f.push("")):(f.push(h),d=!0)}d=f.join("/")}else d=e}return c?b.Ba(d):c=a.pd(),c?b.Za(a.a.Gb()):c=a.nd(),c&&b.Ya(a.j),b},ci.N=function(){return new La(this)},ci.ma=function(a,b){this.M(),(this.b=b?Ma(a,!0):a)&&(this.b=this.b.replace(/:$/,""))},ci.qd=function(){return!!this.b},ci.$a=function(a,b){this.M(),this.i=b?Ma(a):a},ci.rd=function(){return!!this.i},ci.ka=function(a,b){this.M(),this.c=b?Ma(a,!0):a},ci.Sa=function(){return!!this.c},ci.la=function(a){if(this.M(),a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);this.h=a}else this.h=null},ci.od=function(){return null!=this.h},ci.Ba=function(a,b){this.M(),this.g=b?Ma(a,!0):a},ci.Sb=function(){return!!this.g},ci.pd=function(){return""!==this.a.toString()},ci.Za=function(a,b){this.M(),a instanceof Pa?(this.a=a,this.a.Oc(this.f)):(b||(a=Na(a,_m)),this.a=new Pa(a,this.f))},ci.Ic=function(){return this.a.toString()},ci.m=function(a,b){this.M(),this.a.set(a,b)},ci.Aa=function(a,b){this.M(),G(b)||(b=[String(b)]),this.a.lc(a,b)},ci.Ya=function(a,b){this.M(),this.j=b?Ma(a):a},ci.nd=function(){return!!this.j},ci.za=function(){return this.M(),this.m("zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^fm()).toString(36)),this},ci.M=function(){if(this.l)throw Error("Tried to modify a read-only Uri")};var Ym=/[#\/\?@]/g,Zm=/[#\?:]/g,$m=/[#\?]/g,_m=/[#\?@]/g,an=/#/g;(ci=Pa.prototype).V=function(){if(!this.a&&(this.a=new Ja,this.b=0,this.c)){var a=this;!function(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),e=null;if(d>=0){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}}(this.c,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)})}},ci.add=function(a,b){this.V(),this.ia(),a=this.$(a);var c=this.a.get(a);return c||this.a.set(a,c=[]),c.push(b),this.b+=1,this},ci.Ib=function(a){this.V(),a=this.$(a),this.a.Ra(a)&&(this.ia(),this.b-=this.a.get(a).length,this.a.Qb(a))},ci.Hb=function(a){return this.V(),a=this.$(a),this.a.Ra(a)},ci.forEach=function(a,b){this.V(),this.a.forEach(function(c,d){im(c,function(c){a.call(b,c,d,this)},this)},this)},ci.O=function(){this.V();for(var a=this.a.D(),b=this.a.O(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c},ci.D=function(a){this.V();var b=[];if(C(a))this.Hb(a)&&(b=P(b,this.a.get(this.$(a))));else{a=this.a.D();for(var c=0;c<a.length;c++)b=P(b,a[c])}return b},ci.set=function(a,b){return this.V(),this.ia(),a=this.$(a),this.Hb(a)&&(this.b-=this.a.get(a).length),this.a.set(a,[b]),this.b+=1,this},ci.get=function(a,b){return a&&0<(a=this.D(a)).length?String(a[0]):b},ci.lc=function(a,b){this.Ib(a),0<b.length&&(this.ia(),this.a.set(this.$(a),Q(b)),this.b+=b.length)},ci.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var a=[],b=this.a.O(),c=0;c<b.length;c++){var d=b[c],e=encodeURIComponent(String(d));d=this.D(d);for(var f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f]))),a.push(g)}}return this.c=a.join("&")},ci.ia=function(){this.c=null},ci.Gb=function(){var a=new Pa;return a.c=this.c,this.a&&(a.a=this.a.Pb(),a.b=this.b),a},ci.$=function(a){return a=String(a),this.f&&(a=a.toLowerCase()),a},ci.Oc=function(a){a&&!this.f&&(this.V(),this.ia(),this.a.forEach(function(a,b){var c=b.toLowerCase();b!=c&&(this.Ib(b),this.lc(c,a))},this)),this.f=a},N(function(){},function(){}),(ci=Qa.prototype).R=null,ci.Wc=function(a){this.h=a},ci.Vc=function(a){this.i=a,a=this.a.Cb(this.i),za(3);var b=this.a.H.b;null!=b?(this.f=this.a.Oa(b[0]),this.R=1,this.rb()):(a.Aa("MODE","init"),!this.a.o&&this.a.j&&a.Aa("X-HTTP-Session-Id",this.a.j),this.b=new Ha(this,void 0,void 0),this.b.ha(this.h),this.b.bb(a,!1,null),this.R=0)},ci.rb=function(){var a=this.a.H.a;if(null!=a)za(4),a?(za(10),this.a.na(this,!1)):(za(11),this.a.na(this,!0));else{this.b=new Ha(this,void 0,void 0),this.b.ha(this.h),a=this.a.Bb(this.f,this.i),za(4),a.Aa("TYPE","xmlhttp");var b=this.a.j,c=this.a.Fa;b&&c&&a.m(b,c),this.b.bb(a,!1,this.f)}},ci.sa=function(a){return this.a.sa(a)},ci.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},ci.Tb=function(){return!1},ci.bc=function(a,b){if(this.c=a.o,0==this.R)if(this.Uc(a),b){try{var c=this.a.U.a(b)}catch(a){return void this.a.ab(this)}this.f=this.a.Oa(c[0])}else this.a.ab(this);else 1==this.R&&(this.g?za(6):"11111"==b?(za(5),this.g=!0,this.Ac()&&(this.c=200,this.b.cancel(),za(11),this.a.na(this,!0))):(za(7),this.g=!1))},ci.Va=function(){this.c=this.b.o,this.b.b?0==this.R?(this.R=1,this.rb()):1==this.R&&(this.g?(za(11),this.a.na(this,!0)):(za(10),this.a.na(this,!1))):(0==this.R?za(8):1==this.R&&za(9),this.a.ab(this))},ci.Uc=function(a){if(!this.a.o&&(a=a.a)){var b=a.ga("X-Client-Wire-Protocol");this.l=b||null,this.a.j&&(a=a.ga("X-HTTP-Session-Id"))&&this.a.kc(a)}},ci.Da=function(){return this.a.Da()},ci.Pa=function(){return this.a.Pa()},ci.Ac=function(){return!qm||10<=Number(ym)},(ci=Sa.prototype).add=function(a){this.a.set(Ta(a),a)},ci.ed=function(a){this.a.Qb(Ta(a))},ci.jd=function(){this.a.gd()},ci.Rb=function(){return this.a.hd()},ci.Ob=function(a){return this.a.Ra(Ta(a))},ci.D=function(){return this.a.D()};var bn=10;(ci=Va.prototype).kb=function(a){!this.a&&(S(a,"spdy")||S(a,"quic")||S(a,"h2"))&&(this.f=this.g,this.a=new Sa,this.b&&(this.Ha(this.b),this.b=null))},ci.Ub=function(){return!!this.b||!!this.a&&this.a.a.c>=this.f},ci.Mc=function(){return this.b?1:this.a?this.a.a.c:0},ci.Ta=function(a){return this.b?this.b==a:!!this.a&&this.a.Ob(a)},ci.Ha=function(a){this.a?this.a.add(a):this.b=a},ci.gc=function(a){this.b&&this.b==a?this.b=null:this.a&&this.a.Ob(a)&&this.a.ed(a)},ci.cancel=function(){this.c=this.Xb(),this.b?(this.b.cancel(),this.b=null):this.a&&!this.a.Rb()&&(im(this.a.D(),function(a){a.cancel()}),this.a.jd())},ci.Xb=function(){if(null!=this.b)return this.c.concat(this.b.j);if(null==this.a||this.a.Rb())return Q(this.c);var a=this.c;return im(this.a.D(),function(b){a=a.concat(b.j)}),a},ci.wc=function(a){this.c=this.c.concat(a)},ci.Bc=function(){this.c.length=0},Wa.prototype.stringify=function(a){return cm.JSON.stringify(a,this.a)},Wa.prototype.parse=function(a){return cm.JSON.parse(a,this.b)},Xa.prototype.b=function(a,b,c){var d=c||"";try{Ia(a,function(a,c){var e=a;I(a)&&(e=Km(a)),b.push(d+c+"="+encodeURIComponent(e))})}catch(a){throw b.push(d+"type="+encodeURIComponent("_badmap")),a}},Xa.prototype.c=function(a,b,c){for(var d=-1;;){var e=["count="+b];-1==d?b>0?(d=a[0].a,e.push("ofs="+d)):d=0:e.push("ofs="+d);for(var f=!0,g=0;b>g;g++){var h=a[g].a,i=a[g].b;if((h-=d)<0)d=Math.max(0,a[g].a-100),f=!1;else try{this.b(i,e,"req"+h+"_")}catch(a){c&&c(i)}}if(f)return e.join("&")}},Xa.prototype.a=function(a){return this.f.parse(a)};var cn=cm.JSON.parse;N(Za,la);var dn="",en=/^https?$/i,fn=["POST","PUT"];(ci=Za.prototype).Sd=function(a){this.I=a},ci.xa=function(a,b,c,d){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.C+"; newUri="+a);b=b?b.toUpperCase():"GET",this.C=a,this.f="",this.h=0,this.A=!1,this.b=!0,this.a=this.Ec(),this.v=this.l?this.l.c():Tm.c(),this.a.onreadystatechange=L(this.ac,this),this.L&&"onprogress"in this.a&&(this.a.onprogress=L(function(a){this.Zb(a,!0)},this),this.a.upload&&(this.a.upload.onprogress=L(this.Zb,this)));try{this.B=!0,this.a.open(b,String(a),!0),this.B=!1}catch(a){return void this.Ab(a)}a=c||"";var e,f=this.headers.Pb();d&&Ia(d,function(a,b){f.set(b,a)}),d=function(a){a:{for(var b=$a,c=a.length,d=C(a)?a.split(""):a,e=0;c>e;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:C(a)?a.charAt(b):a[b]}(f.O()),c=cm.FormData&&a instanceof cm.FormData,!(0<=hm(fn,b))||d||c||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),f.forEach(function(a,b){this.a.setRequestHeader(b,a)},this),this.J&&(this.a.responseType=this.J),"withCredentials"in this.a&&this.a.withCredentials!==this.I&&(this.a.withCredentials=this.I);try{this.sb(),0<this.u&&((this.H=(e=this.a,qm&&Z(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout))?(this.a.timeout=this.u,this.a.ontimeout=L(this.Nb,this)):this.s=sa(this.Nb,this.u,this)),this.o=!0,this.a.send(a),this.o=!1}catch(a){this.Ab(a)}},ci.Ec=function(){return this.l?this.l.b():Tm.b()},ci.Nb=function(){void 0!==bm&&this.a&&(this.f="Timed out after "+this.u+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},ci.Ab=function(a){this.b=!1,this.a&&(this.g=!0,this.a.abort(),this.g=!1),this.f=a,this.h=5,this.xb(),this.qa()},ci.xb=function(){this.A||(this.A=!0,this.dispatchEvent("complete"),this.dispatchEvent("error"))},ci.abort=function(a){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),this.qa())},ci.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),this.qa(!0)),Za.S.G.call(this)},ci.ac=function(){this.i||(this.B||this.o||this.g?this.$b():this.Bd())},ci.Bd=function(){this.$b()},ci.$b=function(){if(this.b&&void 0!==bm&&(!this.v[1]||4!=this.W()||2!=this.aa()))if(this.o&&4==this.W())sa(this.ac,0,this);else if(this.dispatchEvent("readystatechange"),this.td()){this.b=!1;try{this.vd()?(this.dispatchEvent("complete"),this.dispatchEvent("success")):(this.h=6,this.f=this.Fb()+" ["+this.aa()+"]",this.xb())}finally{this.qa()}}},ci.Zb=function(a,b){this.dispatchEvent(_a(a,"progress")),this.dispatchEvent(_a(a,b?"downloadprogress":"uploadprogress"))},ci.qa=function(a){if(this.a){this.sb();var b=this.a,c=this.v[0]?E:null;this.v=this.a=null,a||this.dispatchEvent("ready");try{b.onreadystatechange=c}catch(a){}}},ci.sb=function(){this.a&&this.H&&(this.a.ontimeout=null),this.s&&(cm.clearTimeout(this.s),this.s=null)},ci.td=function(){return 4==this.W()},ci.vd=function(){var a=this.aa();a:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break a;default:b=!1}return b||0===a&&!this.ud()},ci.ud=function(){var a=String(this.C).match(Xm)[1]||null;return!a&&cm.self&&cm.self.location&&(a=(a=cm.self.location.protocol).substr(0,a.length-1)),en.test(a?a.toLowerCase():"")},ci.W=function(){return this.a?this.a.readyState:0},ci.aa=function(){try{return 2<this.W()?this.a.status:-1}catch(a){return-1}},ci.Fb=function(){try{return 2<this.W()?this.a.statusText:""}catch(a){return""}},ci.va=function(){try{return this.a?this.a.responseText:""}catch(a){return""}},ci.Nc=function(a){if(this.a){var b=this.a.responseText;return a&&0==b.indexOf(a)&&(b=b.substring(a.length)),cn(b)}},ci.ga=function(a){return this.a?this.a.getResponseHeader(a):null},ci.Db=function(){return this.h},ci.dd=function(){return C(this.f)?this.f:String(this.f)},(ci=bb.prototype).qb=8,ci.w=1,ci.bd=function(a,b,c){za(0),this.Ea=b,this.ca=c||{},this.o&&(this.H.b=[],this.H.a=!1),this.Dc(a)},ci.Qa=function(){if(this.lb(),3==this.w){var a=this.L++,b=this.C.N();b.m("SID",this.I),b.m("RID",a),b.m("TYPE","terminate"),this.ea(b),new Ha(this,a,void 0).Ld(b)}this.Yb()},ci.Dc=function(a){this.v=new Qa(this),null===this.f&&this.v.Wc(this.h);var b=a;this.f&&this.h&&(b=ab(a,this.f,this.h)),this.v.Vc(b)},ci.Cc=function(){this.C=this.Cb(this.Ea),this.Ma()},ci.lb=function(){this.v&&(this.v.abort(),this.v=null),this.a&&(this.a.cancel(),this.a=null),this.l&&(cm.clearTimeout(this.l),this.l=null),this.ra(),this.c.cancel(),this.i&&(cm.clearTimeout(this.i),this.i=null)},ci.cd=function(a){this.h=a},ci.Pd=function(a){this.J=a},ci.Nd=function(a){this.f=a},ci.Od=function(a){this.j=a},ci.kc=function(a){this.Fa=a},ci.Rd=function(){this.T=!0},ci.jc=function(a){this.b=a},ci.sd=function(){return!this.Ga},ci.Xa=function(a){this.g.push(new Ua(this.zc++,a)),3==this.w&&this.Ma()},ci.Jc=function(){return this.uc?0:this.pc},ci.Tb=function(){return 0==this.w},ci.Ma=function(){this.c.Ub()||this.i||(this.i=Ba(L(this.dc,this),0),this.A=0)},ci.xd=function(a){return!(this.c.Mc()>=this.c.f-(this.i?1:0)||(this.i?(this.g=a.j.concat(this.g),0):1==this.w||2==this.w||this.A>=this.Jc()||(this.i=Ba(L(this.dc,this,a),this.Eb(this.A)),this.A++,0)))},ci.dc=function(a){this.i=null,this.Xd(a)},ci.Xd=function(a){1==this.w?a||(this.Fd(),this.w=2):3==this.w&&(a?this.Wb(a):0==this.g.length||this.c.Ub()||this.Wb())},ci.Fd=function(){this.L=Math.floor(1e5*Math.random());var a=this.L++,b=new Ha(this,a,void 0),c=this.h;this.J&&(c?W(c=V(c),this.J):c=this.J),null===this.f&&b.ha(c);var d=this.wb(b),e=this.C.N();e.m("RID",a),0<this.gb&&e.m("CVER",this.gb),this.o&&this.j&&e.m("X-HTTP-Session-Id",this.j),this.ea(e),this.f&&c&&ab(e,this.f,c),this.c.Ha(b),this.hb?(e.m("$req",d),e.m("SID","null"),b.Md(),b.cb(e,null)):b.cb(e,d)},ci.Wb=function(a){var b;b=a?a.da:this.L++;var c=this.C.N();c.m("SID",this.I),c.m("RID",b),c.m("AID",this.K),this.ea(c),this.f&&this.h&&ab(c,this.f,this.h),b=new Ha(this,b,this.A+1),null===this.f&&b.ha(this.h),a&&this.Jd(a),a=this.wb(b),b.setTimeout(Math.round(.5*this.ib)+Math.round(.5*this.ib*Math.random())),this.c.Ha(b),b.cb(c,a)},ci.ea=function(a){this.b&&Ia({},function(b,c){a.m(c,b)})},ci.wb=function(a){var b=Math.min(this.g.length,1e3),c=this.b?L(this.b.yc,this.b,this):null;return c=this.U.c(this.g,b,c),a.Qd(this.g.splice(0,b)),c},ci.Jd=function(a){this.g=a.j.concat(this.g)},ci.zb=function(){if(!this.a&&!this.l){this.Y=1;var a=this.cc;Lm||(b=cm.Promise.resolve(void 0),Lm=function(){b.then(qa)}),Nm||(Lm(),Nm=!0),Om.add(a,this),this.u=0}var b},ci.Ua=function(){return!(this.a||this.l||3<=this.u||(this.Y++,this.l=Ba(L(this.cc,this),this.Eb(this.u)),this.u++,0))},ci.cc=function(){this.l=null,this.Vd()},ci.Vd=function(){this.a=new Ha(this,"rpc",this.Y),null===this.f&&this.a.ha(this.h),this.a.Xc(this.vc);var a=this.fb.N();a.m("RID","rpc"),a.m("SID",this.I),a.m("CI",this.Ga?"0":"1"),a.m("AID",this.K),this.ea(a),a.m("TYPE","xmlhttp"),this.f&&this.h&&ab(a,this.f,this.h),this.F&&this.a.setTimeout(this.F),this.a.bb(a,!0,this.da)},ci.na=function(a,b){var c=a.l;c&&this.c.kb(c),this.Ga=this.eb&&b,this.B=a.c,this.Cc()},ci.ab=function(a){this.B=a.c,this.X(2)},ci.bc=function(a,b){if(0!=this.w&&(this.a==a||this.c.Ta(a)))if(this.B=a.o,!a.s&&this.c.Ta(a)&&3==this.w){try{var c=this.U.a(b)}catch(a){c=null}G(c)&&3==c.length?this.ld(c,a):this.X(11)}else(a.s||this.a==a)&&this.ra(),R(b)||(c=this.U.a(b),this.Ad(c,a))},ci.ld=function(a,b){0==a[0]?this.kd(b):(this.jb=a[1],0<this.jb-this.K&&this.Ud(a[2])&&!this.s&&(this.s=Ba(L(this.yd,this),6e3)))},ci.kd=function(a){if(!this.l){if(this.a){if(!(this.a.u+3e3<a.u))return;this.ra(),this.a.cancel(),this.a=null}this.Ua(),za(18)}},ci.Ud=function(a){return 37500>a&&!this.sd()&&0==this.u},ci.Oa=function(a){return this.sc?this.b?this.b.$c(a):a:null},ci.yd=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,this.Ua(),za(19))},ci.ra=function(){null!=this.s&&(cm.clearTimeout(this.s),this.s=null)},ci.Va=function(a){var b=null;if(this.a==a){this.ra(),this.a=null;var c=2}else{if(!this.c.Ta(a))return;b=a.j,this.c.gc(a),c=1}if(this.B=a.o,0!=this.w)if(a.b)1==c?(c=fm()-a.u,Qm.dispatchEvent(new Aa(Qm,a.i?a.i.length:0,c,this.A)),this.Ma()):this.zb();else{var d=a.c;if(3==d||0==d&&0<this.B||!(1==c&&this.xd(a)||2==c&&this.Ua()))switch(b&&0<b.length&&this.c.wc(b),d){case 1:this.X(5);break;case 4:this.X(10);break;case 3:this.X(6);break;default:this.X(2)}}},ci.Eb=function(a){var b=this.tc+Math.floor(Math.random()*this.Fc);return this.Pa()||(b*=2),b*a},ci.ad=function(a){if(this.o&&(a=a.a)){var b=a.ga("X-Client-Wire-Protocol");b&&this.c.kb(b),this.j&&(a=a.ga("X-HTTP-Session-Id"))&&(this.kc(a),this.C.m(this.j,a))}},ci.Ad=function(a,b){for(var c=this.b&&this.b.Ia?[]:null,d=0;d<a.length;d++){var e=a[d];if(this.K=e[0],e=e[1],2==this.w)if("c"==e[0]){this.I=e[1],this.da=this.Oa(e[2]);var f=e[3];null!=f&&(this.qb=f),null!=(e=e[5])&&"number"==typeof e&&e>0&&(this.F=1.5*e),this.ad(b),this.w=3,this.b&&this.b.pb(),this.Wd(b)}else"stop"!=e[0]&&"close"!=e[0]||this.X(7);else 3==this.w&&("stop"==e[0]||"close"==e[0]?(c&&0!=c.length&&(this.b.Ia(this,c),c.length=0),"stop"==e[0]?this.X(7):this.Qa()):"noop"!=e[0]&&(c?c.push(e):this.b&&this.b.ob(e)),this.u=0)}c&&0!=c.length&&this.b.Ia(this,c)},ci.Wd=function(a){this.fb=this.Bb(this.da,this.Ea),a.s?(this.c.gc(a),a.Kd(this.F),this.a=a):this.zb()},ci.X=function(a){if(2==a){var b=null;this.b&&(b=null);var c=L(this.Zd,this);b||(b=new La("//www.google.com/images/cleardot.gif"),cm.location&&"http"==cm.location.protocol||b.ma("https"),b.za()),function(a,b){var c=new va;if(cm.Image){var d=new Image;d.onload=M(Ya,c,d,"TestLoadImage: loaded",!0,b),d.onerror=M(Ya,c,d,"TestLoadImage: error",!1,b),d.onabort=M(Ya,c,d,"TestLoadImage: abort",!1,b),d.ontimeout=M(Ya,c,d,"TestLoadImage: timeout",!1,b),cm.setTimeout(function(){d.ontimeout&&d.ontimeout()},1e4),d.src=a}else b(!1)}(b.toString(),c)}else za(2);this.zd(a)},ci.Zd=function(a){za(a?2:1)},ci.zd=function(a){this.w=0,this.b&&this.b.nb(a),this.Yb(),this.lb()},ci.Yb=function(){this.w=0,this.B=-1,this.b&&(0==this.c.Xb().length&&0==this.g.length||(this.c.Bc(),Q(this.g),this.g.length=0),this.b.mb())},ci.Cb=function(a){return this.ub(null,a)},ci.Bb=function(a,b){return this.ub(this.Da()?a:null,b)},ci.ub=function(a,b){var c,d,e,f,g,h,i=(c=b)instanceof La?c.N():new La(c,void 0);if(""!=i.c)a&&i.ka(a+"."+i.c),i.la(i.h);else{var j,k=cm.location;j=a?a+"."+k.hostname:k.hostname,d=k.protocol,e=j,f=+k.port,g=b,h=new La(null,void 0),d&&h.ma(d),e&&h.ka(e),f&&h.la(f),g&&h.Ba(g),i=h}return this.ca&&U(this.ca,function(a,b){i.m(b,a)}),a=this.j,b=this.Fa,a&&b&&i.m(a,b),i.m("VER",this.qb),this.ea(i),i},ci.sa=function(a){if(a&&!this.T)throw Error("Can't create secondary domain capable XhrIo object.");return(a=new Za(this.xc)).Sd(this.T),a},ci.Pa=function(){return!!this.b&&!0},ci.Da=function(){return this.T},(ci=cb.prototype).Ia=null,ci.pb=function(){},ci.ob=function(){},ci.nb=function(){},ci.mb=function(){},ci.yc=function(){},ci.$c=function(a){return a},db.prototype.a=function(a,b){return new eb(a,b)},N(eb,la),(ci=eb.prototype).addEventListener=function(a,b,c,d){eb.S.addEventListener.call(this,a,b,c,d)},ci.removeEventListener=function(a,b,c,d){eb.S.removeEventListener.call(this,a,b,c,d)},ci.Yc=function(){this.a.jc(this.f),this.l&&this.a.Rd(),this.a.bd(this.o,this.g,this.b||void 0)},ci.close=function(){this.a.Qa()},ci.Zc=function(a){if(C(a)){var b={};b.__data__=a,this.a.Xa(b)}else this.h?((b={}).__data__=Km(a),this.a.Xa(b)):this.a.Xa(a)},ci.G=function(){this.a.jc(null),delete this.f,this.a.Qa(),delete this.a,eb.S.G.call(this)},N(fb,Ea),N(gb,Fa),N(hb,cb),hb.prototype.pb=function(){this.a.dispatchEvent("a")},hb.prototype.ob=function(a){this.a.dispatchEvent(new fb(a))},hb.prototype.nb=function(a){this.a.dispatchEvent(new gb(a))},hb.prototype.mb=function(){this.a.dispatchEvent("b")};var gn=M(function(a,b){function c(){}c.prototype=a.prototype;var d=new c;return a.apply(d,Array.prototype.slice.call(arguments,1)),d},db);db.prototype.createWebChannel=db.prototype.a,eb.prototype.send=eb.prototype.Zc,eb.prototype.open=eb.prototype.Yc,eb.prototype.close=eb.prototype.close,Rm.NO_ERROR=0,Rm.TIMEOUT=8,Rm.HTTP_ERROR=6,Sm.COMPLETE="complete",(Da.EventType=Um).OPEN="a",Um.CLOSE="b",Um.ERROR="c",Um.MESSAGE="d",la.prototype.listen=la.prototype.Lb,Za.prototype.listenOnce=Za.prototype.Mb,Za.prototype.getLastError=Za.prototype.dd,Za.prototype.getLastErrorCode=Za.prototype.Db,Za.prototype.getStatus=Za.prototype.aa,Za.prototype.getStatusText=Za.prototype.Fb,Za.prototype.getResponseJson=Za.prototype.Nc,Za.prototype.getResponseText=Za.prototype.va,Za.prototype.send=Za.prototype.xa;var hn,jn,kn={createWebChannelTransport:gn,ErrorCode:Rm,EventType:Sm,WebChannel:Da,XhrIo:Za},ln=kn.createWebChannelTransport,mn=kn.ErrorCode,nn=kn.EventType,on=kn.WebChannel,pn=kn.XhrIo,qn=Ni.SDK_VERSION,rn=new dj("@firebase/firestore");(jn=hn||(hn={}))[jn.DEBUG=0]="DEBUG",jn[jn.ERROR=1]="ERROR",jn[jn.SILENT=2]="SILENT";var sn,tn,un,vn,wn=function(){function a(){}return a.setPlatform=function(b){a.platform&&nb("Platform already defined"),a.platform=b},a.getPlatform=function(){return a.platform||nb("Platform not set"),a.platform},a}(),xn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},yn=function(a){function b(b,c){var d=a.call(this,c)||this;return d.code=b,d.message=c,d.name="FirebaseError",d.toString=function(){return d.name+": [code="+d.code+"]: "+d.message},d}return v(b,a),b}(Error),zn=function(){function a(){}return a.newId=function(){for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",b="",c=0;20>c;c++)b+=a.charAt(Math.floor(Math.random()*a.length));return ob(20===b.length,"Invalid auto ID: "+b),b},a}(),An=function(){function a(a){Sb(),this._binaryString=a}return a.fromBase64String=function(b){xb("Blob.fromBase64String",arguments,1),Ab("Blob.fromBase64String","string",1,b),Sb();try{return new a(wn.getPlatform().atob(b))}catch(b){throw new yn(xn.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+b)}},a.fromUint8Array=function(b){if(xb("Blob.fromUint8Array",arguments,1),Rb(),!(b instanceof Uint8Array))throw Lb("Blob.fromUint8Array","Uint8Array",1,b);return new a(Array.prototype.map.call(b,function(a){return String.fromCharCode(a)}).join(""))},a.prototype.toBase64=function(){return xb("Blob.toBase64",arguments,0),Sb(),wn.getPlatform().btoa(this._binaryString)},a.prototype.toUint8Array=function(){xb("Blob.toUint8Array",arguments,0),Rb();for(var a=new Uint8Array(this._binaryString.length),b=0;b<this._binaryString.length;b++)a[b]=this._binaryString.charCodeAt(b);return a},a.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},a.prototype.isEqual=function(a){return this._binaryString===a._binaryString},a.prototype._compareTo=function(a){return Ob(this._binaryString,a._binaryString)},a}(),Bn=qb(An,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),Cn=function(){function a(a,b){if(xb("GeoPoint",arguments,2),Ab("GeoPoint","number",1,a),Ab("GeoPoint","number",2,b),!isFinite(a)||-90>a||a>90)throw new yn(xn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+a);if(!isFinite(b)||-180>b||b>180)throw new yn(xn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+b);this._lat=a,this._long=b}return Object.defineProperty(a.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),a.prototype.isEqual=function(a){return this._lat===a._lat&&this._long===a._long},a.prototype._compareTo=function(a){return Ob(this._lat,a._lat)||Ob(this._long,a._long)},a}(),Dn=function(){function a(a,b){if(this.seconds=a,(this.nanoseconds=b)<0)throw new yn(xn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+b);if(b>=1e9)throw new yn(xn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+b);if(-62135596800>a)throw new yn(xn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+a);if(a>=253402300800)throw new yn(xn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+a)}return a.now=function(){return a.fromMillis(Date.now())},a.fromDate=function(b){return a.fromMillis(b.getTime())},a.fromMillis=function(b){var c=Math.floor(b/1e3);return new a(c,1e6*(b-1e3*c))},a.prototype.toDate=function(){return new Date(this.toMillis())},a.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},a.prototype._compareTo=function(a){return this.seconds===a.seconds?Ob(this.nanoseconds,a.nanoseconds):Ob(this.seconds,a.seconds)},a.prototype.isEqual=function(a){return a.seconds===this.seconds&&a.nanoseconds===this.nanoseconds},a.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},a}(),En=function(a,b,c,d){this.databaseId=a,this.persistenceKey=b,this.host=c,this.ssl=d},Fn="(default)",Gn=function(){function a(a,b){this.projectId=a,this.database=b||Fn}return Object.defineProperty(a.prototype,"isDefaultDatabase",{get:function(){return this.database===Fn;
},enumerable:!0,configurable:!0}),a.prototype.isEqual=function(b){return b instanceof a&&b.projectId===this.projectId&&b.database===this.database},a.prototype.compareTo=function(a){return Ob(this.projectId,a.projectId)||Ob(this.database,a.database)},a}(),Hn="__name__",In=function(){function a(a,b,c){this.init(a,b,c)}return a.prototype.init=function(a,b,c){void 0===b?b=0:b>a.length&&nb("offset "+b+" out of range "+a.length),void 0===c?c=a.length-b:c>a.length-b&&nb("length "+c+" out of range "+(a.length-b)),this.segments=a,this.offset=b,this.len=c},a.prototype.construct=function(a,b,c){var d=Object.create(Object.getPrototypeOf(this));return d.init(a,b,c),d},Object.defineProperty(a.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),a.prototype.isEqual=function(b){return 0===a.comparator(this,b)},a.prototype.child=function(b){var c=this.segments.slice(this.offset,this.limit());return b instanceof a?b.forEach(function(a){c.push(a)}):"string"==typeof b?c.push(b):nb("Unknown parameter type for Path.child(): "+b),this.construct(c)},a.prototype.limit=function(){return this.offset+this.length},a.prototype.popFirst=function(a){return a=void 0===a?1:a,ob(this.length>=a,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+a,this.length-a)},a.prototype.popLast=function(){return ob(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},a.prototype.firstSegment=function(){return ob(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},a.prototype.lastSegment=function(){return this.get(this.length-1)},a.prototype.get=function(a){return ob(a<this.length,"Index out of range"),this.segments[this.offset+a]},a.prototype.isEmpty=function(){return 0===this.length},a.prototype.isPrefixOf=function(a){if(a.length<this.length)return!1;for(var b=0;b<this.length;b++)if(this.get(b)!==a.get(b))return!1;return!0},a.prototype.isImmediateParentOf=function(a){if(this.length+1!==a.length)return!1;for(var b=0;b<this.length;b++)if(this.get(b)!==a.get(b))return!1;return!0},a.prototype.forEach=function(a){for(var b=this.offset,c=this.limit();c>b;b++)a(this.segments[b])},a.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},a.comparator=function(a,b){for(var c=Math.min(a.length,b.length),d=0;c>d;d++){var e=a.get(d),f=b.get(d);if(f>e)return-1;if(e>f)return 1}return a.length<b.length?-1:a.length>b.length?1:0},a}(),Jn=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return v(b,a),b.prototype.canonicalString=function(){return this.toArray().join("/")},b.prototype.toString=function(){return this.canonicalString()},b.fromString=function(a){if(0<=a.indexOf("//"))throw new yn(xn.INVALID_ARGUMENT,"Invalid path ("+a+"). Paths must not contain // in them.");return new b(a.split("/").filter(function(a){return 0<a.length}))},b.EMPTY_PATH=new b([]),b}(In),Kn=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ln=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return v(b,a),b.isValidIdentifier=function(a){return Kn.test(a)},b.prototype.canonicalString=function(){return this.toArray().map(function(a){return a=a.replace("\\","\\\\").replace("`","\\`"),b.isValidIdentifier(a)||(a="`"+a+"`"),a}).join(".")},b.prototype.toString=function(){return this.canonicalString()},b.prototype.isKeyField=function(){return 1===this.length&&this.get(0)===Hn},b.keyField=function(){return new b([Hn])},b.fromServerFormat=function(a){for(var c=[],d="",e=0,f=function(){if(0===d.length)throw new yn(xn.INVALID_ARGUMENT,"Invalid field path ("+a+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");c.push(d),d=""},g=!1;e<a.length;){var h=a[e];if("\\"===h){if(e+1===a.length)throw new yn(xn.INVALID_ARGUMENT,"Path has trailing escape character: "+a);var i=a[e+1];if("\\"!==i&&"."!==i&&"`"!==i)throw new yn(xn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+a);d+=i,e+=2}else"`"===h?g=!g:"."!==h||g?d+=h:f(),e++}if(f(),g)throw new yn(xn.INVALID_ARGUMENT,"Unterminated ` in path: "+a);return new b(c)},b.EMPTY_PATH=new b([]),b}(In),Mn=function(){function a(b){this.path=b,ob(a.isDocumentKey(b),"Invalid DocumentKey with an odd number of segments: "+b.toArray().join("/"))}return a.prototype.hasCollectionId=function(a){return 2<=this.path.length&&this.path.get(this.path.length-2)===a},a.prototype.isEqual=function(a){return null!==a&&0===Jn.comparator(this.path,a.path)},a.prototype.toString=function(){return this.path.toString()},a.comparator=function(a,b){return Jn.comparator(a.path,b.path)},a.isDocumentKey=function(a){return a.length%2==0},a.fromSegments=function(b){return new a(new Jn(b.slice()))},a.fromPathString=function(b){return new a(Jn.fromString(b))},a.EMPTY=new a(new Jn([])),a}(),Nn=function(){function a(a,b){this.key=a,this.version=b}return a.compareByKey=function(a,b){return Mn.comparator(a.key,b.key)},a}(),On=function(a){function b(b,c,d,e,f){var g=a.call(this,b,c)||this;return g.data=d,g.proto=f,g.hasLocalMutations=!!e.hasLocalMutations,g.hasCommittedMutations=!!e.hasCommittedMutations,g}return v(b,a),b.prototype.field=function(a){return this.data.field(a)},b.prototype.fieldValue=function(a){var b=this.field(a);return b?b.value():void 0},b.prototype.value=function(){return this.data.value()},b.prototype.isEqual=function(a){return a instanceof b&&this.key.isEqual(a.key)&&this.version.isEqual(a.version)&&this.data.isEqual(a.data)&&this.hasLocalMutations===a.hasLocalMutations&&this.hasCommittedMutations===a.hasCommittedMutations},b.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(b.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),b.compareByField=function(a,b,c){var d=b.field(a),e=c.field(a);return void 0!==d&&void 0!==e?d.compareTo(e):nb("Trying to compare documents on fields that don't exist")},b}(Nn),Pn=function(a){function b(b,c,d){var e=a.call(this,b,c)||this;return e.hasCommittedMutations=!(!d||!d.hasCommittedMutations),e}return v(b,a),b.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(b.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),b.prototype.isEqual=function(a){return a instanceof b&&a.hasCommittedMutations===this.hasCommittedMutations&&a.version.isEqual(this.version)&&a.key.isEqual(this.key)},b}(Nn),Qn=function(a){function b(b,c){return a.call(this,b,c)||this}return v(b,a),b.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(b.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),b.prototype.isEqual=function(a){return a instanceof b&&a.version.isEqual(this.version)&&a.key.isEqual(this.key)},b}(Nn),Rn=function(){function a(a,b){this.comparator=a,this.root=b||Tn.EMPTY}return a.prototype.insert=function(b,c){return new a(this.comparator,this.root.insert(b,c,this.comparator).copy(null,null,Tn.BLACK,null,null))},a.prototype.remove=function(b){return new a(this.comparator,this.root.remove(b,this.comparator).copy(null,null,Tn.BLACK,null,null))},a.prototype.get=function(a){for(var b=this.root;!b.isEmpty();){var c=this.comparator(a,b.key);if(0===c)return b.value;0>c?b=b.left:c>0&&(b=b.right)}return null},a.prototype.indexOf=function(a){for(var b=0,c=this.root;!c.isEmpty();){var d=this.comparator(a,c.key);if(0===d)return b+c.left.size;c=0>d?c.left:(b+=c.left.size+1,c.right)}return-1},a.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(a.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),a.prototype.minKey=function(){return this.root.minKey()},a.prototype.maxKey=function(){return this.root.maxKey()},a.prototype.inorderTraversal=function(a){return this.root.inorderTraversal(a)},a.prototype.forEach=function(a){this.inorderTraversal(function(b,c){return a(b,c),!1})},a.prototype.toString=function(){var a=[];return this.inorderTraversal(function(b,c){return a.push(b+":"+c),!1}),"{"+a.join(", ")+"}"},a.prototype.reverseTraversal=function(a){return this.root.reverseTraversal(a)},a.prototype.getIterator=function(){return new Sn(this.root,null,this.comparator,!1)},a.prototype.getIteratorFrom=function(a){return new Sn(this.root,a,this.comparator,!1)},a.prototype.getReverseIterator=function(){return new Sn(this.root,null,this.comparator,!0)},a.prototype.getReverseIteratorFrom=function(a){return new Sn(this.root,a,this.comparator,!0)},a}(),Sn=function(){function a(a,b,c,d){this.isReverse=d,this.nodeStack=[];for(var e=1;!a.isEmpty();)if(e=b?c(a.key,b):1,d&&(e*=-1),0>e)a=this.isReverse?a.left:a.right;else{if(0===e){this.nodeStack.push(a);break}this.nodeStack.push(a),a=this.isReverse?a.right:a.left}}return a.prototype.getNext=function(){ob(0<this.nodeStack.length,"getNext() called on iterator when hasNext() is false.");var a=this.nodeStack.pop(),b={key:a.key,value:a.value};if(this.isReverse)for(a=a.left;!a.isEmpty();)this.nodeStack.push(a),a=a.right;else for(a=a.right;!a.isEmpty();)this.nodeStack.push(a),a=a.left;return b},a.prototype.hasNext=function(){return 0<this.nodeStack.length},a.prototype.peek=function(){if(0===this.nodeStack.length)return null;var a=this.nodeStack[this.nodeStack.length-1];return{key:a.key,value:a.value}},a}(),Tn=function(){function a(b,c,d,e,f){this.key=b,this.value=c,this.color=null!=d?d:a.RED,this.left=null!=e?e:a.EMPTY,this.right=null!=f?f:a.EMPTY,this.size=this.left.size+1+this.right.size}return a.prototype.copy=function(b,c,d,e,f){return new a(null!=b?b:this.key,null!=c?c:this.value,null!=d?d:this.color,null!=e?e:this.left,null!=f?f:this.right)},a.prototype.isEmpty=function(){return!1},a.prototype.inorderTraversal=function(a){return this.left.inorderTraversal(a)||a(this.key,this.value)||this.right.inorderTraversal(a)},a.prototype.reverseTraversal=function(a){return this.right.reverseTraversal(a)||a(this.key,this.value)||this.left.reverseTraversal(a)},a.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},a.prototype.minKey=function(){return this.min().key},a.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},a.prototype.insert=function(a,b,c){var d=this,e=c(a,d.key);return(d=0>e?d.copy(null,null,null,d.left.insert(a,b,c),null):0===e?d.copy(null,b,null,null,null):d.copy(null,null,null,null,d.right.insert(a,b,c))).fixUp()},a.prototype.removeMin=function(){if(this.left.isEmpty())return a.EMPTY;var b=this;return b.left.isRed()||b.left.left.isRed()||(b=b.moveRedLeft()),(b=b.copy(null,null,null,b.left.removeMin(),null)).fixUp()},a.prototype.remove=function(b,c){var d,e=this;if(c(b,e.key)<0)e.left.isEmpty()||e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.remove(b,c),null);else{if(e.left.isRed()&&(e=e.rotateRight()),e.right.isEmpty()||e.right.isRed()||e.right.left.isRed()||(e=e.moveRedRight()),0===c(b,e.key)){if(e.right.isEmpty())return a.EMPTY;d=e.right.min(),e=e.copy(d.key,d.value,null,null,e.right.removeMin())}e=e.copy(null,null,null,null,e.right.remove(b,c))}return e.fixUp()},a.prototype.isRed=function(){return this.color},a.prototype.fixUp=function(){var a=this;return a.right.isRed()&&!a.left.isRed()&&(a=a.rotateLeft()),a.left.isRed()&&a.left.left.isRed()&&(a=a.rotateRight()),a.left.isRed()&&a.right.isRed()&&(a=a.colorFlip()),a},a.prototype.moveRedLeft=function(){var a=this.colorFlip();return a.right.left.isRed()&&(a=(a=(a=a.copy(null,null,null,null,a.right.rotateRight())).rotateLeft()).colorFlip()),a},a.prototype.moveRedRight=function(){var a=this.colorFlip();return a.left.left.isRed()&&(a=(a=a.rotateRight()).colorFlip()),a},a.prototype.rotateLeft=function(){var b=this.copy(null,null,a.RED,null,this.right.left);return this.right.copy(null,null,this.color,b,null)},a.prototype.rotateRight=function(){var b=this.copy(null,null,a.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,b)},a.prototype.colorFlip=function(){var a=this.left.copy(null,null,!this.left.color,null,null),b=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,a,b)},a.prototype.checkMaxDepth=function(){var a=this.check();return Math.pow(2,a)<=this.size+1},a.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw nb("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw nb("Right child of ("+this.key+","+this.value+") is red");var a=this.left.check();if(a!==this.right.check())throw nb("Black depths differ");return a+(this.isRed()?0:1)},a.EMPTY=null,a.RED=!0,a.BLACK=!1,a}(),Un=function(){function a(){this.size=0}return a.prototype.copy=function(a,b,c,d,e){return this},a.prototype.insert=function(a,b,c){return new Tn(a,b)},a.prototype.remove=function(a,b){return this},a.prototype.isEmpty=function(){return!0},a.prototype.inorderTraversal=function(a){return!1},a.prototype.reverseTraversal=function(a){return!1},a.prototype.minKey=function(){return null},a.prototype.maxKey=function(){return null},a.prototype.isRed=function(){return!1},a.prototype.checkMaxDepth=function(){return!0},a.prototype.check=function(){return 0},a}();Tn.EMPTY=new Un,(tn=sn||(sn={}))[tn.NullValue=0]="NullValue",tn[tn.BooleanValue=1]="BooleanValue",tn[tn.NumberValue=2]="NumberValue",tn[tn.TimestampValue=3]="TimestampValue",tn[tn.StringValue=4]="StringValue",tn[tn.BlobValue=5]="BlobValue",tn[tn.RefValue=6]="RefValue",tn[tn.GeoPointValue=7]="GeoPointValue",tn[tn.ArrayValue=8]="ArrayValue",tn[tn.ObjectValue=9]="ObjectValue",(vn=un||(un={}))[vn.Default=0]="Default",vn[vn.Estimate=1]="Estimate",vn[vn.Previous=2]="Previous";var Vn,Wn,Xn=function(){function a(a,b){this.serverTimestampBehavior=a,this.timestampsInSnapshots=b}return a.fromSnapshotOptions=function(b,c){switch(b.serverTimestamps){case"estimate":return new a(un.Estimate,c);case"previous":return new a(un.Previous,c);case"none":case void 0:return new a(un.Default,c);default:return nb("fromSnapshotOptions() called with invalid options.")}},a}(),Yn=function(){function a(){}return a.prototype.toString=function(){var a=this.value();return null===a?"null":a.toString()},a.prototype.defaultCompareTo=function(a){return ob(this.typeOrder!==a.typeOrder,"Default compareTo should not be used for values of same type."),Ob(this.typeOrder,a.typeOrder)},a}(),Zn=function(a){function b(){var b=a.call(this)||this;return b.typeOrder=sn.NullValue,b.internalValue=null,b}return v(b,a),b.prototype.value=function(a){return null},b.prototype.isEqual=function(a){return a instanceof b},b.prototype.compareTo=function(a){return a instanceof b?0:this.defaultCompareTo(a)},b.INSTANCE=new b,b}(Yn),$n=function(a){function b(b){var c=a.call(this)||this;return c.internalValue=b,c.typeOrder=sn.BooleanValue,c}return v(b,a),b.prototype.value=function(a){return this.internalValue},b.prototype.isEqual=function(a){return a instanceof b&&this.internalValue===a.internalValue},b.prototype.compareTo=function(a){return a instanceof b?Ob(this,a):this.defaultCompareTo(a)},b.of=function(a){return a?b.TRUE:b.FALSE},b.TRUE=new b(!0),b.FALSE=new b(!1),b}(Yn),_n=function(a){function b(b){var c=a.call(this)||this;return c.internalValue=b,c.typeOrder=sn.NumberValue,c}return v(b,a),b.prototype.value=function(a){return this.internalValue},b.prototype.compareTo=function(a){return a instanceof b?(c=this.internalValue,d=a.internalValue,d>c?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1):this.defaultCompareTo(a);var c,d},b}(Yn),ao=function(a){function b(b){return a.call(this,b)||this}return v(b,a),b.prototype.isEqual=function(a){return a instanceof b&&Tb(this.internalValue,a.internalValue)},b}(_n),bo=function(a){function b(b){var c=a.call(this,b)||this;return c.internalValue=b,c}return v(b,a),b.prototype.isEqual=function(a){return a instanceof b&&Tb(this.internalValue,a.internalValue)},b.NAN=new b(NaN),b.POSITIVE_INFINITY=new b(1/0),b.NEGATIVE_INFINITY=new b(-1/0),b}(_n),co=function(a){function b(b){var c=a.call(this)||this;return c.internalValue=b,c.typeOrder=sn.StringValue,c}return v(b,a),b.prototype.value=function(a){return this.internalValue},b.prototype.isEqual=function(a){return a instanceof b&&this.internalValue===a.internalValue},b.prototype.compareTo=function(a){return a instanceof b?Ob(this.internalValue,a.internalValue):this.defaultCompareTo(a)},b}(Yn),eo=function(a){function b(b){var c=a.call(this)||this;return c.internalValue=b,c.typeOrder=sn.TimestampValue,c}return v(b,a),b.prototype.value=function(a){return!a||a.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},b.prototype.isEqual=function(a){return a instanceof b&&this.internalValue.isEqual(a.internalValue)},b.prototype.compareTo=function(a){return a instanceof b?this.internalValue._compareTo(a.internalValue):a instanceof fo?-1:this.defaultCompareTo(a)},b}(Yn),fo=function(a){function b(b,c){var d=a.call(this)||this;return d.localWriteTime=b,d.previousValue=c,d.typeOrder=sn.TimestampValue,d}return v(b,a),b.prototype.value=function(a){return a&&a.serverTimestampBehavior===un.Estimate?new eo(this.localWriteTime).value(a):a&&a.serverTimestampBehavior===un.Previous&&this.previousValue?this.previousValue.value(a):null},b.prototype.isEqual=function(a){return a instanceof b&&this.localWriteTime.isEqual(a.localWriteTime)},b.prototype.compareTo=function(a){return a instanceof b?this.localWriteTime._compareTo(a.localWriteTime):a instanceof eo?1:this.defaultCompareTo(a)},b.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},b}(Yn),go=function(a){function b(b){var c=a.call(this)||this;return c.internalValue=b,c.typeOrder=sn.BlobValue,c}return v(b,a),b.prototype.value=function(a){return this.internalValue},b.prototype.isEqual=function(a){return a instanceof b&&this.internalValue.isEqual(a.internalValue)},b.prototype.compareTo=function(a){return a instanceof b?this.internalValue._compareTo(a.internalValue):this.defaultCompareTo(a)},b}(Yn),ho=function(a){function b(b,c){var d=a.call(this)||this;return d.databaseId=b,d.key=c,d.typeOrder=sn.RefValue,d}return v(b,a),b.prototype.value=function(a){return this.key},b.prototype.isEqual=function(a){return a instanceof b&&this.key.isEqual(a.key)&&this.databaseId.isEqual(a.databaseId)},b.prototype.compareTo=function(a){if(a instanceof b){var c=this.databaseId.compareTo(a.databaseId);return 0!==c?c:Mn.comparator(this.key,a.key)}return this.defaultCompareTo(a)},b}(Yn),io=function(a){function b(b){var c=a.call(this)||this;return c.internalValue=b,c.typeOrder=sn.GeoPointValue,c}return v(b,a),b.prototype.value=function(a){return this.internalValue},b.prototype.isEqual=function(a){return a instanceof b&&this.internalValue.isEqual(a.internalValue)},b.prototype.compareTo=function(a){return a instanceof b?this.internalValue._compareTo(a.internalValue):this.defaultCompareTo(a)},b}(Yn),jo=function(a){function b(b){var c=a.call(this)||this;return c.internalValue=b,c.typeOrder=sn.ObjectValue,c}return v(b,a),b.prototype.value=function(a){var b={};return this.internalValue.inorderTraversal(function(c,d){b[c]=d.value(a)}),b},b.prototype.forEach=function(a){this.internalValue.inorderTraversal(a)},b.prototype.isEqual=function(a){if(a instanceof b){for(var c=this.internalValue.getIterator(),d=a.internalValue.getIterator();c.hasNext()&&d.hasNext();){var e=c.getNext(),f=d.getNext();if(e.key!==f.key||!e.value.isEqual(f.value))return!1}return!c.hasNext()&&!d.hasNext()}return!1},b.prototype.compareTo=function(a){if(a instanceof b){for(var c=this.internalValue.getIterator(),d=a.internalValue.getIterator();c.hasNext()&&d.hasNext();){var e=c.getNext(),f=d.getNext(),g=Ob(e.key,f.key)||e.value.compareTo(f.value);if(g)return g}return Ob(c.hasNext(),d.hasNext())}return this.defaultCompareTo(a)},b.prototype.set=function(a,c){if(ob(!a.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===a.length)return this.setChild(a.firstSegment(),c);var d=this.child(a.firstSegment());d instanceof b||(d=b.EMPTY);var e=d.set(a.popFirst(),c);return this.setChild(a.firstSegment(),e)},b.prototype["delete"]=function(a){if(ob(!a.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===a.length)return new b(this.internalValue.remove(a.firstSegment()));var c=this.child(a.firstSegment());if(c instanceof b){var d=c["delete"](a.popFirst());return new b(this.internalValue.insert(a.firstSegment(),d))}return this},b.prototype.contains=function(a){return void 0!==this.field(a)},b.prototype.field=function(a){ob(!a.isEmpty(),"Can't get field of empty path");var c=this;return a.forEach(function(a){c=c instanceof b&&c.internalValue.get(a)||void 0}),c},b.prototype.toString=function(){return this.internalValue.toString()},b.prototype.child=function(a){return this.internalValue.get(a)||void 0},b.prototype.setChild=function(a,c){return new b(this.internalValue.insert(a,c))},b.EMPTY=new b(new Rn(Ob)),b}(Yn),ko=function(a){function b(b){var c=a.call(this)||this;return c.internalValue=b,c.typeOrder=sn.ArrayValue,c}return v(b,a),b.prototype.value=function(a){return this.internalValue.map(function(b){return b.value(a)})},b.prototype.forEach=function(a){this.internalValue.forEach(a)},b.prototype.isEqual=function(a){if(a instanceof b){if(this.internalValue.length!==a.internalValue.length)return!1;for(var c=0;c<this.internalValue.length;c++)if(!this.internalValue[c].isEqual(a.internalValue[c]))return!1;return!0}return!1},b.prototype.compareTo=function(a){if(a instanceof b){for(var c=Math.min(this.internalValue.length,a.internalValue.length),d=0;c>d;d++){var e=this.internalValue[d].compareTo(a.internalValue[d]);if(e)return e}return Ob(this.internalValue.length,a.internalValue.length)}return this.defaultCompareTo(a)},b.prototype.toString=function(){return"["+this.internalValue.map(function(a){return a.toString()}).join(",")+"]"},b}(Yn),lo=Number,mo=lo.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),no=lo.MAX_SAFE_INTEGER||Math.pow(2,53)-1,oo=lo.isInteger||function(a){return"number"==typeof a&&isFinite(a)&&Math.floor(a)===a},po=function(){function a(a,b,c,d,e,f,g){void 0===b&&(b=null),void 0===c&&(c=[]),void 0===d&&(d=[]),void 0===e&&(e=null),void 0===f&&(f=null),void 0===g&&(g=null),this.path=a,this.collectionGroup=b,this.explicitOrderBy=c,this.filters=d,this.limit=e,this.startAt=f,this.endAt=g,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return a.atPath=function(b){return new a(b)},Object.defineProperty(a.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var a=this.getInequalityFilterField(),b=this.getFirstOrderByField();if(null!==a&&null===b)a.isKeyField()?this.memoizedOrderBy=[yo]:this.memoizedOrderBy=[new xo(a),yo];else{ob(null===a||null!==b&&a.isEqual(b),"First orderBy should match inequality field.");for(var c=!(this.memoizedOrderBy=[]),d=0,e=this.explicitOrderBy;d<e.length;d++){var f=e[d];this.memoizedOrderBy.push(f),f.field.isKeyField()&&(c=!0)}if(!c){var g=0<this.explicitOrderBy.length?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:vo.ASCENDING;this.memoizedOrderBy.push(g===vo.ASCENDING?yo:zo)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),a.prototype.addFilter=function(b){ob(null==this.getInequalityFilterField()||!(b instanceof so)||!b.isInequality()||b.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),ob(!this.isDocumentQuery(),"No filtering allowed for document query");var c=this.filters.concat([b]);return new a(this.path,this.collectionGroup,this.explicitOrderBy.slice(),c,this.limit,this.startAt,this.endAt)},a.prototype.addOrderBy=function(b){ob(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var c=this.explicitOrderBy.concat([b]);return new a(this.path,this.collectionGroup,c,this.filters.slice(),this.limit,this.startAt,this.endAt)},a.prototype.withLimit=function(b){return new a(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),b,this.startAt,this.endAt)},a.prototype.withStartAt=function(b){return new a(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,b,this.endAt)},a.prototype.withEndAt=function(b){return new a(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,b)},a.prototype.asCollectionQueryAtPath=function(b){return new a(b,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)},a.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var a=this.path.canonicalString();this.isCollectionGroupQuery()&&(a+="|cg:"+this.collectionGroup),a+="|f:";for(var b=0,c=this.filters;b<c.length;b++)a+=c[b].canonicalId(),a+=",";a+="|ob:";for(var d=0,e=this.orderBy;d<e.length;d++)a+=e[d].canonicalId(),a+=",";Ub(this.limit)||(a+="|l:",a+=this.limit),this.startAt&&(a+="|lb:",a+=this.startAt.canonicalId()),this.endAt&&(a+="|ub:",a+=this.endAt.canonicalId()),this.memoizedCanonicalId=a}return this.memoizedCanonicalId},a.prototype.toString=function(){var a="Query("+this.path.canonicalString();return this.isCollectionGroupQuery()&&(a+=" collectionGroup="+this.collectionGroup),0<this.filters.length&&(a+=", filters: ["+this.filters.join(", ")+"]"),Ub(this.limit)||(a+=", limit: "+this.limit),0<this.explicitOrderBy.length&&(a+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(a+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(a+=", endAt: "+this.endAt.canonicalId()),a+")"},a.prototype.isEqual=function(a){if(this.limit!==a.limit)return!1;if(this.orderBy.length!==a.orderBy.length)return!1;for(var b=0;b<this.orderBy.length;b++)if(!this.orderBy[b].isEqual(a.orderBy[b]))return!1;if(this.filters.length!==a.filters.length)return!1;for(b=0;b<this.filters.length;b++)if(!this.filters[b].isEqual(a.filters[b]))return!1;return this.collectionGroup===a.collectionGroup&&!!this.path.isEqual(a.path)&&!(null!==this.startAt?!this.startAt.isEqual(a.startAt):null!==a.startAt)&&(null!==this.endAt?this.endAt.isEqual(a.endAt):null===a.endAt)},a.prototype.docComparator=function(a,b){for(var c=!1,d=0,e=this.orderBy;d<e.length;d++){var f=e[d],g=f.compare(a,b);if(0!==g)return g;c=c||f.field.isKeyField()}return ob(c,"orderBy used that doesn't compare on key field"),0},a.prototype.matches=function(a){return this.matchesPathAndCollectionGroup(a)&&this.matchesOrderBy(a)&&this.matchesFilters(a)&&this.matchesBounds(a)},a.prototype.hasLimit=function(){return!Ub(this.limit)},a.prototype.getFirstOrderByField=function(){return 0<this.explicitOrderBy.length?this.explicitOrderBy[0].field:null},a.prototype.getInequalityFilterField=function(){for(var a=0,b=this.filters;a<b.length;a++){var c=b[a];if(c instanceof so&&c.isInequality())return c.field}return null},a.prototype.hasArrayContainsFilter=function(){return void 0!==this.filters.find(function(a){return a instanceof so&&a.op===ro.ARRAY_CONTAINS})},a.prototype.isDocumentQuery=function(){return Mn.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},a.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},a.prototype.matchesPathAndCollectionGroup=function(a){var b=a.key.path;return null!==this.collectionGroup?a.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(b):Mn.isDocumentKey(this.path)?this.path.isEqual(b):this.path.isImmediateParentOf(b)},a.prototype.matchesOrderBy=function(a){for(var b=0,c=this.explicitOrderBy;b<c.length;b++){var d=c[b];if(!d.field.isKeyField()&&void 0===a.field(d.field))return!1}return!0},a.prototype.matchesFilters=function(a){for(var b=0,c=this.filters;b<c.length;b++)if(!c[b].matches(a))return!1;return!0},a.prototype.matchesBounds=function(a){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,a)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,a))},a.prototype.assertValidBound=function(a){ob(a.position.length<=this.orderBy.length,"Bound is longer than orderBy")},a}(),qo=function(){function a(){}return a.create=function(a,b,c){if(c.isEqual(Zn.INSTANCE)){if(b!==ro.EQUAL)throw new yn(xn.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new to(a)}if(c.isEqual(bo.NAN)){if(b!==ro.EQUAL)throw new yn(xn.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new uo(a)}return new so(a,b,c)},a}(),ro=function(){function a(a){this.name=a}return a.fromString=function(b){switch(b){case"<":return a.LESS_THAN;case"<=":return a.LESS_THAN_OR_EQUAL;case"==":return a.EQUAL;case">=":return a.GREATER_THAN_OR_EQUAL;case">":return a.GREATER_THAN;case"array-contains":return a.ARRAY_CONTAINS;default:return nb("Unknown relation: "+b)}},a.prototype.toString=function(){return this.name},a.prototype.isEqual=function(a){return this.name===a.name},a.LESS_THAN=new a("<"),a.LESS_THAN_OR_EQUAL=new a("<="),a.EQUAL=new a("=="),a.GREATER_THAN=new a(">"),a.GREATER_THAN_OR_EQUAL=new a(">="),a.ARRAY_CONTAINS=new a("array-contains"),a}(),so=function(a){function b(b,c,d){var e=a.call(this)||this;return e.field=b,e.op=c,e.value=d,e}return v(b,a),b.prototype.matches=function(a){if(this.field.isKeyField()){ob(this.value instanceof ho,"Comparing on key, but filter value not a RefValue"),ob(this.op!==ro.ARRAY_CONTAINS,"array-contains queries don't make sense on document keys.");var b=this.value,c=Mn.comparator(a.key,b.key);return this.matchesComparison(c)}var d=a.field(this.field);return void 0!==d&&this.matchesValue(d)},b.prototype.matchesValue=function(a){var b=this;return this.op===ro.ARRAY_CONTAINS?a instanceof ko&&void 0!==a.internalValue.find(function(a){return a.isEqual(b.value)}):this.value.typeOrder===a.typeOrder&&this.matchesComparison(a.compareTo(this.value))},b.prototype.matchesComparison=function(a){switch(this.op){case ro.LESS_THAN:return 0>a;case ro.LESS_THAN_OR_EQUAL:return 0>=a;case ro.EQUAL:return 0===a;case ro.GREATER_THAN:return a>0;case ro.GREATER_THAN_OR_EQUAL:return a>=0;default:return nb("Unknown relation op"+this.op)}},b.prototype.isInequality=function(){return this.op!==ro.EQUAL&&this.op!==ro.ARRAY_CONTAINS},b.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},b.prototype.isEqual=function(a){return a instanceof b&&this.op.isEqual(a.op)&&this.field.isEqual(a.field)&&this.value.isEqual(a.value)},b.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},b}(qo),to=function(a){function b(b){var c=a.call(this)||this;return c.field=b,c}return v(b,a),b.prototype.matches=function(a){var b=a.field(this.field);return void 0!==b&&null===b.value()},b.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},b.prototype.toString=function(){return this.field.canonicalString()+" IS null"},b.prototype.isEqual=function(a){return a instanceof b&&this.field.isEqual(a.field)},b}(qo),uo=function(a){function b(b){var c=a.call(this)||this;return c.field=b,c}return v(b,a),b.prototype.matches=function(a){var b=a.field(this.field),c=b&&b.value();return"number"==typeof c&&isNaN(c)},b.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},b.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},b.prototype.isEqual=function(a){return a instanceof b&&this.field.isEqual(a.field)},b}(qo),vo=function(){function a(a){this.name=a}return a.prototype.toString=function(){return this.name},a.ASCENDING=new a("asc"),a.DESCENDING=new a("desc"),a}(),wo=function(){function a(a,b){this.position=a,this.before=b}return a.prototype.canonicalId=function(){for(var a=this.before?"b:":"a:",b=0,c=this.position;b<c.length;b++)a+=c[b].toString();return a},a.prototype.sortsBeforeDocument=function(a,b){
ob(this.position.length<=a.length,"Bound has more components than query's orderBy");for(var c=0,d=0;d<this.position.length;d++){var e=a[d],f=this.position[d];if(e.field.isKeyField())ob(f instanceof ho,"Bound has a non-key value where the key path is being used."),c=Mn.comparator(f.key,b.key);else{var g=b.field(e.field);ob(void 0!==g,"Field should exist since document matched the orderBy already."),c=f.compareTo(g)}if(e.dir===vo.DESCENDING&&(c*=-1),0!==c)break}return this.before?0>=c:0>c},a.prototype.isEqual=function(a){if(null===a)return!1;if(this.before!==a.before||this.position.length!==a.position.length)return!1;for(var b=0;b<this.position.length;b++){var c=this.position[b],d=a.position[b];return c.isEqual(d)}return!0},a}(),xo=function(){function a(a,b){this.field=a,void 0===b&&(b=vo.ASCENDING),this.dir=b,this.isKeyOrderBy=a.isKeyField()}return a.prototype.compare=function(a,b){var c=this.isKeyOrderBy?On.compareByKey(a,b):On.compareByField(this.field,a,b);switch(this.dir){case vo.ASCENDING:return c;case vo.DESCENDING:return-1*c;default:return nb("Unknown direction: "+this.dir)}},a.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},a.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},a.prototype.isEqual=function(a){return this.dir===a.dir&&this.field.isEqual(a.field)},a}(),yo=new xo(Ln.keyField(),vo.ASCENDING),zo=new xo(Ln.keyField(),vo.DESCENDING),Ao=function(){function a(a){this.timestamp=a}return a.fromMicroseconds=function(b){var c=Math.floor(b/1e6);return new a(new Dn(c,b%1e6*1e3))},a.fromTimestamp=function(b){return new a(b)},a.forDeletedDoc=function(){return a.MIN},a.prototype.compareTo=function(a){return this.timestamp._compareTo(a.timestamp)},a.prototype.isEqual=function(a){return this.timestamp.isEqual(a.timestamp)},a.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},a.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},a.prototype.toTimestamp=function(){return this.timestamp},a.MIN=new a(new Dn(0,0)),a}();(Wn=Vn||(Vn={}))[Wn.Listen=0]="Listen",Wn[Wn.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",Wn[Wn.LimboResolution=2]="LimboResolution";var Bo,Co,Do=function(){function a(a,b,c,d,e,f){void 0===e&&(e=Ao.MIN),void 0===f&&(f=pb()),this.query=a,this.targetId=b,this.purpose=c,this.sequenceNumber=d,this.snapshotVersion=e,this.resumeToken=f}return a.prototype.copy=function(b){return new a(this.query,this.targetId,this.purpose,void 0===b.sequenceNumber?this.sequenceNumber:b.sequenceNumber,void 0===b.snapshotVersion?this.snapshotVersion:b.snapshotVersion,void 0===b.resumeToken?this.resumeToken:b.resumeToken)},a.prototype.isEqual=function(a){return this.targetId===a.targetId&&this.purpose===a.purpose&&this.sequenceNumber===a.sequenceNumber&&this.snapshotVersion.isEqual(a.snapshotVersion)&&this.resumeToken===a.resumeToken&&this.query.isEqual(a.query)},a}(),Eo=function(){function a(a){this.comparator=a,this.data=new Rn(this.comparator)}return a.fromMapKeys=function(b){var c=new a(b.comparator);return b.forEach(function(a){c=c.add(a)}),c},a.prototype.has=function(a){return null!==this.data.get(a)},a.prototype.first=function(){return this.data.minKey()},a.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(a.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),a.prototype.indexOf=function(a){return this.data.indexOf(a)},a.prototype.forEach=function(a){this.data.inorderTraversal(function(b,c){return a(b),!1})},a.prototype.forEachInRange=function(a,b){for(var c=this.data.getIteratorFrom(a[0]);c.hasNext();){var d=c.getNext();if(0<=this.comparator(d.key,a[1]))return;b(d.key)}},a.prototype.forEachWhile=function(a,b){var c;for(c=void 0!==b?this.data.getIteratorFrom(b):this.data.getIterator();c.hasNext();)if(!a(c.getNext().key))return},a.prototype.firstAfterOrEqual=function(a){var b=this.data.getIteratorFrom(a);return b.hasNext()?b.getNext().key:null},a.prototype.getIterator=function(){return new Fo(this.data.getIterator())},a.prototype.getIteratorFrom=function(a){return new Fo(this.data.getIteratorFrom(a))},a.prototype.add=function(a){return this.copy(this.data.remove(a).insert(a,!0))},a.prototype["delete"]=function(a){return this.has(a)?this.copy(this.data.remove(a)):this},a.prototype.isEmpty=function(){return this.data.isEmpty()},a.prototype.unionWith=function(a){var b=this;return a.forEach(function(a){b=b.add(a)}),b},a.prototype.isEqual=function(b){if(!(b instanceof a))return!1;if(this.size!==b.size)return!1;for(var c=this.data.getIterator(),d=b.data.getIterator();c.hasNext();){var e=c.getNext().key,f=d.getNext().key;if(0!==this.comparator(e,f))return!1}return!0},a.prototype.toArray=function(){var a=[];return this.forEach(function(b){a.push(b)}),a},a.prototype.toString=function(){var a=[];return this.forEach(function(b){return a.push(b)}),"SortedSet("+a.toString()+")"},a.prototype.copy=function(b){var c=new a(this.comparator);return c.data=b,c},a}(),Fo=function(){function a(a){this.iter=a}return a.prototype.getNext=function(){return this.iter.getNext().key},a.prototype.hasNext=function(){return this.iter.hasNext()},a}(),Go=function(){function a(a){this.fields=a}return a.fromSet=function(b){return new a(b)},a.fromArray=function(b){var c=new Eo(Ln.comparator);return b.forEach(function(a){return c=c.add(a)}),new a(c)},a.prototype.covers=function(a){var b=!1;return this.fields.forEach(function(c){c.isPrefixOf(a)&&(b=!0)}),b},a.prototype.applyTo=function(a){var b=jo.EMPTY;return this.fields.forEach(function(c){if(c.isEmpty())return a;var d=a.field(c);void 0!==d&&(b=b.set(c,d))}),b},a.prototype.isEqual=function(a){return this.fields.isEqual(a.fields)},a}(),Ho=function(){function a(a,b){this.field=a,this.transform=b}return Object.defineProperty(a.prototype,"isIdempotent",{get:function(){return this.transform.isIdempotent},enumerable:!0,configurable:!0}),a.prototype.isEqual=function(a){return this.field.isEqual(a.field)&&this.transform.isEqual(a.transform)},a}(),Io=function(a,b){this.version=a,this.transformResults=b};(Co=Bo||(Bo={}))[Co.Set=0]="Set",Co[Co.Patch=1]="Patch",Co[Co.Transform=2]="Transform",Co[Co.Delete=3]="Delete";var Jo,Ko,Lo=function(){function a(a,b){this.updateTime=a,this.exists=b,ob(void 0===a||void 0===b,'Precondition can specify "exists" or "updateTime" but not both')}return a.exists=function(b){return new a(void 0,b)},a.updateTime=function(b){return new a(b)},Object.defineProperty(a.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),a.prototype.isValidFor=function(a){return void 0!==this.updateTime?a instanceof On&&a.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===a instanceof On:(ob(this.isNone,"Precondition should be empty"),!0)},a.prototype.isEqual=function(a){return b=this.updateTime,c=a.updateTime,(null!=b?!(!c||!b.isEqual(c)):b===c)&&this.exists===a.exists;var b,c},a.NONE=new a,a}(),Mo=function(){function a(){}return a.prototype.verifyKeyMatches=function(a){null!=a&&ob(a.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},a.getPostMutationVersion=function(a){return a instanceof On?a.version:Ao.MIN},a}(),No=function(a){function b(b,c,d){var e=a.call(this)||this;return e.key=b,e.value=c,e.precondition=d,e.type=Bo.Set,e}return v(b,a),b.prototype.applyToRemoteDocument=function(a,b){this.verifyKeyMatches(a),ob(null==b.transformResults,"Transform results received by SetMutation.");var c=b.version;return new On(this.key,c,this.value,{hasCommittedMutations:!0})},b.prototype.applyToLocalView=function(a,b,c){if(this.verifyKeyMatches(a),!this.precondition.isValidFor(a))return a;var d=Mo.getPostMutationVersion(a);return new On(this.key,d,this.value,{hasLocalMutations:!0})},Object.defineProperty(b.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"fieldMask",{get:function(){return null},enumerable:!0,configurable:!0}),b.prototype.isEqual=function(a){return a instanceof b&&this.key.isEqual(a.key)&&this.value.isEqual(a.value)&&this.precondition.isEqual(a.precondition)},b}(Mo),Oo=function(a){function b(b,c,d,e){var f=a.call(this)||this;return f.key=b,f.data=c,f.fieldMask=d,f.precondition=e,f.type=Bo.Patch,f}return v(b,a),b.prototype.applyToRemoteDocument=function(a,b){if(this.verifyKeyMatches(a),ob(null==b.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(a))return new Qn(this.key,b.version);var c=this.patchDocument(a);return new On(this.key,b.version,c,{hasCommittedMutations:!0})},b.prototype.applyToLocalView=function(a,b,c){if(this.verifyKeyMatches(a),!this.precondition.isValidFor(a))return a;var d=Mo.getPostMutationVersion(a),e=this.patchDocument(a);return new On(this.key,d,e,{hasLocalMutations:!0})},Object.defineProperty(b.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),b.prototype.isEqual=function(a){return a instanceof b&&this.key.isEqual(a.key)&&this.fieldMask.isEqual(a.fieldMask)&&this.precondition.isEqual(a.precondition)},b.prototype.patchDocument=function(a){var b;return b=a instanceof On?a.data:jo.EMPTY,this.patchObject(b)},b.prototype.patchObject=function(a){var b=this;return this.fieldMask.fields.forEach(function(c){if(!c.isEmpty()){var d=b.data.field(c);a=void 0!==d?a.set(c,d):a["delete"](c)}}),a},b}(Mo),Po=function(a){function b(b,c){var d=a.call(this)||this;return d.key=b,d.fieldTransforms=c,d.type=Bo.Transform,d.precondition=Lo.exists(!0),d}return v(b,a),b.prototype.applyToRemoteDocument=function(a,b){if(this.verifyKeyMatches(a),ob(null!=b.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(a))return new Qn(this.key,b.version);var c=this.requireDocument(a),d=this.serverTransformResults(a,b.transformResults),e=b.version,f=this.transformObject(c.data,d);return new On(this.key,e,f,{hasCommittedMutations:!0})},b.prototype.applyToLocalView=function(a,b,c){if(this.verifyKeyMatches(a),!this.precondition.isValidFor(a))return a;var d=this.requireDocument(a),e=this.localTransformResults(c,b),f=this.transformObject(d.data,e);return new On(this.key,d.version,f,{hasLocalMutations:!0})},Object.defineProperty(b.prototype,"isIdempotent",{get:function(){for(var a=0,b=this.fieldTransforms;a<b.length;a++)if(!b[a].isIdempotent)return!1;return!0},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"fieldMask",{get:function(){var a=new Eo(Ln.comparator);return this.fieldTransforms.forEach(function(b){return a=a.add(b.field)}),new Go(a)},enumerable:!0,configurable:!0}),b.prototype.isEqual=function(a){return a instanceof b&&this.key.isEqual(a.key)&&Pb(this.fieldTransforms,a.fieldTransforms)&&this.precondition.isEqual(a.precondition)},b.prototype.requireDocument=function(a){ob(a instanceof On,"Unknown MaybeDocument type "+a);var b=a;return ob(b.key.isEqual(this.key),"Can only transform a document with the same key"),b},b.prototype.serverTransformResults=function(a,b){var c=[];ob(this.fieldTransforms.length===b.length,"server transform result count ("+b.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var d=0;d<b.length;d++){var e=this.fieldTransforms[d],f=e.transform,g=null;a instanceof On&&(g=a.field(e.field)||null),c.push(f.applyToRemoteDocument(g,b[d]))}return c},b.prototype.localTransformResults=function(a,b){for(var c=[],d=0,e=this.fieldTransforms;d<e.length;d++){var f=e[d],g=f.transform,h=null;b instanceof On&&(h=b.field(f.field)||null),c.push(g.applyToLocalView(h,a))}return c},b.prototype.transformObject=function(a,b){ob(b.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var c=0;c<this.fieldTransforms.length;c++){var d=this.fieldTransforms[c].field;a=a.set(d,b[c])}return a},b}(Mo),Qo=function(a){function b(b,c){var d=a.call(this)||this;return d.key=b,d.precondition=c,d.type=Bo.Delete,d}return v(b,a),b.prototype.applyToRemoteDocument=function(a,b){return this.verifyKeyMatches(a),ob(null==b.transformResults,"Transform results received by DeleteMutation."),new Pn(this.key,b.version,{hasCommittedMutations:!0})},b.prototype.applyToLocalView=function(a,b,c){return this.verifyKeyMatches(a),this.precondition.isValidFor(a)?(a&&ob(a.key.isEqual(this.key),"Can only apply mutation to document with same key"),new Pn(this.key,Ao.forDeletedDoc())):a},b.prototype.isEqual=function(a){return a instanceof b&&this.key.isEqual(a.key)&&this.precondition.isEqual(a.precondition)},Object.defineProperty(b.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"fieldMask",{get:function(){return null},enumerable:!0,configurable:!0}),b}(Mo),Ro=function(){function a(){this.isIdempotent=!0}return a.prototype.applyToLocalView=function(a,b){return new fo(b,a)},a.prototype.applyToRemoteDocument=function(a,b){return b},a.prototype.isEqual=function(b){return b instanceof a},a.instance=new a,a}(),So=function(){function a(a){this.elements=a,this.isIdempotent=!0}return a.prototype.applyToLocalView=function(a,b){return this.apply(a)},a.prototype.applyToRemoteDocument=function(a,b){return this.apply(a)},a.prototype.apply=function(a){for(var b=Wb(a),c=function(a){b.find(function(b){return b.isEqual(a)})||b.push(a)},d=0,e=this.elements;d<e.length;d++)c(e[d]);return new ko(b)},a.prototype.isEqual=function(b){return b instanceof a&&Pb(b.elements,this.elements)},a}(),To=function(){function a(a){this.elements=a,this.isIdempotent=!0}return a.prototype.applyToLocalView=function(a,b){return this.apply(a)},a.prototype.applyToRemoteDocument=function(a,b){return this.apply(a)},a.prototype.apply=function(a){for(var b=Wb(a),c=function(a){b=b.filter(function(b){return!b.isEqual(a)})},d=0,e=this.elements;d<e.length;d++)c(e[d]);return new ko(b)},a.prototype.isEqual=function(b){return b instanceof a&&Pb(b.elements,this.elements)},a}(),Uo=function(){function a(a){this.operand=a,this.isIdempotent=!1}return a.prototype.applyToLocalView=function(a,b){if(a instanceof ao&&this.operand instanceof ao){var c=a.internalValue+this.operand.internalValue;return new ao(c)}return a instanceof _n?(c=a.internalValue+this.operand.internalValue,new bo(c)):this.operand},a.prototype.applyToRemoteDocument=function(a,b){return ob(null!==b,"Didn't receive transformResult for NUMERIC_ADD transform"),b},a.prototype.isEqual=function(b){return b instanceof a&&this.operand.isEqual(b.operand)},a}(),Vo=function(){function a(a){this.count=a}return a.prototype.isEqual=function(a){return a&&a.count===this.count},a}();(Ko=Jo||(Jo={}))[Ko.OK=0]="OK",Ko[Ko.CANCELLED=1]="CANCELLED",Ko[Ko.UNKNOWN=2]="UNKNOWN",Ko[Ko.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ko[Ko.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ko[Ko.NOT_FOUND=5]="NOT_FOUND",Ko[Ko.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ko[Ko.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ko[Ko.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ko[Ko.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ko[Ko.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ko[Ko.ABORTED=10]="ABORTED",Ko[Ko.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ko[Ko.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ko[Ko.INTERNAL=13]="INTERNAL",Ko[Ko.UNAVAILABLE=14]="UNAVAILABLE",Ko[Ko.DATA_LOSS=15]="DATA_LOSS";var Wo,Xo,Yo,Zo,$o=new Rn(Mn.comparator),_o=new Rn(Mn.comparator),ap=new Rn(Mn.comparator),bp=new Eo(Mn.comparator),cp=new Eo(Ob),dp=function(){function a(a){this.comparator=a?function(b,c){return a(b,c)||Mn.comparator(b.key,c.key)}:function(a,b){return Mn.comparator(a.key,b.key)},this.keyedMap=_b(),this.sortedSet=new Rn(this.comparator)}return a.emptySet=function(b){return new a(b.comparator)},a.prototype.has=function(a){return null!=this.keyedMap.get(a)},a.prototype.get=function(a){return this.keyedMap.get(a)},a.prototype.first=function(){return this.sortedSet.minKey()},a.prototype.last=function(){return this.sortedSet.maxKey()},a.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},a.prototype.indexOf=function(a){var b=this.keyedMap.get(a);return b?this.sortedSet.indexOf(b):-1},Object.defineProperty(a.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),a.prototype.forEach=function(a){this.sortedSet.inorderTraversal(function(b,c){return a(b),!1})},a.prototype.add=function(a){var b=this["delete"](a.key);return b.copy(b.keyedMap.insert(a.key,a),b.sortedSet.insert(a,null))},a.prototype["delete"]=function(a){var b=this.get(a);return b?this.copy(this.keyedMap.remove(a),this.sortedSet.remove(b)):this},a.prototype.isEqual=function(b){if(!(b instanceof a))return!1;if(this.size!==b.size)return!1;for(var c=this.sortedSet.getIterator(),d=b.sortedSet.getIterator();c.hasNext();){var e=c.getNext().key,f=d.getNext().key;if(!e.isEqual(f))return!1}return!0},a.prototype.toString=function(){var a=[];return this.forEach(function(b){a.push(b.toString())}),0===a.length?"DocumentSet ()":"DocumentSet (\n  "+a.join("  \n")+"\n)"},a.prototype.copy=function(b,c){var d=new a;return d.comparator=this.comparator,d.keyedMap=b,d.sortedSet=c,d},a}();(Xo=Wo||(Wo={}))[Xo.Added=0]="Added",Xo[Xo.Removed=1]="Removed",Xo[Xo.Modified=2]="Modified",Xo[Xo.Metadata=3]="Metadata",(Zo=Yo||(Yo={}))[Zo.Local=0]="Local",Zo[Zo.Synced=1]="Synced";var ep,fp,gp=function(){function a(){this.changeMap=new Rn(Mn.comparator)}return a.prototype.track=function(a){var b=a.doc.key,c=this.changeMap.get(b);c?a.type!==Wo.Added&&c.type===Wo.Metadata?this.changeMap=this.changeMap.insert(b,a):a.type===Wo.Metadata&&c.type!==Wo.Removed?this.changeMap=this.changeMap.insert(b,{type:c.type,doc:a.doc}):a.type===Wo.Modified&&c.type===Wo.Modified?this.changeMap=this.changeMap.insert(b,{type:Wo.Modified,doc:a.doc}):a.type===Wo.Modified&&c.type===Wo.Added?this.changeMap=this.changeMap.insert(b,{type:Wo.Added,doc:a.doc}):a.type===Wo.Removed&&c.type===Wo.Added?this.changeMap=this.changeMap.remove(b):a.type===Wo.Removed&&c.type===Wo.Modified?this.changeMap=this.changeMap.insert(b,{type:Wo.Removed,doc:c.doc}):a.type===Wo.Added&&c.type===Wo.Removed?this.changeMap=this.changeMap.insert(b,{type:Wo.Modified,doc:a.doc}):nb("unsupported combination of changes: "+JSON.stringify(a)+" after "+JSON.stringify(c)):this.changeMap=this.changeMap.insert(b,a)},a.prototype.getChanges=function(){var a=[];return this.changeMap.inorderTraversal(function(b,c){a.push(c)}),a},a}(),hp=function(){function a(a,b,c,d,e,f,g,h){this.query=a,this.docs=b,this.oldDocs=c,this.docChanges=d,this.mutatedKeys=e,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=h}return a.fromInitialDocuments=function(b,c,d,e){var f=[];return c.forEach(function(a){f.push({type:Wo.Added,doc:a})}),new a(b,c,dp.emptySet(c),f,d,e,!0,!1)},Object.defineProperty(a.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),a.prototype.isEqual=function(a){if(!(this.fromCache===a.fromCache&&this.syncStateChanged===a.syncStateChanged&&this.mutatedKeys.isEqual(a.mutatedKeys)&&this.query.isEqual(a.query)&&this.docs.isEqual(a.docs)&&this.oldDocs.isEqual(a.oldDocs)))return!1;var b=this.docChanges,c=a.docChanges;if(b.length!==c.length)return!1;for(var d=0;d<b.length;d++)if(b[d].type!==c[d].type||!b[d].doc.isEqual(c[d].doc))return!1;return!0},a}(),ip=function(){function a(a,b,c,d,e){this.snapshotVersion=a,this.targetChanges=b,this.targetMismatches=c,this.documentUpdates=d,this.resolvedLimboDocuments=e}return a.createSynthesizedRemoteEventForCurrentChange=function(b,c){var d,e=((d={})[b]=jp.createSynthesizedTargetChangeForCurrentChange(b,c),d);return new a(Ao.MIN,e,cc(),Zb(),bc())},a}(),jp=function(){function a(a,b,c,d,e){this.resumeToken=a,this.current=b,this.addedDocuments=c,this.modifiedDocuments=d,this.removedDocuments=e}return a.createSynthesizedTargetChangeForCurrentChange=function(b,c){return new a(pb(),c,bc(),bc(),bc())},a}(),kp=function(a,b,c,d){this.updatedTargetIds=a,this.removedTargetIds=b,this.key=c,this.newDoc=d},lp=function(a,b){this.targetId=a,this.existenceFilter=b};(fp=ep||(ep={}))[fp.NoChange=0]="NoChange",fp[fp.Added=1]="Added",fp[fp.Removed=2]="Removed",fp[fp.Current=3]="Current",fp[fp.Reset=4]="Reset";var mp,np,op=function(a,b,c,d){void 0===c&&(c=pb()),void 0===d&&(d=null),this.state=a,this.targetIds=b,this.resumeToken=c,this.cause=d},pp=function(){function a(){this.pendingResponses=0,this.documentChanges=ec(),this._resumeToken=pb(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(a.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),a.prototype.updateResumeToken=function(a){0<a.length&&(this._hasPendingChanges=!0,this._resumeToken=a)},a.prototype.toTargetChange=function(){var a=bc(),b=bc(),c=bc();return this.documentChanges.forEach(function(d,e){switch(e){case Wo.Added:a=a.add(d);break;case Wo.Modified:b=b.add(d);break;case Wo.Removed:c=c.add(d);break;default:nb("Encountered invalid change type: "+e)}}),new jp(this._resumeToken,this._current,a,b,c)},a.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=ec()},a.prototype.addDocumentChange=function(a,b){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(a,b)},a.prototype.removeDocumentChange=function(a){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(a)},a.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},a.prototype.recordTargetResponse=function(){this.pendingResponses-=1},a.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},a}(),qp=function(){function a(a){this.metadataProvider=a,this.targetStates={},this.pendingDocumentUpdates=Zb(),this.pendingDocumentTargetMapping=dc(),this.pendingTargetResets=new Eo(Ob)}return a.prototype.handleDocumentChange=function(a){for(var b=0,c=a.updatedTargetIds;b<c.length;b++){var d=c[b];a.newDoc instanceof On?this.addDocumentToTarget(d,a.newDoc):a.newDoc instanceof Pn&&this.removeDocumentFromTarget(d,a.key,a.newDoc)}for(var e=0,f=a.removedTargetIds;e<f.length;e++)d=f[e],this.removeDocumentFromTarget(d,a.key,a.newDoc)},a.prototype.handleTargetChange=function(a){var b=this;this.forEachTarget(a,function(c){var d=b.ensureTargetState(c);switch(a.state){case ep.NoChange:b.isActiveTarget(c)&&d.updateResumeToken(a.resumeToken);break;case ep.Added:d.recordTargetResponse(),d.isPending||d.clearPendingChanges(),d.updateResumeToken(a.resumeToken);break;case ep.Removed:d.recordTargetResponse(),d.isPending||b.removeTarget(c),ob(!a.cause,"WatchChangeAggregator does not handle errored targets");break;case ep.Current:b.isActiveTarget(c)&&(d.markCurrent(),d.updateResumeToken(a.resumeToken));break;case ep.Reset:b.isActiveTarget(c)&&(b.resetTarget(c),d.updateResumeToken(a.resumeToken));break;default:nb("Unknown target watch change state: "+a.state)}})},a.prototype.forEachTarget=function(a,b){0<a.targetIds.length?a.targetIds.forEach(b):tb(this.targetStates,b)},a.prototype.handleExistenceFilter=function(a){var b=a.targetId,c=a.existenceFilter.count,d=this.queryDataForActiveTarget(b);if(d){var e=d.query;if(e.isDocumentQuery())if(0===c){var f=new Mn(e.path);this.removeDocumentFromTarget(b,f,new Pn(f,Ao.forDeletedDoc()))}else ob(1===c,"Single document existence filter with count: "+c);else this.getCurrentDocumentCountForTarget(b)!==c&&(this.resetTarget(b),this.pendingTargetResets=this.pendingTargetResets.add(b))}},a.prototype.createRemoteEvent=function(a){var b=this,c={};tb(this.targetStates,function(d,e){var f=b.queryDataForActiveTarget(d);if(f){if(e.current&&f.query.isDocumentQuery()){var g=new Mn(f.query.path);null!==b.pendingDocumentUpdates.get(g)||b.targetContainsDocument(d,g)||b.removeDocumentFromTarget(d,g,new Pn(g,a))}e.hasPendingChanges&&(c[d]=e.toTargetChange(),e.clearPendingChanges())}});var d=bc();this.pendingDocumentTargetMapping.forEach(function(a,c){var e=!0;c.forEachWhile(function(a){var c=b.queryDataForActiveTarget(a);return!c||c.purpose===Vn.LimboResolution||(e=!1)}),e&&(d=d.add(a))});var e=new ip(a,c,this.pendingTargetResets,this.pendingDocumentUpdates,d);return this.pendingDocumentUpdates=Zb(),this.pendingDocumentTargetMapping=dc(),this.pendingTargetResets=new Eo(Ob),e},a.prototype.addDocumentToTarget=function(a,b){if(this.isActiveTarget(a)){var c=this.targetContainsDocument(a,b.key)?Wo.Modified:Wo.Added;this.ensureTargetState(a).addDocumentChange(b.key,c),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(b.key,b),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(b.key,this.ensureDocumentTargetMapping(b.key).add(a))}},a.prototype.removeDocumentFromTarget=function(a,b,c){if(this.isActiveTarget(a)){var d=this.ensureTargetState(a);this.targetContainsDocument(a,b)?d.addDocumentChange(b,Wo.Removed):d.removeDocumentChange(b),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(b,this.ensureDocumentTargetMapping(b)["delete"](a)),c&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(b,c))}},a.prototype.removeTarget=function(a){delete this.targetStates[a]},a.prototype.getCurrentDocumentCountForTarget=function(a){var b=this.ensureTargetState(a).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(a).size+b.addedDocuments.size-b.removedDocuments.size},a.prototype.recordPendingTargetRequest=function(a){this.ensureTargetState(a).recordPendingTargetRequest()},a.prototype.ensureTargetState=function(a){return this.targetStates[a]||(this.targetStates[a]=new pp),this.targetStates[a]},a.prototype.ensureDocumentTargetMapping=function(a){var b=this.pendingDocumentTargetMapping.get(a);return b||(b=new Eo(Ob),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(a,b)),b},a.prototype.isActiveTarget=function(a){return null!==this.queryDataForActiveTarget(a)},a.prototype.queryDataForActiveTarget=function(a){var b=this.targetStates[a];return b&&b.isPending?null:this.metadataProvider.getQueryDataForTarget(a)},a.prototype.resetTarget=function(a){var b=this;ob(!this.targetStates[a].isPending,"Should only reset active targets"),this.targetStates[a]=new pp,this.metadataProvider.getRemoteKeysForTarget(a).forEach(function(c){b.removeDocumentFromTarget(a,c,null)})},a.prototype.targetContainsDocument=function(a,b){return this.metadataProvider.getRemoteKeysForTarget(a).has(b)},a}(),rp=((mp={})[vo.ASCENDING.name]="ASCENDING",mp[vo.DESCENDING.name]="DESCENDING",mp),sp=((np={})[ro.LESS_THAN.name]="LESS_THAN",np[ro.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",np[ro.GREATER_THAN.name]="GREATER_THAN",np[ro.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",np[ro.EQUAL.name]="EQUAL",np[ro.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",np),tp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/),up=function(){function a(a,b){this.databaseId=a,this.options=b}return a.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},a.prototype.unsafeCastProtoByteString=function(a){return a},a.prototype.fromRpcStatus=function(a){var b=void 0===a.code?xn.UNKNOWN:Yb(a.code);return new yn(b,a.message||"")},a.prototype.toInt32Value=function(a){return Ub(a)?void 0:{value:a}},a.prototype.fromInt32Value=function(a){var b;return Ub(b="object"==typeof a?a.value:a)?null:b},a.prototype.toTimestamp=function(a){return{seconds:a.seconds,nanos:a.nanoseconds}},a.prototype.fromTimestamp=function(a){if("string"==typeof a)return this.fromIso8601String(a);ob(!!a,"Cannot deserialize null or undefined timestamp.");var b=gc(a.seconds||"0"),c=a.nanos||0;return new Dn(b,c)},a.prototype.fromIso8601String=function(a){var b=0,c=tp.exec(a);if(ob(!!c,"invalid timestamp: "+a),c[1]){var d=c[1];d=(d+"000000000").substr(0,9),b=Number(d)}var e=new Date(a),f=Math.floor(e.getTime()/1e3);return new Dn(f,b)},a.prototype.toBytes=function(a){return this.options.useProto3Json?a.toBase64():this.unsafeCastProtoByteString(a.toUint8Array())},a.prototype.fromBlob=function(a){return"string"==typeof a?(ob(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),An.fromBase64String(a)):(ob(!this.options.useProto3Json,"Expected bytes to be passed in as string, but got something else instead."),An.fromUint8Array(a))},a.prototype.toVersion=function(a){return this.toTimestamp(a.toTimestamp())},a.prototype.fromVersion=function(a){return ob(!!a,"Trying to deserialize version that isn't set"),Ao.fromTimestamp(this.fromTimestamp(a))},a.prototype.toResourceName=function(a,b){return this.fullyQualifiedPrefixPath(a).child("documents").child(b).canonicalString()},a.prototype.fromResourceName=function(a){var b=Jn.fromString(a);return ob(this.isValidResourceName(b),"Tried to deserialize invalid key "+b.toString()),b},a.prototype.toName=function(a){return this.toResourceName(this.databaseId,a.path)},a.prototype.fromName=function(a){var b=this.fromResourceName(a);return ob(b.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+b.get(1)+" vs "+this.databaseId.projectId),ob(!b.get(3)&&!this.databaseId.database||b.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+b.get(3)+" vs "+this.databaseId.database),new Mn(this.extractLocalPathFromResourceName(b))},a.prototype.toQueryPath=function(a){return this.toResourceName(this.databaseId,a)},a.prototype.fromQueryPath=function(a){var b=this.fromResourceName(a);return 4===b.length?Jn.EMPTY_PATH:this.extractLocalPathFromResourceName(b)},Object.defineProperty(a.prototype,"encodedDatabaseId",{get:function(){return new Jn(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),a.prototype.fullyQualifiedPrefixPath=function(a){return new Jn(["projects",a.projectId,"databases",a.database])},a.prototype.extractLocalPathFromResourceName=function(a){return ob(4<a.length&&"documents"===a.get(4),"tried to deserialize invalid key "+a.toString()),a.popFirst(5)},a.prototype.isValidResourceName=function(a){return 4<=a.length&&"projects"===a.get(0)&&"databases"===a.get(2)},a.prototype.toValue=function(a){if(a instanceof Zn)return{nullValue:"NULL_VALUE"};if(a instanceof $n)return{booleanValue:a.value()};if(a instanceof ao)return{integerValue:""+a.value()};if(a instanceof bo){var b=a.value();if(this.options.useProto3Json){if(isNaN(b))return{doubleValue:"NaN"};if(b===1/0)return{doubleValue:"Infinity"};if(b===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:a.value()}}return a instanceof co?{stringValue:a.value()}:a instanceof jo?{mapValue:this.toMapValue(a)}:a instanceof ko?{arrayValue:this.toArrayValue(a)}:a instanceof eo?{timestampValue:this.toTimestamp(a.internalValue)}:a instanceof io?{geoPointValue:{latitude:a.value().latitude,longitude:a.value().longitude}}:a instanceof go?{bytesValue:this.toBytes(a.value())}:a instanceof ho?{referenceValue:this.toResourceName(a.databaseId,a.key.path)}:nb("Unknown FieldValue "+JSON.stringify(a))},a.prototype.fromValue=function(a){var b=this,c=a.value_type;if(hc(a,c,"nullValue"))return Zn.INSTANCE;if(hc(a,c,"booleanValue"))return $n.of(a.booleanValue);if(hc(a,c,"integerValue"))return new ao(gc(a.integerValue));if(hc(a,c,"doubleValue")){if(this.options.useProto3Json){if("NaN"===a.doubleValue)return bo.NAN;if("Infinity"===a.doubleValue)return bo.POSITIVE_INFINITY;if("-Infinity"===a.doubleValue)return bo.NEGATIVE_INFINITY}return new bo(a.doubleValue)}if(hc(a,c,"stringValue"))return new co(a.stringValue);if(hc(a,c,"mapValue"))return this.fromFields(a.mapValue.fields||{});if(hc(a,c,"arrayValue")){fc(a.arrayValue,"arrayValue");var d=a.arrayValue.values||[];
return new ko(d.map(function(a){return b.fromValue(a)}))}if(hc(a,c,"timestampValue"))return fc(a.timestampValue,"timestampValue"),new eo(this.fromTimestamp(a.timestampValue));if(hc(a,c,"geoPointValue")){fc(a.geoPointValue,"geoPointValue");var e=a.geoPointValue.latitude||0,f=a.geoPointValue.longitude||0;return new io(new Cn(e,f))}if(hc(a,c,"bytesValue")){fc(a.bytesValue,"bytesValue");var g=this.fromBlob(a.bytesValue);return new go(g)}if(hc(a,c,"referenceValue")){fc(a.referenceValue,"referenceValue");var h=this.fromResourceName(a.referenceValue),i=new Gn(h.get(1),h.get(3)),j=new Mn(this.extractLocalPathFromResourceName(h));return new ho(i,j)}return nb("Unknown Value proto "+JSON.stringify(a))},a.prototype.toMutationDocument=function(a,b){return{name:this.toName(a),fields:this.toFields(b)}},a.prototype.toDocument=function(a){return ob(!a.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(a.key),fields:this.toFields(a.data),updateTime:this.toTimestamp(a.version.toTimestamp())}},a.prototype.fromDocument=function(a,b){return new On(this.fromName(a.name),this.fromVersion(a.updateTime),this.fromFields(a.fields||{}),{hasCommittedMutations:!!b})},a.prototype.toFields=function(a){var b=this,c={};return a.forEach(function(a,d){c[a]=b.toValue(d)}),c},a.prototype.fromFields=function(a){var b=this,c=a,d=jo.EMPTY;return ub(c,function(a,c){d=d.set(new Ln([a]),b.fromValue(c))}),d},a.prototype.toMapValue=function(a){return{fields:this.toFields(a)}},a.prototype.toArrayValue=function(a){var b=this,c=[];return a.forEach(function(a){c.push(b.toValue(a))}),{values:c}},a.prototype.fromFound=function(a){ob(!!a.found,"Tried to deserialize a found document from a missing document."),fc(a.found.name,"doc.found.name"),fc(a.found.updateTime,"doc.found.updateTime");var b=this.fromName(a.found.name),c=this.fromVersion(a.found.updateTime),d=this.fromFields(a.found.fields||{});return new On(b,c,d,{},a.found)},a.prototype.fromMissing=function(a){ob(!!a.missing,"Tried to deserialize a missing document from a found document."),ob(!!a.readTime,"Tried to deserialize a missing document without a read time.");var b=this.fromName(a.missing),c=this.fromVersion(a.readTime);return new Pn(b,c)},a.prototype.fromMaybeDocument=function(a){var b=a.result;return hc(a,b,"found")?this.fromFound(a):hc(a,b,"missing")?this.fromMissing(a):nb("invalid batch get response: "+JSON.stringify(a))},a.prototype.toWatchTargetChangeState=function(a){switch(a){case ep.Added:return"ADD";case ep.Current:return"CURRENT";case ep.NoChange:return"NO_CHANGE";case ep.Removed:return"REMOVE";case ep.Reset:return"RESET";default:return nb("Unknown WatchTargetChangeState: "+a)}},a.prototype.toTestWatchChange=function(a){if(a instanceof lp)return{filter:{count:a.existenceFilter.count,targetId:a.targetId}};if(a instanceof kp){if(a.newDoc instanceof On){var b=a.newDoc;return{documentChange:{document:{name:this.toName(b.key),fields:this.toFields(b.data),updateTime:this.toVersion(b.version)},targetIds:a.updatedTargetIds,removedTargetIds:a.removedTargetIds}}}if(a.newDoc instanceof Pn)return b=a.newDoc,{documentDelete:{document:this.toName(b.key),readTime:this.toVersion(b.version),removedTargetIds:a.removedTargetIds}};if(null===a.newDoc)return{documentRemove:{document:this.toName(a.key),removedTargetIds:a.removedTargetIds}}}if(a instanceof op){var c=void 0;return a.cause&&(c={code:function(a){if(void 0===a)return Jo.OK;switch(a){case xn.OK:return Jo.OK;case xn.CANCELLED:return Jo.CANCELLED;case xn.UNKNOWN:return Jo.UNKNOWN;case xn.DEADLINE_EXCEEDED:return Jo.DEADLINE_EXCEEDED;case xn.RESOURCE_EXHAUSTED:return Jo.RESOURCE_EXHAUSTED;case xn.INTERNAL:return Jo.INTERNAL;case xn.UNAVAILABLE:return Jo.UNAVAILABLE;case xn.UNAUTHENTICATED:return Jo.UNAUTHENTICATED;case xn.INVALID_ARGUMENT:return Jo.INVALID_ARGUMENT;case xn.NOT_FOUND:return Jo.NOT_FOUND;case xn.ALREADY_EXISTS:return Jo.ALREADY_EXISTS;case xn.PERMISSION_DENIED:return Jo.PERMISSION_DENIED;case xn.FAILED_PRECONDITION:return Jo.FAILED_PRECONDITION;case xn.ABORTED:return Jo.ABORTED;case xn.OUT_OF_RANGE:return Jo.OUT_OF_RANGE;case xn.UNIMPLEMENTED:return Jo.UNIMPLEMENTED;case xn.DATA_LOSS:return Jo.DATA_LOSS;default:return nb("Unknown status code: "+a)}}(a.cause.code),message:a.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(a.state),targetIds:a.targetIds,resumeToken:this.unsafeCastProtoByteString(a.resumeToken),cause:c}}}return nb("Unrecognized watch change: "+JSON.stringify(a))},a.prototype.fromWatchChange=function(a){var b,c=a.response_type;if(hc(a,c,"targetChange")){fc(a.targetChange,"targetChange");var d=this.fromWatchTargetChangeState(a.targetChange.targetChangeType||"NO_CHANGE"),e=a.targetChange.targetIds||[],f=a.targetChange.resumeToken||this.emptyByteString(),g=a.targetChange.cause,h=g&&this.fromRpcStatus(g);b=new op(d,e,f,h||null)}else if(hc(a,c,"documentChange")){fc(a.documentChange,"documentChange"),fc(a.documentChange.document,"documentChange.name"),fc(a.documentChange.document.name,"documentChange.document.name"),fc(a.documentChange.document.updateTime,"documentChange.document.updateTime");var i=a.documentChange,j=this.fromName(i.document.name),k=this.fromVersion(i.document.updateTime),l=this.fromFields(i.document.fields||{}),m=new On(j,k,l,{},i.document),n=i.targetIds||[],o=i.removedTargetIds||[];b=new kp(n,o,m.key,m)}else if(hc(a,c,"documentDelete")){fc(a.documentDelete,"documentDelete"),fc(a.documentDelete.document,"documentDelete.document");var p=a.documentDelete;j=this.fromName(p.document),k=p.readTime?this.fromVersion(p.readTime):Ao.forDeletedDoc(),m=new Pn(j,k),o=p.removedTargetIds||[],b=new kp([],o,m.key,m)}else if(hc(a,c,"documentRemove")){fc(a.documentRemove,"documentRemove"),fc(a.documentRemove.document,"documentRemove");var q=a.documentRemove;j=this.fromName(q.document),o=q.removedTargetIds||[],b=new kp([],o,j,null)}else{if(!hc(a,c,"filter"))return nb("Unknown change type "+JSON.stringify(a));fc(a.filter,"filter"),fc(a.filter.targetId,"filter.targetId");var r=a.filter,s=r.count||0,t=new Vo(s),u=r.targetId;b=new lp(u,t)}return b},a.prototype.fromWatchTargetChangeState=function(a){return"NO_CHANGE"===a?ep.NoChange:"ADD"===a?ep.Added:"REMOVE"===a?ep.Removed:"CURRENT"===a?ep.Current:"RESET"===a?ep.Reset:nb("Got unexpected TargetChange.state: "+a)},a.prototype.versionFromListenResponse=function(a){if(!hc(a,a.response_type,"targetChange"))return Ao.MIN;var b=a.targetChange;return b.targetIds&&b.targetIds.length?Ao.MIN:b.readTime?this.fromVersion(b.readTime):Ao.MIN},a.prototype.toMutation=function(a){var b,c=this;if(a instanceof No)b={update:this.toMutationDocument(a.key,a.value)};else if(a instanceof Qo)b={"delete":this.toName(a.key)};else if(a instanceof Oo)b={update:this.toMutationDocument(a.key,a.data),updateMask:this.toDocumentMask(a.fieldMask)};else{if(!(a instanceof Po))return nb("Unknown mutation type "+a.type);b={transform:{document:this.toName(a.key),fieldTransforms:a.fieldTransforms.map(function(a){return c.toFieldTransform(a)})}}}return a.precondition.isNone||(b.currentDocument=this.toPrecondition(a.precondition)),b},a.prototype.fromMutation=function(a){var b=this,c=a.currentDocument?this.fromPrecondition(a.currentDocument):Lo.NONE;if(a.update){fc(a.update.name,"name");var d=this.fromName(a.update.name),e=this.fromFields(a.update.fields||{});if(a.updateMask){var f=this.fromDocumentMask(a.updateMask);return new Oo(d,e,f,c)}return new No(d,e,c)}if(a["delete"])return d=this.fromName(a["delete"]),new Qo(d,c);if(a.transform){d=this.fromName(a.transform.document);var g=a.transform.fieldTransforms.map(function(a){return b.fromFieldTransform(a)});return ob(!0===c.exists,'Transforms only support precondition "exists == true"'),new Po(d,g)}return nb("unknown mutation proto: "+JSON.stringify(a))},a.prototype.toPrecondition=function(a){return ob(!a.isNone,"Can't serialize an empty precondition"),void 0!==a.updateTime?{updateTime:this.toVersion(a.updateTime)}:void 0!==a.exists?{exists:a.exists}:nb("Unknown precondition")},a.prototype.fromPrecondition=function(a){return void 0!==a.updateTime?Lo.updateTime(this.fromVersion(a.updateTime)):void 0!==a.exists?Lo.exists(a.exists):Lo.NONE},a.prototype.fromWriteResult=function(a,b){var c=this,d=a.updateTime?this.fromVersion(a.updateTime):this.fromVersion(b),e=null;return a.transformResults&&0<a.transformResults.length&&(e=a.transformResults.map(function(a){return c.fromValue(a)})),new Io(d,e)},a.prototype.fromWriteResults=function(a,b){var c=this;return a&&0<a.length?(ob(void 0!==b,"Received a write result without a commit time"),a.map(function(a){return c.fromWriteResult(a,b)})):[]},a.prototype.toFieldTransform=function(a){var b=this,c=a.transform;if(c instanceof Ro)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof So)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements.map(function(a){return b.toValue(a)})}};if(c instanceof To)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements.map(function(a){return b.toValue(a)})}};if(c instanceof Uo)return{fieldPath:a.field.canonicalString(),increment:this.toValue(c.operand)};throw nb("Unknown transform: "+a.transform)},a.prototype.fromFieldTransform=function(a){var b=this,c=a.transform_type,d=null;if(hc(a,c,"setToServerValue"))ob("REQUEST_TIME"===a.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(a)),d=Ro.instance;else if(hc(a,c,"appendMissingElements")){var e=a.appendMissingElements.values||[];d=new So(e.map(function(a){return b.fromValue(a)}))}else if(hc(a,c,"removeAllFromArray"))e=a.removeAllFromArray.values||[],d=new To(e.map(function(a){return b.fromValue(a)}));else if(hc(a,c,"increment")){var f=this.fromValue(a.increment);ob(f instanceof _n,"NUMERIC_ADD transform requires a NumberValue"),d=new Uo(f)}else nb("Unknown transform proto: "+JSON.stringify(a));var g=Ln.fromServerFormat(a.fieldPath);return new Ho(g,d)},a.prototype.toDocumentsTarget=function(a){return{documents:[this.toQueryPath(a.path)]}},a.prototype.fromDocumentsTarget=function(a){var b=a.documents.length;ob(1===b,"DocumentsTarget contained other than 1 document: "+b);var c=a.documents[0];return po.atPath(this.fromQueryPath(c))},a.prototype.toQueryTarget=function(a){var b={structuredQuery:{}},c=a.path;null!==a.collectionGroup?(ob(c.length%2==0,"Collection Group queries should be within a document path or root."),b.parent=this.toQueryPath(c),b.structuredQuery.from=[{collectionId:a.collectionGroup,allDescendants:!0}]):(ob(c.length%2!=0,"Document queries with filters are not supported."),b.parent=this.toQueryPath(c.popLast()),b.structuredQuery.from=[{collectionId:c.lastSegment()}]);var d=this.toFilter(a.filters);d&&(b.structuredQuery.where=d);var e=this.toOrder(a.orderBy);e&&(b.structuredQuery.orderBy=e);var f=this.toInt32Value(a.limit);return void 0!==f&&(b.structuredQuery.limit=f),a.startAt&&(b.structuredQuery.startAt=this.toCursor(a.startAt)),a.endAt&&(b.structuredQuery.endAt=this.toCursor(a.endAt)),b},a.prototype.fromQueryTarget=function(a){var b=this.fromQueryPath(a.parent),c=a.structuredQuery,d=c.from?c.from.length:0,e=null;if(d>0){ob(1===d,"StructuredQuery.from with more than one collection is not supported.");var f=c.from[0];f.allDescendants?e=f.collectionId:b=b.child(f.collectionId)}var g=[];c.where&&(g=this.fromFilter(c.where));var h=[];c.orderBy&&(h=this.fromOrder(c.orderBy));var i=null;c.limit&&(i=this.fromInt32Value(c.limit));var j=null;c.startAt&&(j=this.fromCursor(c.startAt));var k=null;return c.endAt&&(k=this.fromCursor(c.endAt)),new po(b,e,h,g,i,j,k)},a.prototype.toListenRequestLabels=function(a){var b=this.toLabel(a.purpose);return null==b?null:{"goog-listen-tags":b}},a.prototype.toLabel=function(a){switch(a){case Vn.Listen:return null;case Vn.ExistenceFilterMismatch:return"existence-filter-mismatch";case Vn.LimboResolution:return"limbo-document";default:return nb("Unrecognized query purpose: "+a)}},a.prototype.toTarget=function(a){var b,c=a.query;return(b=c.isDocumentQuery()?{documents:this.toDocumentsTarget(c)}:{query:this.toQueryTarget(c)}).targetId=a.targetId,0<a.resumeToken.length&&(b.resumeToken=this.unsafeCastProtoByteString(a.resumeToken)),b},a.prototype.toFilter=function(a){var b=this;if(0!==a.length){var c=a.map(function(a){return a instanceof so?b.toRelationFilter(a):b.toUnaryFilter(a)});return 1===c.length?c[0]:{compositeFilter:{op:"AND",filters:c}}}},a.prototype.fromFilter=function(a){var b=this;return a?void 0!==a.unaryFilter?[this.fromUnaryFilter(a)]:void 0!==a.fieldFilter?[this.fromRelationFilter(a)]:void 0!==a.compositeFilter?a.compositeFilter.filters.map(function(a){return b.fromFilter(a)}).reduce(function(a,b){return a.concat(b)}):nb("Unknown filter: "+JSON.stringify(a)):[]},a.prototype.toOrder=function(a){var b=this;return 0!==a.length?a.map(function(a){return b.toPropertyOrder(a)}):void 0},a.prototype.fromOrder=function(a){var b=this;return a.map(function(a){return b.fromPropertyOrder(a)})},a.prototype.toCursor=function(a){var b=this;return{before:a.before,values:a.position.map(function(a){return b.toValue(a)})}},a.prototype.fromCursor=function(a){var b=this,c=!!a.before,d=a.values.map(function(a){return b.fromValue(a)});return new wo(d,c)},a.prototype.toDirection=function(a){return rp[a.name]},a.prototype.fromDirection=function(a){switch(a){case"ASCENDING":return vo.ASCENDING;case"DESCENDING":return vo.DESCENDING;default:return}},a.prototype.toOperatorName=function(a){return sp[a.name]},a.prototype.fromOperatorName=function(a){switch(a){case"EQUAL":return ro.EQUAL;case"GREATER_THAN":return ro.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return ro.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return ro.LESS_THAN;case"LESS_THAN_OR_EQUAL":return ro.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return ro.ARRAY_CONTAINS;case"OPERATOR_UNSPECIFIED":return nb("Unspecified relation");default:return nb("Unknown relation")}},a.prototype.toFieldPathReference=function(a){return{fieldPath:a.canonicalString()}},a.prototype.fromFieldPathReference=function(a){return Ln.fromServerFormat(a.fieldPath)},a.prototype.toPropertyOrder=function(a){return{field:this.toFieldPathReference(a.field),direction:this.toDirection(a.dir)}},a.prototype.fromPropertyOrder=function(a){return new xo(this.fromFieldPathReference(a.field),this.fromDirection(a.direction))},a.prototype.toRelationFilter=function(a){return a instanceof so?{fieldFilter:{field:this.toFieldPathReference(a.field),op:this.toOperatorName(a.op),value:this.toValue(a.value)}}:nb("Unrecognized filter: "+JSON.stringify(a))},a.prototype.fromRelationFilter=function(a){return new so(this.fromFieldPathReference(a.fieldFilter.field),this.fromOperatorName(a.fieldFilter.op),this.fromValue(a.fieldFilter.value))},a.prototype.toUnaryFilter=function(a){return a instanceof uo?{unaryFilter:{field:this.toFieldPathReference(a.field),op:"IS_NAN"}}:a instanceof to?{unaryFilter:{field:this.toFieldPathReference(a.field),op:"IS_NULL"}}:nb("Unrecognized filter: "+JSON.stringify(a))},a.prototype.fromUnaryFilter=function(a){switch(a.unaryFilter.op){case"IS_NAN":var b=this.fromFieldPathReference(a.unaryFilter.field);return new uo(b);case"IS_NULL":var c=this.fromFieldPathReference(a.unaryFilter.field);return new to(c);case"OPERATOR_UNSPECIFIED":return nb("Unspecified filter");default:return nb("Unknown filter")}},a.prototype.toDocumentMask=function(a){var b=[];return a.fields.forEach(function(a){return b.push(a.canonicalString())}),{fieldPaths:b}},a.prototype.fromDocumentMask=function(a){var b=(a.fieldPaths||[]).map(function(a){return Ln.fromServerFormat(a)});return Go.fromArray(b)},a}(),vp=function(){function a(a){this.sendFn=a.sendFn,this.closeFn=a.closeFn}return a.prototype.onOpen=function(a){ob(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=a},a.prototype.onClose=function(a){ob(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=a},a.prototype.onMessage=function(a){ob(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=a},a.prototype.close=function(){this.closeFn()},a.prototype.send=function(a){this.sendFn(a)},a.prototype.callOnOpen=function(){ob(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},a.prototype.callOnClose=function(a){ob(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(a)},a.prototype.callOnMessage=function(a){ob(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(a)},a}(),wp="Connection",xp={BatchGetDocuments:"batchGet",Commit:"commit"},yp="gl-js/ fire/"+qn,zp=function(){function a(a){this.databaseId=a.databaseId;var b=a.ssl?"https":"http";this.baseUrl=b+"://"+a.host}return a.prototype.modifyHeadersForRequest=function(a,b){if(b)for(var c in b.authHeaders)b.authHeaders.hasOwnProperty(c)&&(a[c]=b.authHeaders[c]);a["X-Goog-Api-Client"]=yp},a.prototype.invokeRPC=function(a,b,c){var d=this,e=this.makeUrl(a);return new Promise(function(f,g){var h=new pn;h.listenOnce(nn.COMPLETE,function(){try{switch(h.getLastErrorCode()){case mn.NO_ERROR:var b=h.getResponseJson();kb(wp,"XHR received:",JSON.stringify(b)),f(b);break;case mn.TIMEOUT:kb(wp,'RPC "'+a+'" timed out'),g(new yn(xn.DEADLINE_EXCEEDED,"Request time out"));break;case mn.HTTP_ERROR:var c=h.getStatus();kb(wp,'RPC "'+a+'" failed with status:',c,"response text:",h.getResponseText()),c>0?g(new yn(function(a){switch(a){case 200:return xn.OK;case 400:return xn.INVALID_ARGUMENT;case 401:return xn.UNAUTHENTICATED;case 403:return xn.PERMISSION_DENIED;case 404:return xn.NOT_FOUND;case 409:return xn.ABORTED;case 416:return xn.OUT_OF_RANGE;case 429:return xn.RESOURCE_EXHAUSTED;case 499:return xn.CANCELLED;case 500:return xn.UNKNOWN;case 501:return xn.UNIMPLEMENTED;case 503:return xn.UNAVAILABLE;case 504:return xn.DEADLINE_EXCEEDED;default:return a>=200&&300>a?xn.OK:a>=400&&500>a?xn.FAILED_PRECONDITION:a>=500&&600>a?xn.INTERNAL:xn.UNKNOWN}}(c),"Server responded with status "+h.getStatusText())):(kb(wp,'RPC "'+a+'" failed'),g(new yn(xn.UNAVAILABLE,"Connection failed.")));break;default:nb('RPC "'+a+'" failed with unanticipated webchannel error '+h.getLastErrorCode()+": "+h.getLastError()+", giving up.")}}finally{kb(wp,'RPC "'+a+'" completed.')}});var i=JSON.stringify(b);kb(wp,"XHR sending: ",e+" "+i);var j={"Content-Type":"text/plain"};d.modifyHeadersForRequest(j,c),h.send(e,"POST",i,j,15)})},a.prototype.invokeStreamingRPC=function(a,b,c){return this.invokeRPC(a,b,c)},a.prototype.openStream=function(a,b){var c=[this.baseUrl,"/","google.firestore.v1.Firestore","/",a,"/channel"],d=ln(),e={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5}};this.modifyHeadersForRequest(e.initMessageHeaders,b),ni()||(e.httpHeadersOverwriteParam="$httpHeaders");var f=c.join("");kb(wp,"Creating WebChannel: "+f+" "+e);var g=d.createWebChannel(f,e),h=!1,i=!1,j=new vp({sendFn:function(a){i?kb(wp,"Not sending because WebChannel is closed:",a):(h||(kb(wp,"Opening WebChannel transport."),g.open(),h=!0),kb(wp,"WebChannel sending:",a),g.send(a))},closeFn:function(){return g.close()}}),k=function(a,b){g.listen(a,function(a){try{b(a)}catch(a){setTimeout(function(){throw a},0)}})};return k(on.EventType.OPEN,function(){i||kb(wp,"WebChannel transport opened.")}),k(on.EventType.CLOSE,function(){i||(i=!0,kb(wp,"WebChannel transport closed"),j.callOnClose())}),k(on.EventType.ERROR,function(a){i||(i=!0,kb(wp,"WebChannel transport errored:",a),j.callOnClose(new yn(xn.UNAVAILABLE,"The operation could not be completed")))}),k(on.EventType.MESSAGE,function(a){if(!i){var b=a.data[0];ob(!!b,"Got a webchannel message without data.");var c=b.error||b[0]&&b[0].error;if(c){kb(wp,"WebChannel received error:",c);var d=c.status,e=function(a){var b=Jo[a];return void 0!==b?Yb(b):void 0}(d),f=c.message;void 0===e&&(e=xn.INTERNAL,f="Unknown error status: "+d+" with message "+c.message),i=!0,j.callOnClose(new yn(e,f)),g.close()}else kb(wp,"WebChannel received:",b),j.callOnMessage(b)}}),setTimeout(function(){j.callOnOpen()},0),j},a.prototype.makeUrl=function(a){var b=xp[a];ob(void 0!==b,"Unknown REST mapping for: "+a);var c=[this.baseUrl,"/","v1"];return c.push("/projects/"),c.push(this.databaseId.projectId),c.push("/databases/"),c.push(this.databaseId.database),c.push("/documents"),c.push(":"),c.push(b),c.join("")},a}(),Ap=function(){function a(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(a.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),a.prototype.loadConnection=function(a){return Promise.resolve(new zp(a))},a.prototype.newSerializer=function(a){return new up(a,{useProto3Json:!0})},a.prototype.formatJSON=function(a){return JSON.stringify(a)},a.prototype.atob=function(a){return atob(a)},a.prototype.btoa=function(a){return btoa(a)},a}();wn.setPlatform(new Ap);var Bp,Cp,Dp=function(){function a(a,b){var c=this;this.previousValue=a,b&&(b.sequenceNumberHandler=function(a){return c.setPreviousValue(a)},this.writeNewSequenceNumber=function(a){return b.writeSequenceNumber(a)})}return a.prototype.setPreviousValue=function(a){return this.previousValue=Math.max(a,this.previousValue),this.previousValue},a.prototype.next=function(){var a=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(a),a},a.INVALID=-1,a}(),Ep=function(){var a=this;this.promise=new Promise(function(b,c){a.resolve=b,a.reject=c})};(Cp=Bp||(Bp={})).All="all",Cp.ListenStreamIdle="listen_stream_idle",Cp.ListenStreamConnectionBackoff="listen_stream_connection_backoff",Cp.WriteStreamIdle="write_stream_idle",Cp.WriteStreamConnectionBackoff="write_stream_connection_backoff",Cp.OnlineStateTimeout="online_state_timeout",Cp.ClientMetadataRefresh="client_metadata_refresh",Cp.LruGarbageCollection="lru_garbage_collection";var Fp,Gp,Hp=function(){function a(a,b,c,d,e){this.asyncQueue=a,this.timerId=b,this.targetTimeMs=c,this.op=d,this.removalCallback=e,this.deferred=new Ep,this.then=this.deferred.promise.then.bind(this.deferred.promise),this["catch"]=this.deferred.promise["catch"].bind(this.deferred.promise),this.deferred.promise["catch"](function(a){})}return a.createAndSchedule=function(b,c,d,e,f){var g=new a(b,c,Date.now()+d,e,f);return g.start(d),g},a.prototype.start=function(a){var b=this;this.timerHandle=setTimeout(function(){return b.handleDelayElapsed()},a)},a.prototype.skipDelay=function(){return this.handleDelayElapsed()},a.prototype.cancel=function(a){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new yn(xn.CANCELLED,"Operation cancelled"+(a?": "+a:""))))},a.prototype.handleDelayElapsed=function(){var a=this;this.asyncQueue.enqueueAndForget(function(){return null!==a.timerHandle?(a.clearTimeout(),a.op().then(function(b){return a.deferred.resolve(b)})):Promise.resolve()})},a.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},a}(),Ip=function(){function a(){this.tail=Promise.resolve(),this.delayedOperations=[],this.operationInProgress=!1}return a.prototype.enqueueAndForget=function(a){this.enqueue(a)},a.prototype.enqueue=function(a){var b=this;this.verifyNotFailed();var c=this.tail.then(function(){return b.operationInProgress=!0,a()["catch"](function(a){b.failure=a,b.operationInProgress=!1;var c=a.stack||a.message||"";throw lb("INTERNAL UNHANDLED ERROR: ",c),c.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw a},0),a}).then(function(a){return b.operationInProgress=!1,a})});return this.tail=c},a.prototype.enqueueAfterDelay=function(a,b,c){var d=this;this.verifyNotFailed(),ob(b>=0,"Attempted to schedule an operation with a negative delay of "+b),ob(!this.containsDelayedOperation(a),"Attempted to schedule multiple operations with timer id "+a+".");var e=Hp.createAndSchedule(this,a,b,c,function(a){return d.removeDelayedOperation(a)});return this.delayedOperations.push(e),e},a.prototype.verifyNotFailed=function(){this.failure&&nb("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},a.prototype.verifyOperationInProgress=function(){ob(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},a.prototype.drain=function(){return this.enqueue(function(){return Promise.resolve()})},a.prototype.containsDelayedOperation=function(a){for(var b=0,c=this.delayedOperations;b<c.length;b++)if(c[b].timerId===a)return!0;return!1},a.prototype.runDelayedOperationsEarly=function(a){var b=this;return this.drain().then(function(){ob(a===Bp.All||b.containsDelayedOperation(a),"Attempted to drain to missing operation "+a),b.delayedOperations.sort(function(a,b){return a.targetTimeMs-b.targetTimeMs});for(var c=0,d=b.delayedOperations;c<d.length;c++){var e=d[c];if(e.skipDelay(),a!==Bp.All&&e.timerId===a)break}return b.drain()})},a.prototype.removeDelayedOperation=function(a){var b=this.delayedOperations.indexOf(a);ob(b>=0,"Delayed operation not found."),this.delayedOperations.splice(b,1)},a}(),Jp="",Kp="",Lp="",Mp="",Np=function(){function a(a,b,c,d){this.batchId=a,this.localWriteTime=b,this.baseMutations=c,ob(0<(this.mutations=d).length,"Cannot create an empty mutation batch")}return a.prototype.applyToRemoteDocument=function(a,b,c){b&&ob(b.key.isEqual(a),"applyToRemoteDocument: key "+a+" should match maybeDoc key\n        "+b.key);var d=c.mutationResults;ob(d.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+d.length+").");for(var e=0;e<this.mutations.length;e++){var f=this.mutations[e];if(f.key.isEqual(a)){var g=d[e];b=f.applyToRemoteDocument(b,g)}}return b},a.prototype.applyToLocalView=function(a,b){b&&ob(b.key.isEqual(a),"applyToLocalDocument: key "+a+" should match maybeDoc key\n        "+b.key);for(var c=0,d=this.baseMutations;c<d.length;c++)(h=d[c]).key.isEqual(a)&&(b=h.applyToLocalView(b,b,this.localWriteTime));for(var e=b,f=0,g=this.mutations;f<g.length;f++){var h;(h=g[f]).key.isEqual(a)&&(b=h.applyToLocalView(b,e,this.localWriteTime))}return b},a.prototype.applyToLocalDocumentSet=function(a){var b=this,c=a;return this.mutations.forEach(function(d){var e=b.applyToLocalView(d.key,a.get(d.key));e&&(c=c.insert(d.key,e))}),c},a.prototype.keys=function(){return this.mutations.reduce(function(a,b){return a.add(b.key)},bc())},a.prototype.isEqual=function(a){return this.batchId===a.batchId&&Pb(this.mutations,a.mutations)&&Pb(this.baseMutations,a.baseMutations)},a}(),Op=function(){function a(a,b,c,d,e){this.batch=a,this.commitVersion=b,this.mutationResults=c,this.streamToken=d,this.docVersions=e}return a.from=function(b,c,d,e){ob(b.mutations.length===d.length,"Mutations sent "+b.mutations.length+" must equal results received "+d.length);for(var f=ac(),g=b.mutations,h=0;h<g.length;h++)f=f.insert(g[h].key,d[h].version);return new a(b,c,d,e,f)},a}(),Pp=function(){function a(a){var b=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,a(function(a){b.isDone=!0,b.result=a,b.nextCallback&&b.nextCallback(a)},function(a){b.isDone=!0,b.error=a,b.catchCallback&&b.catchCallback(a)})}return a.prototype["catch"]=function(a){return this.next(void 0,a)},a.prototype.next=function(b,c){var d=this;return this.callbackAttached&&nb("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(c,this.error):this.wrapSuccess(b,this.result):new a(function(a,e){d.nextCallback=function(c){d.wrapSuccess(b,c).next(a,e)},d.catchCallback=function(b){d.wrapFailure(c,b).next(a,e)}})},a.prototype.toPromise=function(){var a=this;return new Promise(function(b,c){a.next(b,c)})},a.prototype.wrapUserFunction=function(b){try{var c=b();return c instanceof a?c:a.resolve(c)}catch(b){return a.reject(b)}},a.prototype.wrapSuccess=function(b,c){return b?this.wrapUserFunction(function(){return b(c)}):a.resolve(c)},a.prototype.wrapFailure=function(b,c){return b?this.wrapUserFunction(function(){return b(c)}):a.reject(c)},a.resolve=function(b){return new a(function(a,c){a(b)})},a.reject=function(b){return new a(function(a,c){c(b)})},a.waitFor=function(b){return new a(function(a,c){var d=0,e=0,f=!1;b.forEach(function(b){++d,b.next(function(){++e,f&&e===d&&a()},function(a){return c(a)})}),f=!0,e===d&&a()})},a.or=function(b){for(var c=a.resolve(!1),d=function(b){c=c.next(function(c){return c?a.resolve(c):b()})},e=0,f=b;e<f.length;e++)d(f[e]);return c},a.forEach=function(a,b){var c=this,d=[];return a.forEach(function(a,e){d.push(b.call(c,a,e))}),this.waitFor(d)},a}(),Qp=function(){function a(a,b,c,d){this.userId=a,this.serializer=b,this.indexManager=c,this.referenceDelegate=d,this.documentKeysByBatchId={}}return a.forUser=function(b,c,d,e){return ob(""!==b.uid,"UserID must not be an empty string."),new a(b.isAuthenticated()?b.uid:"",c,d,e)},a.prototype.checkEmpty=function(a){var b=!0,c=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return pc(a).iterate({index:kq.userMutationsIndex,range:c},function(a,c,d){b=!1,d.done()}).next(function(){return b})},a.prototype.acknowledgeBatch=function(a,b,c){return this.getMutationQueueMetadata(a).next(function(b){return b.lastStreamToken=oc(c),rc(a).put(b)})},a.prototype.getLastStreamToken=function(a){return this.getMutationQueueMetadata(a).next(function(a){return a.lastStreamToken})},a.prototype.setLastStreamToken=function(a,b){return this.getMutationQueueMetadata(a).next(function(c){return c.lastStreamToken=oc(b),rc(a).put(c)})},a.prototype.addMutationBatch=function(a,b,c,d){var e=this,f=qc(a),g=pc(a);return g.add({}).next(function(h){ob("number"==typeof h,"Auto-generated key is not a number");var i=new Np(h,b,c,d),j=e.serializer.toDbMutationBatch(e.userId,i);e.documentKeysByBatchId[h]=i.keys();for(var k=[],l=0,m=d;l<m.length;l++){var n=m[l],o=lq.key(e.userId,n.key.path,h);k.push(g.put(j)),k.push(f.put(o,lq.PLACEHOLDER)),k.push(e.indexManager.addToCollectionParentIndex(a,n.key.path.popLast()))}return Pp.waitFor(k).next(function(){return i})})},a.prototype.lookupMutationBatch=function(a,b){var c=this;return pc(a).get(b).next(function(a){return a?(ob(a.userId===c.userId,"Unexpected user '"+a.userId+"' for mutation batch "+b),c.serializer.fromDbMutationBatch(a)):null})},a.prototype.lookupMutationKeys=function(a,b){var c=this;return this.documentKeysByBatchId[b]?Pp.resolve(this.documentKeysByBatchId[b]):this.lookupMutationBatch(a,b).next(function(a){if(a){var d=a.keys();return c.documentKeysByBatchId[b]=d}return null})},a.prototype.getNextMutationBatchAfterBatchId=function(a,b){var c=this;return this.getMutationQueueMetadata(a).next(function(d){var e=b+1,f=IDBKeyRange.lowerBound([c.userId,e]),g=null;return pc(a).iterate({index:kq.userMutationsIndex,range:f},function(a,b,d){b.userId===c.userId&&(ob(b.batchId>=e,"Should have found mutation after "+e),g=c.serializer.fromDbMutationBatch(b)),d.done()}).next(function(){return g})})},a.prototype.getAllMutationBatches=function(a){var b=this,c=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return pc(a).loadAll(kq.userMutationsIndex,c).next(function(a){return a.map(function(a){return b.serializer.fromDbMutationBatch(a)})})},a.prototype.getAllMutationBatchesAffectingDocumentKey=function(a,b){var c=this,d=lq.prefixForPath(this.userId,b.path),e=IDBKeyRange.lowerBound(d),f=[];return qc(a).iterate({range:e},function(d,e,g){var h=d[0],i=d[1],j=d[2],k=lc(i);return h===c.userId&&b.path.isEqual(k)?pc(a).get(j).next(function(a){
if(!a)throw nb("Dangling document-mutation reference found: "+d+" which points to "+j);ob(a.userId===c.userId,"Unexpected user '"+a.userId+"' for mutation batch "+j),f.push(c.serializer.fromDbMutationBatch(a))}):void g.done()}).next(function(){return f})},a.prototype.getAllMutationBatchesAffectingDocumentKeys=function(a,b){var c=this,d=new Eo(Ob),e=[];return b.forEach(function(b){var f=lq.prefixForPath(c.userId,b.path),g=IDBKeyRange.lowerBound(f),h=qc(a).iterate({range:g},function(a,e,f){var g=a[0],h=a[1],i=a[2],j=lc(h);g===c.userId&&b.path.isEqual(j)?d=d.add(i):f.done()});e.push(h)}),Pp.waitFor(e).next(function(){return c.lookupMutationBatches(a,d)})},a.prototype.getAllMutationBatchesAffectingQuery=function(a,b){var c=this;ob(!b.isDocumentQuery(),"Document queries shouldn't go down this path"),ob(!b.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var d=b.path,e=d.length+1,f=lq.prefixForPath(this.userId,d),g=IDBKeyRange.lowerBound(f),h=new Eo(Ob);return qc(a).iterate({range:g},function(a,b,f){var g=a[0],i=a[1],j=a[2],k=lc(i);g===c.userId&&d.isPrefixOf(k)?k.length===e&&(h=h.add(j)):f.done()}).next(function(){return c.lookupMutationBatches(a,h)})},a.prototype.lookupMutationBatches=function(a,b){var c=this,d=[],e=[];return b.forEach(function(b){e.push(pc(a).get(b).next(function(a){if(null===a)throw nb("Dangling document-mutation reference found, which points to "+b);ob(a.userId===c.userId,"Unexpected user '"+a.userId+"' for mutation batch "+b),d.push(c.serializer.fromDbMutationBatch(a))}))}),Pp.waitFor(e).next(function(){return d})},a.prototype.removeMutationBatch=function(a,b){var c=this;return nc(a.simpleDbTransaction,this.userId,b).next(function(d){return c.removeCachedMutationKeys(b.batchId),Pp.forEach(d,function(b){return c.referenceDelegate.removeMutationReference(a,b)})})},a.prototype.removeCachedMutationKeys=function(a){delete this.documentKeysByBatchId[a]},a.prototype.performConsistencyCheck=function(a){var b=this;return this.checkEmpty(a).next(function(c){if(!c)return Pp.resolve();var d=IDBKeyRange.lowerBound(lq.prefixForUser(b.userId)),e=[];return qc(a).iterate({range:d},function(a,c,d){if(a[0]===b.userId){var f=lc(a[1]);e.push(f)}else d.done()}).next(function(){ob(0===e.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+e.map(function(a){return a.canonicalString()}))})})},a.prototype.containsKey=function(a,b){return mc(a,this.userId,b)},a.prototype.getMutationQueueMetadata=function(a){var b=this;return rc(a).get(this.userId).next(function(a){return a||new jq(b.userId,-1,"")})},a}();(Gp=Fp||(Fp={}))[Gp.QueryCache=0]="QueryCache",Gp[Gp.SyncEngine=1]="SyncEngine";var Rp,Sp,Tp=function(){function a(a,b){ob((1&(this.generatorId=a))===a,"Generator ID "+a+" contains more than 1 reserved bits"),this.seek(void 0!==b?b:this.generatorId)}return a.prototype.next=function(){var a=this.nextId;return this.nextId+=2,a},a.prototype.after=function(a){return this.seek(a+2),this.next()},a.prototype.seek=function(a){ob((1&a)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=a},a.forQueryCache=function(){return new a(Fp.QueryCache,2)},a.forSyncEngine=function(){return new a(Fp.SyncEngine)},a}(),Up="SimpleDb",Vp=function(){function a(a){this.db=a}return a.openOrCreate=function(b,c,d){return ob(a.isAvailable(),"IndexedDB not supported in current environment."),kb(Up,"Opening database:",b),new Pp(function(e,f){var g=window.indexedDB.open(b,c);g.onsuccess=function(b){var c=b.target.result;e(new a(c))},g.onblocked=function(){f(new yn(xn.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},g.onerror=function(a){var b=a.target.error;f("VersionError"===b.name?new yn(xn.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):b)},g.onupgradeneeded=function(a){kb(Up,'Database "'+b+'" requires upgrade from version:',a.oldVersion);var c=a.target.result,e=new Xp(g.transaction);d.createOrUpgrade(c,e,a.oldVersion,fq).next(function(){kb(Up,"Database upgrade to version "+fq+" complete")})}}).toPromise()},a["delete"]=function(a){return kb(Up,"Removing database:",a),sc(window.indexedDB.deleteDatabase(a)).toPromise()},a.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===process.env.USE_MOCK_PERSISTENCE;var a=window.navigator.userAgent;return!(0<a.indexOf("MSIE ")||0<a.indexOf("Trident/")||0<a.indexOf("Edge/"))},a.getStore=function(a,b){return a.store(b)},a.prototype.runTransaction=function(a,b,c){var d=Xp.open(this.db,a,b),e=c(d)["catch"](function(a){return d.abort(a),Pp.reject(a)}).toPromise();return e["catch"](function(){}),d.completionPromise.then(function(){return e})},a.prototype.close=function(){this.db.close()},a}(),Wp=function(){function a(a){this.dbCursor=a,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(a.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"cursor",{set:function(a){this.dbCursor=a},enumerable:!0,configurable:!0}),a.prototype.done=function(){this.shouldStop=!0},a.prototype.skip=function(a){this.nextKey=a},a.prototype["delete"]=function(){return sc(this.dbCursor["delete"]())},a}(),Xp=function(){function a(a){var b=this;this.transaction=a,this.aborted=!1,this.completionDeferred=new Ep,this.transaction.oncomplete=function(){b.completionDeferred.resolve()},this.transaction.onabort=function(){a.error?b.completionDeferred.reject(a.error):b.completionDeferred.resolve()},this.transaction.onerror=function(a){b.completionDeferred.reject(a.target.error)}}return a.open=function(b,c,d){return new a(b.transaction(d,c))},Object.defineProperty(a.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),a.prototype.abort=function(a){a&&this.completionDeferred.reject(a),this.aborted||(kb(Up,"Aborting transaction:",a?a.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},a.prototype.store=function(a){var b=this.transaction.objectStore(a);return ob(!!b,"Object store not part of transaction: "+a),new Yp(b)},a}(),Yp=function(){function a(a){this.store=a}return a.prototype.put=function(a,b){return sc(void 0!==b?(kb(Up,"PUT",this.store.name,a,b),this.store.put(b,a)):(kb(Up,"PUT",this.store.name,"<auto-key>",a),this.store.put(a)))},a.prototype.add=function(a){return kb(Up,"ADD",this.store.name,a,a),sc(this.store.add(a))},a.prototype.get=function(a){var b=this;return sc(this.store.get(a)).next(function(c){return void 0===c&&(c=null),kb(Up,"GET",b.store.name,a,c),c})},a.prototype["delete"]=function(a){return kb(Up,"DELETE",this.store.name,a),sc(this.store["delete"](a))},a.prototype.count=function(){return kb(Up,"COUNT",this.store.name),sc(this.store.count())},a.prototype.loadAll=function(a,b){var c=this.cursor(this.options(a,b)),d=[];return this.iterateCursor(c,function(a,b){d.push(b)}).next(function(){return d})},a.prototype.deleteAll=function(a,b){kb(Up,"DELETE ALL",this.store.name);var c=this.options(a,b);c.keysOnly=!1;var d=this.cursor(c);return this.iterateCursor(d,function(a,b,c){return c["delete"]()})},a.prototype.iterate=function(a,b){var c;b?c=a:(c={},b=a);var d=this.cursor(c);return this.iterateCursor(d,b)},a.prototype.iterateSerial=function(a){var b=this.cursor({});return new Pp(function(c,d){b.onerror=function(a){d(a.target.error)},b.onsuccess=function(b){var d=b.target.result;d?a(d.primaryKey,d.value).next(function(a){a?d["continue"]():c()}):c()}})},a.prototype.iterateCursor=function(a,b){var c=[];return new Pp(function(d,e){a.onerror=function(a){e(a.target.error)},a.onsuccess=function(a){var e=a.target.result;if(e){var f=new Wp(e),g=b(e.primaryKey,e.value,f);if(g instanceof Pp){var h=g["catch"](function(a){return f.done(),Pp.reject(a)});c.push(h)}f.isDone?d():null===f.skipToKey?e["continue"]():e["continue"](f.skipToKey)}else d()}}).next(function(){return Pp.waitFor(c)})},a.prototype.options=function(a,b){var c=void 0;return void 0!==a&&("string"==typeof a?c=a:(ob(void 0===b,"3rd argument must not be defined if 2nd is a range."),b=a)),{index:c,range:b}},a.prototype.cursor=function(a){var b="next";if(a.reverse&&(b="prev"),a.index){var c=this.store.index(a.index);return a.keysOnly?c.openKeyCursor(a.range,b):c.openCursor(a.range,b)}return this.store.openCursor(a.range,b)},a}(),Zp=function(){function a(a,b){this.referenceDelegate=a,this.serializer=b,this.targetIdGenerator=Tp.forQueryCache()}return a.prototype.allocateTargetId=function(a){var b=this;return this.retrieveMetadata(a).next(function(c){return c.highestTargetId=b.targetIdGenerator.after(c.highestTargetId),b.saveMetadata(a,c).next(function(){return c.highestTargetId})})},a.prototype.getLastRemoteSnapshotVersion=function(a){return this.retrieveMetadata(a).next(function(a){return Ao.fromTimestamp(new Dn(a.lastRemoteSnapshotVersion.seconds,a.lastRemoteSnapshotVersion.nanoseconds))})},a.prototype.getHighestSequenceNumber=function(a){return vc(a.simpleDbTransaction)},a.prototype.setTargetsMetadata=function(a,b,c){var d=this;return this.retrieveMetadata(a).next(function(e){return e.highestListenSequenceNumber=b,c&&(e.lastRemoteSnapshotVersion=c.toTimestamp()),b>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=b),d.saveMetadata(a,e)})},a.prototype.addQueryData=function(a,b){var c=this;return this.saveQueryData(a,b).next(function(){return c.retrieveMetadata(a).next(function(d){return d.targetCount+=1,c.updateMetadataFromQueryData(b,d),c.saveMetadata(a,d)})})},a.prototype.updateQueryData=function(a,b){return this.saveQueryData(a,b)},a.prototype.removeQueryData=function(a,b){var c=this;return this.removeMatchingKeysForTargetId(a,b.targetId).next(function(){return tc(a)["delete"](b.targetId)}).next(function(){return c.retrieveMetadata(a)}).next(function(b){return ob(0<b.targetCount,"Removing from an empty query cache"),b.targetCount-=1,c.saveMetadata(a,b)})},a.prototype.removeTargets=function(a,b,c){var d=this,e=0,f=[];return tc(a).iterate(function(g,h){var i=d.serializer.fromDbTarget(h);i.sequenceNumber<=b&&void 0===c[i.targetId]&&(e++,f.push(d.removeQueryData(a,i)))}).next(function(){return Pp.waitFor(f)}).next(function(){return e})},a.prototype.forEachTarget=function(a,b){var c=this;return tc(a).iterate(function(a,d){var e=c.serializer.fromDbTarget(d);b(e)})},a.prototype.retrieveMetadata=function(a){return uc(a.simpleDbTransaction)},a.prototype.saveMetadata=function(a,b){return(c=a,Iq.getStore(c,sq.store)).put(sq.key,b);var c},a.prototype.saveQueryData=function(a,b){return tc(a).put(this.serializer.toDbTarget(b))},a.prototype.updateMetadataFromQueryData=function(a,b){var c=!1;return a.targetId>b.highestTargetId&&(b.highestTargetId=a.targetId,c=!0),a.sequenceNumber>b.highestListenSequenceNumber&&(b.highestListenSequenceNumber=a.sequenceNumber,c=!0),c},a.prototype.getQueryCount=function(a){return this.retrieveMetadata(a).next(function(a){return a.targetCount})},a.prototype.getQueryData=function(a,b){var c=this,d=b.canonicalId(),e=IDBKeyRange.bound([d,Number.NEGATIVE_INFINITY],[d,Number.POSITIVE_INFINITY]),f=null;return tc(a).iterate({range:e,index:qq.queryTargetsIndexName},function(a,d,e){var g=c.serializer.fromDbTarget(d);b.isEqual(g.query)&&(f=g,e.done())}).next(function(){return f})},a.prototype.addMatchingKeys=function(a,b,c){var d=this,e=[],f=wc(a);return b.forEach(function(b){var g=ic(b.path);e.push(f.put(new rq(c,g))),e.push(d.referenceDelegate.addReference(a,b))}),Pp.waitFor(e)},a.prototype.removeMatchingKeys=function(a,b,c){var d=this,e=wc(a);return Pp.forEach(b,function(b){var f=ic(b.path);return Pp.waitFor([e["delete"]([c,f]),d.referenceDelegate.removeReference(a,b)])})},a.prototype.removeMatchingKeysForTargetId=function(a,b){var c=wc(a),d=IDBKeyRange.bound([b],[b+1],!1,!0);return c["delete"](d)},a.prototype.getMatchingKeysForTargetId=function(a,b){var c=IDBKeyRange.bound([b],[b+1],!1,!0),d=wc(a),e=bc();return d.iterate({range:c,keysOnly:!0},function(a,b,c){var d=lc(a[1]),f=new Mn(d);e=e.add(f)}).next(function(){return e})},a.prototype.containsKey=function(a,b){var c=ic(b.path),d=IDBKeyRange.bound([c],[Qb(c)],!1,!0),e=0;return wc(a).iterate({index:rq.documentTargetsIndex,keysOnly:!0,range:d},function(a,b,c){var d=a[0];a[1],0!==d&&(e++,c.done())}).next(function(){return e>0})},a.prototype.getQueryDataForTarget=function(a,b){var c=this;return tc(a).get(b).next(function(a){return a?c.serializer.fromDbTarget(a):null})},a}(),$p=function(){function a(a){this.mapKeyFn=a,this.inner={}}return a.prototype.get=function(a){var b=this.mapKeyFn(a),c=this.inner[b];if(void 0!==c)for(var d=0,e=c;d<e.length;d++){var f=e[d],g=f[0],h=f[1];if(g.isEqual(a))return h}},a.prototype.has=function(a){return void 0!==this.get(a)},a.prototype.set=function(a,b){var c=this.mapKeyFn(a),d=this.inner[c];if(void 0!==d){for(var e=0;e<d.length;e++)if(d[e][0].isEqual(a))return void(d[e]=[a,b]);d.push([a,b])}else this.inner[c]=[[a,b]]},a.prototype["delete"]=function(a){var b=this.mapKeyFn(a),c=this.inner[b];if(void 0===c)return!1;for(var d=0;d<c.length;d++)if(c[d][0].isEqual(a))return 1===c.length?delete this.inner[b]:c.splice(d,1),!0;return!1},a.prototype.forEach=function(a){ub(this.inner,function(b,c){for(var d=0,e=c;d<e.length;d++){var f=e[d],g=f[0],h=f[1];a(g,h)}})},a.prototype.isEmpty=function(){return vb(this.inner)},a}(),_p=function(){function a(){this.changes=Zb(),this.documentSizes=new $p(function(a){return a.toString()})}return a.prototype.addEntry=function(a){var b=this.assertChanges();this.changes=b.insert(a.key,a)},a.prototype.getEntry=function(a,b){var c=this,d=this.assertChanges().get(b);return d?Pp.resolve(d):this.getFromCache(a,b).next(function(a){return null===a?(c.documentSizes.set(b,0),null):(c.documentSizes.set(b,a.size),a.maybeDocument)})},a.prototype.getEntries=function(a,b){var c=this;return this.getAllFromCache(a,b).next(function(a){var b=a.maybeDocuments;return a.sizeMap.forEach(function(a,b){c.documentSizes.set(a,b)}),b})},a.prototype.apply=function(a){var b=this.applyChanges(a);return this.changes=null,b},a.prototype.assertChanges=function(){return ob(null!==this.changes,"Changes have already been applied."),this.changes},a}(),aq="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",bq=function(){function a(a,b,c){this.serializer=a,this.indexManager=b,this.keepDocumentChangeLog=c,this._lastProcessedDocumentChangeId=0}return Object.defineProperty(a.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),a.prototype.start=function(a){var b=Vp.getStore(a,uq.store);return this.synchronizeLastDocumentChangeId(b)},a.prototype.addEntries=function(a,b,c){var d=[];if(0<b.length){for(var e=yc(a),f=bc(),g=0,h=b;g<h.length;g++){var i=h[g],j=i.key,k=i.doc;d.push(e.put(Ac(j),k)),f=f.add(j),d.push(this.indexManager.addToCollectionParentIndex(a,j.path.popLast()))}this.keepDocumentChangeLog&&d.push(zc(a).put({changes:this.serializer.toDbResourcePaths(f)})),d.push(this.updateSize(a,c))}return Pp.waitFor(d)},a.prototype.removeEntry=function(a,b){var c=yc(a),d=Ac(b);return c.get(d).next(function(a){return a?c["delete"](d).next(function(){return Bc(a)}):Pp.resolve(0)})},a.prototype.getEntry=function(a,b){var c=this;return yc(a).get(Ac(b)).next(function(a){return a?c.serializer.fromDbRemoteDocument(a):null})},a.prototype.getSizedEntry=function(a,b){var c=this;return yc(a).get(Ac(b)).next(function(a){return a?{maybeDocument:c.serializer.fromDbRemoteDocument(a),size:Bc(a)}:null})},a.prototype.getEntries=function(a,b){var c=this,d=$b();return this.forEachDbEntry(a,b,function(a,b){d=b?d.insert(a,c.serializer.fromDbRemoteDocument(b)):d.insert(a,null)}).next(function(){return d})},a.prototype.getSizedEntries=function(a,b){var c=this,d=$b(),e=new Rn(Mn.comparator);return this.forEachDbEntry(a,b,function(a,b){e=b?(d=d.insert(a,c.serializer.fromDbRemoteDocument(b)),e.insert(a,Bc(b))):(d=d.insert(a,null),e.insert(a,0))}).next(function(){return{maybeDocuments:d,sizeMap:e}})},a.prototype.forEachDbEntry=function(a,b,c){if(b.isEmpty())return Pp.resolve();var d=IDBKeyRange.bound(b.first().path.toArray(),b.last().path.toArray()),e=b.getIterator(),f=e.getNext();return yc(a).iterate({range:d},function(a,b,d){for(var g=Mn.fromSegments(a);f&&Mn.comparator(f,g)<0;)c(f,null),f=e.getNext();f&&f.isEqual(g)&&(c(f,b),f=e.hasNext()?e.getNext():null),f?d.skip(f.path.toArray()):d.done()}).next(function(){for(;f;)c(f,null),f=e.hasNext()?e.getNext():null})},a.prototype.getDocumentsMatchingQuery=function(a,b){var c=this;ob(!b.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var d=_b(),e=b.path.length+1,f=b.path.toArray(),g=IDBKeyRange.lowerBound(f);return yc(a).iterate({range:g},function(a,f,g){if(a.length===e){var h=c.serializer.fromDbRemoteDocument(f);b.path.isPrefixOf(h.key.path)?h instanceof On&&b.matches(h)&&(d=d.insert(h.key,h)):g.done()}}).next(function(){return d})},a.prototype.getNewDocumentChanges=function(a){var b=this;ob(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var c=bc(),d=Zb(),e=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),f=!0,g=zc(a);return g.iterate({range:e},function(a,d){return f&&(f=!1,b._lastProcessedDocumentChangeId+1!==d.id)?b.synchronizeLastDocumentChangeId(g).next(function(){return Pp.reject(new yn(xn.DATA_LOSS,aq))}):(c=c.unionWith(b.serializer.fromDbResourcePaths(d.changes)),void(b._lastProcessedDocumentChangeId=d.id))}).next(function(){var e=[];return c.forEach(function(c){e.push(b.getEntry(a,c).next(function(a){var b=a||new Pn(c,Ao.forDeletedDoc());d=d.insert(c,b)}))}),Pp.waitFor(e)}).next(function(){return d})},a.prototype.removeDocumentChangesThroughChangeId=function(a,b){var c=IDBKeyRange.upperBound(b);return zc(a)["delete"](c)},a.prototype.synchronizeLastDocumentChangeId=function(a){var b=this;return this._lastProcessedDocumentChangeId=0,a.iterate({keysOnly:!0,reverse:!0},function(a,c,d){b._lastProcessedDocumentChangeId=a,d.done()})},a.prototype.newChangeBuffer=function(){return new cq(this)},a.prototype.getSize=function(a){return this.getMetadata(a).next(function(a){return a.byteSize})},a.prototype.getMetadata=function(a){return xc(a).get(pq.key).next(function(a){return ob(!!a,"Missing document cache metadata"),a})},a.prototype.setMetadata=function(a,b){return xc(a).put(pq.key,b)},a.prototype.updateSize=function(a,b){var c=this;return this.getMetadata(a).next(function(d){return d.byteSize+=b,c.setMetadata(a,d)})},a}(),cq=function(a){function b(b){var c=a.call(this)||this;return c.documentCache=b,c}return v(b,a),b.prototype.applyChanges=function(a){var b=this,c=this.assertChanges(),d=0,e=[];return c.forEach(function(a,c){var f=b.documentCache.serializer.toDbRemoteDocument(c),g=b.documentSizes.get(a);ob(void 0!==g,"Attempting to change document "+a.toString()+" without having read it first");var h=Bc(f);d+=h-g,e.push({key:a,doc:f})}),this.documentCache.addEntries(a,e,d)},b.prototype.getFromCache=function(a,b){return this.documentCache.getSizedEntry(a,b)},b.prototype.getAllFromCache=function(a,b){return this.documentCache.getSizedEntries(a,b)},b}(_p),dq=function(){function a(){this.collectionParentIndex=new eq}return a.prototype.addToCollectionParentIndex=function(a,b){return this.collectionParentIndex.add(b),Pp.resolve()},a.prototype.getCollectionParents=function(a,b){return Pp.resolve(this.collectionParentIndex.getEntries(b))},a}(),eq=function(){function a(){this.index={}}return a.prototype.add=function(a){ob(a.length%2==1,"Expected a collection path.");var b=a.lastSegment(),c=a.popLast(),d=this.index[b]||new Eo(Jn.comparator),e=!d.has(c);return this.index[b]=d.add(c),e},a.prototype.getEntries=function(a){return(this.index[a]||new Eo(Jn.comparator)).toArray()},a}(),fq=8,gq=function(){function a(a){this.serializer=a}return a.prototype.createOrUpgrade=function(a,b,c,d){var e,f=this;ob(d>c&&c>=0&&fq>=d,"Unexpected schema upgrade from v"+c+" to v{toVersion}."),1>c&&d>=1&&(a.createObjectStore(iq.store),(e=a).createObjectStore(jq.store,{keyPath:jq.keyPath}),e.createObjectStore(kq.store,{keyPath:kq.keyPath,autoIncrement:!0}).createIndex(kq.userMutationsIndex,kq.userMutationsKeyPath,{unique:!0}),e.createObjectStore(lq.store),Cc(a),a.createObjectStore(oq.store));var g,h=Pp.resolve();return 3>c&&d>=3&&(0!==c&&((g=a).deleteObjectStore(rq.store),g.deleteObjectStore(qq.store),g.deleteObjectStore(sq.store),Cc(a)),h=h.next(function(){return a=b.store(sq.store),c=new sq(0,0,Ao.MIN.toTimestamp(),0),a.put(sq.key,c);var a,c})),4>c&&d>=4&&(0!==c&&(h=h.next(function(){return c=a,(d=b).store(kq.store).loadAll().next(function(a){c.deleteObjectStore(kq.store);var b=c.createObjectStore(kq.store,{keyPath:kq.keyPath,autoIncrement:!0});b.createIndex(kq.userMutationsIndex,kq.userMutationsKeyPath,{unique:!0});var e=d.store(kq.store),f=a.map(function(a){return e.put(a)});return Pp.waitFor(f)});var c,d})),h=h.next(function(){a.createObjectStore(vq.store,{keyPath:vq.keyPath}),a.createObjectStore(uq.store,{keyPath:"id",autoIncrement:!0})})),5>c&&d>=5&&(h=h.next(function(){return f.removeAcknowledgedMutations(b)})),6>c&&d>=6&&(h=h.next(function(){return a.createObjectStore(pq.store),f.addDocumentGlobal(b)})),7>c&&d>=7&&(h=h.next(function(){return f.ensureSequenceNumbers(b)})),8>c&&d>=8&&(h=h.next(function(){return f.createCollectionParentIndex(a,b)})),h},a.prototype.addDocumentGlobal=function(a){var b=0;return a.store(oq.store).iterate(function(a,c){b+=Bc(c)}).next(function(){var c=new pq(b);return a.store(pq.store).put(pq.key,c)})},a.prototype.removeAcknowledgedMutations=function(a){var b=this,c=a.store(jq.store),d=a.store(kq.store);return c.loadAll().next(function(c){return Pp.forEach(c,function(c){var e=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return d.loadAll(kq.userMutationsIndex,e).next(function(d){return Pp.forEach(d,function(d){ob(d.userId===c.userId,"Cannot process batch "+d.batchId+" from unexpected user");var e=b.serializer.fromDbMutationBatch(d);return nc(a,c.userId,e).next(function(){})})})})})},a.prototype.ensureSequenceNumbers=function(a){var b=a.store(rq.store),c=a.store(oq.store);return vc(a).next(function(a){var d=[];return c.iterate(function(c,e){var f=new Jn(c),g=[0,ic(f)];d.push(b.get(g).next(function(c){return c?Pp.resolve():(d=f,b.put(new rq(0,ic(d),a)));var d}))}).next(function(){return Pp.waitFor(d)})})},a.prototype.createCollectionParentIndex=function(a,b){a.createObjectStore(tq.store,{keyPath:tq.keyPath});var c=b.store(tq.store),d=new eq,e=function(a){if(d.add(a)){var b=a.lastSegment(),e=a.popLast();return c.put({collectionId:b,parent:ic(e)})}};return b.store(oq.store).iterate({keysOnly:!0},function(a,b){var c=new Jn(a);return e(c.popLast())}).next(function(){return b.store(lq.store).iterate({keysOnly:!0},function(a,b){a[0];var c=a[1],d=(a[2],lc(c));return e(d.popLast())})})},a}(),hq=function(a,b){this.seconds=a,this.nanoseconds=b},iq=function(){function a(a,b,c){this.ownerId=a,this.allowTabSynchronization=b,this.leaseTimestampMs=c}return a.store="owner",a.key="owner",a}(),jq=function(){function a(a,b,c){this.userId=a,this.lastAcknowledgedBatchId=b,this.lastStreamToken=c}return a.store="mutationQueues",a.keyPath="userId",a}(),kq=function(){function a(a,b,c,d,e){this.userId=a,this.batchId=b,this.localWriteTimeMs=c,this.baseMutations=d,this.mutations=e}return a.store="mutations",a.keyPath="batchId",a.userMutationsIndex="userMutationsIndex",a.userMutationsKeyPath=["userId","batchId"],a}(),lq=function(){function a(){}return a.prefixForUser=function(a){return[a]},a.prefixForPath=function(a,b){return[a,ic(b)]},a.key=function(a,b,c){return[a,ic(b),c]},a.store="documentMutations",a.PLACEHOLDER=new a,a}(),mq=function(a,b){this.path=a,this.readTime=b},nq=function(a,b){this.path=a,this.version=b},oq=function(){function a(a,b,c,d){this.unknownDocument=a,this.noDocument=b,this.document=c,this.hasCommittedMutations=d}return a.store="remoteDocuments",a}(),pq=function(){function a(a){this.byteSize=a}return a.store="remoteDocumentGlobal",a.key="remoteDocumentGlobalKey",a}(),qq=function(){function a(a,b,c,d,e,f){this.targetId=a,this.canonicalId=b,this.readTime=c,this.resumeToken=d,this.lastListenSequenceNumber=e,this.query=f}return a.store="targets",a.keyPath="targetId",a.queryTargetsIndexName="queryTargetsIndex",a.queryTargetsKeyPath=["canonicalId","targetId"],a}(),rq=function(){function a(a,b,c){this.targetId=a,this.path=b,ob(0===a==(void 0!==(this.sequenceNumber=c)),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return a.store="targetDocuments",a.keyPath=["targetId","path"],a.documentTargetsIndex="documentTargetsIndex",a.documentTargetsKeyPath=["path","targetId"],a}(),sq=function(){function a(a,b,c,d){this.highestTargetId=a,this.highestListenSequenceNumber=b,this.lastRemoteSnapshotVersion=c,this.targetCount=d}return a.key="targetGlobalKey",a.store="targetGlobal",a}(),tq=function(){function a(a,b){this.collectionId=a,this.parent=b}return a.store="collectionParents",a.keyPath=["collectionId","parent"],a}(),uq=function(){function a(a){this.changes=a}return a.store="remoteDocumentChanges",a.keyPath="id",a}(),vq=function(){function a(a,b,c,d,e){this.clientId=a,this.updateTimeMs=b,this.networkEnabled=c,this.inForeground=d,this.lastProcessedDocumentChangeId=e}return a.store="clientMetadata",a.keyPath="clientId",a}(),wq=[jq.store,kq.store,lq.store,oq.store,qq.store,iq.store,sq.store,rq.store].concat([vq.store,uq.store]).concat([pq.store]).concat([tq.store]),xq=function(){function a(){this.collectionParentsCache=new eq}return a.prototype.addToCollectionParentIndex=function(a,b){if(ob(b.length%2==1,"Expected a collection path."),this.collectionParentsCache.add(b)){ob(1<=b.length,"Invalid collection path.");var c=b.lastSegment(),d=b.popLast();return Dc(a).put({collectionId:c,parent:ic(d)})}return Pp.resolve()},a.prototype.getCollectionParents=function(a,b){var c=[],d=IDBKeyRange.bound([b,""],[Qb(b),""],!1,!0);return Dc(a).loadAll(d).next(function(a){for(var d=0,e=a;d<e.length;d++){var f=e[d];if(f.collectionId!==b)break;c.push(lc(f.parent))}return c})},a}(),yq=function(){function a(a){this.remoteSerializer=a}return a.prototype.fromDbRemoteDocument=function(a){if(a.document)return this.remoteSerializer.fromDocument(a.document,!!a.hasCommittedMutations);if(a.noDocument){var b=Mn.fromSegments(a.noDocument.path),c=this.fromDbTimestamp(a.noDocument.readTime);return new Pn(b,c,{hasCommittedMutations:!!a.hasCommittedMutations})}return a.unknownDocument?(b=Mn.fromSegments(a.unknownDocument.path),c=this.fromDbTimestamp(a.unknownDocument.version),new Qn(b,c)):nb("Unexpected DbRemoteDocument")},a.prototype.toDbRemoteDocument=function(a){if(a instanceof On){var b=a.proto?a.proto:this.remoteSerializer.toDocument(a),c=a.hasCommittedMutations;return new oq(null,null,b,c)}if(a instanceof Pn){var d=a.key.path.toArray(),e=this.toDbTimestamp(a.version);return c=a.hasCommittedMutations,new oq(null,new mq(d,e),null,c)}return a instanceof Qn?(d=a.key.path.toArray(),e=this.toDbTimestamp(a.version),new oq(new nq(d,e),null,null,!0)):nb("Unexpected MaybeDocumment")},a.prototype.toDbTimestamp=function(a){var b=a.toTimestamp();return new hq(b.seconds,b.nanoseconds)},a.prototype.fromDbTimestamp=function(a){var b=new Dn(a.seconds,a.nanoseconds);return Ao.fromTimestamp(b)},a.prototype.toDbMutationBatch=function(a,b){var c=this,d=b.baseMutations.map(function(a){return c.remoteSerializer.toMutation(a)}),e=b.mutations.map(function(a){return c.remoteSerializer.toMutation(a)});return new kq(a,b.batchId,b.localWriteTime.toMillis(),d,e)},a.prototype.fromDbMutationBatch=function(a){var b=this,c=(a.baseMutations||[]).map(function(a){return b.remoteSerializer.fromMutation(a)}),d=a.mutations.map(function(a){return b.remoteSerializer.fromMutation(a)}),e=Dn.fromMillis(a.localWriteTimeMs);return new Np(a.batchId,e,c,d)},a.prototype.toDbResourcePaths=function(a){var b=[];return a.forEach(function(a){b.push(ic(a.path))}),b},a.prototype.fromDbResourcePaths=function(a){for(var b=bc(),c=0,d=a;c<d.length;c++){var e=d[c];b=b.add(new Mn(lc(e)))}return b},a.prototype.fromDbTarget=function(a){var b,c=this.fromDbTimestamp(a.readTime);return b=void 0!==a.query.documents?this.remoteSerializer.fromDocumentsTarget(a.query):this.remoteSerializer.fromQueryTarget(a.query),new Do(b,a.targetId,Vn.Listen,a.lastListenSequenceNumber,c,a.resumeToken)},a.prototype.toDbTarget=function(a){ob(Vn.Listen===a.purpose,"Only queries with purpose "+Vn.Listen+" may be stored, got "+a.purpose);var b,c,d=this.toDbTimestamp(a.snapshotVersion);return b=a.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(a.query):this.remoteSerializer.toQueryTarget(a.query),c=a.resumeToken instanceof Uint8Array?(ob("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),a.resumeToken.toString()):a.resumeToken,new qq(a.targetId,a.query.canonicalId(),d,c,a.sequenceNumber,b)},a}(),zq=function(){function a(a){this.maxElements=a,this.buffer=new Eo(Ec),this.previousIndex=0}return a.prototype.nextIndex=function(){return++this.previousIndex},a.prototype.addElement=function(a){var b=[a,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(b);else{var c=this.buffer.last();Ec(b,c)<0&&(this.buffer=this.buffer["delete"](c).add(b))}},Object.defineProperty(a.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),a}(),Aq={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Bq=function(){function a(a,b,c){this.cacheSizeCollectionThreshold=a,this.percentileToCollect=b,this.maximumSequenceNumbersToCollect=c}return a.withCacheSize=function(b){return new a(b,a.DEFAULT_COLLECTION_PERCENTILE,a.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},a.COLLECTION_DISABLED=-1,a.MINIMUM_CACHE_SIZE_BYTES=1048576,a.DEFAULT=new a(a.DEFAULT_CACHE_SIZE_BYTES=41943040,a.DEFAULT_COLLECTION_PERCENTILE=10,a.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3),a.DISABLED=new a(a.COLLECTION_DISABLED,0,0),a}(),Cq=function(){function a(a,b,c){this.garbageCollector=a,this.asyncQueue=b,this.localStore=c,this.gcTask=null}return a.prototype.start=function(){ob(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==Bq.COLLECTION_DISABLED&&this.scheduleGC()},a.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(a.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),a.prototype.scheduleGC=function(){var a=this;ob(null===this.gcTask,"Cannot schedule GC while a task is pending");var b=this.hasRun?3e5:6e4;kb("LruGarbageCollector","Garbage collection scheduled in "+b+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(Bp.LruGarbageCollection,b,function(){return a.gcTask=null,a.hasRun=!0,a.localStore.collectGarbage(a.garbageCollector).then(function(){return a.scheduleGC()})["catch"](Fc)})},a}(),Dq=function(){function a(a,b){this.delegate=a,this.params=b}return a.prototype.calculateTargetCount=function(a,b){return this.delegate.getSequenceNumberCount(a).next(function(a){return Math.floor(b/100*a)})},a.prototype.nthSequenceNumber=function(a,b){var c=this;if(0===b)return Pp.resolve(Dp.INVALID);
var d=new zq(b);return this.delegate.forEachTarget(a,function(a){return d.addElement(a.sequenceNumber)}).next(function(){return c.delegate.forEachOrphanedDocumentSequenceNumber(a,function(a){return d.addElement(a)})}).next(function(){return d.maxValue})},a.prototype.removeTargets=function(a,b,c){return this.delegate.removeTargets(a,b,c)},a.prototype.removeOrphanedDocuments=function(a,b){return this.delegate.removeOrphanedDocuments(a,b)},a.prototype.collect=function(a,b){var c=this;return this.params.cacheSizeCollectionThreshold===Bq.COLLECTION_DISABLED?(kb("LruGarbageCollector","Garbage collection skipped; disabled"),Pp.resolve(Aq)):this.getCacheSize(a).next(function(d){return d<c.params.cacheSizeCollectionThreshold?(kb("LruGarbageCollector","Garbage collection skipped; Cache size "+d+" is lower than threshold "+c.params.cacheSizeCollectionThreshold),Aq):c.runGarbageCollection(a,b)})},a.prototype.getCacheSize=function(a){return this.delegate.getCacheSize(a)},a.prototype.runGarbageCollection=function(a,b){var c,d,e,f,g,h,i,j,k=this;return f=Date.now(),this.calculateTargetCount(a,this.params.percentileToCollect).next(function(b){return d=b>k.params.maximumSequenceNumbersToCollect?(kb("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+k.params.maximumSequenceNumbersToCollect+" from "+b),k.params.maximumSequenceNumbersToCollect):b,g=Date.now(),k.nthSequenceNumber(a,d)}).next(function(d){return c=d,h=Date.now(),k.removeTargets(a,c,b)}).next(function(b){return e=b,i=Date.now(),k.removeOrphanedDocuments(a,c)}).next(function(a){return j=Date.now(),ib()<=hn.DEBUG&&kb("LruGarbageCollector","LRU Garbage Collection\n	Counted targets in "+(g-f)+"ms\n	Determined least recently used "+d+" in "+(h-g)+"ms\n	Removed "+e+" targets in "+(i-h)+"ms\n	Removed "+a+" documents in "+(j-i)+"ms\nTotal Duration: "+(j-f)+"ms"),Pp.resolve({didRun:!0,sequenceNumbersCollected:d,targetsRemoved:e,documentsRemoved:a})})},a}(),Eq="IndexedDbPersistence",Fq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Gq="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `experimentalTabSynchronization:true` in all tabs.",Hq=function(a){function b(b,c){var d=a.call(this)||this;return d.simpleDbTransaction=b,d.currentSequenceNumber=c,d}return v(b,a),b}(function(){}),Iq=function(){function a(b,c,d,e,f,g,h){if(this.persistenceKey=b,this.clientId=c,this.queue=e,this.multiClientParams=h,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.inForeground=!1,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(a){return Promise.resolve()},!a.isAvailable())throw new yn(xn.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");if(this.referenceDelegate=new Jq(this,g),this.dbName=b+a.MAIN_DATABASE,this.serializer=new yq(f),this.document=d.document,this.allowTabSynchronization=void 0!==h,this.queryCache=new Zp(this.referenceDelegate,this.serializer),this.indexManager=new xq,this.remoteDocumentCache=new bq(this.serializer,this.indexManager,this.allowTabSynchronization),!d.window||!d.window.localStorage)throw new yn(xn.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=d.window,this.webStorage=this.window.localStorage}return a.getStore=function(a,b){if(a instanceof Hq)return Vp.getStore(a.simpleDbTransaction,b);throw nb("IndexedDbPersistence must use instances of IndexedDbTransaction")},a.createIndexedDbPersistence=function(b,c,d,e,f,g){return w(this,void 0,void 0,function(){var h;return x(this,function(i){switch(i.label){case 0:return[4,(h=new a(b,c,d,e,f,g)).start()];case 1:return i.sent(),[2,h]}})})},a.createMultiClientIndexedDbPersistence=function(b,c,d,e,f,g,h){return w(this,void 0,void 0,function(){var i;return x(this,function(j){switch(j.label){case 0:return[4,(i=new a(b,c,d,e,f,g,h)).start()];case 1:return j.sent(),[2,i]}})})},a.prototype.start=function(){var a=this;return ob(!this.started,"IndexedDbPersistence double-started!"),ob(null!==this.window,"Expected 'window' to be defined"),Vp.openOrCreate(this.dbName,fq,new gq(this.serializer)).then(function(b){return a.simpleDb=b,a.updateClientMetadataAndTryBecomePrimary()}).then(function(){return a.attachVisibilityHandler(),a.attachWindowUnloadHook(),a.scheduleClientMetadataAndPrimaryLeaseRefreshes(),a.startRemoteDocumentCache()}).then(function(){return a.simpleDb.runTransaction("readonly",[sq.store],function(b){return vc(b).next(function(b){var c=a.multiClientParams?a.multiClientParams.sequenceNumberSyncer:void 0;a.listenSequence=new Dp(b,c)})})}).then(function(){a._started=!0})["catch"](function(b){return a.simpleDb&&a.simpleDb.close(),Promise.reject(b)})},a.prototype.startRemoteDocumentCache=function(){var a=this;return this.simpleDb.runTransaction("readonly",wq,function(b){return a.remoteDocumentCache.start(b)})},a.prototype.setPrimaryStateListener=function(a){var b=this;return this.primaryStateListener=function(c){return w(b,void 0,void 0,function(){return x(this,function(b){return this.started?[2,a(c)]:[2]})})},a(this.isPrimary)},a.prototype.setNetworkEnabled=function(a){var b=this;this.networkEnabled!==a&&(this.networkEnabled=a,this.queue.enqueueAndForget(function(){return w(b,void 0,void 0,function(){return x(this,function(a){switch(a.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})}))},a.prototype.updateClientMetadataAndTryBecomePrimary=function(){var a=this;return this.simpleDb.runTransaction("readwrite",wq,function(b){return Hc(b).put(new vq(a.clientId,Date.now(),a.networkEnabled,a.inForeground,a.remoteDocumentCache.lastProcessedDocumentChangeId)).next(function(){return a.isPrimary?a.verifyPrimaryLease(b).next(function(b){b||(a.isPrimary=!1,a.queue.enqueueAndForget(function(){return a.primaryStateListener(!1)}))}):void 0}).next(function(){return a.canActAsPrimary(b)}).next(function(c){var d=a.isPrimary;return a.isPrimary=c,d!==a.isPrimary&&a.queue.enqueueAndForget(function(){return a.primaryStateListener(a.isPrimary)}),d&&!a.isPrimary?a.releasePrimaryLeaseIfHeld(b):a.isPrimary?a.acquireOrExtendPrimaryLease(b):void 0})})},a.prototype.verifyPrimaryLease=function(a){var b=this;return Gc(a).get(iq.key).next(function(a){return Pp.resolve(b.isLocalClient(a))})},a.prototype.removeClientMetadata=function(a){return Hc(a)["delete"](this.clientId)},a.prototype.maybeGarbageCollectMultiClientState=function(){return w(this,void 0,void 0,function(){var b,c,d=this;return x(this,function(e){switch(e.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),c=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var f=a.getStore(e,vq.store);return f.loadAll().next(function(a){b=d.filterActiveClients(a,18e5),c=a.filter(function(a){return-1===b.indexOf(a)})}).next(function(){return Pp.forEach(c,function(a){return f["delete"](a.clientId)})}).next(function(){if(0<(b=b.filter(function(a){return a.clientId!==d.clientId})).length){var a=b.map(function(a){return a.lastProcessedDocumentChangeId||0}),c=Math.min.apply(Math,a);return d.remoteDocumentCache.removeDocumentChangesThroughChangeId(e,c)}})})]);case 1:e.sent(),c.forEach(function(a){d.window.localStorage.removeItem(d.zombiedClientLocalStorageKey(a.clientId))}),e.label=2;case 2:return[2]}})})},a.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var a=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(Bp.ClientMetadataRefresh,4e3,function(){return a.updateClientMetadataAndTryBecomePrimary().then(function(){return a.maybeGarbageCollectMultiClientState()}).then(function(){return a.scheduleClientMetadataAndPrimaryLeaseRefreshes()})})},a.prototype.isLocalClient=function(a){return!!a&&a.ownerId===this.clientId},a.prototype.canActAsPrimary=function(a){var b=this;return Gc(a).get(iq.key).next(function(c){if(null!==c&&b.isWithinAge(c.leaseTimestampMs,5e3)&&!b.isClientZombied(c.ownerId)){if(b.isLocalClient(c)&&b.networkEnabled)return!0;if(!b.isLocalClient(c)){if(!c.allowTabSynchronization)throw new yn(xn.FAILED_PRECONDITION,Gq);return!1}}return!(!b.networkEnabled||!b.inForeground)||Hc(a).loadAll().next(function(a){return void 0===b.filterActiveClients(a,5e3).find(function(a){if(b.clientId!==a.clientId){var c=!b.networkEnabled&&a.networkEnabled,d=!b.inForeground&&a.inForeground,e=b.networkEnabled===a.networkEnabled;if(c||d&&e)return!0}return!1})})}).next(function(a){return b.isPrimary!==a&&kb(Eq,"Client "+(a?"is":"is not")+" eligible for a primary lease."),a})},a.prototype.shutdown=function(a){return w(this,void 0,void 0,function(){var b=this;return x(this,function(c){switch(c.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&this.clientMetadataRefresher.cancel(),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[iq.store,vq.store],function(a){return b.releasePrimaryLeaseIfHeld(a).next(function(){return b.removeClientMetadata(a)})})];case 1:return c.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),a?[4,Vp["delete"](this.dbName)]:[3,3];case 2:c.sent(),c.label=3;case 3:return[2]}})})},a.prototype.filterActiveClients=function(a,b){var c=this;return a.filter(function(a){return c.isWithinAge(a.updateTimeMs,b)&&!c.isClientZombied(a.clientId)})},a.prototype.getActiveClients=function(){var a=this;return this.simpleDb.runTransaction("readonly",[vq.store],function(b){return Hc(b).loadAll().next(function(b){return a.filterActiveClients(b,18e5).map(function(a){return a.clientId})})})},Object.defineProperty(a.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),a.prototype.getMutationQueue=function(a){return ob(this.started,"Cannot initialize MutationQueue before persistence is started."),Qp.forUser(a,this.serializer,this.indexManager,this.referenceDelegate)},a.prototype.getQueryCache=function(){return ob(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},a.prototype.getRemoteDocumentCache=function(){return ob(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},a.prototype.getIndexManager=function(){return ob(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},a.prototype.runTransaction=function(a,b,c){var d=this;return kb(Eq,"Starting transaction:",a),this.simpleDb.runTransaction("readonly"===b?"readonly":"readwrite",wq,function(e){return"readwrite-primary"===b?d.verifyPrimaryLease(e).next(function(b){if(!b)throw lb("Failed to obtain primary lease for action '"+a+"'."),d.isPrimary=!1,d.queue.enqueueAndForget(function(){return d.primaryStateListener(!1)}),new yn(xn.FAILED_PRECONDITION,Fq);return c(new Hq(e,d.listenSequence.next()))}).next(function(a){return d.acquireOrExtendPrimaryLease(e).next(function(){return a})}):d.verifyAllowTabSynchronization(e).next(function(){return c(new Hq(e,d.listenSequence.next()))})})},a.prototype.verifyAllowTabSynchronization=function(a){var b=this;return Gc(a).get(iq.key).next(function(a){if(null!==a&&b.isWithinAge(a.leaseTimestampMs,5e3)&&!b.isClientZombied(a.ownerId)&&!b.isLocalClient(a)&&!a.allowTabSynchronization)throw new yn(xn.FAILED_PRECONDITION,Gq)})},a.prototype.acquireOrExtendPrimaryLease=function(a){var b=new iq(this.clientId,this.allowTabSynchronization,Date.now());return Gc(a).put(iq.key,b)},a.isAvailable=function(){return Vp.isAvailable()},a.buildStoragePrefix=function(a){var b=a.databaseId.projectId;return a.databaseId.isDefaultDatabase||(b+="."+a.databaseId.database),"firestore/"+a.persistenceKey+"/"+b+"/"},a.prototype.releasePrimaryLeaseIfHeld=function(a){var b=this,c=Gc(a);return c.get(iq.key).next(function(a){return b.isLocalClient(a)?(kb(Eq,"Releasing primary lease."),c["delete"](iq.key)):Pp.resolve()})},a.prototype.isWithinAge=function(a,b){var c=Date.now();return!(c-b>a||a>c&&(lb("Detected an update time that is in the future: "+a+" > "+c),1))},a.prototype.attachVisibilityHandler=function(){var a=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){a.queue.enqueueAndForget(function(){return a.inForeground="visible"===a.document.visibilityState,a.updateClientMetadataAndTryBecomePrimary()})},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},a.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(ob(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},a.prototype.attachWindowUnloadHook=function(){var a=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){a.markClientZombied(),a.queue.enqueueAndForget(function(){return a.shutdown()})},this.window.addEventListener("unload",this.windowUnloadHandler))},a.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(ob("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},a.prototype.isClientZombied=function(a){try{var b=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(a));return kb(Eq,"Client '"+a+"' "+(b?"is":"is not")+" zombied in LocalStorage"),b}catch(a){return lb(Eq,"Failed to get zombied client id.",a),!1}},a.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(a){lb("Failed to set zombie client id.",a)}},a.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(a){}},a.prototype.zombiedClientLocalStorageKey=function(a){return"firestore_zombie_"+this.persistenceKey+"_"+a},a.MAIN_DATABASE="main",a}(),Jq=function(){function a(a,b){this.db=a,this.garbageCollector=new Dq(this,b)}return a.prototype.getSequenceNumberCount=function(a){var b=this.orphanedDocmentCount(a);return this.db.getQueryCache().getQueryCount(a).next(function(a){return b.next(function(b){return a+b})})},a.prototype.orphanedDocmentCount=function(a){var b=0;return this.forEachOrphanedDocumentSequenceNumber(a,function(a){b++}).next(function(){return b})},a.prototype.forEachTarget=function(a,b){return this.db.getQueryCache().forEachTarget(a,b)},a.prototype.forEachOrphanedDocumentSequenceNumber=function(a,b){return this.forEachOrphanedDocument(a,function(a,c){return b(c)})},a.prototype.setInMemoryPins=function(a){this.inMemoryPins=a},a.prototype.addReference=function(a,b){return Ic(a,b)},a.prototype.removeReference=function(a,b){return Ic(a,b)},a.prototype.removeTargets=function(a,b,c){return this.db.getQueryCache().removeTargets(a,b,c)},a.prototype.removeMutationReference=function(a,b){return Ic(a,b)},a.prototype.isPinned=function(a,b){return this.inMemoryPins.containsKey(b)?Pp.resolve(!0):(d=b,e=!1,rc(c=a).iterateSerial(function(a){return mc(c,a,d).next(function(a){return a&&(e=!0),Pp.resolve(!a)})}).next(function(){return e}));var c,d,e},a.prototype.removeOrphanedDocuments=function(a,b){var c=this,d=0,e=0,f=[];return this.forEachOrphanedDocument(a,function(g,h){if(b>=h){var i=c.isPinned(a,g).next(function(b){return b?void 0:(d++,c.removeOrphanedDocument(a,g).next(function(a){e+=a}))});f.push(i)}}).next(function(){return Pp.waitFor(f)}).next(function(){return c.db.getRemoteDocumentCache().updateSize(a,-e)}).next(function(){return d})},a.prototype.removeOrphanedDocument=function(a,b){var c,d=0,e=this.db.getRemoteDocumentCache();return Pp.waitFor([wc(a)["delete"]((c=b,[0,ic(c.path)])),e.removeEntry(a,b).next(function(a){d+=a})]).next(function(){return d})},a.prototype.removeTarget=function(a,b){var c=b.copy({sequenceNumber:a.currentSequenceNumber});return this.db.getQueryCache().updateQueryData(a,c)},a.prototype.updateLimboDocument=function(a,b){return Ic(a,b)},a.prototype.forEachOrphanedDocument=function(a,b){var c,d=wc(a),e=Dp.INVALID;return d.iterate({index:rq.documentTargetsIndex},function(a,d){var f=a[0],g=(a[1],d.path),h=d.sequenceNumber;0===f?(e!==Dp.INVALID&&b(new Mn(lc(c)),e),e=h,c=g):e=Dp.INVALID}).next(function(){e!==Dp.INVALID&&b(new Mn(lc(c)),e)})},a.prototype.getCacheSize=function(a){return this.db.getRemoteDocumentCache().getSize(a)},a}(),Kq=function(){function a(a,b,c){this.remoteDocumentCache=a,this.mutationQueue=b,this.indexManager=c}return a.prototype.getDocument=function(a,b){var c=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(a,b).next(function(d){return c.getDocumentInternal(a,b,d)})},a.prototype.getDocumentInternal=function(a,b,c){return this.remoteDocumentCache.getEntry(a,b).next(function(a){for(var d=0,e=c;d<e.length;d++)a=e[d].applyToLocalView(b,a);return a})},a.prototype.applyLocalMutationsToDocuments=function(a,b,c){var d=$b();return b.forEach(function(a,b){for(var e=0,f=c;e<f.length;e++)b=f[e].applyToLocalView(a,b);d=d.insert(a,b)}),d},a.prototype.getDocuments=function(a,b){var c=this;return this.remoteDocumentCache.getEntries(a,b).next(function(b){return c.getLocalViewOfDocuments(a,b)})},a.prototype.getLocalViewOfDocuments=function(a,b){var c=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(a,b).next(function(d){var e=c.applyLocalMutationsToDocuments(a,b,d),f=Zb();return e.forEach(function(a,b){b||(b=new Pn(a,Ao.forDeletedDoc())),f=f.insert(a,b)}),f})},a.prototype.getDocumentsMatchingQuery=function(a,b){return b.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(a,b.path):b.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(a,b):this.getDocumentsMatchingCollectionQuery(a,b)},a.prototype.getDocumentsMatchingDocumentQuery=function(a,b){return this.getDocument(a,new Mn(b)).next(function(a){var b=_b();return a instanceof On&&(b=b.insert(a.key,a)),b})},a.prototype.getDocumentsMatchingCollectionGroupQuery=function(a,b){var c=this;ob(b.path.isEmpty(),"Currently we only support collection group queries at the root.");var d=b.collectionGroup,e=_b();return this.indexManager.getCollectionParents(a,d).next(function(f){return Pp.forEach(f,function(f){var g=b.asCollectionQueryAtPath(f.child(d));return c.getDocumentsMatchingCollectionQuery(a,g).next(function(a){a.forEach(function(a,b){e=e.insert(a,b)})})}).next(function(){return e})})},a.prototype.getDocumentsMatchingCollectionQuery=function(a,b){var c,d=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(a,b).next(function(e){return c=e,d.mutationQueue.getAllMutationBatchesAffectingQuery(a,b)}).next(function(a){for(var d=0,e=a;d<e.length;d++)for(var f=e[d],g=0,h=f.mutations;g<h.length;g++){var i=h[g],j=i.key;if(b.path.isImmediateParentOf(j.path)){var k=c.get(j),l=i.applyToLocalView(k,k,f.localWriteTime);c=l instanceof On?c.insert(j,l):c.remove(j)}}}).next(function(){return c.forEach(function(a,d){b.matches(d)||(c=c.remove(a))}),c})},a}(),Lq=function(){function a(){this.refsByKey=new Eo(Mq.compareByKey),this.refsByTarget=new Eo(Mq.compareByTargetId)}return a.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},a.prototype.addReference=function(a,b){var c=new Mq(a,b);this.refsByKey=this.refsByKey.add(c),this.refsByTarget=this.refsByTarget.add(c)},a.prototype.addReferences=function(a,b){var c=this;a.forEach(function(a){return c.addReference(a,b)})},a.prototype.removeReference=function(a,b){this.removeRef(new Mq(a,b))},a.prototype.removeReferences=function(a,b){var c=this;a.forEach(function(a){return c.removeReference(a,b)})},a.prototype.removeReferencesForId=function(a){var b=this,c=Mn.EMPTY,d=new Mq(c,a),e=new Mq(c,a+1),f=[];return this.refsByTarget.forEachInRange([d,e],function(a){b.removeRef(a),f.push(a.key)}),f},a.prototype.removeAllReferences=function(){var a=this;this.refsByKey.forEach(function(b){return a.removeRef(b)})},a.prototype.removeRef=function(a){this.refsByKey=this.refsByKey["delete"](a),this.refsByTarget=this.refsByTarget["delete"](a)},a.prototype.referencesForId=function(a){var b=Mn.EMPTY,c=new Mq(b,a),d=new Mq(b,a+1),e=bc();return this.refsByTarget.forEachInRange([c,d],function(a){e=e.add(a.key)}),e},a.prototype.containsKey=function(a){var b=new Mq(a,0),c=this.refsByKey.firstAfterOrEqual(b);return null!==c&&a.isEqual(c.key)},a}(),Mq=function(){function a(a,b){this.key=a,this.targetOrBatchId=b}return a.compareByKey=function(a,b){return Mn.comparator(a.key,b.key)||Ob(a.targetOrBatchId,b.targetOrBatchId)},a.compareByTargetId=function(a,b){return Ob(a.targetOrBatchId,b.targetOrBatchId)||Mn.comparator(a.key,b.key)},a}(),Nq=function(){function a(a,b){this.persistence=a,this.localViewReferences=new Lq,this.queryDataByTarget={},ob(a.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=a.getMutationQueue(b),this.remoteDocuments=a.getRemoteDocumentCache(),this.queryCache=a.getQueryCache(),this.localDocuments=new Kq(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager())}return a.prototype.handleUserChange=function(a){var b=this;return this.persistence.runTransaction("Handle user change","readonly",function(c){var d;return b.mutationQueue.getAllMutationBatches(c).next(function(e){return d=e,b.mutationQueue=b.persistence.getMutationQueue(a),b.localDocuments=new Kq(b.remoteDocuments,b.mutationQueue,b.persistence.getIndexManager()),b.mutationQueue.getAllMutationBatches(c)}).next(function(a){for(var e=[],f=[],g=bc(),h=0,i=d;h<i.length;h++){var j=i[h];e.push(j.batchId);for(var k=0,l=j.mutations;k<l.length;k++){var m=l[k];g=g.add(m.key)}}for(var n=0,o=a;n<o.length;n++){j=o[n],f.push(j.batchId);for(var p=0,q=j.mutations;p<q.length;p++)m=q[p],g=g.add(m.key)}return b.localDocuments.getDocuments(c,g).next(function(a){return{affectedDocuments:a,removedBatchIds:e,addedBatchIds:f}})})})},a.prototype.localWrite=function(a){var b=this,c=Dn.now(),d=a.reduce(function(a,b){return a.add(b.key)},bc());return this.persistence.runTransaction("Locally write mutations","readwrite",function(e){return b.localDocuments.getDocuments(e,d).next(function(d){for(var f=[],g=0,h=a;g<h.length;g++){var i=h[g],j=d.get(i.key);if(!i.isIdempotent){var k=i.fieldMask;if(k){var l=j instanceof On?k.applyTo(j.data):jo.EMPTY;f.push(new Oo(i.key,l,k,Lo.exists(!0)))}}}return b.mutationQueue.addMutationBatch(e,c,f,a).next(function(a){var b=a.applyToLocalDocumentSet(d);return{batchId:a.batchId,changes:b}})})})},a.prototype.lookupMutationDocuments=function(a){var b=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",function(c){return b.mutationQueue.lookupMutationKeys(c,a).next(function(a){return a?b.localDocuments.getDocuments(c,a):Pp.resolve(null)})})},a.prototype.acknowledgeBatch=function(a){var b=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(c){var d=a.batch.keys(),e=b.remoteDocuments.newChangeBuffer();return b.mutationQueue.acknowledgeBatch(c,a.batch,a.streamToken).next(function(){return b.applyWriteToRemoteDocuments(c,a,e)}).next(function(){return e.apply(c)}).next(function(){return b.mutationQueue.performConsistencyCheck(c)}).next(function(){return b.localDocuments.getDocuments(c,d)})})},a.prototype.rejectBatch=function(a){var b=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",function(c){var d;return b.mutationQueue.lookupMutationBatch(c,a).next(function(a){return ob(null!==a,"Attempt to reject nonexistent batch!"),d=a.keys(),b.mutationQueue.removeMutationBatch(c,a)}).next(function(){return b.mutationQueue.performConsistencyCheck(c)}).next(function(){return b.localDocuments.getDocuments(c,d)})})},a.prototype.getLastStreamToken=function(){var a=this;return this.persistence.runTransaction("Get last stream token","readonly",function(b){return a.mutationQueue.getLastStreamToken(b)})},a.prototype.setLastStreamToken=function(a){var b=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",function(c){return b.mutationQueue.setLastStreamToken(c,a)})},a.prototype.getLastRemoteSnapshotVersion=function(){var a=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",function(b){return a.queryCache.getLastRemoteSnapshotVersion(b)})},a.prototype.applyRemoteEvent=function(b){var c=this,d=this.remoteDocuments.newChangeBuffer();return this.persistence.runTransaction("Apply remote event","readwrite-primary",function(e){var f=[],g=bc();tb(b.targetChanges,function(d,h){var i=c.queryDataByTarget[d];if(i){h.addedDocuments.forEach(function(a){g=g.add(a)}),h.modifiedDocuments.forEach(function(a){g=g.add(a)}),f.push(c.queryCache.removeMatchingKeys(e,h.removedDocuments,d).next(function(){return c.queryCache.addMatchingKeys(e,h.addedDocuments,d)}));var j=h.resumeToken;if(0<j.length){var k=i;i=i.copy({resumeToken:j,snapshotVersion:b.snapshotVersion}),c.queryDataByTarget[d]=i,a.shouldPersistQueryData(k,i,h)&&f.push(c.queryCache.updateQueryData(e,i))}}});var h=Zb(),i=bc();b.documentUpdates.forEach(function(a,b){i=i.add(a)}),f.push(d.getEntries(e,i).next(function(a){b.documentUpdates.forEach(function(i,j){var k=a.get(i);null==k||j.version.isEqual(Ao.MIN)||g.has(j.key)&&!k.hasPendingWrites||0<=j.version.compareTo(k.version)?(d.addEntry(j),h=h.insert(i,j)):kb("LocalStore","Ignoring outdated watch update for ",i,". Current version:",k.version," Watch version:",j.version),b.resolvedLimboDocuments.has(i)&&f.push(c.persistence.referenceDelegate.updateLimboDocument(e,i))})}));var j=b.snapshotVersion;if(!j.isEqual(Ao.MIN)){var k=c.queryCache.getLastRemoteSnapshotVersion(e).next(function(a){return ob(0<=j.compareTo(a),"Watch stream reverted to previous snapshot?? "+j+" < "+a),c.queryCache.setTargetsMetadata(e,e.currentSequenceNumber,j)});f.push(k)}return Pp.waitFor(f).next(function(){return d.apply(e)}).next(function(){return c.localDocuments.getLocalViewOfDocuments(e,h)})})},a.shouldPersistQueryData=function(a,b,c){return 0!==b.resumeToken.length&&(0===a.resumeToken.length||b.snapshotVersion.toMicroseconds()-a.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||0<c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size)},a.prototype.notifyLocalViewChanges=function(a){var b=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(c){return Pp.forEach(a,function(a){return b.localViewReferences.addReferences(a.addedKeys,a.targetId),b.localViewReferences.removeReferences(a.removedKeys,a.targetId),Pp.forEach(a.removedKeys,function(a){return b.persistence.referenceDelegate.removeReference(c,a)})})})},a.prototype.nextMutationBatch=function(a){var b=this;return this.persistence.runTransaction("Get next mutation batch","readonly",function(c){return void 0===a&&(a=-1),b.mutationQueue.getNextMutationBatchAfterBatchId(c,a)})},a.prototype.readDocument=function(a){var b=this;return this.persistence.runTransaction("read document","readonly",function(c){return b.localDocuments.getDocument(c,a)})},a.prototype.allocateQuery=function(a){var b=this;return this.persistence.runTransaction("Allocate query","readwrite",function(c){var d;return b.queryCache.getQueryData(c,a).next(function(e){return e?(d=e,Pp.resolve()):b.queryCache.allocateTargetId(c).next(function(e){return d=new Do(a,e,Vn.Listen,c.currentSequenceNumber),b.queryCache.addQueryData(c,d)})}).next(function(){return ob(!b.queryDataByTarget[d.targetId],"Tried to allocate an already allocated query: "+a),b.queryDataByTarget[d.targetId]=d})})},a.prototype.releaseQuery=function(a,b){var c=this,d=b?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release query",d,function(d){return c.queryCache.getQueryData(d,a).next(function(e){ob(null!=e,"Tried to release nonexistent query: "+a);var f=e.targetId,g=c.queryDataByTarget[f],h=c.localViewReferences.removeReferencesForId(f);return delete c.queryDataByTarget[f],b?Pp.resolve():Pp.forEach(h,function(a){return c.persistence.referenceDelegate.removeReference(d,a)}).next(function(){return c.persistence.referenceDelegate.removeTarget(d,g)})})})},a.prototype.executeQuery=function(a){var b=this;return this.persistence.runTransaction("Execute query","readonly",function(c){return b.localDocuments.getDocumentsMatchingQuery(c,a)})},a.prototype.remoteDocumentKeys=function(a){var b=this;return this.persistence.runTransaction("Remote document keys","readonly",function(c){return b.queryCache.getMatchingKeysForTargetId(c,a)})},a.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},a.prototype.removeCachedMutationBatchMetadata=function(a){this.mutationQueue.removeCachedMutationKeys(a)},a.prototype.setNetworkEnabled=function(a){this.persistence.setNetworkEnabled(a)},a.prototype.applyWriteToRemoteDocuments=function(a,b,c){var d=this,e=b.batch,f=e.keys(),g=Pp.resolve();return f.forEach(function(d){g=g.next(function(){return c.getEntry(a,d)}).next(function(a){var f=a,g=b.docVersions.get(d);ob(null!==g,"ackVersions should contain every doc in the write."),(!f||f.version.compareTo(g)<0)&&((f=e.applyToRemoteDocument(d,f,b))?c.addEntry(f):ob(!a,"Mutation batch "+e+" applied to document "+a+" resulted in null"))})}),g.next(function(){return d.mutationQueue.removeMutationBatch(a,e)})},a.prototype.collectGarbage=function(a){var b=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(c){return a.collect(c,b.queryDataByTarget)})},a.prototype.getQueryForTarget=function(a){var b=this;return this.queryDataByTarget[a]?Promise.resolve(this.queryDataByTarget[a].query):this.persistence.runTransaction("Get query data","readonly",function(c){return b.queryCache.getQueryDataForTarget(c,a).next(function(a){return a?a.query:null})})},a.prototype.getNewDocumentChanges=function(){var a=this;return this.persistence.runTransaction("Get new document changes","readonly",function(b){return a.remoteDocuments.getNewDocumentChanges(b)})},a.RESUME_TOKEN_MAX_AGE_MICROS=3e8,a}(),Oq=function(){function a(a,b){this.indexManager=a,this.referenceDelegate=b,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=pb(),this.batchesByDocumentKey=new Eo(Mq.compareByKey)}return a.prototype.checkEmpty=function(a){return Pp.resolve(0===this.mutationQueue.length)},a.prototype.acknowledgeBatch=function(a,b,c){var d=b.batchId,e=this.indexOfExistingBatchId(d,"acknowledged");ob(0===e,"Can only acknowledge the first batch in the mutation queue");var f=this.mutationQueue[e];return ob(d===f.batchId,"Queue ordering failure: expected batch "+d+", got batch "+f.batchId),this.lastStreamToken=c,Pp.resolve()},a.prototype.getLastStreamToken=function(a){return Pp.resolve(this.lastStreamToken)},a.prototype.setLastStreamToken=function(a,b){return this.lastStreamToken=b,Pp.resolve()},a.prototype.addMutationBatch=function(a,b,c,d){ob(0!==d.length,"Mutation batches should not be empty");var e=this.nextBatchId;this.nextBatchId++,0<this.mutationQueue.length&&ob(this.mutationQueue[this.mutationQueue.length-1].batchId<e,"Mutation batchIDs must be monotonically increasing order");var f=new Np(e,b,c,d);this.mutationQueue.push(f);for(var g=0,h=d;g<h.length;g++){var i=h[g];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Mq(i.key,e)),this.indexManager.addToCollectionParentIndex(a,i.key.path.popLast())}return Pp.resolve(f)},a.prototype.lookupMutationBatch=function(a,b){return Pp.resolve(this.findMutationBatch(b))},
a.prototype.lookupMutationKeys=function(a,b){var c=this.findMutationBatch(b);return ob(null!=c,"Failed to find local mutation batch."),Pp.resolve(c.keys())},a.prototype.getNextMutationBatchAfterBatchId=function(a,b){var c=b+1,d=this.indexOfBatchId(c),e=0>d?0:d;return Pp.resolve(this.mutationQueue.length>e?this.mutationQueue[e]:null)},a.prototype.getAllMutationBatches=function(a){return Pp.resolve(this.mutationQueue.slice())},a.prototype.getAllMutationBatchesAffectingDocumentKey=function(a,b){var c=this,d=new Mq(b,0),e=new Mq(b,Number.POSITIVE_INFINITY),f=[];return this.batchesByDocumentKey.forEachInRange([d,e],function(a){ob(b.isEqual(a.key),"Should only iterate over a single key's batches");var d=c.findMutationBatch(a.targetOrBatchId);ob(null!==d,"Batches in the index must exist in the main table"),f.push(d)}),Pp.resolve(f)},a.prototype.getAllMutationBatchesAffectingDocumentKeys=function(a,b){var c=this,d=new Eo(Ob);return b.forEach(function(a){var b=new Mq(a,0),e=new Mq(a,Number.POSITIVE_INFINITY);c.batchesByDocumentKey.forEachInRange([b,e],function(b){ob(a.isEqual(b.key),"For each key, should only iterate over a single key's batches"),d=d.add(b.targetOrBatchId)})}),Pp.resolve(this.findMutationBatches(d))},a.prototype.getAllMutationBatchesAffectingQuery=function(a,b){ob(!b.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var c=b.path,d=c.length+1,e=c;Mn.isDocumentKey(e)||(e=e.child(""));var f=new Mq(new Mn(e),0),g=new Eo(Ob);return this.batchesByDocumentKey.forEachWhile(function(a){var b=a.key.path;return!!c.isPrefixOf(b)&&(b.length===d&&(g=g.add(a.targetOrBatchId)),!0)},f),Pp.resolve(this.findMutationBatches(g))},a.prototype.findMutationBatches=function(a){var b=this,c=[];return a.forEach(function(a){var d=b.findMutationBatch(a);null!==d&&c.push(d)}),c},a.prototype.removeMutationBatch=function(a,b){var c=this;ob(0===this.indexOfExistingBatchId(b.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var d=this.batchesByDocumentKey;return Pp.forEach(b.mutations,function(e){var f=new Mq(e.key,b.batchId);return d=d["delete"](f),c.referenceDelegate.removeMutationReference(a,e.key)}).next(function(){c.batchesByDocumentKey=d})},a.prototype.removeCachedMutationKeys=function(a){},a.prototype.containsKey=function(a,b){var c=new Mq(b,0),d=this.batchesByDocumentKey.firstAfterOrEqual(c);return Pp.resolve(b.isEqual(d&&d.key))},a.prototype.performConsistencyCheck=function(a){return 0===this.mutationQueue.length&&ob(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),Pp.resolve()},a.prototype.indexOfExistingBatchId=function(a,b){var c=this.indexOfBatchId(a);return ob(c>=0&&c<this.mutationQueue.length,"Batches must exist to be "+b),c},a.prototype.indexOfBatchId=function(a){return 0===this.mutationQueue.length?0:a-this.mutationQueue[0].batchId},a.prototype.findMutationBatch=function(a){var b=this.indexOfBatchId(a);if(0>b||b>=this.mutationQueue.length)return null;var c=this.mutationQueue[b];return ob(c.batchId===a,"If found batch must match"),c},a}(),Pq=function(){function a(a){this.persistence=a,this.queries=new $p(function(a){return a.canonicalId()}),this.lastRemoteSnapshotVersion=Ao.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new Lq,this.targetCount=0,this.targetIdGenerator=Tp.forQueryCache()}return a.prototype.getTargetCount=function(a){return Pp.resolve(this.targetCount)},a.prototype.forEachTarget=function(a,b){return this.queries.forEach(function(a,c){return b(c)}),Pp.resolve()},a.prototype.getLastRemoteSnapshotVersion=function(a){return Pp.resolve(this.lastRemoteSnapshotVersion)},a.prototype.getHighestSequenceNumber=function(a){return Pp.resolve(this.highestSequenceNumber)},a.prototype.allocateTargetId=function(a){var b=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=b,Pp.resolve(b)},a.prototype.setTargetsMetadata=function(a,b,c){return c&&(this.lastRemoteSnapshotVersion=c),b>this.highestSequenceNumber&&(this.highestSequenceNumber=b),Pp.resolve()},a.prototype.saveQueryData=function(a){this.queries.set(a.query,a);var b=a.targetId;b>this.highestTargetId&&(this.highestTargetId=b),a.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=a.sequenceNumber)},a.prototype.addQueryData=function(a,b){return ob(!this.queries.has(b.query),"Adding a query that already exists"),this.saveQueryData(b),this.targetCount+=1,Pp.resolve()},a.prototype.updateQueryData=function(a,b){return ob(this.queries.has(b.query),"Updating a non-existent query"),this.saveQueryData(b),Pp.resolve()},a.prototype.removeQueryData=function(a,b){return ob(0<this.targetCount,"Removing a target from an empty cache"),ob(this.queries.has(b.query),"Removing a non-existent target from the cache"),this.queries["delete"](b.query),this.references.removeReferencesForId(b.targetId),this.targetCount-=1,Pp.resolve()},a.prototype.removeTargets=function(a,b,c){var d=this,e=0,f=[];return this.queries.forEach(function(g,h){h.sequenceNumber<=b&&!c[h.targetId]&&(d.queries["delete"](g),f.push(d.removeMatchingKeysForTargetId(a,h.targetId)),e++)}),Pp.waitFor(f).next(function(){return e})},a.prototype.getQueryCount=function(a){return Pp.resolve(this.targetCount)},a.prototype.getQueryData=function(a,b){var c=this.queries.get(b)||null;return Pp.resolve(c)},a.prototype.getQueryDataForTarget=function(a,b){return nb("Not yet implemented.")},a.prototype.addMatchingKeys=function(a,b,c){this.references.addReferences(b,c);var d=this.persistence.referenceDelegate,e=[];return d&&b.forEach(function(b){e.push(d.addReference(a,b))}),Pp.waitFor(e)},a.prototype.removeMatchingKeys=function(a,b,c){this.references.removeReferences(b,c);var d=this.persistence.referenceDelegate,e=[];return d&&b.forEach(function(b){e.push(d.removeReference(a,b))}),Pp.waitFor(e)},a.prototype.removeMatchingKeysForTargetId=function(a,b){return this.references.removeReferencesForId(b),Pp.resolve()},a.prototype.getMatchingKeysForTargetId=function(a,b){var c=this.references.referencesForId(b);return Pp.resolve(c)},a.prototype.containsKey=function(a,b){return Pp.resolve(this.references.containsKey(b))},a}(),Qq=function(){function a(a,b){this.indexManager=a,this.sizer=b,this.docs=new Rn(Mn.comparator),this.newDocumentChanges=bc(),this.size=0}return a.prototype.addEntries=function(a,b,c){for(var d=[],e=0,f=b;e<f.length;e++){var g=f[e],h=g.maybeDocument.key;this.docs=this.docs.insert(h,g),this.newDocumentChanges=this.newDocumentChanges.add(h),d.push(this.indexManager.addToCollectionParentIndex(a,h.path.popLast()))}return this.size+=c,Pp.waitFor(d)},a.prototype.removeEntry=function(a,b){var c=this.docs.get(b);return c?(this.docs=this.docs.remove(b),this.size-=c.size,Pp.resolve(c.size)):Pp.resolve(0)},a.prototype.getEntry=function(a,b){var c=this.docs.get(b);return Pp.resolve(c?c.maybeDocument:null)},a.prototype.getSizedEntry=function(a,b){return Pp.resolve(this.docs.get(b))},a.prototype.getEntries=function(a,b){var c=this,d=$b();return b.forEach(function(a){var b=c.docs.get(a);d=d.insert(a,b?b.maybeDocument:null)}),Pp.resolve(d)},a.prototype.getSizedEntries=function(a,b){var c=this,d=$b(),e=new Rn(Mn.comparator);return b.forEach(function(a){var b=c.docs.get(a);d=d.insert(a,b?b.maybeDocument:null),e=e.insert(a,b?b.size:0)}),Pp.resolve({maybeDocuments:d,sizeMap:e})},a.prototype.getDocumentsMatchingQuery=function(a,b){ob(!b.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var c=_b(),d=new Mn(b.path.child("")),e=this.docs.getIteratorFrom(d);e.hasNext();){var f=e.getNext(),g=f.key,h=f.value.maybeDocument;if(!b.path.isPrefixOf(g.path))break;h instanceof On&&b.matches(h)&&(c=c.insert(h.key,h))}return Pp.resolve(c)},a.prototype.forEachDocumentKey=function(a,b){return Pp.forEach(this.docs,function(a){return b(a)})},a.prototype.getNewDocumentChanges=function(a){var b=this,c=Zb();return this.newDocumentChanges.forEach(function(a){var d=b.docs.get(a),e=d?d.maybeDocument:new Pn(a,Ao.forDeletedDoc());c=c.insert(a,e)}),this.newDocumentChanges=bc(),Pp.resolve(c)},a.prototype.newChangeBuffer=function(){return new Rq(this.sizer,this)},a.prototype.getSize=function(a){return Pp.resolve(this.size)},a}(),Rq=function(a){function b(b,c){var d=a.call(this)||this;return d.sizer=b,d.documentCache=c,d}return v(b,a),b.prototype.applyChanges=function(a){var b=this,c=this.assertChanges(),d=0,e=[];return c.forEach(function(a,c){var f=b.documentSizes.get(a);ob(void 0!==f,"Attempting to change document "+a.toString()+" without having read it first");var g=b.sizer(c);d+=g-f,e.push({maybeDocument:c,size:g})}),this.documentCache.addEntries(a,e,d)},b.prototype.getFromCache=function(a,b){return this.documentCache.getSizedEntry(a,b)},b.prototype.getAllFromCache=function(a,b){return this.documentCache.getSizedEntries(a,b)},b}(_p),Sq=function(){function a(a,b){var c=this;this.clientId=a,this.mutationQueues={},this.listenSequence=new Dp(0),this._started=!1,this._started=!0,this.referenceDelegate=b(this),this.queryCache=new Pq(this),this.indexManager=new dq,this.remoteDocumentCache=new Qq(this.indexManager,function(a){return c.referenceDelegate.documentSize(a)})}return a.createLruPersistence=function(b,c,d){return new a(b,function(a){return new Vq(a,new yq(c),d)})},a.createEagerPersistence=function(b){return new a(b,function(a){return new Uq(a)})},a.prototype.shutdown=function(a){return this._started=!1,Promise.resolve()},Object.defineProperty(a.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),a.prototype.getActiveClients=function(){return w(this,void 0,void 0,function(){return x(this,function(a){return[2,[this.clientId]]})})},a.prototype.setPrimaryStateListener=function(a){return a(!0)},a.prototype.setNetworkEnabled=function(a){},a.prototype.getIndexManager=function(){return this.indexManager},a.prototype.getMutationQueue=function(a){var b=this.mutationQueues[a.toKey()];return b||(b=new Oq(this.indexManager,this.referenceDelegate),this.mutationQueues[a.toKey()]=b),b},a.prototype.getQueryCache=function(){return this.queryCache},a.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},a.prototype.runTransaction=function(a,b,c){var d=this;kb("MemoryPersistence","Starting transaction:",a);var e=new Tq(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),c(e).next(function(a){return d.referenceDelegate.onTransactionCommitted(e).next(function(){return a})}).toPromise()},a.prototype.mutationQueuesContainKey=function(a,b){return Pp.or((c=this.mutationQueues,d=[],ub(c,function(a,b){return d.push(b)}),d).map(function(c){return function(){return c.containsKey(a,b)}}));var c,d},a}(),Tq=function(a){this.currentSequenceNumber=a},Uq=function(){function a(a){this.persistence=a}return a.prototype.setInMemoryPins=function(a){this.inMemoryPins=a},a.prototype.addReference=function(a,b){return this.orphanedDocuments["delete"](b),Pp.resolve()},a.prototype.removeReference=function(a,b){return this.orphanedDocuments.add(b),Pp.resolve()},a.prototype.removeMutationReference=function(a,b){return this.orphanedDocuments.add(b),Pp.resolve()},a.prototype.removeTarget=function(a,b){var c=this,d=this.persistence.getQueryCache();return d.getMatchingKeysForTargetId(a,b.targetId).next(function(a){a.forEach(function(a){return c.orphanedDocuments.add(a)})}).next(function(){return d.removeQueryData(a,b)})},a.prototype.onTransactionStarted=function(){this.orphanedDocuments=new Set},a.prototype.onTransactionCommitted=function(a){var b=this,c=this.persistence.getRemoteDocumentCache();return Pp.forEach(this.orphanedDocuments,function(d){return b.isReferenced(a,d).next(function(b){return b?Pp.resolve():c.removeEntry(a,d).next(function(){})})})},a.prototype.updateLimboDocument=function(a,b){var c=this;return this.isReferenced(a,b).next(function(a){a?c.orphanedDocuments["delete"](b):c.orphanedDocuments.add(b)})},a.prototype.documentSize=function(a){return 0},a.prototype.isReferenced=function(a,b){var c=this;return Pp.or([function(){return c.persistence.getQueryCache().containsKey(a,b)},function(){return c.persistence.mutationQueuesContainKey(a,b)},function(){return Pp.resolve(c.inMemoryPins.containsKey(b))}])},a}(),Vq=function(){function a(a,b,c){this.persistence=a,this.serializer=b,this.orphanedSequenceNumbers=new $p(function(a){return ic(a.path)}),this.garbageCollector=new Dq(this,c)}return a.prototype.onTransactionStarted=function(){},a.prototype.onTransactionCommitted=function(a){return Pp.resolve()},a.prototype.forEachTarget=function(a,b){return this.persistence.getQueryCache().forEachTarget(a,b)},a.prototype.getSequenceNumberCount=function(a){var b=this.orphanedDocumentCount(a);return this.persistence.getQueryCache().getTargetCount(a).next(function(a){return b.next(function(b){return a+b})})},a.prototype.orphanedDocumentCount=function(a){var b=0;return this.forEachOrphanedDocumentSequenceNumber(a,function(a){b++}).next(function(){return b})},a.prototype.forEachOrphanedDocumentSequenceNumber=function(a,b){var c=this;return Pp.forEach(this.orphanedSequenceNumbers,function(d,e){return c.isPinned(a,d,e).next(function(a){return a?Pp.resolve():b(e)})})},a.prototype.setInMemoryPins=function(a){this.inMemoryPins=a},a.prototype.removeTargets=function(a,b,c){return this.persistence.getQueryCache().removeTargets(a,b,c)},a.prototype.removeOrphanedDocuments=function(a,b){var c=this,d=0,e=this.persistence.getRemoteDocumentCache();return e.forEachDocumentKey(a,function(f){return c.isPinned(a,f,b).next(function(b){return b?Pp.resolve():(d++,e.removeEntry(a,f).next())})}).next(function(){return d})},a.prototype.removeMutationReference=function(a,b){return this.orphanedSequenceNumbers.set(b,a.currentSequenceNumber),Pp.resolve()},a.prototype.removeTarget=function(a,b){var c=b.copy({sequenceNumber:a.currentSequenceNumber});return this.persistence.getQueryCache().updateQueryData(a,c)},a.prototype.addReference=function(a,b){return this.orphanedSequenceNumbers.set(b,a.currentSequenceNumber),Pp.resolve()},a.prototype.removeReference=function(a,b){return this.orphanedSequenceNumbers.set(b,a.currentSequenceNumber),Pp.resolve()},a.prototype.updateLimboDocument=function(a,b){return this.orphanedSequenceNumbers.set(b,a.currentSequenceNumber),Pp.resolve()},a.prototype.documentSize=function(a){var b,c=this.serializer.toDbRemoteDocument(a);if(c.document)b=c.document;else if(c.unknownDocument)b=c.unknownDocument;else{if(!c.noDocument)throw nb("Unknown remote document type");b=c.noDocument}return JSON.stringify(b).length},a.prototype.isPinned=function(a,b,c){var d=this;return Pp.or([function(){return d.persistence.mutationQueuesContainKey(a,b)},function(){return Pp.resolve(d.inMemoryPins.containsKey(b))},function(){return d.persistence.getQueryCache().containsKey(a,b)},function(){var a=d.orphanedSequenceNumbers.get(b);return Pp.resolve(void 0!==a&&a>c)}])},a.prototype.getCacheSize=function(a){return this.persistence.getRemoteDocumentCache().getSize(a)},a}(),Wq=function(){function a(a,b,c,d,e){this.queue=a,this.timerId=b,this.initialDelayMs=c,this.backoffFactor=d,this.maxDelayMs=e,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return a.prototype.reset=function(){this.currentBaseMs=0},a.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},a.prototype.backoffAndRun=function(a){var b=this;this.cancel();var c=Math.floor(this.currentBaseMs+this.jitterDelayMs()),d=Math.max(0,Date.now()-this.lastAttemptTime),e=Math.max(0,c-d);0<this.currentBaseMs&&kb("ExponentialBackoff","Backing off for "+e+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+c+" ms, last attempt: "+d+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,e,function(){return b.lastAttemptTime=Date.now(),a()}),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},a.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},a.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},a}(),Xq="PersistentStream";(Sp=Rp||(Rp={}))[Sp.Initial=0]="Initial",Sp[Sp.Starting=1]="Starting",Sp[Sp.Open=2]="Open",Sp[Sp.Error=3]="Error",Sp[Sp.Backoff=4]="Backoff";var Yq,Zq,$q,_q,ar=function(){function a(a,b,c,d,e,f){this.queue=a,this.idleTimerId=c,this.connection=d,this.credentialsProvider=e,this.listener=f,this.state=Rp.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new Wq(a,b,1e3,1.5,6e4)}return a.prototype.isStarted=function(){return this.state===Rp.Starting||this.state===Rp.Open||this.state===Rp.Backoff},a.prototype.isOpen=function(){return this.state===Rp.Open},a.prototype.start=function(){this.state!==Rp.Error?(ob(this.state===Rp.Initial,"Already started"),this.auth()):this.performBackoff()},a.prototype.stop=function(){return w(this,void 0,void 0,function(){return x(this,function(a){switch(a.label){case 0:return this.isStarted()?[4,this.close(Rp.Initial)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},a.prototype.inhibitBackoff=function(){ob(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=Rp.Initial,this.backoff.reset()},a.prototype.markIdle=function(){var a=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return a.handleIdleCloseTimer()}))},a.prototype.sendRequest=function(a){this.cancelIdleCheck(),this.stream.send(a)},a.prototype.handleIdleCloseTimer=function(){return w(this,void 0,void 0,function(){return x(this,function(a){return this.isOpen()?[2,this.close(Rp.Initial)]:[2]})})},a.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},a.prototype.close=function(a,b){return w(this,void 0,void 0,function(){return x(this,function(c){switch(c.label){case 0:return ob(this.isStarted(),"Only started streams should be closed."),ob(a===Rp.Error||Ub(b),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,a!==Rp.Error?this.backoff.reset():b&&b.code===xn.RESOURCE_EXHAUSTED?(lb(b.toString()),lb("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):b&&b.code===xn.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=a,[4,this.listener.onClose(b)];case 1:return c.sent(),[2]}})})},a.prototype.tearDown=function(){},a.prototype.auth=function(){var a=this;ob(this.state===Rp.Initial,"Must be in initial state to auth"),this.state=Rp.Starting;var b=this.getCloseGuardedDispatcher(this.closeCount),c=this.closeCount;this.credentialsProvider.getToken().then(function(b){a.closeCount===c&&a.startStream(b)},function(c){b(function(){var b=new yn(xn.UNKNOWN,"Fetching auth token failed: "+c.message);return a.handleStreamClose(b)})})},a.prototype.startStream=function(a){var b=this;ob(this.state===Rp.Starting,"Trying to start stream in a non-starting state");var c=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(a),this.stream.onOpen(function(){c(function(){return ob(b.state===Rp.Starting,"Expected stream to be in state Starting, but was "+b.state),b.state=Rp.Open,b.listener.onOpen()})}),this.stream.onClose(function(a){c(function(){return b.handleStreamClose(a)})}),this.stream.onMessage(function(a){c(function(){return b.onMessage(a)})})},a.prototype.performBackoff=function(){var a=this;ob(this.state===Rp.Error,"Should only perform backoff when in Error state"),this.state=Rp.Backoff,this.backoff.backoffAndRun(function(){return w(a,void 0,void 0,function(){return x(this,function(a){return ob(this.state===Rp.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=Rp.Initial,this.start(),ob(this.isStarted(),"PersistentStream should have started"),[2]})})})},a.prototype.handleStreamClose=function(a){return ob(this.isStarted(),"Can't handle server close on non-started stream"),kb(Xq,"close with error: "+a),this.stream=null,this.close(Rp.Error,a)},a.prototype.getCloseGuardedDispatcher=function(a){var b=this;return function(c){b.queue.enqueueAndForget(function(){return b.closeCount===a?c():(kb(Xq,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},a}(),br=function(a){function b(b,c,d,e,f){var g=a.call(this,b,Bp.ListenStreamConnectionBackoff,Bp.ListenStreamIdle,c,d,f)||this;return g.serializer=e,g}return v(b,a),b.prototype.startRpc=function(a){return this.connection.openStream("Listen",a)},b.prototype.onMessage=function(a){this.backoff.reset();var b=this.serializer.fromWatchChange(a),c=this.serializer.versionFromListenResponse(a);return this.listener.onWatchChange(b,c)},b.prototype.watch=function(a){var b={};b.database=this.serializer.encodedDatabaseId,b.addTarget=this.serializer.toTarget(a);var c=this.serializer.toListenRequestLabels(a);c&&(b.labels=c),this.sendRequest(b)},b.prototype.unwatch=function(a){var b={};b.database=this.serializer.encodedDatabaseId,b.removeTarget=a,this.sendRequest(b)},b}(ar),cr=function(a){function b(b,c,d,e,f){var g=a.call(this,b,Bp.WriteStreamConnectionBackoff,Bp.WriteStreamIdle,c,d,f)||this;return g.serializer=e,g.handshakeComplete_=!1,g}return v(b,a),Object.defineProperty(b.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),b.prototype.start=function(){this.handshakeComplete_=!1,a.prototype.start.call(this)},b.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},b.prototype.startRpc=function(a){return this.connection.openStream("Write",a)},b.prototype.onMessage=function(a){if(ob(!!a.streamToken,"Got a write response without a stream token"),this.lastStreamToken=a.streamToken,this.handshakeComplete_){this.backoff.reset();var b=this.serializer.fromWriteResults(a.writeResults,a.commitTime),c=this.serializer.fromVersion(a.commitTime);return this.listener.onMutationResult(c,b)}return ob(!a.writeResults||0===a.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},b.prototype.writeHandshake=function(){ob(this.isOpen(),"Writing handshake requires an opened stream"),ob(!this.handshakeComplete_,"Handshake already completed");var a={};a.database=this.serializer.encodedDatabaseId,this.sendRequest(a)},b.prototype.writeMutations=function(a){var b=this;ob(this.isOpen(),"Writing mutations requires an opened stream"),ob(this.handshakeComplete_,"Handshake must be complete before writing mutations"),ob(0<this.lastStreamToken.length,"Trying to write mutation without a token");var c={streamToken:this.lastStreamToken,writes:a.map(function(a){return b.serializer.toMutation(a)})};this.sendRequest(c)},b}(ar),dr=function(){function a(a,b,c,d){this.queue=a,this.connection=b,this.credentials=c,this.serializer=d}return a.prototype.newPersistentWriteStream=function(a){return new cr(this.queue,this.connection,this.credentials,this.serializer,a)},a.prototype.newPersistentWatchStream=function(a){return new br(this.queue,this.connection,this.credentials,this.serializer,a)},a.prototype.commit=function(a){var b=this,c={database:this.serializer.encodedDatabaseId,writes:a.map(function(a){return b.serializer.toMutation(a)})};return this.invokeRPC("Commit",c).then(function(a){return b.serializer.fromWriteResults(a.writeResults,a.commitTime)})},a.prototype.lookup=function(a){var b=this,c={database:this.serializer.encodedDatabaseId,documents:a.map(function(a){return b.serializer.toName(a)})};return this.invokeStreamingRPC("BatchGetDocuments",c).then(function(c){var d=Zb();c.forEach(function(a){var c=b.serializer.fromMaybeDocument(a);d=d.insert(c.key,c)});var e=[];return a.forEach(function(a){var b=d.get(a);ob(!!b,"Missing entity in write response for "+a),e.push(b)}),e})},a.prototype.invokeRPC=function(a,b){var c=this;return this.credentials.getToken().then(function(d){return c.connection.invokeRPC(a,b,d)})["catch"](function(a){throw a.code===xn.UNAUTHENTICATED&&c.credentials.invalidateToken(),a})},a.prototype.invokeStreamingRPC=function(a,b){var c=this;return this.credentials.getToken().then(function(d){return c.connection.invokeStreamingRPC(a,b,d)})["catch"](function(a){throw a.code===xn.UNAUTHENTICATED&&c.credentials.invalidateToken(),a})},a}(),er=function(){function a(a){this.datastore=a,this.readVersions=ac(),this.mutations=[],this.committed=!1}return a.prototype.recordVersion=function(a){var b;if(a instanceof On)b=a.version;else{if(!(a instanceof Pn))throw nb("Document in a transaction was a "+a.constructor.name);b=Ao.forDeletedDoc()}var c=this.readVersions.get(a.key);if(null!==c){if(!b.isEqual(c))throw new yn(xn.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(a.key,b)},a.prototype.lookup=function(a){var b=this;return this.committed?Promise.reject("Transaction has already completed."):0<this.mutations.length?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(a).then(function(a){return a.forEach(function(a){a instanceof Pn||a instanceof On?b.recordVersion(a):nb("Document in a transaction was a "+a.constructor.name)}),a})},a.prototype.write=function(a){if(this.committed)throw new yn(xn.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(a)},a.prototype.precondition=function(a){var b=this.readVersions.get(a);return b?Lo.updateTime(b):Lo.NONE},a.prototype.preconditionForUpdate=function(a){var b=this.readVersions.get(a);if(b&&b.isEqual(Ao.forDeletedDoc()))throw new yn(xn.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return b?Lo.updateTime(b):Lo.exists(!0)},a.prototype.set=function(a,b){this.write(b.toMutations(a,this.precondition(a)))},a.prototype.update=function(a,b){this.write(b.toMutations(a,this.preconditionForUpdate(a)))},a.prototype["delete"]=function(a){this.write([new Qo(a,this.precondition(a))]),this.readVersions=this.readVersions.insert(a,Ao.forDeletedDoc())},a.prototype.commit=function(){var a=this,b=this.readVersions;return this.mutations.forEach(function(a){b=b.remove(a.key)}),b.isEmpty()?this.datastore.commit(this.mutations).then(function(){a.committed=!0}):Promise.reject(Error("Every document read in a transaction must also be written."))},a}();(Zq=Yq||(Yq={}))[Zq.Unknown=0]="Unknown",Zq[Zq.Online=1]="Online",Zq[Zq.Offline=2]="Offline",(_q=$q||($q={}))[_q.RemoteStore=0]="RemoteStore",_q[_q.SharedClientState=1]="SharedClientState";var fr,gr,hr=function(){function a(a,b){this.asyncQueue=a,this.onlineStateHandler=b,this.state=Yq.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return a.prototype.handleWatchStreamStart=function(){var a=this;0===this.watchStreamFailures&&(this.setAndBroadcast(Yq.Unknown),ob(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(Bp.OnlineStateTimeout,1e4,function(){return a.onlineStateTimer=null,ob(a.state===Yq.Unknown,"Timer should be canceled if we transitioned to a different state."),a.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),a.setAndBroadcast(Yq.Offline),Promise.resolve()}))},a.prototype.handleWatchStreamFailure=function(a){this.state===Yq.Online?(this.setAndBroadcast(Yq.Unknown),ob(0===this.watchStreamFailures,"watchStreamFailures must be 0"),ob(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,1<=this.watchStreamFailures&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+a.toString()),this.setAndBroadcast(Yq.Offline)))},a.prototype.set=function(a){this.clearOnlineStateTimer(),this.watchStreamFailures=0,a===Yq.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(a)},a.prototype.setAndBroadcast=function(a){a!==this.state&&(this.state=a,this.onlineStateHandler(a))},a.prototype.logClientOfflineWarningIfNecessary=function(a){var b="Could not reach Cloud Firestore backend. "+a+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(lb(b),this.shouldWarnClientIsOffline=!1):kb("OnlineStateTracker",b)},a.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},a}(),ir="RemoteStore",jr=function(){function a(a,b,c,d){this.localStore=a,this.datastore=b,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.onlineStateTracker=new hr(c,d),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return a.prototype.start=function(){return this.enableNetwork()},a.prototype.enableNetwork=function(){return w(this,void 0,void 0,function(){var a;return x(this,function(b){switch(b.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(a=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return a.lastStreamToken=b.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(Yq.Unknown),[4,this.fillWritePipeline()];case 2:b.sent(),b.label=3;case 3:return[2]}})})},a.prototype.disableNetwork=function(){return w(this,void 0,void 0,function(){return x(this,function(a){switch(a.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return a.sent(),this.onlineStateTracker.set(Yq.Offline),[2]}})})},a.prototype.disableNetworkInternal=function(){return w(this,void 0,void 0,function(){return x(this,function(a){switch(a.label){case 0:return[4,this.writeStream.stop()];case 1:return a.sent(),[4,this.watchStream.stop()];case 2:return a.sent(),0<this.writePipeline.length&&(kb(ir,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}})})},a.prototype.shutdown=function(){return w(this,void 0,void 0,function(){return x(this,function(a){switch(a.label){case 0:return kb(ir,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return a.sent(),this.onlineStateTracker.set(Yq.Unknown),[2]}})})},a.prototype.listen=function(a){ob(!rb(this.listenTargets,a.targetId),"listen called with duplicate targetId!"),this.listenTargets[a.targetId]=a,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(a)},a.prototype.unlisten=function(a){ob(rb(this.listenTargets,a),"unlisten called without assigned target ID!"),delete this.listenTargets[a],this.watchStream.isOpen()&&this.sendUnwatchRequest(a),vb(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(Yq.Unknown))},a.prototype.getQueryDataForTarget=function(a){return this.listenTargets[a]||null},a.prototype.getRemoteKeysForTarget=function(a){return this.syncEngine.getRemoteKeysForTarget(a)},a.prototype.sendWatchRequest=function(a){this.watchChangeAggregator.recordPendingTargetRequest(a.targetId),this.watchStream.watch(a)},a.prototype.sendUnwatchRequest=function(a){this.watchChangeAggregator.recordPendingTargetRequest(a),this.watchStream.unwatch(a)},a.prototype.startWatchStream=function(){ob(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),
this.watchChangeAggregator=new qp(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},a.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!vb(this.listenTargets)},a.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},a.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},a.prototype.onWatchStreamOpen=function(){return w(this,void 0,void 0,function(){var a=this;return x(this,function(b){return tb(this.listenTargets,function(b,c){a.sendWatchRequest(c)}),[2]})})},a.prototype.onWatchStreamClose=function(a){return w(this,void 0,void 0,function(){return x(this,function(b){return void 0===a&&ob(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(a),this.startWatchStream()):this.onlineStateTracker.set(Yq.Unknown),[2]})})},a.prototype.onWatchStreamChange=function(a,b){return w(this,void 0,void 0,function(){var c;return x(this,function(d){switch(d.label){case 0:return this.onlineStateTracker.set(Yq.Online),a instanceof op&&a.state===ep.Removed&&a.cause?[2,this.handleTargetError(a)]:(a instanceof kp?this.watchChangeAggregator.handleDocumentChange(a):a instanceof lp?this.watchChangeAggregator.handleExistenceFilter(a):(ob(a instanceof op,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(a)),b.isEqual(Ao.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return c=d.sent(),0<=b.compareTo(c)?[4,this.raiseWatchSnapshot(b)]:[3,3];case 2:d.sent(),d.label=3;case 3:return[2]}})})},a.prototype.raiseWatchSnapshot=function(a){var b=this;ob(!a.isEqual(Ao.MIN),"Can't raise event for unknown SnapshotVersion");var c=this.watchChangeAggregator.createRemoteEvent(a);return tb(c.targetChanges,function(c,d){if(0<d.resumeToken.length){var e=b.listenTargets[c];e&&(b.listenTargets[c]=e.copy({resumeToken:d.resumeToken,snapshotVersion:a}))}}),c.targetMismatches.forEach(function(a){var c=b.listenTargets[a];if(c){b.listenTargets[a]=c.copy({resumeToken:pb()}),b.sendUnwatchRequest(a);var d=new Do(c.query,a,Vn.ExistenceFilterMismatch,c.sequenceNumber);b.sendWatchRequest(d)}}),this.syncEngine.applyRemoteEvent(c)},a.prototype.handleTargetError=function(a){var b=this;ob(!!a.cause,"Handling target error without a cause");var c=a.cause,d=Promise.resolve();return a.targetIds.forEach(function(a){d=d.then(function(){return w(b,void 0,void 0,function(){return x(this,function(b){return rb(this.listenTargets,a)?(delete this.listenTargets[a],this.watchChangeAggregator.removeTarget(a),[2,this.syncEngine.rejectListen(a,c)]):[2]})})})}),d},a.prototype.fillWritePipeline=function(){return w(this,void 0,void 0,function(){var a,b;return x(this,function(c){switch(c.label){case 0:return this.canAddToWritePipeline()?(a=0<this.writePipeline.length?this.writePipeline[this.writePipeline.length-1].batchId:-1,[4,this.localStore.nextMutationBatch(a)]):[3,4];case 1:return null!==(b=c.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(b),[4,this.fillWritePipeline()];case 3:c.sent(),c.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})},a.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},a.prototype.outstandingWrites=function(){return this.writePipeline.length},a.prototype.addToWritePipeline=function(a){ob(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(a),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(a.mutations)},a.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&0<this.writePipeline.length},a.prototype.startWriteStream=function(){ob(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},a.prototype.onWriteStreamOpen=function(){return w(this,void 0,void 0,function(){return x(this,function(a){return this.writeStream.writeHandshake(),[2]})})},a.prototype.onWriteHandshakeComplete=function(){var a=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var b=0,c=a.writePipeline;b<c.length;b++){var d=c[b];a.writeStream.writeMutations(d.mutations)}})["catch"](Fc)},a.prototype.onMutationResult=function(a,b){var c=this;ob(0<this.writePipeline.length,"Got result for empty write pipeline");var d=this.writePipeline.shift(),e=Op.from(d,a,b,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(e).then(function(){return c.fillWritePipeline()})},a.prototype.onWriteStreamClose=function(a){return w(this,void 0,void 0,function(){var b=this;return x(this,function(c){return void 0===a&&ob(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),a&&0<this.writePipeline.length?[2,(this.writeStream.handshakeComplete?this.handleWriteError(a):this.handleHandshakeError(a)).then(function(){b.shouldStartWriteStream()&&b.startWriteStream()})]:[2]})})},a.prototype.handleHandshakeError=function(a){return w(this,void 0,void 0,function(){return x(this,function(b){return Xb(a.code)?(kb(ir,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=pb(),[2,this.localStore.setLastStreamToken(pb())["catch"](Fc)]):[2]})})},a.prototype.handleWriteError=function(a){return w(this,void 0,void 0,function(){var b,c=this;return x(this,function(d){return Xb(e=a.code)&&e!==xn.ABORTED?(b=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(b.batchId,a).then(function(){return c.fillWritePipeline()})]):[2];var e})})},a.prototype.createTransaction=function(){return new er(this.datastore)},a.prototype.handleCredentialChange=function(){return w(this,void 0,void 0,function(){return x(this,function(a){switch(a.label){case 0:return this.canUseNetwork()?(kb(ir,"RemoteStore restarting streams for new credential"),this.networkEnabled=!1,[4,this.disableNetworkInternal()]):[3,3];case 1:return a.sent(),this.onlineStateTracker.set(Yq.Unknown),[4,this.enableNetwork()];case 2:a.sent(),a.label=3;case 3:return[2]}})})},a.prototype.applyPrimaryState=function(a){return w(this,void 0,void 0,function(){return x(this,function(b){switch(b.label){case 0:return(this.isPrimary=a)&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return b.sent(),[3,4];case 2:return a?[3,4]:[4,this.disableNetworkInternal()];case 3:b.sent(),this.onlineStateTracker.set(Yq.Unknown),b.label=4;case 4:return[2]}})})},a}(),kr=function(){this.listeners=[]},lr=function(){function a(a){this.syncEngine=a,this.queries=new $p(function(a){return a.canonicalId()}),this.onlineState=Yq.Unknown,this.syncEngine.subscribe(this)}return a.prototype.listen=function(a){var b=a.query,c=!1,d=this.queries.get(b);return d||(c=!0,d=new kr,this.queries.set(b,d)),d.listeners.push(a),a.applyOnlineStateChange(this.onlineState),d.viewSnap&&a.onViewSnapshot(d.viewSnap),c?this.syncEngine.listen(b).then(function(a){return d.targetId=a}):Promise.resolve(d.targetId)},a.prototype.unlisten=function(a){return w(this,void 0,void 0,function(){var b,c,d,e;return x(this,function(f){return b=a.query,c=!1,(d=this.queries.get(b))&&0<=(e=d.listeners.indexOf(a))&&(d.listeners.splice(e,1),c=0===d.listeners.length),c?(this.queries["delete"](b),[2,this.syncEngine.unlisten(b)]):[2]})})},a.prototype.onWatchChange=function(a){for(var b=0,c=a;b<c.length;b++){var d=c[b],e=d.query,f=this.queries.get(e);if(f){for(var g=0,h=f.listeners;g<h.length;g++)h[g].onViewSnapshot(d);f.viewSnap=d}}},a.prototype.onWatchError=function(a,b){var c=this.queries.get(a);if(c)for(var d=0,e=c.listeners;d<e.length;d++)e[d].onError(b);this.queries["delete"](a)},a.prototype.onOnlineStateChange=function(a){this.onlineState=a,this.queries.forEach(function(b,c){for(var d=0,e=c.listeners;d<e.length;d++)e[d].applyOnlineStateChange(a)})},a}(),mr=function(){function a(a,b,c){this.query=a,this.queryObserver=b,this.raisedInitialEvent=!1,this.onlineState=Yq.Unknown,this.options=c||{}}return a.prototype.onViewSnapshot=function(a){if(ob(0<a.docChanges.length||a.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var b=[],c=0,d=a.docChanges;c<d.length;c++){var e=d[c];e.type!==Wo.Metadata&&b.push(e)}a=new hp(a.query,a.docs,a.oldDocs,b,a.mutatedKeys,a.fromCache,a.syncStateChanged,!0)}this.raisedInitialEvent?this.shouldRaiseEvent(a)&&this.queryObserver.next(a):this.shouldRaiseInitialEvent(a,this.onlineState)&&this.raiseInitialEvent(a),this.snap=a},a.prototype.onError=function(a){this.queryObserver.error(a)},a.prototype.applyOnlineStateChange=function(a){this.onlineState=a,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,a)&&this.raiseInitialEvent(this.snap)},a.prototype.shouldRaiseInitialEvent=function(a,b){if(ob(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!a.fromCache)return!0;var c=b!==Yq.Offline;return this.options.waitForSyncWhenOnline&&c?(ob(a.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!a.docs.isEmpty()||b===Yq.Offline},a.prototype.shouldRaiseEvent=function(a){if(0<a.docChanges.length)return!0;var b=this.snap&&this.snap.hasPendingWrites!==a.hasPendingWrites;return!(!a.syncStateChanged&&!b)&&!0===this.options.includeMetadataChanges},a.prototype.raiseInitialEvent=function(a){ob(!this.raisedInitialEvent,"Trying to raise initial events for second time"),a=hp.fromInitialDocuments(a.query,a.docs,a.mutatedKeys,a.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(a)},a}(),nr=function(){function a(a,b,c){this.targetId=a,this.addedKeys=b,this.removedKeys=c}return a.fromSnapshot=function(b,c){for(var d=bc(),e=bc(),f=0,g=c.docChanges;f<g.length;f++){var h=g[f];switch(h.type){case Wo.Added:d=d.add(h.doc.key);break;case Wo.Removed:e=e.add(h.doc.key)}}return new a(b,d,e)},a}(),or=function(a){this.key=a},pr=function(a){this.key=a},qr=function(){function a(a,b){this.query=a,this._syncedDocuments=b,this.syncState=null,this.current=!1,this.limboDocuments=bc(),this.mutatedKeys=bc(),this.documentSet=new dp(a.docComparator.bind(a))}return Object.defineProperty(a.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),a.prototype.computeDocChanges=function(a,b){var c=this,d=b?b.changeSet:new gp,e=b?b.documentSet:this.documentSet,f=b?b.mutatedKeys:this.mutatedKeys,g=e,h=!1,i=this.query.hasLimit()&&e.size===this.query.limit?e.last():null;if(a.inorderTraversal(function(a,b){var j=e.get(a),k=b instanceof On?b:null;k&&(ob(a.isEqual(k.key),"Mismatching keys found in document changes: "+a+" != "+k.key),k=c.query.matches(k)?k:null);var l=!!j&&c.mutatedKeys.has(j.key),m=!!k&&(k.hasLocalMutations||c.mutatedKeys.has(k.key)&&k.hasCommittedMutations),n=!1;j&&k?j.data.isEqual(k.data)?l!==m&&(d.track({type:Wo.Metadata,doc:k}),n=!0):c.shouldWaitForSyncedDocument(j,k)||(d.track({type:Wo.Modified,doc:k}),n=!0,i&&0<c.query.docComparator(k,i)&&(h=!0)):!j&&k?(d.track({type:Wo.Added,doc:k}),n=!0):j&&!k&&(d.track({type:Wo.Removed,doc:j}),n=!0,i&&(h=!0)),n&&(f=k?(g=g.add(k),m?f.add(a):f["delete"](a)):(g=g["delete"](a),f["delete"](a)))}),this.query.hasLimit())for(;g.size>this.query.limit;){var j=g.last();g=g["delete"](j.key),f=f["delete"](j.key),d.track({type:Wo.Removed,doc:j})}return ob(!h||!b,"View was refilled using docs that themselves needed refilling."),{documentSet:g,changeSet:d,needsRefill:h,mutatedKeys:f}},a.prototype.shouldWaitForSyncedDocument=function(a,b){return a.hasLocalMutations&&b.hasCommittedMutations&&!b.hasLocalMutations},a.prototype.applyChanges=function(a,b,c){var d=this;ob(!a.needsRefill,"Cannot apply changes that need a refill");var e=this.documentSet;this.documentSet=a.documentSet,this.mutatedKeys=a.mutatedKeys;var f=a.changeSet.getChanges();f.sort(function(a,b){return c=a.type,e=b.type,(f=function(a){switch(a){case Wo.Added:return 1;case Wo.Modified:case Wo.Metadata:return 2;case Wo.Removed:return 0;default:return nb("Unknown ChangeType: "+a)}})(c)-f(e)||d.query.docComparator(a.doc,b.doc);var c,e,f}),this.applyTargetChange(c);var g=b?this.updateLimboDocuments():[],h=0===this.limboDocuments.size&&this.current?Yo.Synced:Yo.Local,i=h!==this.syncState;return this.syncState=h,0!==f.length||i?{snapshot:new hp(this.query,a.documentSet,e,f,a.mutatedKeys,h===Yo.Local,i,!1),limboChanges:g}:{limboChanges:g}},a.prototype.applyOnlineStateChange=function(a){return this.current&&a===Yq.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new gp,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},a.prototype.shouldBeInLimbo=function(a){return!this._syncedDocuments.has(a)&&!!this.documentSet.has(a)&&!this.documentSet.get(a).hasLocalMutations},a.prototype.applyTargetChange=function(a){var b=this;a&&(a.addedDocuments.forEach(function(a){return b._syncedDocuments=b._syncedDocuments.add(a)}),a.modifiedDocuments.forEach(function(a){return ob(b._syncedDocuments.has(a),"Modified document "+a+" not found in view.")}),a.removedDocuments.forEach(function(a){return b._syncedDocuments=b._syncedDocuments["delete"](a)}),this.current=a.current)},a.prototype.updateLimboDocuments=function(){var a=this;if(!this.current)return[];var b=this.limboDocuments;this.limboDocuments=bc(),this.documentSet.forEach(function(b){a.shouldBeInLimbo(b.key)&&(a.limboDocuments=a.limboDocuments.add(b.key))});var c=[];return b.forEach(function(b){a.limboDocuments.has(b)||c.push(new pr(b))}),this.limboDocuments.forEach(function(a){b.has(a)||c.push(new or(a))}),c},a.prototype.synchronizeWithPersistedState=function(a,b){this._syncedDocuments=b,this.limboDocuments=bc();var c=this.computeDocChanges(a);return this.applyChanges(c,!0)},a.prototype.computeInitialSnapshot=function(){return hp.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Yo.Local)},a}(),rr="SyncEngine",sr=function(a,b,c){this.query=a,this.targetId=b,this.view=c},tr=function(a){this.key=a},ur=function(){function a(a,b,c,d){this.localStore=a,this.remoteStore=b,this.sharedClientState=c,this.currentUser=d,this.syncEngineListener=null,this.queryViewsByQuery=new $p(function(a){return a.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new Rn(Mn.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new Lq,this.mutationUserCallbacks={},this.limboTargetIdGenerator=Tp.forSyncEngine(),this.isPrimary=void 0,this.onlineState=Yq.Unknown}return Object.defineProperty(a.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),a.prototype.subscribe=function(a){ob(null!==a,"SyncEngine listener cannot be null"),ob(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=a},a.prototype.listen=function(a){return w(this,void 0,void 0,function(){var b,c,d,e,f;return x(this,function(g){switch(g.label){case 0:return this.assertSubscribed("listen()"),(d=this.queryViewsByQuery.get(a))?(b=d.targetId,this.sharedClientState.addLocalQueryTarget(b),c=d.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(a)];case 2:return e=g.sent(),f=this.sharedClientState.addLocalQueryTarget(e.targetId),b=e.targetId,[4,this.initializeViewAndComputeSnapshot(e,"current"===f)];case 3:c=g.sent(),this.isPrimary&&this.remoteStore.listen(e),g.label=4;case 4:return this.syncEngineListener.onWatchChange([c]),[2,b]}})})},a.prototype.initializeViewAndComputeSnapshot=function(a,b){var c=this,d=a.query;return this.localStore.executeQuery(d).then(function(e){return c.localStore.remoteDocumentKeys(a.targetId).then(function(f){var g=new qr(d,f),h=g.computeDocChanges(e),i=jp.createSynthesizedTargetChangeForCurrentChange(a.targetId,b&&c.onlineState!==Yq.Offline),j=g.applyChanges(h,!0===c.isPrimary,i);ob(0===j.limboChanges.length,"View returned limbo docs before target ack from the server."),ob(!!j.snapshot,"applyChanges for new view should always return a snapshot");var k=new sr(d,a.targetId,g);return c.queryViewsByQuery.set(d,k),c.queryViewsByTarget[a.targetId]=k,j.snapshot})})},a.prototype.synchronizeViewAndComputeSnapshot=function(a){var b=this;return this.localStore.executeQuery(a.query).then(function(c){return b.localStore.remoteDocumentKeys(a.targetId).then(function(d){return w(b,void 0,void 0,function(){var b;return x(this,function(e){return b=a.view.synchronizeWithPersistedState(c,d),this.isPrimary&&this.updateTrackedLimbos(a.targetId,b.limboChanges),[2,b]})})})})},a.prototype.unlisten=function(a){return w(this,void 0,void 0,function(){var b,c=this;return x(this,function(d){switch(d.label){case 0:return this.assertSubscribed("unlisten()"),ob(!!(b=this.queryViewsByQuery.get(a)),"Trying to unlisten on query not found:"+a),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(b.targetId),this.sharedClientState.isActiveQueryTarget(b.targetId)?[3,2]:[4,this.localStore.releaseQuery(a,!1).then(function(){c.sharedClientState.clearQueryState(b.targetId),c.remoteStore.unlisten(b.targetId),c.removeAndCleanupQuery(b)})["catch"](Fc)]):[3,3];case 1:d.sent(),d.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(b),[4,this.localStore.releaseQuery(a,!0)];case 4:d.sent(),d.label=5;case 5:return[2]}})})},a.prototype.write=function(a,b){var c=this;return this.assertSubscribed("write()"),this.localStore.localWrite(a).then(function(a){return c.sharedClientState.addPendingMutation(a.batchId),c.addMutationCallback(a.batchId,b),c.emitNewSnapsAndNotifyLocalStore(a.changes)}).then(function(){return c.remoteStore.fillWritePipeline()})},a.prototype.wrapUpdateFunctionError=function(a){return a},a.prototype.runTransaction=function(a,b){var c=this;void 0===b&&(b=5),ob(b>=0,"Got negative number of retries for transaction.");var d=this.remoteStore.createTransaction();return function(){try{var b=a(d);return!Ub(b)&&b["catch"]&&b.then?b["catch"](function(a){return Promise.reject(c.wrapUpdateFunctionError(a))}):Promise.reject(Error("Transaction callback must return a Promise"))}catch(b){return Promise.reject(c.wrapUpdateFunctionError(b))}}().then(function(e){return d.commit().then(function(){return e})["catch"](function(d){return 0===b?Promise.reject(d):c.runTransaction(a,b-1)})})},a.prototype.applyRemoteEvent=function(a){var b=this;return this.assertSubscribed("applyRemoteEvent()"),this.localStore.applyRemoteEvent(a).then(function(c){return ub(a.targetChanges,function(a,c){var d=b.limboResolutionsByTarget[a];d&&(ob(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),0<c.addedDocuments.size?d.receivedDocument=!0:0<c.modifiedDocuments.size?ob(d.receivedDocument,"Received change for limbo target document without add."):0<c.removedDocuments.size&&(ob(d.receivedDocument,"Received remove for limbo target document without add."),d.receivedDocument=!1))}),b.emitNewSnapsAndNotifyLocalStore(c,a)})["catch"](Fc)},a.prototype.applyOnlineStateChange=function(a,b){if(this.isPrimary&&b===$q.RemoteStore||!this.isPrimary&&b===$q.SharedClientState){var c=[];this.queryViewsByQuery.forEach(function(b,d){var e=d.view.applyOnlineStateChange(a);ob(0===e.limboChanges.length,"OnlineState should not affect limbo documents."),e.snapshot&&c.push(e.snapshot)}),this.syncEngineListener.onOnlineStateChange(a),this.syncEngineListener.onWatchChange(c),this.onlineState=a,this.isPrimary&&this.sharedClientState.setOnlineState(a)}},a.prototype.rejectListen=function(a,b){return w(this,void 0,void 0,function(){var c,d,e,f,g,h,i=this;return x(this,function(j){switch(j.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(a,"rejected",b),c=this.limboResolutionsByTarget[a],(d=c&&c.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(d),delete this.limboResolutionsByTarget[a],e=(e=new Rn(Mn.comparator)).insert(d,new Pn(d,Ao.forDeletedDoc())),f=bc().add(d),g=new ip(Ao.MIN,{},new Eo(Ob),e,f),[2,this.applyRemoteEvent(g)]):[3,1];case 1:return ob(!!(h=this.queryViewsByTarget[a]),"Unknown targetId: "+a),[4,this.localStore.releaseQuery(h.query,!1).then(function(){return i.removeAndCleanupQuery(h)})["catch"](Fc)];case 2:j.sent(),this.syncEngineListener.onWatchError(h.query,b),j.label=3;case 3:return[2]}})})},a.prototype.applyBatchState=function(a,b,c){return w(this,void 0,void 0,function(){var d;return x(this,function(e){switch(e.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(a)];case 1:return null===(d=e.sent())?(kb(rr,"Cannot apply mutation batch with id: "+a),[2]):"pending"!==b?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return e.sent(),[3,4];case 3:"acknowledged"===b||"rejected"===b?(this.processUserCallback(a,c||null),this.localStore.removeCachedMutationBatchMetadata(a)):nb("Unknown batchState: "+b),e.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(d)];case 5:return e.sent(),[2]}})})},a.prototype.applySuccessfulWrite=function(a){var b=this;this.assertSubscribed("applySuccessfulWrite()");var c=a.batch.batchId;return this.processUserCallback(c,null),this.localStore.acknowledgeBatch(a).then(function(a){return b.sharedClientState.updateMutationState(c,"acknowledged"),b.emitNewSnapsAndNotifyLocalStore(a)})["catch"](Fc)},a.prototype.rejectFailedWrite=function(a,b){var c=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(a,b),this.localStore.rejectBatch(a).then(function(d){return c.sharedClientState.updateMutationState(a,"rejected",b),c.emitNewSnapsAndNotifyLocalStore(d)})["catch"](Fc)},a.prototype.addMutationCallback=function(a,b){var c=this.mutationUserCallbacks[this.currentUser.toKey()];c||(c=new Rn(Ob)),c=c.insert(a,b),this.mutationUserCallbacks[this.currentUser.toKey()]=c},a.prototype.processUserCallback=function(a,b){var c=this.mutationUserCallbacks[this.currentUser.toKey()];if(c){var d=c.get(a);d&&(ob(a===c.minKey(),"Mutation callbacks processed out-of-order?"),b?d.reject(b):d.resolve(),c=c.remove(a)),this.mutationUserCallbacks[this.currentUser.toKey()]=c}},a.prototype.removeAndCleanupQuery=function(a){var b=this;if(this.sharedClientState.removeLocalQueryTarget(a.targetId),this.queryViewsByQuery["delete"](a.query),delete this.queryViewsByTarget[a.targetId],this.isPrimary){var c=this.limboDocumentRefs.referencesForId(a.targetId);this.limboDocumentRefs.removeReferencesForId(a.targetId),c.forEach(function(a){b.limboDocumentRefs.containsKey(a)||b.removeLimboTarget(a)})}},a.prototype.removeLimboTarget=function(a){var b=this.limboTargetsByKey.get(a);null!==b&&(this.remoteStore.unlisten(b),this.limboTargetsByKey=this.limboTargetsByKey.remove(a),delete this.limboResolutionsByTarget[b])},a.prototype.updateTrackedLimbos=function(a,b){for(var c=0,d=b;c<d.length;c++){var e=d[c];e instanceof or?(this.limboDocumentRefs.addReference(e.key,a),this.trackLimboChange(e)):e instanceof pr?(kb(rr,"Document no longer in limbo: "+e.key),this.limboDocumentRefs.removeReference(e.key,a),this.limboDocumentRefs.containsKey(e.key)||this.removeLimboTarget(e.key)):nb("Unknown limbo change: "+JSON.stringify(e))}},a.prototype.trackLimboChange=function(a){var b=a.key;if(!this.limboTargetsByKey.get(b)){kb(rr,"New document in limbo: "+b);var c=this.limboTargetIdGenerator.next(),d=po.atPath(b.path);this.limboResolutionsByTarget[c]=new tr(b),this.remoteStore.listen(new Do(d,c,Vn.LimboResolution,Dp.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(b,c)}},a.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},a.prototype.emitNewSnapsAndNotifyLocalStore=function(a,b){return w(this,void 0,void 0,function(){var c,d,e,f=this;return x(this,function(g){switch(g.label){case 0:return c=[],d=[],e=[],this.queryViewsByQuery.forEach(function(g,h){e.push(Promise.resolve().then(function(){var b=h.view.computeDocChanges(a);return b.needsRefill?f.localStore.executeQuery(h.query).then(function(a){return h.view.computeDocChanges(a,b)}):b}).then(function(a){var e=b&&b.targetChanges[h.targetId],g=h.view.applyChanges(a,!0===f.isPrimary,e);if(f.updateTrackedLimbos(h.targetId,g.limboChanges),g.snapshot){f.isPrimary&&f.sharedClientState.updateQueryState(h.targetId,g.snapshot.fromCache?"not-current":"current"),c.push(g.snapshot);var i=nr.fromSnapshot(h.targetId,g.snapshot);d.push(i)}}))}),[4,Promise.all(e)];case 1:return g.sent(),this.syncEngineListener.onWatchChange(c),[4,this.localStore.notifyLocalViewChanges(d)];case 2:return g.sent(),[2]}})})},a.prototype.assertSubscribed=function(a){ob(null!==this.syncEngineListener,"Trying to call "+a+" before calling subscribe().")},a.prototype.handleCredentialChange=function(a){return w(this,void 0,void 0,function(){var b,c;return x(this,function(d){switch(d.label){case 0:return b=!this.currentUser.isEqual(a),this.currentUser=a,b?[4,this.localStore.handleUserChange(a)]:[3,3];case 1:return c=d.sent(),this.sharedClientState.handleUserChange(a,c.removedBatchIds,c.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(c.affectedDocuments)];case 2:d.sent(),d.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return d.sent(),[2]}})})},a.prototype.applyPrimaryState=function(a){return w(this,void 0,void 0,function(){var b,c,d,e,f,g,h,i=this;return x(this,function(j){switch(j.label){case 0:return!0!==a||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return j.sent(),b=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(b.toArray())];case 2:for(c=j.sent(),d=0,e=c;d<e.length;d++)f=e[d],this.remoteStore.listen(f);return[3,7];case 3:return!1!==a||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,g=[],h=Promise.resolve(),tb(this.queryViewsByTarget,function(a,b){i.sharedClientState.isLocalQueryTarget(a)?g.push(a):h=h.then(function(){return i.unlisten(b.query)}),i.remoteStore.unlisten(b.targetId)}),[4,h]);case 4:return j.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(g)];case 5:return j.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:j.sent(),j.label=7;case 7:return[2]}})})},a.prototype.resetLimboDocuments=function(){var a=this;tb(this.limboResolutionsByTarget,function(b){a.remoteStore.unlisten(b)}),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new Rn(Mn.comparator)},a.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(a){for(var b=this,c=Promise.resolve(),d=[],e=[],f=function(a){c=c.then(function(){return w(b,void 0,void 0,function(){var b,c,f,g;return x(this,function(h){switch(h.label){case 0:return(c=this.queryViewsByTarget[a])?[4,this.localStore.releaseQuery(c.query,!0)]:[3,4];case 1:return h.sent(),[4,this.localStore.allocateQuery(c.query)];case 2:return b=h.sent(),[4,this.synchronizeViewAndComputeSnapshot(c)];case 3:return(f=h.sent()).snapshot&&e.push(f.snapshot),[3,8];case 4:return ob(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(a)];case 5:return ob(!!(g=h.sent()),"Query data for target "+a+" not found"),[4,this.localStore.allocateQuery(g)];case 6:return b=h.sent(),[4,this.initializeViewAndComputeSnapshot(b,!1)];case 7:h.sent(),h.label=8;case 8:return d.push(b),[2]}})})})},g=0,h=a;g<h.length;g++)f(h[g]);return c.then(function(){return b.syncEngineListener.onWatchChange(e),d})},a.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},a.prototype.applyTargetState=function(a,b,c){return w(this,void 0,void 0,function(){var d,e=this;return x(this,function(f){switch(f.label){case 0:if(this.isPrimary)return kb(rr,"Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[a])return[3,5];switch(b){case"current":case"not-current":return[3,1];case"rejected":return[3,2]}return[3,4];case 1:return[2,this.localStore.getNewDocumentChanges().then(function(c){return w(e,void 0,void 0,function(){var d;return x(this,function(e){switch(e.label){case 0:return d=ip.createSynthesizedRemoteEventForCurrentChange(a,"current"===b),[4,this.emitNewSnapsAndNotifyLocalStore(c,d)];case 1:return e.sent(),[2]}})})},function(a){return w(e,void 0,void 0,function(){var b;return x(this,function(c){switch(c.label){case 0:return(d=a).code!==xn.DATA_LOSS||d.message!==aq?[3,2]:(b=[],tb(this.queryViewsByTarget,function(a){return b.push(a)}),[4,this.synchronizeQueryViewsAndRaiseSnapshots(b)]);case 1:return c.sent(),[3,3];case 2:throw a;case 3:return[2]}var d})})})];case 2:return d=this.queryViewsByTarget[a],this.removeAndCleanupQuery(d),[4,this.localStore.releaseQuery(d.query,!0)];case 3:return f.sent(),this.syncEngineListener.onWatchError(d.query,c),[3,5];case 4:nb("Unexpected target state: "+b),f.label=5;case 5:return[2]}})})},a.prototype.applyActiveTargetsChange=function(a,b){return w(this,void 0,void 0,function(){var c,d,e,f,g,h,i,j,k,l=this;return x(this,function(m){switch(m.label){case 0:if(!this.isPrimary)return[2];c=0,d=a,m.label=1;case 1:return c<d.length?(k=d[c],ob(!this.queryViewsByTarget[k],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(k)]):[3,6];case 2:return ob(!!(e=m.sent()),"Query data for active target "+k+" not found"),[4,this.localStore.allocateQuery(e)];case 3:return f=m.sent(),[4,this.initializeViewAndComputeSnapshot(f,!1)];case 4:m.sent(),this.remoteStore.listen(f),m.label=5;case 5:return c++,[3,1];case 6:g=function(a){var b;return x(this,function(c){switch(c.label){case 0:return(b=h.queryViewsByTarget[a])?[4,h.localStore.releaseQuery(b.query,!1).then(function(){l.remoteStore.unlisten(a),l.removeAndCleanupQuery(b)})["catch"](Fc)]:[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})},h=this,i=0,j=b,m.label=7;case 7:return i<j.length?(k=j[i],[5,g(k)]):[3,10];case 8:m.sent(),m.label=9;case 9:return i++,[3,7];case 10:return[2]}})})},a.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},a.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},a.prototype.getRemoteKeysForTarget=function(a){var b=this.limboResolutionsByTarget[a];return b&&b.receivedDocument?bc().add(b.key):this.queryViewsByTarget[a]?this.queryViewsByTarget[a].view.syncedDocuments:bc()},a}(),vr=function(){function a(a){this.uid=a}return a.prototype.isAuthenticated=function(){return null!=this.uid},a.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},a.prototype.isEqual=function(a){return a.uid===this.uid},a.UNAUTHENTICATED=new a(null),a.GOOGLE_CREDENTIALS=new a("google-credentials-uid"),a.FIRST_PARTY=new a("first-party-uid"),a}(),wr="SharedClientState",xr="firestore_clients",yr="firestore_mutations",zr="firestore_targets",Ar=function(){function a(a,b,c,d){this.user=a,this.batchId=b,this.state=c,ob(void 0!==(this.error=d)==("rejected"===c),"MutationMetadata must contain an error iff state is 'rejected'")}return a.fromWebStorageEntry=function(b,c,d){var e=JSON.parse(d),f="object"==typeof e&&-1!==["pending","acknowledged","rejected"].indexOf(e.state)&&(void 0===e.error||"object"==typeof e.error),g=void 0;return f&&e.error&&(f="string"==typeof e.error.message&&"string"==typeof e.error.code)&&(g=new yn(e.error.code,e.error.message)),f?new a(b,c,e.state,g):(lb(wr,"Failed to parse mutation state for ID '"+c+"': "+d),null)},a.prototype.toWebStorageJSON=function(){var a={state:this.state,updateTimeMs:Date.now()};return this.error&&(a.error={code:this.error.code,message:this.error.message}),JSON.stringify(a)},a}(),Br=function(){function a(a,b,c){this.targetId=a,
this.state=b,ob(void 0!==(this.error=c)==("rejected"===b),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return a.fromWebStorageEntry=function(b,c){var d=JSON.parse(c),e="object"==typeof d&&-1!==["not-current","current","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error),f=void 0;return e&&d.error&&(e="string"==typeof d.error.message&&"string"==typeof d.error.code)&&(f=new yn(d.error.code,d.error.message)),e?new a(b,d.state,f):(lb(wr,"Failed to parse target state for ID '"+b+"': "+c),null)},a.prototype.toWebStorageJSON=function(){var a={state:this.state,updateTimeMs:Date.now()};return this.error&&(a.error={code:this.error.code,message:this.error.message}),JSON.stringify(a)},a}(),Cr=function(){function a(a,b){this.clientId=a,this.activeTargetIds=b}return a.fromWebStorageEntry=function(b,c){for(var d=JSON.parse(c),e="object"==typeof d&&d.activeTargetIds instanceof Array,f=cc(),g=0;e&&g<d.activeTargetIds.length;++g)e=Vb(d.activeTargetIds[g]),f=f.add(d.activeTargetIds[g]);return e?new a(b,f):(lb(wr,"Failed to parse client data for instance '"+b+"': "+c),null)},a}(),Dr=function(){function a(a,b){this.clientId=a,this.onlineState=b}return a.fromWebStorageEntry=function(b){var c=JSON.parse(b);return"object"==typeof c&&void 0!==Yq[c.onlineState]&&"string"==typeof c.clientId?new a(c.clientId,Yq[c.onlineState]):(lb(wr,"Failed to parse online state: "+b),null)},a}(),Er=function(){function a(){this.activeTargetIds=cc()}return a.prototype.addQueryTarget=function(a){ob(!this.activeTargetIds.has(a),"Target with ID '"+a+"' already active."),this.activeTargetIds=this.activeTargetIds.add(a)},a.prototype.removeQueryTarget=function(a){this.activeTargetIds=this.activeTargetIds["delete"](a)},a.prototype.toWebStorageJSON=function(){var a={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(a)},a}(),Fr=function(){function a(b,c,d,e,f){if(this.queue=b,this.platform=c,this.persistenceKey=d,this.localClientId=e,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!a.isAvailable(this.platform))throw new yn(xn.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var g=d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=f,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey="firestore_sequence_number_"+d,this.activeClients[this.localClientId]=new Er,this.clientStateKeyRe=new RegExp("^"+xr+"_"+g+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+yr+"_"+g+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+zr+"_"+g+"_(\\d+)$"),this.onlineStateKey="firestore_online_state_"+d,this.platform.window.addEventListener("storage",this.storageListener)}return a.isAvailable=function(a){return!(!a.window||null==a.window.localStorage)},a.prototype.start=function(){return w(this,void 0,void 0,function(){var a,b,c,d,e,f,g,h,i,j,k,l=this;return x(this,function(m){switch(m.label){case 0:return ob(!this.started,"WebStorageSharedClientState already started"),ob(null!==this.syncEngine,"syncEngine property must be set before calling start()"),ob(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(a=m.sent(),b=0,c=a;b<c.length;b++)(d=c[b])!==this.localClientId&&(e=this.getItem(this.toWebStorageClientStateKey(d)))&&(f=Cr.fromWebStorageEntry(d,e))&&(this.activeClients[f.clientId]=f);for(this.persistClientState(),(g=this.storage.getItem(this.onlineStateKey))&&(h=this.fromWebStorageOnlineState(g))&&this.handleOnlineStateEvent(h),i=0,j=this.earlyEvents;i<j.length;i++)k=j[i],this.handleWebStorageEvent(k);return this.earlyEvents=[],this.platform.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},a.prototype.writeSequenceNumber=function(a){this.setItem(this.sequenceNumberKey,JSON.stringify(a))},a.prototype.getAllActiveQueryTargets=function(){var a=cc();return ub(this.activeClients,function(b,c){a=a.unionWith(c.activeTargetIds)}),a},a.prototype.isActiveQueryTarget=function(a){for(var b in this.activeClients)if(this.activeClients.hasOwnProperty(b)&&this.activeClients[b].activeTargetIds.has(a))return!0;return!1},a.prototype.addPendingMutation=function(a){this.persistMutationState(a,"pending")},a.prototype.updateMutationState=function(a,b,c){this.persistMutationState(a,b,c),this.removeMutationState(a)},a.prototype.addLocalQueryTarget=function(a){var b="not-current";if(this.isActiveQueryTarget(a)){var c=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(a));if(c){var d=Br.fromWebStorageEntry(a,c);d&&(b=d.state)}}return this.localClientState.addQueryTarget(a),this.persistClientState(),b},a.prototype.removeLocalQueryTarget=function(a){this.localClientState.removeQueryTarget(a),this.persistClientState()},a.prototype.isLocalQueryTarget=function(a){return this.localClientState.activeTargetIds.has(a)},a.prototype.clearQueryState=function(a){this.removeItem(this.toWebStorageQueryTargetMetadataKey(a))},a.prototype.updateQueryState=function(a,b,c){this.persistQueryTargetState(a,b,c)},a.prototype.handleUserChange=function(a,b,c){var d=this;b.forEach(function(a){d.removeMutationState(a)}),this.currentUser=a,c.forEach(function(a){d.addPendingMutation(a)})},a.prototype.setOnlineState=function(a){this.persistOnlineState(a)},a.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},a.prototype.getItem=function(a){var b=this.storage.getItem(a);return kb(wr,"READ",a,b),b},a.prototype.setItem=function(a,b){kb(wr,"SET",a,b),this.storage.setItem(a,b)},a.prototype.removeItem=function(a){kb(wr,"REMOVE",a),this.storage.removeItem(a)},a.prototype.handleWebStorageEvent=function(a){var b=this;if(a.storageArea===this.storage){if(kb(wr,"EVENT",a.key,a.newValue),a.key===this.localClientStorageKey)return void lb("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget(function(){return w(b,void 0,void 0,function(){var b,c,d,e,f,g;return x(this,function(h){if(!this.started)return this.earlyEvents.push(a),[2];if(null===a.key)return[2];if(this.clientStateKeyRe.test(a.key)){if(null==a.newValue)return c=this.fromWebStorageClientStateKey(a.key),[2,this.handleClientStateEvent(c,null)];if(b=this.fromWebStorageClientState(a.key,a.newValue))return[2,this.handleClientStateEvent(b.clientId,b)]}else if(this.mutationBatchKeyRe.test(a.key)){if(null!==a.newValue&&(d=this.fromWebStorageMutationMetadata(a.key,a.newValue)))return[2,this.handleMutationBatchEvent(d)]}else if(this.queryTargetKeyRe.test(a.key)){if(null!==a.newValue&&(e=this.fromWebStorageQueryTargetMetadata(a.key,a.newValue)))return[2,this.handleQueryTargetEvent(e)]}else if(a.key===this.onlineStateKey){if(null!==a.newValue&&(f=this.fromWebStorageOnlineState(a.newValue)))return[2,this.handleOnlineStateEvent(f)]}else a.key===this.sequenceNumberKey&&(ob(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(g=function(a){var b=Dp.INVALID;if(null!=a)try{var c=JSON.parse(a);ob("number"==typeof c,"Found non-numeric sequence number"),b=c}catch(a){lb(wr,"Failed to read sequence number from WebStorage",a)}return b}(a.newValue))!==Dp.INVALID&&this.sequenceNumberHandler(g));return[2]})})})}},Object.defineProperty(a.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),a.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},a.prototype.persistMutationState=function(a,b,c){var d=new Ar(this.currentUser,a,b,c),e=this.toWebStorageMutationBatchKey(a);this.setItem(e,d.toWebStorageJSON())},a.prototype.removeMutationState=function(a){var b=this.toWebStorageMutationBatchKey(a);this.removeItem(b)},a.prototype.persistOnlineState=function(a){var b={clientId:this.localClientId,onlineState:Yq[a]};this.storage.setItem(this.onlineStateKey,JSON.stringify(b))},a.prototype.persistQueryTargetState=function(a,b,c){var d=this.toWebStorageQueryTargetMetadataKey(a),e=new Br(a,b,c);this.setItem(d,e.toWebStorageJSON())},a.prototype.toWebStorageClientStateKey=function(a){return ob(-1===a.indexOf("_"),"Client key cannot contain '_', but was '"+a+"'"),xr+"_"+this.persistenceKey+"_"+a},a.prototype.toWebStorageQueryTargetMetadataKey=function(a){return zr+"_"+this.persistenceKey+"_"+a},a.prototype.toWebStorageMutationBatchKey=function(a){var b=yr+"_"+this.persistenceKey+"_"+a;return this.currentUser.isAuthenticated()&&(b+="_"+this.currentUser.uid),b},a.prototype.fromWebStorageClientStateKey=function(a){var b=this.clientStateKeyRe.exec(a);return b?b[1]:null},a.prototype.fromWebStorageClientState=function(a,b){var c=this.fromWebStorageClientStateKey(a);return ob(null!==c,"Cannot parse client state key '"+a+"'"),Cr.fromWebStorageEntry(c,b)},a.prototype.fromWebStorageMutationMetadata=function(a,b){var c=this.mutationBatchKeyRe.exec(a);ob(null!==c,"Cannot parse mutation batch key '"+a+"'");var d=Number(c[1]),e=void 0!==c[2]?c[2]:null;return Ar.fromWebStorageEntry(new vr(e),d,b)},a.prototype.fromWebStorageQueryTargetMetadata=function(a,b){var c=this.queryTargetKeyRe.exec(a);ob(null!==c,"Cannot parse query target key '"+a+"'");var d=Number(c[1]);return Br.fromWebStorageEntry(d,b)},a.prototype.fromWebStorageOnlineState=function(a){return Dr.fromWebStorageEntry(a)},a.prototype.handleMutationBatchEvent=function(a){return w(this,void 0,void 0,function(){return x(this,function(b){return a.user.uid!==this.currentUser.uid?(kb(wr,"Ignoring mutation for non-active user "+a.user.uid),[2]):[2,this.syncEngine.applyBatchState(a.batchId,a.state,a.error)]})})},a.prototype.handleQueryTargetEvent=function(a){return this.syncEngine.applyTargetState(a.targetId,a.state,a.error)},a.prototype.handleClientStateEvent=function(a,b){var c=this,d=this.getAllActiveQueryTargets();b?this.activeClients[a]=b:delete this.activeClients[a];var e=this.getAllActiveQueryTargets(),f=[],g=[];return e.forEach(function(a){return w(c,void 0,void 0,function(){return x(this,function(b){return d.has(a)||f.push(a),[2]})})}),d.forEach(function(a){return w(c,void 0,void 0,function(){return x(this,function(b){return e.has(a)||g.push(a),[2]})})}),this.syncEngine.applyActiveTargetsChange(f,g)},a.prototype.handleOnlineStateEvent=function(a){this.activeClients[a.clientId]&&this.onlineStateHandler(a.onlineState)},a}(),Gr=function(){function a(){this.localState=new Er,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return a.prototype.addPendingMutation=function(a){},a.prototype.updateMutationState=function(a,b,c){},a.prototype.addLocalQueryTarget=function(a){return this.localState.addQueryTarget(a),this.queryState[a]||"not-current"},a.prototype.updateQueryState=function(a,b,c){this.queryState[a]=b},a.prototype.removeLocalQueryTarget=function(a){this.localState.removeQueryTarget(a)},a.prototype.isLocalQueryTarget=function(a){return this.localState.activeTargetIds.has(a)},a.prototype.clearQueryState=function(a){delete this.queryState[a]},a.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},a.prototype.isActiveQueryTarget=function(a){return this.localState.activeTargetIds.has(a)},a.prototype.start=function(){return this.localState=new Er,Promise.resolve()},a.prototype.handleUserChange=function(a,b,c){},a.prototype.setOnlineState=function(a){},a.prototype.shutdown=function(){},a.prototype.writeSequenceNumber=function(a){},a}(),Hr="FirestoreClient",Ir=function(){function a(a,b){this.cacheSizeBytes=a,this.experimentalTabSynchronization=b}return a.prototype.lruParams=function(){return Bq.withCacheSize(this.cacheSizeBytes)},a}(),Jr=function(){},Kr=function(){function a(a,b,c,d){this.platform=a,this.databaseInfo=b,this.credentials=c,this.asyncQueue=d,this.clientId=zn.newId()}return a.prototype.start=function(a){var b=this,c=new Ep,d=new Ep,e=!1;return this.credentials.setChangeListener(function(f){e?b.asyncQueue.enqueueAndForget(function(){return b.handleCredentialChange(f)}):(e=!0,b.initializePersistence(a,d,f).then(function(a){return b.initializeRest(f,a)}).then(c.resolve,c.reject))}),this.asyncQueue.enqueueAndForget(function(){return c.promise}),d.promise},a.prototype.enableNetwork=function(){var a=this;return this.asyncQueue.enqueue(function(){return a.syncEngine.enableNetwork()})},a.prototype.initializePersistence=function(a,b,c){var d=this;return a instanceof Ir?this.startIndexedDbPersistence(c,a).then(function(a){return b.resolve(),a})["catch"](function(a){if(b.reject(a),!d.canFallback(a))throw a;return console.warn("Error enabling offline storage. Falling back to storage disabled: "+a),d.startMemoryPersistence()}):(b.resolve(),this.startMemoryPersistence())},a.prototype.canFallback=function(a){return a instanceof yn?a.code===xn.FAILED_PRECONDITION||a.code===xn.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code},a.prototype.startIndexedDbPersistence=function(a,b){var c=this,d=Iq.buildStoragePrefix(this.databaseInfo),e=new up(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then(function(){return w(c,void 0,void 0,function(){var c,f;return x(this,function(g){switch(g.label){case 0:if(b.experimentalTabSynchronization&&!Fr.isAvailable(this.platform))throw new yn(xn.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return f=b.lruParams(),b.experimentalTabSynchronization?(this.sharedClientState=new Fr(this.asyncQueue,this.platform,d,this.clientId,a),[4,Iq.createMultiClientIndexedDbPersistence(d,this.clientId,this.platform,this.asyncQueue,e,f,{sequenceNumberSyncer:this.sharedClientState})]):[3,2];case 1:return c=g.sent(),[3,4];case 2:return this.sharedClientState=new Gr,[4,Iq.createIndexedDbPersistence(d,this.clientId,this.platform,this.asyncQueue,e,f)];case 3:c=g.sent(),g.label=4;case 4:return[2,(this.persistence=c).referenceDelegate.garbageCollector]}})})})},a.prototype.startMemoryPersistence=function(){return this.persistence=Sq.createEagerPersistence(this.clientId),this.sharedClientState=new Gr,Promise.resolve(null)},a.prototype.initializeRest=function(a,b){var c=this;return kb(Hr,"Initializing. user=",a.uid),this.platform.loadConnection(this.databaseInfo).then(function(d){return w(c,void 0,void 0,function(){var c,e,f,g,h=this;return x(this,function(i){switch(i.label){case 0:return this.localStore=new Nq(this.persistence,a),b&&(this.lruScheduler=new Cq(b,this.asyncQueue,this.localStore)),c=this.platform.newSerializer(this.databaseInfo.databaseId),e=new dr(this.asyncQueue,d,this.credentials,c),f=function(a){return h.syncEngine.applyOnlineStateChange(a,$q.RemoteStore)},g=function(a){return h.syncEngine.applyOnlineStateChange(a,$q.SharedClientState)},this.remoteStore=new jr(this.localStore,e,this.asyncQueue,f),this.syncEngine=new ur(this.localStore,this.remoteStore,this.sharedClientState,a),this.sharedClientState.onlineStateHandler=g,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new lr(this.syncEngine),[4,this.sharedClientState.start()];case 1:return i.sent(),[4,this.remoteStore.start()];case 2:return i.sent(),[4,this.persistence.setPrimaryStateListener(function(a){return w(h,void 0,void 0,function(){return x(this,function(b){switch(b.label){case 0:return[4,this.syncEngine.applyPrimaryState(a)];case 1:return b.sent(),this.lruScheduler&&(a&&!this.lruScheduler.started?this.lruScheduler.start():a||this.lruScheduler.stop()),[2]}})})})];case 3:return i.sent(),[2]}})})})},a.prototype.handleCredentialChange=function(a){return this.asyncQueue.verifyOperationInProgress(),kb(Hr,"Credential Changed. Current user: "+a.uid),this.syncEngine.handleCredentialChange(a)},a.prototype.disableNetwork=function(){var a=this;return this.asyncQueue.enqueue(function(){return a.syncEngine.disableNetwork()})},a.prototype.shutdown=function(a){var b=this;return this.asyncQueue.enqueue(function(){return w(b,void 0,void 0,function(){return x(this,function(b){switch(b.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return b.sent(),[4,this.sharedClientState.shutdown()];case 2:return b.sent(),[4,this.persistence.shutdown(a&&a.purgePersistenceWithDataLoss)];case 3:return b.sent(),this.credentials.removeChangeListener(),[2]}})})})},a.prototype.listen=function(a,b,c){var d=this,e=new mr(a,b,c);return this.asyncQueue.enqueueAndForget(function(){return d.eventMgr.listen(e)}),e},a.prototype.unlisten=function(a){var b=this;this.asyncQueue.enqueueAndForget(function(){return b.eventMgr.unlisten(a)})},a.prototype.getDocumentFromLocalCache=function(a){var b=this;return this.asyncQueue.enqueue(function(){return b.localStore.readDocument(a)}).then(function(a){if(a instanceof On)return a;if(a instanceof Pn)return null;throw new yn(xn.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},a.prototype.getDocumentsFromLocalCache=function(a){var b=this;return this.asyncQueue.enqueue(function(){return b.localStore.executeQuery(a)}).then(function(b){var c=bc(),d=new qr(a,c),e=d.computeDocChanges(b);return d.applyChanges(e,!1).snapshot})},a.prototype.write=function(a){var b=this,c=new Ep;return this.asyncQueue.enqueueAndForget(function(){return b.syncEngine.write(a,c)}),c.promise},a.prototype.databaseId=function(){return this.databaseInfo.databaseId},a.prototype.transaction=function(a){var b=this;return this.asyncQueue.enqueue(function(){return w(b,void 0,void 0,function(){return x(this,function(a){return[2]})})}).then(function(){return b.syncEngine.runTransaction(a)})},a}(),Lr=function(){function a(a){this.observer=a,this.muted=!1}return a.prototype.next=function(a){this.scheduleEvent(this.observer.next,a)},a.prototype.error=function(a){this.scheduleEvent(this.observer.error,a)},a.prototype.mute=function(){this.muted=!0},a.prototype.scheduleEvent=function(a,b){var c=this;this.muted||setTimeout(function(){c.muted||a(b)},0)},a}(),Mr=function(){function a(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];!function(a,b,c,d){if(!(b instanceof Array)||b.length<d)throw new yn(xn.INVALID_ARGUMENT,"Function "+a+"() requires its "+c+" argument to be an array with at least "+Nb(d,"element")+".")}("FieldPath",a,"fieldNames",1);for(var c=0;c<a.length;++c)if(Ab("FieldPath","string",c,a[c]),0===a[c].length)throw new yn(xn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ln(a)}return a.documentId=function(){return a._DOCUMENT_ID},a.prototype.isEqual=function(b){if(!(b instanceof a))throw Lb("isEqual","FieldPath",1,b);return this._internalPath.isEqual(b._internalPath)},a._DOCUMENT_ID=new a(Ln.keyField().canonicalString()),a}(),Nr=new RegExp("[~\\*/\\[\\]]"),Or=function(a,b){this.user=b,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+a}},Pr=function(){function a(){this.changeListener=null}return a.prototype.getToken=function(){return Promise.resolve(null)},a.prototype.invalidateToken=function(){},a.prototype.setChangeListener=function(a){ob(!this.changeListener,"Can only call setChangeListener() once."),(this.changeListener=a)(vr.UNAUTHENTICATED)},a.prototype.removeChangeListener=function(){ob(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},a}(),Qr=function(){function a(a){var b=this;this.app=a,this.tokenListener=null,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){b.tokenCounter++,b.currentUser=b.getUser(),b.changeListener&&b.changeListener(b.currentUser)},this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return a.prototype.getToken=function(){var a=this;ob(null!=this.tokenListener,"getToken cannot be called after listener removed.");var b=this.tokenCounter,c=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(c).then(function(c){if(a.tokenCounter!==b)throw new yn(xn.ABORTED,"getToken aborted due to token change.");return c?(ob("string"==typeof c.accessToken,"Invalid tokenData returned from getToken():"+c),new Or(c.accessToken,a.currentUser)):null})},a.prototype.invalidateToken=function(){this.forceRefresh=!0},a.prototype.setChangeListener=function(a){ob(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=a,this.currentUser&&a(this.currentUser)},a.prototype.removeChangeListener=function(){ob(null!=this.tokenListener,"removeChangeListener() called twice"),ob(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},a.prototype.getUser=function(){var a=this.app.INTERNAL.getUid();return ob(null===a||"string"==typeof a,"Received invalid UID: "+a),new vr(a)},a}(),Rr=function(){function a(a,b){this.gapi=a,this.sessionIndex=b,this.type="FirstParty",this.user=vr.FIRST_PARTY}return Object.defineProperty(a.prototype,"authHeaders",{get:function(){var a={"X-Goog-AuthUser":this.sessionIndex},b=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return b&&(a.Authorization=b),a},enumerable:!0,configurable:!0}),a}(),Sr=function(){function a(a,b){this.gapi=a,this.sessionIndex=b}return a.prototype.getToken=function(){return Promise.resolve(new Rr(this.gapi,this.sessionIndex))},a.prototype.setChangeListener=function(a){a(vr.FIRST_PARTY)},a.prototype.removeChangeListener=function(){},a.prototype.invalidateToken=function(){},a}(),Tr=function(){function a(a){this._methodName=a}return a["delete"]=function(){return wb("FieldValue.delete",arguments),Ur.instance},a.serverTimestamp=function(){return wb("FieldValue.serverTimestamp",arguments),Vr.instance},a.arrayUnion=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return yb("FieldValue.arrayUnion",arguments,1),new Wr(a)},a.arrayRemove=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return yb("FieldValue.arrayRemove",arguments,1),new Xr(a)},a.increment=function(a){return Ab("FieldValue.increment","number",1,a),xb("FieldValue.increment",arguments,1),new Yr(a)},a.prototype.isEqual=function(a){return this===a},a}(),Ur=function(a){function b(){return a.call(this,"FieldValue.delete")||this}return v(b,a),b.instance=new b,b}(Tr),Vr=function(a){function b(){return a.call(this,"FieldValue.serverTimestamp")||this}return v(b,a),b.instance=new b,b}(Tr),Wr=function(a){function b(b){var c=a.call(this,"FieldValue.arrayUnion")||this;return c._elements=b,c}return v(b,a),b}(Tr),Xr=function(a){function b(b){var c=a.call(this,"FieldValue.arrayRemove")||this;return c._elements=b,c}return v(b,a),b}(Tr),Yr=function(a){function b(b){var c=a.call(this,"FieldValue.increment")||this;return c._operand=b,c}return v(b,a),b}(Tr),Zr=qb(Tr,"Use FieldValue.<field>() instead."),$r=/^__.*__$/,_r=function(){function a(a,b,c){this.data=a,this.fieldMask=b,this.fieldTransforms=c}return a.prototype.toMutations=function(a,b){var c=[];return null!==this.fieldMask?c.push(new Oo(a,this.data,this.fieldMask,b)):c.push(new No(a,this.data,b)),0<this.fieldTransforms.length&&c.push(new Po(a,this.fieldTransforms)),c},a}(),as=function(){function a(a,b,c){this.data=a,this.fieldMask=b,this.fieldTransforms=c}return a.prototype.toMutations=function(a,b){var c=[new Oo(a,this.data,this.fieldMask,b)];return 0<this.fieldTransforms.length&&c.push(new Po(a,this.fieldTransforms)),c},a}();(gr=fr||(fr={}))[gr.Set=0]="Set",gr[gr.Update=1]="Update",gr[gr.MergeSet=2]="MergeSet",gr[gr.Argument=3]="Argument";var bs=function(){function a(a,b,c,d,e,f){this.dataSource=a,this.methodName=b,this.path=c,this.arrayElement=d,void 0===e&&this.validatePath(),this.arrayElement=void 0!==d&&d,this.fieldTransforms=e||[],this.fieldMask=f||[]}return a.prototype.childContextForField=function(b){var c=null==this.path?null:this.path.child(b),d=new a(this.dataSource,this.methodName,c,!1,this.fieldTransforms,this.fieldMask);return d.validatePathSegment(b),d},a.prototype.childContextForFieldPath=function(b){var c=null==this.path?null:this.path.child(b),d=new a(this.dataSource,this.methodName,c,!1,this.fieldTransforms,this.fieldMask);return d.validatePath(),d},a.prototype.childContextForArray=function(b){return new a(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},a.prototype.createError=function(a){var b=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new yn(xn.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+a+b)},a.prototype.contains=function(a){return void 0!==this.fieldMask.find(function(b){return a.isPrefixOf(b)})||void 0!==this.fieldTransforms.find(function(b){return a.isPrefixOf(b.field)})},a.prototype.validatePath=function(){if(null!==this.path)for(var a=0;a<this.path.length;a++)this.validatePathSegment(this.path.get(a))},a.prototype.validatePathSegment=function(a){if(Kc(this.dataSource)&&$r.test(a))throw this.createError("Document fields cannot begin and end with __")},a}(),cs=function(a,b){this.databaseId=a,this.key=b},ds=function(){function a(a){this.preConverter=a}return a.prototype.parseSetData=function(a,b){var c=new bs(fr.Set,a,Ln.EMPTY_PATH);Mc("Data must be an object, but it was:",c,b);var d=this.parseData(b,c);return new _r(d,null,c.fieldTransforms)},a.prototype.parseMergeData=function(a,b,c){var d=new bs(fr.MergeSet,a,Ln.EMPTY_PATH);Mc("Data must be an object, but it was:",d,b);var e,f,g=this.parseData(b,d);if(c){for(var h=new Eo(Ln.comparator),i=0,j=c;i<j.length;i++){var k=j[i],l=void 0;if(k instanceof Mr)l=k._internalPath;else{if("string"!=typeof k)throw nb("Expected stringOrFieldPath to be a string or a FieldPath");l=Oc(a,k)}if(!d.contains(l))throw new yn(xn.INVALID_ARGUMENT,"Field '"+l+"' is specified in your field mask but missing from your input data.");h=h.add(l)}e=Go.fromSet(h),f=d.fieldTransforms.filter(function(a){return e.covers(a.field)})}else e=Go.fromArray(d.fieldMask),f=d.fieldTransforms;return new _r(g,e,f)},a.prototype.parseUpdateData=function(a,b){var c=this,d=new bs(fr.Update,a,Ln.EMPTY_PATH);Mc("Data must be an object, but it was:",d,b);var e=new Eo(Ln.comparator),f=jo.EMPTY;ub(b,function(b,g){var h=Oc(a,b),i=d.childContextForFieldPath(h);if((g=c.runPreConverter(g,i))instanceof Ur)e=e.add(h);else{var j=c.parseData(g,i);null!=j&&(e=e.add(h),f=f.set(h,j))}});var g=Go.fromSet(e);return new as(f,g,d.fieldTransforms)},a.prototype.parseUpdateVarargs=function(a,b,c,d){var e=new bs(fr.Update,a,Ln.EMPTY_PATH),f=[Nc(a,b)],g=[c];if(d.length%2!=0)throw new yn(xn.INVALID_ARGUMENT,"Function "+a+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<d.length;h+=2)f.push(Nc(a,d[h])),g.push(d[h+1]);var i=new Eo(Ln.comparator),j=jo.EMPTY;for(h=0;h<f.length;++h){var k=f[h],l=e.childContextForFieldPath(k),m=this.runPreConverter(g[h],l);if(m instanceof Ur)i=i.add(k);else{var n=this.parseData(m,l);null!=n&&(i=i.add(k),j=j.set(k,n))}}var o=Go.fromSet(i);return new as(j,o,e.fieldTransforms)},a.prototype.parseQueryValue=function(a,b){var c=new bs(fr.Argument,a,Ln.EMPTY_PATH),d=this.parseData(b,c);return ob(null!=d,"Parsed data should not be null."),ob(0===c.fieldTransforms.length,"Field transforms should have been disallowed."),d},a.prototype.runPreConverter=function(a,b){try{return this.preConverter(a)}catch(a){var c=Pc(a);throw b.createError(c)}},a.prototype.parseData=function(a,b){if(Lc(a=this.runPreConverter(a,b)))return Mc("Unsupported field value:",b,a),this.parseObject(a,b);if(a instanceof Tr)return this.parseSentinelFieldValue(a,b),null;if(b.path&&b.fieldMask.push(b.path),a instanceof Array){if(b.arrayElement)throw b.createError("Nested arrays are not supported");return this.parseArray(a,b)}return this.parseScalarValue(a,b)},a.prototype.parseObject=function(a,b){var c=this,d=new Rn(Ob);return vb(a)?b.path&&0<b.path.length&&b.fieldMask.push(b.path):ub(a,function(a,e){var f=c.parseData(e,b.childContextForField(a));null!=f&&(d=d.insert(a,f))}),new jo(d)},a.prototype.parseArray=function(a,b){for(var c=[],d=0,e=0,f=a;e<f.length;e++){var g=f[e],h=this.parseData(g,b.childContextForArray(d));null==h&&(h=Zn.INSTANCE),c.push(h),d++}return new ko(c)},a.prototype.parseSentinelFieldValue=function(a,b){if(!Kc(b.dataSource))throw b.createError(a._methodName+"() can only be used with update() and set()");if(null===b.path)throw b.createError(a._methodName+"() is not currently supported inside arrays");if(a instanceof Ur){if(b.dataSource!==fr.MergeSet)throw b.dataSource===fr.Update?(ob(0<b.path.length,"FieldValue.delete() at the top level should have already been handled."),b.createError("FieldValue.delete() can only appear at the top level of your update data")):b.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");b.fieldMask.push(b.path)}else if(a instanceof Vr)b.fieldTransforms.push(new Ho(b.path,Ro.instance));else if(a instanceof Wr){var c=this.parseArrayTransformElements(a._methodName,a._elements),d=new So(c);b.fieldTransforms.push(new Ho(b.path,d))}else if(a instanceof Xr){c=this.parseArrayTransformElements(a._methodName,a._elements);var e=new To(c);b.fieldTransforms.push(new Ho(b.path,e))}else if(a instanceof Yr){var f=this.parseQueryValue("FieldValue.increment",a._operand),g=new Uo(f);b.fieldTransforms.push(new Ho(b.path,g))}else nb("Unknown FieldValue type: "+a)},a.prototype.parseScalarValue=function(a,b){if(null===a)return Zn.INSTANCE;if("number"==typeof a)return Vb(a)?new ao(a):new bo(a);if("boolean"==typeof a)return $n.of(a);if("string"==typeof a)return new co(a);if(a instanceof Date)return new eo(Dn.fromDate(a));if(a instanceof Dn)return new eo(new Dn(a.seconds,1e3*Math.floor(a.nanoseconds/1e3)));if(a instanceof Cn)return new io(a);if(a instanceof An)return new go(a);if(a instanceof cs)return new ho(a.databaseId,a.key);throw b.createError("Unsupported field value: "+Ib(a))},a.prototype.parseArrayTransformElements=function(a,b){var c=this;return b.map(function(b,d){var e=new bs(fr.Argument,a,Ln.EMPTY_PATH);return c.parseData(b,e.childContextForArray(d))})},a}(),es=Bq.COLLECTION_DISABLED,fs=function(){function a(a){if(void 0===a.host){if(void 0!==a.ssl)throw new yn(xn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else Cb("settings","non-empty string","host",a.host),this.host=a.host,Db("settings","boolean","ssl",a.ssl),this.ssl=sb(a.ssl,!0);if(Kb("settings",a,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes"]),Db("settings","object","credentials",a.credentials),this.credentials=a.credentials,Db("settings","boolean","timestampsInSnapshots",a.timestampsInSnapshots),!0===a.timestampsInSnapshots?lb("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===a.timestampsInSnapshots&&lb("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),
this.timestampsInSnapshots=sb(a.timestampsInSnapshots,!0),Db("settings","number","cacheSizeBytes",a.cacheSizeBytes),void 0===a.cacheSizeBytes)this.cacheSizeBytes=Bq.DEFAULT_CACHE_SIZE_BYTES;else{if(a.cacheSizeBytes!==es&&a.cacheSizeBytes<Bq.MINIMUM_CACHE_SIZE_BYTES)throw new yn(xn.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Bq.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=a.cacheSizeBytes}}return a.prototype.isEqual=function(a){return this.host===a.host&&this.ssl===a.ssl&&this.timestampsInSnapshots===a.timestampsInSnapshots&&this.credentials===a.credentials&&this.cacheSizeBytes===a.cacheSizeBytes},a}(),gs=function(){},hs=function(){function a(b){var c=this;this._queue=new Ip,this.INTERNAL={"delete":function(a){return w(c,void 0,void 0,function(){return x(this,function(b){return this._firestoreClient?[2,this._firestoreClient.shutdown(a)]:[2]})})}};var d=new gs;if("object"==typeof b.options){var e=b;d.firebaseApp=e,d.databaseId=a.databaseIdFromApp(e),d.persistenceKey=d.firebaseApp.name,d.credentials=new Qr(e)}else{var f=b;if(!f.projectId)throw new yn(xn.INVALID_ARGUMENT,"Must provide projectId");d.databaseId=new Gn(f.projectId,f.database),d.persistenceKey="[DEFAULT]",d.credentials=new Pr}d.settings=new fs({}),this._config=d,this._databaseId=d.databaseId}return a.prototype.settings=function(a){if(xb("Firestore.settings",arguments,1),Ab("Firestore.settings","object",1,a),rb(a,"persistence"))throw new yn(xn.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var b=new fs(a);if(this._firestoreClient&&!this._config.settings.isEqual(b))throw new yn(xn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");void 0!==(this._config.settings=b).credentials&&(this._config.credentials=function(a){if(!a)return new Pr;switch(a.type){case"gapi":var b=a.client;return ob(!("object"!=typeof b||null===b||!b.auth||!b.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new Sr(b,a.sessionIndex||"0");case"provider":return a.client;default:throw new yn(xn.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(b.credentials))},a.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},a.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},a.prototype.enablePersistence=function(a){if(this._firestoreClient)throw new yn(xn.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");return this.configureClient(new Ir(this._config.settings.cacheSizeBytes,void 0!==a&&sb(a.experimentalTabSynchronization,!1)))},a.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new Jr),this._firestoreClient},a.prototype.configureClient=function(a){var b=this;ob(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),ob(!this._firestoreClient,"configureClient() called multiple times");var c=new En(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl);return this._dataConverter=new ds(function(a){if(a instanceof ks){var c=b._config.databaseId,d=a.firestore._config.databaseId;if(!d.isEqual(c))throw new yn(xn.INVALID_ARGUMENT,"Document reference is for database "+d.projectId+"/"+d.database+" but should be for database "+c.projectId+"/"+c.database);return new cs(b._config.databaseId,a._key)}return a}),this._firestoreClient=new Kr(wn.getPlatform(),c,this._config.credentials,this._queue),this._firestoreClient.start(a)},a.databaseIdFromApp=function(a){var b=a.options;if(!rb(b,"projectId"))throw new yn(xn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var c=b.projectId;if(!c||"string"!=typeof c)throw new yn(xn.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Gn(c)},Object.defineProperty(a.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new yn(xn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),a.prototype.collection=function(a){return xb("Firestore.collection",arguments,1),Ab("Firestore.collection","non-empty string",1,a),this.ensureClientConfigured(),new qs(Jn.fromString(a),this)},a.prototype.doc=function(a){return xb("Firestore.doc",arguments,1),Ab("Firestore.doc","non-empty string",1,a),this.ensureClientConfigured(),ks.forPath(Jn.fromString(a),this)},a.prototype._collectionGroup=function(a){if(xb("Firestore.collectionGroup",arguments,1),Ab("Firestore.collectionGroup","non-empty string",1,a),0<=a.indexOf("/"))throw new yn(xn.INVALID_ARGUMENT,"Invalid collection ID '"+a+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new os(new po(Jn.EMPTY_PATH,a),this)},a.prototype.runTransaction=function(a){var b=this;return xb("Firestore.runTransaction",arguments,1),Ab("Firestore.runTransaction","function",1,a),this.ensureClientConfigured().transaction(function(c){return a(new is(b,c))})},a.prototype.batch=function(){return this.ensureClientConfigured(),new js(this)},Object.defineProperty(a,"logLevel",{get:function(){switch(ib()){case hn.DEBUG:return"debug";case hn.ERROR:return"error";case hn.SILENT:return"silent";default:return nb("Unknown log level: "+ib())}},enumerable:!0,configurable:!0}),a.setLogLevel=function(a){switch(xb("Firestore.setLogLevel",arguments,1),Ab("Firestore.setLogLevel","non-empty string",1,a),a){case"debug":jb(hn.DEBUG);break;case"error":jb(hn.ERROR);break;case"silent":jb(hn.SILENT);break;default:throw new yn(xn.INVALID_ARGUMENT,"Invalid log level: "+a)}},a.prototype._areTimestampsInSnapshotsEnabled=function(){return this._config.settings.timestampsInSnapshots},a}(),is=function(){function a(a,b){this._firestore=a,this._transaction=b}return a.prototype.get=function(a){var b=this;xb("Transaction.get",arguments,1);var c=Tc("Transaction.get",a,this._firestore);return this._transaction.lookup([c._key]).then(function(a){if(!a||1!==a.length)return nb("Mismatch in docs returned from document lookup.");var d=a[0];if(d instanceof Pn)return new ms(b._firestore,c._key,null,!1,!1);if(d instanceof On)return new ms(b._firestore,c._key,d,!1,!1);throw nb("BatchGetDocumentsRequest returned unexpected document type: "+d.constructor.name)})},a.prototype.set=function(a,b,c){zb("Transaction.set",arguments,2,3);var d=Tc("Transaction.set",a,this._firestore),e=(c=Qc("Transaction.set",c)).merge||c.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",b,c.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",b);return this._transaction.set(d._key,e),this},a.prototype.update=function(a,b,c){for(var d,e,f=[],g=3;g<arguments.length;g++)f[g-3]=arguments[g];return e="string"==typeof b||b instanceof Mr?(yb("Transaction.update",arguments,3),d=Tc("Transaction.update",a,this._firestore),this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",b,c,f)):(xb("Transaction.update",arguments,2),d=Tc("Transaction.update",a,this._firestore),this._firestore._dataConverter.parseUpdateData("Transaction.update",b)),this._transaction.update(d._key,e),this},a.prototype["delete"]=function(a){xb("Transaction.delete",arguments,1);var b=Tc("Transaction.delete",a,this._firestore);return this._transaction["delete"](b._key),this},a}(),js=function(){function a(a){this._firestore=a,this._mutations=[],this._committed=!1}return a.prototype.set=function(a,b,c){zb("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var d=Tc("WriteBatch.set",a,this._firestore),e=(c=Qc("WriteBatch.set",c)).merge||c.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",b,c.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",b);return this._mutations=this._mutations.concat(e.toMutations(d._key,Lo.NONE)),this},a.prototype.update=function(a,b,c){for(var d,e,f=[],g=3;g<arguments.length;g++)f[g-3]=arguments[g];return this.verifyNotCommitted(),e="string"==typeof b||b instanceof Mr?(yb("WriteBatch.update",arguments,3),d=Tc("WriteBatch.update",a,this._firestore),this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",b,c,f)):(xb("WriteBatch.update",arguments,2),d=Tc("WriteBatch.update",a,this._firestore),this._firestore._dataConverter.parseUpdateData("WriteBatch.update",b)),this._mutations=this._mutations.concat(e.toMutations(d._key,Lo.exists(!0))),this},a.prototype["delete"]=function(a){xb("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var b=Tc("WriteBatch.delete",a,this._firestore);return this._mutations=this._mutations.concat(new Qo(b._key,Lo.NONE)),this},a.prototype.commit=function(){return w(this,void 0,void 0,function(){return x(this,function(a){return this.verifyNotCommitted(),this._committed=!0,0<this._mutations.length?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},a.prototype.verifyNotCommitted=function(){if(this._committed)throw new yn(xn.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},a}(),ks=function(){function a(a,b){this._key=a,this.firestore=b,this._firestoreClient=this.firestore.ensureClientConfigured()}return a.forPath=function(b,c){if(b.length%2!=0)throw new yn(xn.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+b.canonicalString()+" has "+b.length);return new a(new Mn(b),c)},Object.defineProperty(a.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"parent",{get:function(){return new qs(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),a.prototype.collection=function(a){if(xb("DocumentReference.collection",arguments,1),Ab("DocumentReference.collection","non-empty string",1,a),!a)throw new yn(xn.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var b=Jn.fromString(a);return new qs(this._key.path.child(b),this.firestore)},a.prototype.isEqual=function(b){if(!(b instanceof a))throw Lb("isEqual","DocumentReference",1,b);return this.firestore===b.firestore&&this._key.isEqual(b._key)},a.prototype.set=function(a,b){zb("DocumentReference.set",arguments,1,2);var c=(b=Qc("DocumentReference.set",b)).merge||b.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",a,b.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",a);return this._firestoreClient.write(c.toMutations(this._key,Lo.NONE))},a.prototype.update=function(a,b){for(var c,d=[],e=2;e<arguments.length;e++)d[e-2]=arguments[e];return c="string"==typeof a||a instanceof Mr?(yb("DocumentReference.update",arguments,2),this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",a,b,d)):(xb("DocumentReference.update",arguments,1),this.firestore._dataConverter.parseUpdateData("DocumentReference.update",a)),this._firestoreClient.write(c.toMutations(this._key,Lo.exists(!0)))},a.prototype["delete"]=function(){return xb("DocumentReference.delete",arguments,0),this._firestoreClient.write([new Qo(this._key,Lo.NONE)])},a.prototype.onSnapshot=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];zb("DocumentReference.onSnapshot",arguments,1,4);var c,d={includeMetadataChanges:!1},e=0;"object"!=typeof a[e]||Jc(a[e])||(Kb("DocumentReference.onSnapshot",d=a[e],["includeMetadataChanges"]),Db("DocumentReference.onSnapshot","boolean","includeMetadataChanges",d.includeMetadataChanges),e++);var f={includeMetadataChanges:d.includeMetadataChanges};return c=Jc(a[e])?a[e]:(Ab("DocumentReference.onSnapshot","function",e,a[e]),Bb("DocumentReference.onSnapshot","function",e+1,a[e+1]),Bb("DocumentReference.onSnapshot","function",e+2,a[e+2]),{next:a[e],error:a[e+1],complete:a[e+2]}),this.onSnapshotInternal(f,c)},a.prototype.onSnapshotInternal=function(a,b){var c=this,d=function(a){console.error("Uncaught Error in onSnapshot:",a)};b.error&&(d=b.error.bind(b));var e=new Lr({next:function(a){if(b.next){ob(a.docs.size<=1,"Too many documents returned on a document query");var d=a.docs.get(c._key);b.next(new ms(c.firestore,c._key,d,a.fromCache,a.hasPendingWrites))}},error:d}),f=this._firestoreClient.listen(po.atPath(this._key.path),e,a);return function(){e.mute(),c._firestoreClient.unlisten(f)}},a.prototype.get=function(a){var b=this;return zb("DocumentReference.get",arguments,0,1),Sc("DocumentReference.get",a),new Promise(function(c,d){a&&"cache"===a.source?b.firestore.ensureClientConfigured().getDocumentFromLocalCache(b._key).then(function(a){c(new ms(b.firestore,b._key,a,!0,a instanceof On&&a.hasLocalMutations))},d):b.getViaSnapshotListener(c,d,a)})},a.prototype.getViaSnapshotListener=function(a,b,c){var d=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(e){d(),!e.exists&&e.metadata.fromCache?b(new yn(xn.UNAVAILABLE,"Failed to get document because the client is offline.")):e.exists&&e.metadata.fromCache&&c&&"server"===c.source?b(new yn(xn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):a(e)},error:b})},a}(),ls=function(){function a(a,b){this.hasPendingWrites=a,this.fromCache=b}return a.prototype.isEqual=function(a){return this.hasPendingWrites===a.hasPendingWrites&&this.fromCache===a.fromCache},a}(),ms=function(){function a(a,b,c,d,e){this._firestore=a,this._key=b,this._document=c,this._fromCache=d,this._hasPendingWrites=e}return a.prototype.data=function(a){return zb("DocumentSnapshot.data",arguments,0,1),a=Rc("DocumentSnapshot.data",a),this._document?this.convertObject(this._document.data,Xn.fromSnapshotOptions(a,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},a.prototype.get=function(a,b){if(zb("DocumentSnapshot.get",arguments,1,2),b=Rc("DocumentSnapshot.get",b),this._document){var c=this._document.data.field(Nc("DocumentSnapshot.get",a));if(void 0!==c)return this.convertValue(c,Xn.fromSnapshotOptions(b,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(a.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"ref",{get:function(){return new ks(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"metadata",{get:function(){return new ls(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),a.prototype.isEqual=function(b){if(!(b instanceof a))throw Lb("isEqual","DocumentSnapshot",1,b);return this._firestore===b._firestore&&this._fromCache===b._fromCache&&this._key.isEqual(b._key)&&(null===this._document?null===b._document:this._document.isEqual(b._document))},a.prototype.convertObject=function(a,b){var c=this,d={};return a.forEach(function(a,e){d[a]=c.convertValue(e,b)}),d},a.prototype.convertValue=function(a,b){if(a instanceof jo)return this.convertObject(a,b);if(a instanceof ko)return this.convertArray(a,b);if(a instanceof ho){var c=a.value(b),d=this._firestore.ensureClientConfigured().databaseId();return a.databaseId.isEqual(d)||lb("Document "+this._key.path+" contains a document reference within a different database ("+a.databaseId.projectId+"/"+a.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+d.projectId+"/"+d.database+") instead."),new ks(c,this._firestore)}return a.value(b)},a.prototype.convertArray=function(a,b){var c=this;return a.internalValue.map(function(a){return c.convertValue(a,b)})},a}(),ns=function(a){function b(b,c,d,e,f){return a.call(this,b,c,d,e,f)||this}return v(b,a),b.prototype.data=function(b){var c=a.prototype.data.call(this,b);return ob("object"==typeof c,"Document in a QueryDocumentSnapshot should exist"),c},b}(ms),os=function(){function a(a,b){this._query=a,this.firestore=b}return a.prototype.where=function(b,c,d){var e;xb("Query.where",arguments,3),Ab("Query.where","non-empty string",2,c),Jb("Query.where",3,d);var f=Nc("Query.where",b),g=ro.fromString(c);if(f.isKeyField()){if(g===ro.ARRAY_CONTAINS)throw new yn(xn.INVALID_ARGUMENT,"Invalid Query. You can't perform array-contains queries on FieldPath.documentId() since document IDs are not arrays.");if("string"==typeof d){if(""===d)throw new yn(xn.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==d.indexOf("/"))throw new yn(xn.INVALID_ARGUMENT,"Invalid third parameter to Query.where(). When querying a collection by FieldPath.documentId(), the value provided must be a plain document ID, but '"+d+"' contains a slash.");var h=this._query.path.child(Jn.fromString(d));if(!Mn.isDocumentKey(h))throw new yn(xn.INVALID_ARGUMENT,"Invalid third parameter to Query.where(). When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+h+"' is not because it has an odd number of segments ("+h.length+").");e=new ho(this.firestore._databaseId,new Mn(h))}else{if(!(d instanceof ks))throw new yn(xn.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+Ib(d)+".");var i=d;e=new ho(this.firestore._databaseId,i._key)}}else e=this.firestore._dataConverter.parseQueryValue("Query.where",d);var j=qo.create(f,g,e);return this.validateNewFilter(j),new a(this._query.addFilter(j),this.firestore)},a.prototype.orderBy=function(b,c){var d;if(zb("Query.orderBy",arguments,1,2),Bb("Query.orderBy","non-empty string",2,c),void 0===c||"asc"===c)d=vo.ASCENDING;else{if("desc"!==c)throw new yn(xn.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+c+"', expected 'asc' or 'desc'.");d=vo.DESCENDING}if(null!==this._query.startAt)throw new yn(xn.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new yn(xn.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var e=Nc("Query.orderBy",b),f=new xo(e,d);return this.validateNewOrderBy(f),new a(this._query.addOrderBy(f),this.firestore)},a.prototype.limit=function(b){if(xb("Query.limit",arguments,1),Ab("Query.limit","number",1,b),0>=b)throw new yn(xn.INVALID_ARGUMENT,"Invalid Query. Query limit ("+b+") is invalid. Limit must be positive.");return new a(this._query.withLimit(b),this.firestore)},a.prototype.startAt=function(b){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];yb("Query.startAt",arguments,1);var e=this.boundFromDocOrFields("Query.startAt",b,c,!0);return new a(this._query.withStartAt(e),this.firestore)},a.prototype.startAfter=function(b){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];yb("Query.startAfter",arguments,1);var e=this.boundFromDocOrFields("Query.startAfter",b,c,!1);return new a(this._query.withStartAt(e),this.firestore)},a.prototype.endBefore=function(b){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];yb("Query.endBefore",arguments,1);var e=this.boundFromDocOrFields("Query.endBefore",b,c,!0);return new a(this._query.withEndAt(e),this.firestore)},a.prototype.endAt=function(b){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];yb("Query.endAt",arguments,1);var e=this.boundFromDocOrFields("Query.endAt",b,c,!1);return new a(this._query.withEndAt(e),this.firestore)},a.prototype.isEqual=function(b){if(!(b instanceof a))throw Lb("isEqual","Query",1,b);return this.firestore===b.firestore&&this._query.isEqual(b._query)},a.prototype.boundFromDocOrFields=function(a,b,c,d){if(Jb(a,1,b),b instanceof ms){if(0<c.length)throw new yn(xn.INVALID_ARGUMENT,"Too many arguments provided to "+a+"().");var e=b;if(!e.exists)throw new yn(xn.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+a+"().");return this.boundFromDocument(a,e._document,d)}var f=[b].concat(c);return this.boundFromFields(a,f,d)},a.prototype.boundFromDocument=function(a,b,c){for(var d=[],e=0,f=this._query.orderBy;e<f.length;e++){var g=f[e];if(g.field.isKeyField())d.push(new ho(this.firestore._databaseId,b.key));else{var h=b.field(g.field);if(h instanceof fo)throw new yn(xn.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(void 0===h){var i=g.field.canonicalString();throw new yn(xn.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+i+"' (used as the orderBy) does not exist.")}d.push(h)}}return new wo(d,c)},a.prototype.boundFromFields=function(a,b,c){var d=this._query.explicitOrderBy;if(b.length>d.length)throw new yn(xn.INVALID_ARGUMENT,"Too many arguments provided to "+a+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var e=[],f=0;f<b.length;f++){var g=b[f];if(d[f].field.isKeyField()){if("string"!=typeof g)throw new yn(xn.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+a+"(), but got a "+typeof g);if(!this._query.isCollectionGroupQuery()&&-1!==g.indexOf("/"))throw new yn(xn.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+a+"() must be a plain document ID, but '"+g+"' contains a slash.");var h=this._query.path.child(Jn.fromString(g));if(!Mn.isDocumentKey(h))throw new yn(xn.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+a+"() must result in a valid document path, but '"+h+"' is not because it contains an odd number of segments.");var i=new Mn(h);e.push(new ho(this.firestore._databaseId,i))}else{var j=this.firestore._dataConverter.parseQueryValue(a,g);e.push(j)}}return new wo(e,c)},a.prototype.onSnapshot=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];zb("Query.onSnapshot",arguments,1,4);var c,d={},e=0;return"object"!=typeof a[e]||Jc(a[e])||(Kb("Query.onSnapshot",d=a[e],["includeMetadataChanges"]),Db("Query.onSnapshot","boolean","includeMetadataChanges",d.includeMetadataChanges),e++),c=Jc(a[e])?a[e]:(Ab("Query.onSnapshot","function",e,a[e]),Bb("Query.onSnapshot","function",e+1,a[e+1]),Bb("Query.onSnapshot","function",e+2,a[e+2]),{next:a[e],error:a[e+1],complete:a[e+2]}),this.onSnapshotInternal(d,c)},a.prototype.onSnapshotInternal=function(a,b){var c=this,d=function(a){console.error("Uncaught Error in onSnapshot:",a)};b.error&&(d=b.error.bind(b));var e=new Lr({next:function(a){b.next&&b.next(new ps(c.firestore,c._query,a))},error:d}),f=this.firestore.ensureClientConfigured(),g=f.listen(this._query,e,a);return function(){e.mute(),f.unlisten(g)}},a.prototype.get=function(a){var b=this;return zb("Query.get",arguments,0,1),Sc("Query.get",a),new Promise(function(c,d){a&&"cache"===a.source?b.firestore.ensureClientConfigured().getDocumentsFromLocalCache(b._query).then(function(a){c(new ps(b.firestore,b._query,a))},d):b.getViaSnapshotListener(c,d,a)})},a.prototype.getViaSnapshotListener=function(a,b,c){var d=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(e){d(),e.metadata.fromCache&&c&&"server"===c.source?b(new yn(xn.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):a(e)},error:b})},a.prototype.validateNewFilter=function(a){if(a instanceof so)if(a.isInequality()){var b=this._query.getInequalityFilterField();if(null!==b&&!b.isEqual(a.field))throw new yn(xn.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+b.toString()+"' and '"+a.field.toString()+"'");var c=this._query.getFirstOrderByField();null!==c&&this.validateOrderByAndInequalityMatch(a.field,c)}else if(a.op===ro.ARRAY_CONTAINS&&this._query.hasArrayContainsFilter())throw new yn(xn.INVALID_ARGUMENT,"Invalid query. Queries only support a single array-contains filter.")},a.prototype.validateNewOrderBy=function(a){if(null===this._query.getFirstOrderByField()){var b=this._query.getInequalityFilterField();null!==b&&this.validateOrderByAndInequalityMatch(b,a.field)}},a.prototype.validateOrderByAndInequalityMatch=function(a,b){if(!b.isEqual(a))throw new yn(xn.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+a.toString()+"' and so you must also use '"+a.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+b.toString()+"' instead.")},a}(),ps=function(){function a(a,b,c){this._firestore=a,this._originalQuery=b,this._snapshot=c,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new ls(c.hasPendingWrites,c.fromCache)}return Object.defineProperty(a.prototype,"docs",{get:function(){var a=[];return this.forEach(function(b){return a.push(b)}),a},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),a.prototype.forEach=function(a,b){var c=this;zb("QuerySnapshot.forEach",arguments,1,2),Ab("QuerySnapshot.forEach","function",1,a),this._snapshot.docs.forEach(function(d){a.call(b,c.convertToDocumentImpl(d))})},Object.defineProperty(a.prototype,"query",{get:function(){return new os(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),a.prototype.docChanges=function(a){a&&(Kb("QuerySnapshot.docChanges",a,["includeMetadataChanges"]),Db("QuerySnapshot.docChanges","boolean","includeMetadataChanges",a.includeMetadataChanges));var b=!(!a||!a.includeMetadataChanges);if(b&&this._snapshot.excludesMetadataChanges)throw new yn(xn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===b||(this._cachedChanges=function(a,b,c){if(c.oldDocs.isEmpty()){var d,e=0;return c.docChanges.map(function(b){var f=new ns(a,b.doc.key,b.doc,c.fromCache,c.mutatedKeys.has(b.doc.key));return ob(b.type===Wo.Added,"Invalid event type for first snapshot"),ob(!d||c.query.docComparator(d,b.doc)<0,"Got added events in wrong order"),d=b.doc,{type:"added",doc:f,oldIndex:-1,newIndex:e++}})}var f=c.oldDocs;return c.docChanges.filter(function(a){return b||a.type!==Wo.Metadata}).map(function(b){var d=new ns(a,b.doc.key,b.doc,c.fromCache,c.mutatedKeys.has(b.doc.key)),e=-1,g=-1;return b.type!==Wo.Added&&(ob(0<=(e=f.indexOf(b.doc.key)),"Index for document not found"),f=f["delete"](b.doc.key)),b.type!==Wo.Removed&&(f=f.add(b.doc),g=f.indexOf(b.doc.key)),{type:function(a){switch(a){case Wo.Added:return"added";case Wo.Modified:case Wo.Metadata:return"modified";case Wo.Removed:return"removed";default:return nb("Unknown change type: "+a)}}(b.type),doc:d,oldIndex:e,newIndex:g}})}(this._firestore,b,this._snapshot),this._cachedChangesIncludeMetadataChanges=b),this._cachedChanges},a.prototype.isEqual=function(b){if(!(b instanceof a))throw Lb("isEqual","QuerySnapshot",1,b);return this._firestore===b._firestore&&this._originalQuery.isEqual(b._originalQuery)&&this._snapshot.isEqual(b._snapshot)},a.prototype.convertToDocumentImpl=function(a){return new ns(this._firestore,a.key,a,this.metadata.fromCache,this._snapshot.mutatedKeys.has(a.key))},a}();["length","forEach","map"].concat("undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach(function(a){try{Object.defineProperty(ps.prototype.docChanges,a,{get:function(){return function(){throw new yn(xn.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(a){}});var qs=function(a){function b(b,c){var d=a.call(this,po.atPath(b),c)||this;if(b.length%2!=1)throw new yn(xn.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+b.canonicalString()+" has "+b.length);return d}return v(b,a),Object.defineProperty(b.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"parent",{get:function(){var a=this._query.path.popLast();return a.isEmpty()?null:new ks(new Mn(a),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),b.prototype.doc=function(a){if(zb("CollectionReference.doc",arguments,0,1),0===arguments.length&&(a=zn.newId()),Ab("CollectionReference.doc","non-empty string",1,a),""===a)throw new yn(xn.INVALID_ARGUMENT,"Document path must be a non-empty string");var b=Jn.fromString(a);return ks.forPath(this._query.path.child(b),this.firestore)},b.prototype.add=function(a){xb("CollectionReference.add",arguments,1),Ab("CollectionReference.add","object",1,a);var b=this.doc();return b.set(a).then(function(){return b})},b}(os),rs=qb(hs,"Use firebase.firestore() instead."),ss=qb(is,"Use firebase.firestore().runTransaction() instead."),ts=qb(js,"Use firebase.firestore().batch() instead."),us=qb(ks,"Use firebase.firestore().doc() instead."),vs=qb(ms),ws=qb(ns),xs=qb(os),ys=qb(ps),zs=qb(qs,"Use firebase.firestore().collection() instead."),As={Firestore:rs,GeoPoint:Cn,Timestamp:Dn,Blob:Bn,Transaction:ss,WriteBatch:ts,DocumentReference:us,DocumentSnapshot:vs,Query:xs,QueryDocumentSnapshot:ws,QuerySnapshot:ys,CollectionReference:zs,FieldPath:Mr,FieldValue:Zr,setLogLevel:hs.setLogLevel,CACHE_SIZE_UNLIMITED:es};Uc(Ni);var Bs,Cs,Ds={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Es=function(a){function b(c,d,e){var f=a.call(this,d)||this;return Object.setPrototypeOf(f,b.prototype),f.code=c,f.details=e,f}return v(b,a),b}(Error),Fs=function(){function a(a){this.app=a}return a.prototype.getAuthToken=function(){return w(this,void 0,void 0,function(){var a;return x(this,function(b){switch(b.label){case 0:return b.trys.push([0,2,,3]),[4,this.app.INTERNAL.getToken()];case 1:return(a=b.sent())?[2,a.accessToken]:[2,void 0];case 2:return b.sent(),[2,void 0];case 3:return[2]}})})},a.prototype.getInstanceIdToken=function(){return w(this,void 0,void 0,function(){var a;return x(this,function(b){switch(b.label){case 0:return b.trys.push([0,2,,3]),this.app.messaging?[4,this.app.messaging().getToken()]:[2,void 0];case 1:return(a=b.sent())?[2,a]:[2,void 0];case 2:return b.sent(),[2,void 0];case 3:
return[2]}})})},a.prototype.getContext=function(){return w(this,void 0,void 0,function(){var a,b;return x(this,function(c){switch(c.label){case 0:return[4,this.getAuthToken()];case 1:return a=c.sent(),[4,this.getInstanceIdToken()];case 2:return b=c.sent(),[2,{authToken:a,instanceIdToken:b}]}})})},a}(),Gs=function(){function a(){}return a.prototype.encode=function(a){var b=this;if(null==a)return null;if(a instanceof Number&&(a=a.valueOf()),"number"==typeof a&&isFinite(a))return a;if(!0===a||!1===a)return a;if("[object String]"===Object.prototype.toString.call(a))return a;if(Array.isArray(a))return a.map(function(a){return b.encode(a)});if("function"==typeof a||"object"==typeof a)return Vc(a,function(a){return b.encode(a)});throw new Error("Data cannot be encoded in JSON: "+a)},a.prototype.decode=function(a){var b=this;if(null===a)return a;if(a["@type"])switch(a["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var c=parseFloat(a.value);if(isNaN(c))throw new Error("Data cannot be decoded from JSON: "+a);return c;default:throw new Error("Data cannot be decoded from JSON: "+a)}return Array.isArray(a)?a.map(function(a){return b.decode(a)}):"function"==typeof a||"object"==typeof a?Vc(a,function(a){return b.decode(a)}):a},a}(),Hs=function(){function a(a,b){void 0===b&&(b="us-central1"),this.app_=a,this.region_=b,this.serializer=new Gs,this.emulatorOrigin=null,this.contextProvider=new Fs(a)}return Object.defineProperty(a.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),a.prototype._url=function(a){var b=this.app_.options.projectId,c=this.region_;return null===this.emulatorOrigin?"https://"+c+"-"+b+".cloudfunctions.net/"+a:this.emulatorOrigin+"/"+b+"/"+c+"/"+a},a.prototype.useFunctionsEmulator=function(a){this.emulatorOrigin=a},a.prototype.httpsCallable=function(a,b){var c=this;return function(d){return c.call(a,d,b||{})}},a.prototype.postJSON=function(a,b,c){return w(this,void 0,void 0,function(){var d,e;return x(this,function(f){switch(f.label){case 0:c.append("Content-Type","application/json"),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,fetch(a,{method:"POST",body:JSON.stringify(b),headers:c})];case 2:return d=f.sent(),[3,4];case 3:return f.sent(),[2,{status:0,json:null}];case 4:e=null,f.label=5;case 5:return f.trys.push([5,7,,8]),[4,d.json()];case 6:return e=f.sent(),[3,8];case 7:return f.sent(),[3,8];case 8:return[2,{status:d.status,json:e}]}})})},a.prototype.call=function(a,b,c){return w(this,void 0,void 0,function(){var d,e,f,g,h,i,j,k;return x(this,function(l){switch(l.label){case 0:return d=this._url(a),b=this.serializer.encode(b),e={data:b},f=new Headers,[4,this.contextProvider.getContext()];case 1:return(g=l.sent()).authToken&&f.append("Authorization","Bearer "+g.authToken),g.instanceIdToken&&f.append("Firebase-Instance-ID-Token",g.instanceIdToken),h=c.timeout||7e4,[4,Promise.race([this.postJSON(d,e,f),(m=h,new Promise(function(a,b){setTimeout(function(){b(new Es("deadline-exceeded","deadline-exceeded"))},m)}))])];case 2:if(i=l.sent(),j=function(a,b,c){var d=function(a){if(a>=200&&300>a)return"ok";switch(a){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(a),e=d,f=void 0;try{var g=b.error;if(g){var h=g.status;if("string"==typeof h){if(!Ds[h])return new Es("internal","internal");d=Ds[h]}e=h;var i=g.message;"string"==typeof i&&(e=i),void 0!==(f=g.details)&&(f=c.decode(f))}}catch(a){}return"ok"===d?null:new Es(d,e,f)}(i.status,i.json,this.serializer))throw j;if(!i.json)throw new Es("internal","Response is not valid JSON object.");if(void 0===(k=i.json.data)&&(k=i.json.result),void 0===k)throw new Es("internal","Response is missing data field.");return[2,{data:this.serializer.decode(k)}]}var m})})},a}();Bs={Functions:Hs},Ni.INTERNAL.registerService("functions",Wc,Bs,void 0,!0);var Is,Js,Ks,Ls,Ms=((Cs={})["only-available-in-window"]="This method is available in a Window context.",Cs["only-available-in-sw"]="This method is available in a service worker context.",Cs["should-be-overriden"]="This method should be overriden by extended classes.",Cs["bad-sender-id"]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",Cs["permission-default"]="The required permissions were not granted and dismissed instead.",Cs["permission-blocked"]="The required permissions were not granted and blocked instead.",Cs["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Cs["notifications-blocked"]="Notifications have been blocked.",Cs["failed-serviceworker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Cs["sw-registration-expected"]="A service worker registration was the expected input.",Cs["get-subscription-failed"]="There was an error when trying to get any existing Push Subscriptions.",Cs["invalid-saved-token"]="Unable to access details of the saved token.",Cs["sw-reg-redundant"]="The service worker being used for push was made redundant.",Cs["token-subscribe-failed"]="A problem occured while subscribing the user to FCM: {$message}",Cs["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Cs["token-subscribe-no-push-set"]="FCM returned an invalid response when getting an FCM token.",Cs["token-unsubscribe-failed"]="A problem occured while unsubscribing the user from FCM: {$message}",Cs["token-update-failed"]="A problem occured while updating the user from FCM: {$message}",Cs["token-update-no-token"]="FCM returned no token when updating the user to push.",Cs["use-sw-before-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Cs["invalid-delete-token"]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",Cs["delete-token-not-found"]="The deletion attempt for token could not be performed as the token was not found.",Cs["delete-scope-not-found"]="The deletion attempt for service worker scope could not be performed as the scope was not found.",Cs["bg-handler-function-expected"]="The input to setBackgroundMessageHandler() must be a function.",Cs["no-window-client-to-msg"]="An attempt was made to message a non-existant window client.",Cs["unable-to-resubscribe"]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}",Cs["no-fcm-token-for-resubscribe"]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",Cs["failed-to-delete-token"]="Unable to delete the currently saved token.",Cs["no-sw-in-reg"]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",Cs["incorrect-gcm-sender-id"]="Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.",Cs["bad-scope"]="The service worker scope must be a string with at least one character.",Cs["bad-vapid-key"]="The public VAPID key is not a Uint8Array with 65 bytes.",Cs["bad-subscription"]="The subscription must be a valid PushSubscription.",Cs["bad-token"]="The FCM Token used for storage / lookup was not a valid token string.",Cs["bad-push-set"]="The FCM push set used for storage / lookup was not not a valid push set string.",Cs["failed-delete-vapid-key"]="The VAPID key could not be deleted.",Cs["invalid-public-vapid-key"]="The public VAPID key must be a string.",Cs["use-public-key-before-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Cs["public-vapid-key-decryption-failed"]="The public VAPID key did not equal 65 bytes when decrypted.",Cs),Ns=new si("messaging","Messaging",Ms),Os=new Uint8Array([4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110]),Ps="https://fcm.googleapis.com";(Js=Is||(Is={})).TYPE_OF_MSG="firebase-messaging-msg-type",Js.DATA="firebase-messaging-msg-data",(Ls=Ks||(Ks={})).PUSH_MSG_RECEIVED="push-msg-received",Ls.NOTIFICATION_CLICKED="notification-clicked";var Qs,Rs=function(){function a(){}return a.prototype.getToken=function(a,b,c){return w(this,void 0,void 0,function(){var d,e,f,g,h,i,j,k;return x(this,function(l){switch(l.label){case 0:d=Zc(b.getKey("p256dh")),e=Zc(b.getKey("auth")),f="authorized_entity="+a+"&endpoint="+b.endpoint+"&encryption_key="+d+"&encryption_auth="+e,Xc(c.buffer,Os.buffer)||(g=Zc(c),f+="&application_pub_key="+g),(h=new Headers).append("Content-Type","application/x-www-form-urlencoded"),i={method:"POST",headers:h,body:f},l.label=1;case 1:return l.trys.push([1,4,,5]),[4,fetch(Ps+"/fcm/connect/subscribe",i)];case 2:return[4,l.sent().json()];case 3:return j=l.sent(),[3,5];case 4:throw l.sent(),Ns.create("token-subscribe-failed");case 5:if(j.error)throw k=j.error.message,Ns.create("token-subscribe-failed",{message:k});if(!j.token)throw Ns.create("token-subscribe-no-token");if(!j.pushSet)throw Ns.create("token-subscribe-no-push-set");return[2,{token:j.token,pushSet:j.pushSet}]}})})},a.prototype.updateToken=function(a,b,c,d,e){return w(this,void 0,void 0,function(){var f,g,h,i,j,k,l,m;return x(this,function(n){switch(n.label){case 0:f=Zc(d.getKey("p256dh")),g=Zc(d.getKey("auth")),h="push_set="+c+"&token="+b+"&authorized_entity="+a+"&endpoint="+d.endpoint+"&encryption_key="+f+"&encryption_auth="+g,Xc(e.buffer,Os.buffer)||(i=Zc(e),h+="&application_pub_key="+i),(j=new Headers).append("Content-Type","application/x-www-form-urlencoded"),k={method:"POST",headers:j,body:h},n.label=1;case 1:return n.trys.push([1,4,,5]),[4,fetch(Ps+"/fcm/connect/subscribe",k)];case 2:return[4,n.sent().json()];case 3:return l=n.sent(),[3,5];case 4:throw n.sent(),Ns.create("token-update-failed");case 5:if(l.error)throw m=l.error.message,Ns.create("token-update-failed",{message:m});if(!l.token)throw Ns.create("token-update-no-token");return[2,l.token]}})})},a.prototype.deleteToken=function(a,b,c){return w(this,void 0,void 0,function(){var d,e,f,g,h;return x(this,function(i){switch(i.label){case 0:d="authorized_entity="+a+"&token="+b+"&pushSet="+c,(e=new Headers).append("Content-Type","application/x-www-form-urlencoded"),f={method:"POST",headers:e,body:d},i.label=1;case 1:return i.trys.push([1,4,,5]),[4,fetch(Ps+"/fcm/connect/unsubscribe",f)];case 2:return[4,i.sent().json()];case 3:if((g=i.sent()).error)throw h=g.error.message,Ns.create("token-unsubscribe-failed",{message:h});return[3,5];case 4:throw i.sent(),Ns.create("token-unsubscribe-failed");case 5:return[2]}})})},a}(),Ss="undefined",Ts="fcm_token_object_Store",Us=function(){function a(){this.dbPromise=null}return a.prototype.get=function(a){return this.createTransaction(function(b){return b.get(a)})},a.prototype.getIndex=function(a,b){return this.createTransaction(function(c){return c.index(a).get(b)})},a.prototype.put=function(a){return this.createTransaction(function(b){return b.put(a)},"readwrite")},a.prototype["delete"]=function(a){return this.createTransaction(function(b){return b["delete"](a)},"readwrite")},a.prototype.closeDatabase=function(){return w(this,void 0,void 0,function(){return x(this,function(a){switch(a.label){case 0:return this.dbPromise?[4,this.dbPromise]:[3,2];case 1:a.sent().close(),this.dbPromise=null,a.label=2;case 2:return[2]}})})},a.prototype.createTransaction=function(a,b){return void 0===b&&(b="readonly"),w(this,void 0,void 0,function(){var c,d,e,f;return x(this,function(g){switch(g.label){case 0:return[4,this.getDb()];case 1:return c=g.sent(),d=c.transaction(this.objectStoreName,b),e=d.objectStore(this.objectStoreName),[4,(h=a(e),new Promise(function(a,b){h.onsuccess=function(){a(h.result)},h.onerror=function(){b(h.error)}}))];case 2:return f=g.sent(),[2,new Promise(function(a,b){d.oncomplete=function(){a(f)},d.onerror=function(){b(d.error)}})]}var h})})},a.prototype.getDb=function(){var a=this;return this.dbPromise||(this.dbPromise=new Promise(function(b,c){var d=indexedDB.open(a.dbName,a.dbVersion);d.onsuccess=function(){b(d.result)},d.onerror=function(){a.dbPromise=null,c(d.error)},d.onupgradeneeded=function(b){return a.onDbUpgrade(d,b)}})),this.dbPromise},a}(),Vs=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.dbName="fcm_token_details_db",b.dbVersion=3,b.objectStoreName="fcm_token_object_Store",b}return v(b,a),b.prototype.onDbUpgrade=function(a,b){var c=a.result;switch(b.oldVersion){case 0:(d=c.createObjectStore(this.objectStoreName,{keyPath:"swScope"})).createIndex("fcmSenderId","fcmSenderId",{unique:!1}),d.createIndex("fcmToken","fcmToken",{unique:!0});case 1:_c();case 2:var d,e=(d=a.transaction.objectStore(this.objectStoreName)).openCursor();e.onsuccess=function(){var a=e.result;if(a){var b=a.value,c=Ri({},b);b.createTime||(c.createTime=Date.now()),"string"==typeof b.vapidKey&&(c.vapidKey=$c(b.vapidKey)),"string"==typeof b.auth&&(c.auth=$c(b.auth).buffer),"string"==typeof b.auth&&(c.p256dh=$c(b.p256dh).buffer),a.update(c),a["continue"]()}}}},b.prototype.getTokenDetailsFromToken=function(a){return w(this,void 0,void 0,function(){return x(this,function(b){if(!a)throw Ns.create("bad-token");return ad({fcmToken:a}),[2,this.getIndex("fcmToken",a)]})})},b.prototype.getTokenDetailsFromSWScope=function(a){return w(this,void 0,void 0,function(){return x(this,function(b){if(!a)throw Ns.create("bad-scope");return ad({swScope:a}),[2,this.get(a)]})})},b.prototype.saveTokenDetails=function(a){return w(this,void 0,void 0,function(){return x(this,function(b){if(!a.swScope)throw Ns.create("bad-scope");if(!a.vapidKey)throw Ns.create("bad-vapid-key");if(!a.endpoint||!a.auth||!a.p256dh)throw Ns.create("bad-subscription");if(!a.fcmSenderId)throw Ns.create("bad-sender-id");if(!a.fcmToken)throw Ns.create("bad-token");if(!a.fcmPushSet)throw Ns.create("bad-push-set");return ad(a),[2,this.put(a)]})})},b.prototype.deleteToken=function(a){return w(this,void 0,void 0,function(){var b;return x(this,function(c){switch(c.label){case 0:return"string"!=typeof a||0===a.length?[2,Promise.reject(Ns.create("invalid-delete-token"))]:[4,this.getTokenDetailsFromToken(a)];case 1:if(!(b=c.sent()))throw Ns.create("delete-token-not-found");return[4,this["delete"](b.swScope)];case 2:return c.sent(),[2,b]}})})},b}(Us),Ws=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.dbName="fcm_vapid_details_db",b.dbVersion=1,b.objectStoreName="fcm_vapid_object_Store",b}return v(b,a),b.prototype.onDbUpgrade=function(a){a.result.createObjectStore(this.objectStoreName,{keyPath:"swScope"})},b.prototype.getVapidFromSWScope=function(a){return w(this,void 0,void 0,function(){var b;return x(this,function(c){switch(c.label){case 0:if("string"!=typeof a||0===a.length)throw Ns.create("bad-scope");return[4,this.get(a)];case 1:return[2,(b=c.sent())?b.vapidKey:void 0]}})})},b.prototype.saveVapidDetails=function(a,b){return w(this,void 0,void 0,function(){var c;return x(this,function(d){if("string"!=typeof a||0===a.length)throw Ns.create("bad-scope");if(null===b||65!==b.length)throw Ns.create("bad-vapid-key");return c={swScope:a,vapidKey:b},[2,this.put(c)]})})},b.prototype.deleteVapidDetails=function(a){return w(this,void 0,void 0,function(){var b;return x(this,function(c){switch(c.label){case 0:return[4,this.getVapidFromSWScope(a)];case 1:if(!(b=c.sent()))throw Ns.create("delete-scope-not-found");return[4,this["delete"](a)];case 2:return c.sent(),[2,b]}})})},b}(Us),Xs="messagingSenderId",Ys=function(){function a(a){var b=this;if(!a.options[Xs]||"string"!=typeof a.options[Xs])throw Ns.create("bad-sender-id");this.messagingSenderId=a.options[Xs],this.tokenDetailsModel=new Vs,this.vapidDetailsModel=new Ws,this.iidModel=new Rs,this.app=a,this.INTERNAL={"delete":function(){return b["delete"]()}}}return a.prototype.getToken=function(){return w(this,void 0,void 0,function(){var a,b,c,d,e;return x(this,function(f){switch(f.label){case 0:if("denied"===(a=this.getNotificationPermission_()))throw Ns.create("notifications-blocked");return"granted"!==a?[2,null]:[4,this.getSWRegistration_()];case 1:return b=f.sent(),[4,this.getPublicVapidKey_()];case 2:return c=f.sent(),[4,this.getPushSubscription(b,c)];case 3:return d=f.sent(),[4,this.tokenDetailsModel.getTokenDetailsFromSWScope(b.scope)];case 4:return(e=f.sent())?[2,this.manageExistingToken(b,d,c,e)]:[2,this.getNewToken(b,d,c)]}})})},a.prototype.manageExistingToken=function(a,b,c,d){return w(this,void 0,void 0,function(){return x(this,function(e){switch(e.label){case 0:return function(a,b,c){if(!c.vapidKey||!Xc(b.buffer,c.vapidKey.buffer))return!1;var d=a.endpoint===c.endpoint,e=Xc(a.getKey("auth"),c.auth),f=Xc(a.getKey("p256dh"),c.p256dh);return d&&e&&f}(b,c,d)?Date.now()<d.createTime+6048e5?[2,d.fcmToken]:[2,this.updateToken(a,b,c,d)]:[4,this.deleteTokenFromDB(d.fcmToken)];case 1:return e.sent(),[2,this.getNewToken(a,b,c)]}})})},a.prototype.updateToken=function(a,b,c,d){return w(this,void 0,void 0,function(){var e,f,g;return x(this,function(h){switch(h.label){case 0:return h.trys.push([0,4,,6]),[4,this.iidModel.updateToken(this.messagingSenderId,d.fcmToken,d.fcmPushSet,b,c)];case 1:return e=h.sent(),f={swScope:a.scope,vapidKey:c,fcmSenderId:this.messagingSenderId,fcmToken:e,fcmPushSet:d.fcmPushSet,createTime:Date.now(),endpoint:b.endpoint,auth:b.getKey("auth"),p256dh:b.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(f)];case 2:return h.sent(),[4,this.vapidDetailsModel.saveVapidDetails(a.scope,c)];case 3:return h.sent(),[2,e];case 4:return g=h.sent(),[4,this.deleteToken(d.fcmToken)];case 5:throw h.sent(),g;case 6:return[2]}})})},a.prototype.getNewToken=function(a,b,c){return w(this,void 0,void 0,function(){var d,e;return x(this,function(f){switch(f.label){case 0:return[4,this.iidModel.getToken(this.messagingSenderId,b,c)];case 1:return d=f.sent(),e={swScope:a.scope,vapidKey:c,fcmSenderId:this.messagingSenderId,fcmToken:d.token,fcmPushSet:d.pushSet,createTime:Date.now(),endpoint:b.endpoint,auth:b.getKey("auth"),p256dh:b.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(e)];case 2:return f.sent(),[4,this.vapidDetailsModel.saveVapidDetails(a.scope,c)];case 3:return f.sent(),[2,d.token]}})})},a.prototype.deleteToken=function(a){return w(this,void 0,void 0,function(){var b,c;return x(this,function(d){switch(d.label){case 0:return[4,this.deleteTokenFromDB(a)];case 1:return d.sent(),[4,this.getSWRegistration_()];case 2:return(b=d.sent())?[4,b.pushManager.getSubscription()]:[3,4];case 3:if(c=d.sent())return[2,c.unsubscribe()];d.label=4;case 4:return[2,!0]}})})},a.prototype.deleteTokenFromDB=function(a){return w(this,void 0,void 0,function(){var b;return x(this,function(c){switch(c.label){case 0:return[4,this.tokenDetailsModel.deleteToken(a)];case 1:return b=c.sent(),[4,this.iidModel.deleteToken(b.fcmSenderId,b.fcmToken,b.fcmPushSet)];case 2:return c.sent(),[2]}})})},a.prototype.getPushSubscription=function(a,b){return a.pushManager.getSubscription().then(function(c){return c||a.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:b})})},a.prototype.requestPermission=function(){throw Ns.create("only-available-in-window")},a.prototype.useServiceWorker=function(a){throw Ns.create("only-available-in-window")},a.prototype.usePublicVapidKey=function(a){throw Ns.create("only-available-in-window")},a.prototype.onMessage=function(a,b,c){throw Ns.create("only-available-in-window")},a.prototype.onTokenRefresh=function(a,b,c){throw Ns.create("only-available-in-window")},a.prototype.setBackgroundMessageHandler=function(a){throw Ns.create("only-available-in-sw")},a.prototype["delete"]=function(){return w(this,void 0,void 0,function(){return x(this,function(a){switch(a.label){case 0:return[4,Promise.all([this.tokenDetailsModel.closeDatabase(),this.vapidDetailsModel.closeDatabase()])];case 1:return a.sent(),[2]}})})},a.prototype.getNotificationPermission_=function(){return Notification.permission},a.prototype.getTokenDetailsModel=function(){return this.tokenDetailsModel},a.prototype.getVapidDetailsModel=function(){return this.vapidDetailsModel},a.prototype.getIidModel=function(){return this.iidModel},a}(),Zs="FCM_MSG",$s=function(a){function b(b){var c=a.call(this,b)||this;return c.bgMessageHandler=null,self.addEventListener("push",function(a){c.onPush(a)}),self.addEventListener("pushsubscriptionchange",function(a){c.onSubChange(a)}),self.addEventListener("notificationclick",function(a){c.onNotificationClick(a)}),c}return v(b,a),b.prototype.onPush=function(a){a.waitUntil(this.onPush_(a))},b.prototype.onSubChange=function(a){a.waitUntil(this.onSubChange_(a))},b.prototype.onNotificationClick=function(a){a.waitUntil(this.onNotificationClick_(a))},b.prototype.onPush_=function(a){return w(this,void 0,void 0,function(){var b,c,d,e,f,g;return x(this,function(h){switch(h.label){case 0:if(!a.data)return[2];try{b=a.data.json()}catch(h){return[2]}return[4,this.hasVisibleClients_()];case 1:return h.sent()?[2,this.sendMessageToWindowClients_(b)]:(c=this.getNotificationData_(b))?(d=c.title||"",[4,this.getSWRegistration_()]):[3,3];case 2:return e=h.sent(),f=c.actions,g=Notification.maxActions,f&&g&&f.length>g&&console.warn("This browser only supports "+g+" actions.The remaining actions will not be displayed."),[2,e.showNotification(d,c)];case 3:return this.bgMessageHandler?[4,this.bgMessageHandler(b)]:[3,5];case 4:return h.sent(),[2];case 5:return[2]}})})},b.prototype.onSubChange_=function(a){return w(this,void 0,void 0,function(){var a,b,c,d;return x(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.getSWRegistration_()];case 1:return a=e.sent(),[3,3];case 2:throw b=e.sent(),Ns.create("unable-to-resubscribe",{message:b});case 3:return e.trys.push([3,5,,8]),[4,a.pushManager.getSubscription()];case 4:return e.sent(),[3,8];case 5:return c=e.sent(),[4,this.getTokenDetailsModel().getTokenDetailsFromSWScope(a.scope)];case 6:if(!(d=e.sent()))throw c;return[4,this.deleteToken(d.fcmToken)];case 7:throw e.sent(),c;case 8:return[2]}})})},b.prototype.onNotificationClick_=function(a){return w(this,void 0,void 0,function(){var b,c,d,e;return x(this,function(f){switch(f.label){case 0:return a.notification&&a.notification.data&&a.notification.data[Zs]?a.action?[2]:(a.stopImmediatePropagation(),a.notification.close(),(b=a.notification.data[Zs]).notification&&(c=b.fcmOptions&&b.fcmOptions.link||b.notification.click_action)?[4,this.getWindowClient_(c)]:[2]):[2];case 1:return(d=f.sent())?[3,3]:[4,self.clients.openWindow(c)];case 2:return d=f.sent(),[3,5];case 3:return[4,d.focus()];case 4:d=f.sent(),f.label=5;case 5:return d?(delete b.notification,delete b.fcmOptions,e=cd(Ks.NOTIFICATION_CLICKED,b),[2,this.attemptToMessageClient_(d,e)]):[2]}})})},b.prototype.getNotificationData_=function(a){var b;if(a&&"object"==typeof a.notification){var c=Ri({},a.notification);return c.data=Ri({},a.notification.data,((b={})[Zs]=a,b)),c}},b.prototype.setBackgroundMessageHandler=function(a){if(!a||"function"!=typeof a)throw Ns.create("bg-handler-function-expected");this.bgMessageHandler=a},b.prototype.getWindowClient_=function(a){return w(this,void 0,void 0,function(){var b,c,d,e;return x(this,function(f){switch(f.label){case 0:return b=new URL(a,self.location.href).href,[4,bd()];case 1:for(c=f.sent(),d=null,e=0;e<c.length;e++)if(new URL(c[e].url,self.location.href).href===b){d=c[e];break}return[2,d]}})})},b.prototype.attemptToMessageClient_=function(a,b){return w(this,void 0,void 0,function(){return x(this,function(c){if(!a)throw Ns.create("no-window-client-to-msg");return a.postMessage(b),[2]})})},b.prototype.hasVisibleClients_=function(){return w(this,void 0,void 0,function(){return x(this,function(a){switch(a.label){case 0:return[4,bd()];case 1:return[2,a.sent().some(function(a){return"visible"===a.visibilityState&&!a.url.startsWith("chrome-extension://")})]}})})},b.prototype.sendMessageToWindowClients_=function(a){return w(this,void 0,void 0,function(){var b,c,d=this;return x(this,function(e){switch(e.label){case 0:return[4,bd()];case 1:return b=e.sent(),c=cd(Ks.PUSH_MSG_RECEIVED,a),[4,Promise.all(b.map(function(a){return d.attemptToMessageClient_(a,c)}))];case 2:return e.sent(),[2]}})})},b.prototype.getSWRegistration_=function(){return w(this,void 0,void 0,function(){return x(this,function(a){return[2,self.registration]})})},b.prototype.getPublicVapidKey_=function(){return w(this,void 0,void 0,function(){var a,b;return x(this,function(c){switch(c.label){case 0:return[4,this.getSWRegistration_()];case 1:if(!(a=c.sent()))throw Ns.create("sw-registration-expected");return[4,this.getVapidDetailsModel().getVapidFromSWScope(a.scope)];case 2:return null==(b=c.sent())?[2,Os]:[2,b]}})})},b}(Ys),_s=function(a){function b(b){var c=a.call(this,b)||this;return c.registrationToUse=null,c.publicVapidKeyToUse=null,c.manifestCheckPromise=null,c.messageObserver=null,c.tokenRefreshObserver=null,c.onMessageInternal=p(function(a){c.messageObserver=a}),c.onTokenRefreshInternal=p(function(a){c.tokenRefreshObserver=a}),c.setupSWMessageListener_(),c}return v(b,a),b.prototype.getToken=function(){return w(this,void 0,void 0,function(){return x(this,function(b){switch(b.label){case 0:return this.manifestCheckPromise||(this.manifestCheckPromise=function(){return w(this,void 0,void 0,function(){var a,b;return x(this,function(c){switch(c.label){case 0:if(!(a=document.querySelector('link[rel="manifest"]')))return[2];c.label=1;case 1:return c.trys.push([1,4,,5]),[4,fetch(a.href)];case 2:return[4,c.sent().json()];case 3:return b=c.sent(),[3,5];case 4:return c.sent(),[2];case 5:if(!b||!b.gcm_sender_id)return[2];if("103953800507"!==b.gcm_sender_id)throw Ns.create("incorrect-gcm-sender-id");return[2]}})})}()),[4,this.manifestCheckPromise];case 1:return b.sent(),[2,a.prototype.getToken.call(this)]}})})},b.prototype.requestPermission=function(){return w(this,void 0,void 0,function(){var a;return x(this,function(b){switch(b.label){case 0:return"granted"===this.getNotificationPermission_()?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(a=b.sent()))return[2];throw"denied"===a?Ns.create("permission-blocked"):Ns.create("permission-default")}})})},b.prototype.useServiceWorker=function(a){if(!(a instanceof ServiceWorkerRegistration))throw Ns.create("sw-registration-expected");if(null!=this.registrationToUse)throw Ns.create("use-sw-before-get-token");this.registrationToUse=a},b.prototype.usePublicVapidKey=function(a){if("string"!=typeof a)throw Ns.create("invalid-public-vapid-key");if(null!=this.publicVapidKeyToUse)throw Ns.create("use-public-key-before-get-token");var b=$c(a);if(65!==b.length)throw Ns.create("public-vapid-key-decryption-failed");this.publicVapidKeyToUse=b},b.prototype.onMessage=function(a,b,c){return"function"==typeof a?this.onMessageInternal(a,b,c):this.onMessageInternal(a)},b.prototype.onTokenRefresh=function(a,b,c){return"function"==typeof a?this.onTokenRefreshInternal(a,b,c):this.onTokenRefreshInternal(a)},b.prototype.waitForRegistrationToActivate_=function(a){var b=a.installing||a.waiting||a.active;return new Promise(function(c,d){if(b)if("activated"!==b.state)if("redundant"!==b.state){var e=function(){if("activated"===b.state)c(a);else{if("redundant"!==b.state)return;d(Ns.create("sw-reg-redundant"))}b.removeEventListener("statechange",e)};b.addEventListener("statechange",e)}else d(Ns.create("sw-reg-redundant"));else c(a);else d(Ns.create("no-sw-in-reg"))})},b.prototype.getSWRegistration_=function(){var a=this;return this.registrationToUse?this.waitForRegistrationToActivate_(this.registrationToUse):(this.registrationToUse=null,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})["catch"](function(a){throw Ns.create("failed-serviceworker-registration",{browserErrorMessage:a.message})}).then(function(b){return a.waitForRegistrationToActivate_(b).then(function(){return(a.registrationToUse=b).update(),b})}))},b.prototype.getPublicVapidKey_=function(){return w(this,void 0,void 0,function(){return x(this,function(a){return this.publicVapidKeyToUse?[2,this.publicVapidKeyToUse]:[2,Os]})})},b.prototype.setupSWMessageListener_=function(){var a=this;navigator.serviceWorker.addEventListener("message",function(b){if(b.data&&b.data[Is.TYPE_OF_MSG]){var c=b.data;switch(c[Is.TYPE_OF_MSG]){case Ks.PUSH_MSG_RECEIVED:case Ks.NOTIFICATION_CLICKED:var d=c[Is.DATA];a.messageObserver&&a.messageObserver.next(d)}}},!1)},b}(Ys);Qs={isSupported:dd},Ni.INTERNAL.registerService("messaging",function(a){if(!dd())throw Ns.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new $s(a):new _s(a)},Qs);var at,bt,ct="firebasestorage.googleapis.com",dt=function(){function a(a,b){this.code_=ed(a),this.message_="Firebase Storage: "+b,this.serverResponse_=null,this.name_="FirebaseError"}return a.prototype.codeProp=function(){return this.code},a.prototype.codeEquals=function(a){return ed(a)===this.codeProp()},a.prototype.serverResponseProp=function(){return this.serverResponse_},a.prototype.setServerResponseProp=function(a){this.serverResponse_=a},Object.defineProperty(a.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),a}(),et={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"},ft={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},gt=function(a,b){this.data=a,this.contentType=b||null},ht=function(a){this.base64=!1,this.contentType=null;var b=a.match(/^data:([^,]+)?,/);if(null===b)throw kd(ft.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var c,d,e=b[1]||null;null!=e&&(this.base64=(d=";base64",(c=e).length>=d.length&&c.substring(c.length-d.length)===d),this.contentType=this.base64?e.substring(0,e.length-";base64".length):e),this.rest=a.substring(a.indexOf(",")+1)},it={STATE_CHANGED:"state_changed"},jt="running",kt="pausing",lt="paused",mt="success",nt="canceling",ot="canceled",pt="error",qt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};(bt=at||(at={}))[bt.NO_ERROR=0]="NO_ERROR",bt[bt.NETWORK_ERROR=1]="NETWORK_ERROR",bt[bt.ABORT=2]="ABORT";var rt,st=function(){function a(){var a=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=at.NO_ERROR,this.sendPromise_=td(function(b,c){a.xhr_.addEventListener("abort",function(c){a.errorCode_=at.ABORT,b(a);
}),a.xhr_.addEventListener("error",function(c){a.errorCode_=at.NETWORK_ERROR,b(a)}),a.xhr_.addEventListener("load",function(c){b(a)})})}return a.prototype.send=function(a,b,c,d){var e=this;if(this.sent_)throw ld("cannot .send() more than once");return this.sent_=!0,this.xhr_.open(b,a,!0),vd(d)&&rd(d,function(a,b){e.xhr_.setRequestHeader(a,b.toString())}),vd(c)?this.xhr_.send(c):this.xhr_.send(),this.sendPromise_},a.prototype.getErrorCode=function(){if(!this.sent_)throw ld("cannot .getErrorCode() before sending");return this.errorCode_},a.prototype.getStatus=function(){if(!this.sent_)throw ld("cannot .getStatus() before sending");try{return this.xhr_.status}catch(a){return-1}},a.prototype.getResponseText=function(){if(!this.sent_)throw ld("cannot .getResponseText() before sending");return this.xhr_.responseText},a.prototype.abort=function(){this.xhr_.abort()},a.prototype.getResponseHeader=function(a){return this.xhr_.getResponseHeader(a)},a.prototype.addUploadProgressListener=function(a){vd(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",a)},a.prototype.removeUploadProgressListener=function(a){vd(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",a)},a}(),tt=function(){function a(){}return a.prototype.createXhrIo=function(){return new st},a}(),ut=function(){function a(a,b){this.bucket=a,this.path_=b}return Object.defineProperty(a.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),a.prototype.fullServerUrl=function(){var a=encodeURIComponent;return"/b/"+a(this.bucket)+"/o/"+a(this.path)},a.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},a.makeFromBucketSpec=function(b){var c,d;try{c=a.makeFromUrl(b)}catch(c){return new a(b,"")}if(""===c.path)return c;throw d=b,new dt(et.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+d+"'.")},a.makeFromUrl=function(b){for(var c,d=null,e="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+e+"(/(.*))?$","i"),g=ct.replace(/[.]/g,"\\."),h=[{regex:f,indices:{bucket:1,path:3},postModify:function(a){"/"===a.path.charAt(a.path.length-1)&&(a.path_=a.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+g+"/v[A-Za-z0-9_]+/b/"+e+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(a){a.path_=decodeURIComponent(a.path)}}],i=0;i<h.length;i++){var j=h[i],k=j.regex.exec(b);if(k){var l=k[j.indices.bucket],m=k[j.indices.path];m||(m=""),d=new a(l,m),j.postModify(d);break}}if(null==d)throw c=b,new dt(et.INVALID_URL,"Invalid URL '"+c+"'.");return d},a}(),vt=function(a,b,c,d){this.server=a,this.local=b||a,this.writable=!!c,this.xform=d||Gd},wt=null,xt=function(a,b){var c=this;this.validator=function(b){c.optional&&!wd(b)||a(b)},this.optional=!!b},yt=function(){function a(a,b){var c=0,d="";Ad(a)?(c=(this.data_=a).size,d=a.type):a instanceof ArrayBuffer?(b?this.data_=new Uint8Array(a):(this.data_=new Uint8Array(a.byteLength),this.data_.set(new Uint8Array(a))),c=this.data_.length):a instanceof Uint8Array&&(b?this.data_=a:(this.data_=new Uint8Array(a.length),this.data_.set(a)),c=a.length),this.size_=c,this.type_=d}return a.prototype.size=function(){return this.size_},a.prototype.type=function(){return this.type_},a.prototype.slice=function(b,c){if(Ad(this.data_)){var d=this.data_,e=(g=b,h=c,(f=d).webkitSlice?f.webkitSlice(g,h):f.mozSlice?f.mozSlice(g,h):f.slice?f.slice(g,h):null);return null===e?null:new a(e)}var f,g,h;return new a(new Uint8Array(this.data_.buffer,b,c-b),!0)},a.getBlob=function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];if(Bd()){var d=b.map(function(b){return b instanceof a?b.data_:b});return new a(Sd.apply(null,d))}var e=b.map(function(a){return zd(a)?nd(ft.RAW,a).data:a.data_}),f=0;e.forEach(function(a){f+=a.byteLength});var g=new Uint8Array(f),h=0;return e.forEach(function(a){for(var b=0;b<a.length;b++)g[h++]=a[b]}),new a(g,!0)},a.prototype.uploadData=function(){return this.data_},a}(),zt=function(a,b,c,d){this.url=a,this.method=b,this.handler=c,this.timeout=d,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]},At=function(a,b,c,d){this.current=a,this.total=b,this.finalized=!!c,this.metadata=d||null},Bt=function(a,b,c){if(xd(a)||vd(b)||vd(c))this.next=a,this.error=b||null,this.complete=c||null;else{var d=a;this.next=d.next||null,this.error=d.error||null,this.complete=d.complete||null}},Ct=function(a,b,c,d,e,f){this.bytesTransferred=a,this.totalBytes=b,this.state=c,this.metadata=d,this.task=e,this.ref=f},Dt=function(){function a(a,b,c,d,e,f){void 0===f&&(f=null);var g=this;this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=a,this.authWrapper_=b,this.location_=c,this.blob_=e,this.metadata_=f,this.mappings_=d,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=jt,this.errorHandler_=function(a){g.request_=null,g.chunkMultiplier_=1,a.codeEquals(et.CANCELED)?(g.needToFetchStatus_=!0,g.completeTransitions_()):(g.error_=a,g.transition_(pt))},this.metadataErrorHandler_=function(a){g.request_=null,a.codeEquals(et.CANCELED)?g.completeTransitions_():(g.error_=a,g.transition_(pt))},this.promise_=td(function(a,b){g.resolve_=a,g.reject_=b,g.start_()}),this.promise_.then(null,function(){})}return a.prototype.makeProgressCallback_=function(){var a=this,b=this.transferred_;return function(c,d){a.updateProgress_(b+c)}},a.prototype.shouldDoResumable_=function(a){return 262144<a.size()},a.prototype.start_=function(){this.state_===jt&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},a.prototype.resolveToken_=function(a){var b=this;this.authWrapper_.getAuthToken().then(function(c){switch(b.state_){case jt:a(c);break;case nt:b.transition_(ot);break;case kt:b.transition_(lt)}})},a.prototype.createResumable_=function(){var a=this;this.resolveToken_(function(b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p=(c=a.authWrapper_,d=a.location_,e=a.mappings_,f=a.blob_,g=a.metadata_,h=d.bucketOnlyServerUrl(),i=$d(d,f,g),j={name:i.fullPath},k=Ed(h),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":f.size(),"X-Goog-Upload-Header-Content-Type":i.contentType,"Content-Type":"application/json; charset=utf-8"},m=Kd(i,e),n=c.maxUploadRetryTime(),(o=new zt(k,"POST",function(a,b){var c;_d(a);try{c=a.getResponseHeader("X-Goog-Upload-URL")}catch(a){Ud(!1)}return Ud(zd(c)),c},n)).urlParams=j,o.headers=l,o.body=m,o.errorHandler=Xd(d),o),q=a.authWrapper_.makeRequest(p,b);(a.request_=q).getPromise().then(function(b){a.request_=null,a.uploadUrl_=b,a.needToFetchStatus_=!1,a.completeTransitions_()},a.errorHandler_)})},a.prototype.fetchStatus_=function(){var a=this,b=this.uploadUrl_;this.resolveToken_(function(c){var d,e,f,g,h,i,j=(d=a.authWrapper_,e=a.location_,f=b,g=a.blob_,h=d.maxUploadRetryTime(),(i=new zt(f,"POST",function(a,b){var c,d=_d(a,["active","final"]);try{c=a.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){Ud(!1)}var e=parseInt(c,10);return Ud(!isNaN(e)),new At(e,g.size(),"final"===d)},h)).headers={"X-Goog-Upload-Command":"query"},i.errorHandler=Xd(e),i),k=a.authWrapper_.makeRequest(j,c);(a.request_=k).getPromise().then(function(b){b=b,a.request_=null,a.updateProgress_(b.current),a.needToFetchStatus_=!1,b.finalized&&(a.needToFetchMetadata_=!0),a.completeTransitions_()},a.errorHandler_)})},a.prototype.continueUpload_=function(){var a=this,b=262144*this.chunkMultiplier_,c=new At(this.transferred_,this.blob_.size()),d=this.uploadUrl_;this.resolveToken_(function(e){var f;try{f=ae(a.location_,a.authWrapper_,d,a.blob_,b,a.mappings_,c,a.makeProgressCallback_())}catch(e){return a.error_=e,void a.transition_(pt)}var g=a.authWrapper_.makeRequest(f,e);(a.request_=g).getPromise().then(function(b){a.increaseMultiplier_(),a.request_=null,a.updateProgress_(b.current),b.finalized?(a.metadata_=b.metadata,a.transition_(mt)):a.completeTransitions_()},a.errorHandler_)})},a.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},a.prototype.fetchMetadata_=function(){var a=this;this.resolveToken_(function(b){var c=Zd(a.authWrapper_,a.location_,a.mappings_),d=a.authWrapper_.makeRequest(c,b);(a.request_=d).getPromise().then(function(b){a.request_=null,a.metadata_=b,a.transition_(mt)},a.metadataErrorHandler_)})},a.prototype.oneShotUpload_=function(){var a=this;this.resolveToken_(function(b){var c=function(a,b,c,d,e){var f=b.bucketOnlyServerUrl(),g={"X-Goog-Upload-Protocol":"multipart"},h=function(){for(var a="",b=0;2>b;b++)a+=Math.random().toString().slice(2);return a}();g["Content-Type"]="multipart/related; boundary="+h;var i=$d(b,d,e),j="--"+h+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Kd(i,c)+"\r\n--"+h+"\r\nContent-Type: "+i.contentType+"\r\n\r\n",k="\r\n--"+h+"--",l=yt.getBlob(j,d,k);if(null===l)throw hd();var m={name:i.fullPath},n=Ed(f),o=a.maxUploadRetryTime(),p=new zt(n,"POST",Vd(a,c),o);return p.urlParams=m,p.headers=g,p.body=l.uploadData(),p.errorHandler=Xd(b),p}(a.authWrapper_,a.location_,a.mappings_,a.blob_,a.metadata_),d=a.authWrapper_.makeRequest(c,b);(a.request_=d).getPromise().then(function(b){a.request_=null,a.metadata_=b,a.updateProgress_(a.blob_.size()),a.transition_(mt)},a.errorHandler_)})},a.prototype.updateProgress_=function(a){var b=this.transferred_;this.transferred_=a,this.transferred_!==b&&this.notifyObservers_()},a.prototype.transition_=function(a){if(this.state_!==a)switch(a){case nt:case kt:this.state_=a,null!==this.request_&&this.request_.cancel();break;case jt:var b=this.state_===lt;this.state_=a,b&&(this.notifyObservers_(),this.start_());break;case lt:this.state_=a,this.notifyObservers_();break;case ot:this.error_=gd(),this.state_=a,this.notifyObservers_();break;case pt:case mt:this.state_=a,this.notifyObservers_()}},a.prototype.completeTransitions_=function(){switch(this.state_){case kt:this.transition_(lt);break;case nt:this.transition_(ot);break;case jt:this.start_()}},Object.defineProperty(a.prototype,"snapshot",{get:function(){var a=qd(this.state_);return new Ct(this.transferred_,this.blob_.size(),a,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),a.prototype.on=function(a,b,c,d){function e(a){try{return void h(a)}catch(a){}try{if(i(a),!(wd(a.next)||wd(a.error)||wd(a.complete)))throw"";return}catch(a){throw g}}function f(a){return function(b,c,e){null!==a&&Md("on",a,arguments);var f=new Bt(b,c,d);return j.addObserver_(f),function(){j.removeObserver_(f)}}}void 0===b&&(b=void 0),void 0===c&&(c=void 0),void 0===d&&(d=void 0);var g="Expected a function or an Object with one of `next`, `error`, `complete` properties.",h=Rd(!0).validator,i=Qd(null,!0).validator;Md("on",[Nd(function(b){if(a!==it.STATE_CHANGED)throw"Expected one of the event types: ["+it.STATE_CHANGED+"]."}),Qd(e,!0),Rd(!0),Rd(!0)],arguments);var j=this,k=[Qd(function(a){if(null===a)throw g;e(a)}),Rd(!0),Rd(!0)];return wd(b)||wd(c)||wd(d)?f(null)(b,c,d):f(k)},a.prototype.then=function(a,b){return this.promise_.then(a,b)},a.prototype["catch"]=function(a){return this.then(null,a)},a.prototype.addObserver_=function(a){this.observers_.push(a),this.notifyObserver_(a)},a.prototype.removeObserver_=function(a){var b,c,d;b=this.observers_,c=a,-1!==(d=b.indexOf(c))&&b.splice(d,1)},a.prototype.notifyObservers_=function(){var a,b=this;this.finishPromise_(),(a=this.observers_,Array.prototype.slice.call(a)).forEach(function(a){b.notifyObserver_(a)})},a.prototype.finishPromise_=function(){if(null!==this.resolve_){var a=!0;switch(qd(this.state_)){case qt.SUCCESS:be(this.resolve_.bind(null,this.snapshot))();break;case qt.CANCELED:case qt.ERROR:be(this.reject_.bind(null,this.error_))();break;default:a=!1}a&&(this.resolve_=null,this.reject_=null)}},a.prototype.notifyObserver_=function(a){switch(qd(this.state_)){case qt.RUNNING:case qt.PAUSED:null!==a.next&&be(a.next.bind(a,this.snapshot))();break;case qt.SUCCESS:null!==a.complete&&be(a.complete.bind(a))();break;case qt.CANCELED:case qt.ERROR:null!==a.error&&be(a.error.bind(a,this.error_))();break;default:null!==a.error&&be(a.error.bind(a,this.error_))()}},a.prototype.resume=function(){Md("resume",[],arguments);var a=this.state_===lt||this.state_===kt;return a&&this.transition_(jt),a},a.prototype.pause=function(){Md("pause",[],arguments);var a=this.state_===jt;return a&&this.transition_(kt),a},a.prototype.cancel=function(){Md("cancel",[],arguments);var a=this.state_===jt||this.state_===kt;return a&&this.transition_(nt),a},a}(),Et=function(){function a(a,b){this.authWrapper=a,this.location=b instanceof ut?b:ut.makeFromUrl(b)}return a.prototype.toString=function(){return Md("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},a.prototype.newRef=function(b,c){return new a(b,c)},a.prototype.mappings=function(){return Hd()},a.prototype.child=function(a){Md("child",[Nd()],arguments);var b,c,d=(b=this.location.path,c=a.split("/").filter(function(a){return 0<a.length}).join("/"),0===b.length?c:b+"/"+c),e=new ut(this.location.bucket,d);return this.newRef(this.authWrapper,e)},Object.defineProperty(a.prototype,"parent",{get:function(){var a=function(a){if(0==a.length)return null;var b=a.lastIndexOf("/");return-1===b?"":a.slice(0,b)}(this.location.path);if(null===a)return null;var b=new ut(this.location.bucket,a);return this.newRef(this.authWrapper,b)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"root",{get:function(){var a=new ut(this.location.bucket,"");return this.newRef(this.authWrapper,a)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"name",{get:function(){return Dd(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),a.prototype.put=function(a,b){return void 0===b&&(b=null),Md("put",[new xt(function(a){if(!(a instanceof Uint8Array||a instanceof ArrayBuffer||Bd()&&a instanceof Blob))throw"Expected Blob or File."}),Od(!0)],arguments),this.throwIfRoot_("put"),new Dt(this,this.authWrapper,this.location,this.mappings(),new yt(a),b)},a.prototype.putString=function(a,b,c){void 0===b&&(b=ft.RAW),Md("putString",[Nd(),Nd(md,!0),Od(!0)],arguments),this.throwIfRoot_("putString");var d=nd(b,a),e=sd(c);return!vd(e.contentType)&&vd(d.contentType)&&(e.contentType=d.contentType),new Dt(this,this.authWrapper,this.location,this.mappings(),new yt(d.data,!0),e)},a.prototype["delete"]=function(){Md("delete",[],arguments),this.throwIfRoot_("delete");var a=this;return this.authWrapper.getAuthToken().then(function(b){var c,d,e,f,g,h=(c=a.authWrapper,d=a.location,e=Ed(d.fullServerUrl()),f=c.maxOperationRetryTime(),(g=new zt(e,"DELETE",function(a,b){},f)).successCodes=[200,204],g.errorHandler=Yd(d),g);return a.authWrapper.makeRequest(h,b).getPromise()})},a.prototype.getMetadata=function(){Md("getMetadata",[],arguments),this.throwIfRoot_("getMetadata");var a=this;return this.authWrapper.getAuthToken().then(function(b){var c=Zd(a.authWrapper,a.location,a.mappings());return a.authWrapper.makeRequest(c,b).getPromise()})},a.prototype.updateMetadata=function(a){Md("updateMetadata",[Od()],arguments),this.throwIfRoot_("updateMetadata");var b=this;return this.authWrapper.getAuthToken().then(function(c){var d,e,f,g,h,i,j,k,l=(d=b.authWrapper,e=b.location,f=a,g=b.mappings(),h=Ed(e.fullServerUrl()),i=Kd(f,g),j=d.maxOperationRetryTime(),(k=new zt(h,"PATCH",Vd(d,g),j)).headers={"Content-Type":"application/json; charset=utf-8"},k.body=i,k.errorHandler=Yd(e),k);return b.authWrapper.makeRequest(l,c).getPromise()})},a.prototype.getDownloadURL=function(){Md("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL");var a=this;return this.authWrapper.getAuthToken().then(function(b){var c,d,e,f,g,h,i=(c=a.authWrapper,d=a.location,e=a.mappings(),f=Ed(d.fullServerUrl()),g=c.maxOperationRetryTime(),(h=new zt(f,"GET",Wd(c,e),g)).errorHandler=Yd(d),h);return a.authWrapper.makeRequest(i,b).getPromise().then(function(a){if(null===a)throw new dt(et.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return a})})},a.prototype.throwIfRoot_=function(a){if(""===this.location.path)throw b=a,new dt(et.INVALID_ROOT_OPERATION,"The operation '"+b+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').");var b},a}(),Ft=function(){function a(a){var b;this.promise_=(b=a,Promise.reject(b))}return a.prototype.getPromise=function(){return this.promise_},a.prototype.cancel=function(a){void 0===a&&(a=!1)},a}(),Gt=function(){function a(){this.map_={},this.id_=-9007199254740991}return a.prototype.addRequest=function(a){function b(){delete d.map_[c]}var c=this.id_;this.id_++,this.map_[c]=a;var d=this;a.getPromise().then(b,b)},a.prototype.clear=function(){rd(this.map_,function(a,b){b&&b.cancel(!0)}),this.map_={}},a}(),Ht=function(){function a(b,c,d,e,f){if(this.bucket_=null,this.deleted_=!1,this.app_=b,null!==this.app_){var g=this.app_.options;vd(g)&&(this.bucket_=a.extractBucket_(g))}this.storageRefMaker_=c,this.requestMaker_=d,this.pool_=f,this.service_=e,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e4,this.requestMap_=new Gt}return a.extractBucket_=function(a){var b=a.storageBucket||null;return null==b?null:ut.makeFromBucketSpec(b).bucket},a.prototype.getAuthToken=function(){return null!==this.app_&&vd(this.app_.INTERNAL)&&vd(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then(function(a){return null!==a?a.accessToken:null},function(a){return null}):ud(null)},a.prototype.bucket=function(){if(this.deleted_)throw jd();return this.bucket_},a.prototype.service=function(){return this.service_},a.prototype.makeStorageReference=function(a){return this.storageRefMaker_(this,a)},a.prototype.makeRequest=function(a,b){if(this.deleted_)return new Ft(jd());var c=this.requestMaker_(a,b,this.pool_);return this.requestMap_.addRequest(c),c},a.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},a.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},a.prototype.setMaxUploadRetryTime=function(a){this.maxUploadRetryTime_=a},a.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},a.prototype.setMaxOperationRetryTime=function(a){this.maxOperationRetryTime_=a},a}(),It=function(){function a(a,b,c,d,e,f,g,h,i,j,k){this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=a,this.method_=b,this.headers_=c,this.body_=d,this.successCodes_=e.slice(),this.additionalRetryCodes_=f.slice(),this.callback_=g,this.errorCallback_=h,this.progressCallback_=j,this.timeout_=i,this.pool_=k;var l=this;this.promise_=td(function(a,b){l.resolve_=a,l.reject_=b,l.start_()})}return a.prototype.start_=function(){function a(a,c){var d,e=b.resolve_,f=b.reject_,g=c.xhr;if(c.wasSuccessCode)try{var h=b.callback_(g,g.getResponseText());wd(h)?e(h):e()}catch(a){f(a)}else null!==g?((d=fd()).setServerResponseProp(g.getResponseText()),f(b.errorCallback_?b.errorCallback_(g,d):d)):f(c.canceled?d=b.appDelete_?jd():gd():d=new dt(et.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}var b=this;this.canceled_?a(0,new Jt(!1,null,!0)):this.backoffId_=function(a,b,c){function d(){return 2===l}function e(){m||(m=!0,b.apply(null,arguments))}function f(b){j=setTimeout(function(){j=null,a(g,d())},b)}function g(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];m||(a?e.apply(null,arguments):d()||k?e.apply(null,arguments):(64>i&&(i*=2),f(1===l?(l=2,0):1e3*(i+Math.random()))))}function h(a){n||(n=!0,m||(null!==j?(a||(l=2),clearTimeout(j),f(0)):a||(l=1)))}var i=1,j=null,k=!1,l=0,m=!1,n=!1;return f(0),setTimeout(function(){h(k=!0)},c),h}(function(a,c){function d(a){var c=a.loaded,d=a.lengthComputable?a.total:-1;null!==b.progressCallback_&&b.progressCallback_(c,d)}if(c)a(!1,new Jt(!1,null,!0));else{var e=b.pool_.createXhrIo();b.pendingXhr_=e,null!==b.progressCallback_&&e.addUploadProgressListener(d),e.send(b.url_,b.method_,b.body_,b.headers_).then(function(c){null!==b.progressCallback_&&c.removeUploadProgressListener(d),b.pendingXhr_=null;var e=(c=c).getErrorCode()===at.NO_ERROR,f=c.getStatus();if(e&&!b.isRetryStatusCode_(f)){var g=Td(b.successCodes_,f);a(!0,new Jt(g,c))}else{var h=c.getErrorCode()===at.ABORT;a(!1,new Jt(!1,null,h))}})}},a,this.timeout_)},a.prototype.getPromise=function(){return this.promise_},a.prototype.cancel=function(a){this.canceled_=!0,this.appDelete_=a||!1,null!==this.backoffId_&&this.backoffId_(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},a.prototype.isRetryStatusCode_=function(a){var b=a>=500&&600>a,c=Td([408,429],a),d=Td(this.additionalRetryCodes_,a);return b||c||d},a}(),Jt=function(a,b,c){this.wasSuccessCode=a,this.xhr=b,this.canceled=!!c},Kt=function(){function a(a,b,c){if(this.bucket_=null,this.authWrapper_=new Ht(a,function(a,b){return new Et(a,b)},ce,this,b),this.app_=a,null!=c)this.bucket_=ut.makeFromBucketSpec(c);else{var d=this.authWrapper_.bucket();null!=d&&(this.bucket_=new ut(d,""))}this.internals_=new Lt(this)}return a.prototype.ref=function(a){if(Md("ref",[Nd(function(a){if(/^[A-Za-z]+:\/\//.test(a))throw"Expected child path but got a URL, use refFromURL instead."},!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var b=new Et(this.authWrapper_,this.bucket_);return null!=a?b.child(a):b},a.prototype.refFromURL=function(a){return Md("refFromURL",[Nd(function(a){if(!/^[A-Za-z]+:\/\//.test(a))throw"Expected full URL but got a child path, use ref instead.";try{ut.makeFromUrl(a)}catch(a){throw"Expected valid full URL but got an invalid one."}},!1)],arguments),new Et(this.authWrapper_,a)},Object.defineProperty(a.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),a.prototype.setMaxUploadRetryTime=function(a){Md("setMaxUploadRetryTime",[Pd()],arguments),this.authWrapper_.setMaxUploadRetryTime(a)},a.prototype.setMaxOperationRetryTime=function(a){Md("setMaxOperationRetryTime",[Pd()],arguments),this.authWrapper_.setMaxOperationRetryTime(a)},Object.defineProperty(a.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),a}(),Lt=function(){function a(a){this.service_=a}return a.prototype["delete"]=function(){return this.service_.authWrapper_.deleteApp(),ud(void 0)},a}();return rt={TaskState:qt,TaskEvent:it,StringFormat:ft,Storage:Kt,Reference:Et},Ni.INTERNAL.registerService("storage",de,rt,void 0,!0),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the CDN builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nhttps://www.gstatic.com/firebasejs/5.0.0/firebase-<PACKAGE>.js\n"),Ni}),function(a){"use strict";angular.module("firebase.utils",[]),angular.module("firebase.config",[]),angular.module("firebase.auth",["firebase.utils"]),angular.module("firebase.database",["firebase.utils"]),angular.module("firebase.storage",["firebase.utils"]),angular.module("firebase",["firebase.utils","firebase.config","firebase.auth","firebase.database","firebase.storage"]).value("Firebase",a.firebase).value("firebase",a.firebase)}(window),function(){"use strict";var a;angular.module("firebase.auth").factory("$firebaseAuth",["$q","$firebaseUtils",function(b,c){return function(d){d=d||firebase.auth();var e=new a(b,c,d);return e.construct()}}]),a=function(a,b,c){if(this._q=a,this._utils=b,"string"==typeof c)throw new Error("The $firebaseAuth service accepts a Firebase auth instance (or nothing) instead of a URL.");if("undefined"!=typeof c.ref)throw new Error("The $firebaseAuth service accepts a Firebase auth instance (or nothing) instead of a Database reference.");this._auth=c,this._initialAuthResolver=this._initAuthResolver()},a.prototype={construct:function(){return this._object={$signInWithCustomToken:this.signInWithCustomToken.bind(this),$signInAnonymously:this.signInAnonymously.bind(this),$signInWithEmailAndPassword:this.signInWithEmailAndPassword.bind(this),$signInWithPopup:this.signInWithPopup.bind(this),$signInWithRedirect:this.signInWithRedirect.bind(this),$signInWithCredential:this.signInWithCredential.bind(this),$signOut:this.signOut.bind(this),$onAuthStateChanged:this.onAuthStateChanged.bind(this),$getAuth:this.getAuth.bind(this),$requireSignIn:this.requireSignIn.bind(this),$waitForSignIn:this.waitForSignIn.bind(this),$createUserWithEmailAndPassword:this.createUserWithEmailAndPassword.bind(this),$updatePassword:this.updatePassword.bind(this),$updateEmail:this.updateEmail.bind(this),$deleteUser:this.deleteUser.bind(this),$sendPasswordResetEmail:this.sendPasswordResetEmail.bind(this),_:this},this._object},signInWithCustomToken:function(a){return this._q.when(this._auth.signInWithCustomToken(a))},signInAnonymously:function(){return this._q.when(this._auth.signInAnonymously())},signInWithEmailAndPassword:function(a,b){return this._q.when(this._auth.signInWithEmailAndPassword(a,b))},signInWithPopup:function(a){return this._q.when(this._auth.signInWithPopup(this._getProvider(a)))},signInWithRedirect:function(a){return this._q.when(this._auth.signInWithRedirect(this._getProvider(a)))},signInWithCredential:function(a){return this._q.when(this._auth.signInWithCredential(a))},signOut:function(){return null!==this.getAuth()?this._q.when(this._auth.signOut()):this._q.when()},onAuthStateChanged:function(a,b){var c=this._utils.debounce(a,b,0),d=this._auth.onAuthStateChanged(c);return d},getAuth:function(){return this._auth.currentUser},_routerMethodOnAuthPromise:function(a,b){var c=this;return this._initialAuthResolver.then(function(){var d=c.getAuth(),e=null;return e=a&&null===d?c._q.reject("AUTH_REQUIRED"):b&&!d.emailVerified?c._q.reject("EMAIL_VERIFICATION_REQUIRED"):c._q.when(d)})},_getProvider:function(a){var b;if("string"==typeof a){var c=a.slice(0,1).toUpperCase()+a.slice(1);b=new firebase.auth[c+"AuthProvider"]}else b=a;return b},_initAuthResolver:function(){var a=this._auth;return this._q(function(b){function c(){d(),b()}var d;d=a.onAuthStateChanged(c)})},requireSignIn:function(a){return this._routerMethodOnAuthPromise(!0,a)},waitForSignIn:function(){return this._routerMethodOnAuthPromise(!1,!1)},createUserWithEmailAndPassword:function(a,b){return this._q.when(this._auth.createUserWithEmailAndPassword(a,b))},updatePassword:function(a){var b=this.getAuth();return b?this._q.when(b.updatePassword(a)):this._q.reject("Cannot update password since there is no logged in user.")},updateEmail:function(a){var b=this.getAuth();return b?this._q.when(b.updateEmail(a)):this._q.reject("Cannot update email since there is no logged in user.")},deleteUser:function(){var a=this.getAuth();return a?this._q.when(a["delete"]()):this._q.reject("Cannot delete user since there is no logged in user.")},sendPasswordResetEmail:function(a){return this._q.when(this._auth.sendPasswordResetEmail(a))}}}(),function(){"use strict";function a(a){return a()}a.$inject=["$firebaseAuth"],angular.module("firebase.auth").factory("$firebaseAuthService",a)}(),function(){"use strict";angular.module("firebase.database").factory("$firebaseArray",["$log","$firebaseUtils","$q",function(a,b,c){function d(a){if(!(this instanceof d))return new d(a);var c=this;return this._observers=[],this.$list=[],this._ref=a,this._sync=new e(this),b.assertValidRef(a,"Must pass a valid Firebase reference to $firebaseArray (not a string or URL)"),this._indexCache={},b.getPublicMethods(c,function(a,b){c.$list[b]=a.bind(c)}),this._sync.init(this.$list),this.$list.$resolved=!1,this.$loaded()["finally"](function(){c.$list.$resolved=!0}),this.$list}function e(d){function e(a){if(!r.isDestroyed){r.isDestroyed=!0;var b=d.$ref();b.off("child_added",j),b.off("child_moved",l),b.off("child_changed",k),b.off("child_removed",m),d=null,q(a||"destroyed")}}function f(b){var c=d.$ref();c.on("child_added",j,p),c.on("child_moved",l,p),c.on("child_changed",k,p),c.on("child_removed",m,p),c.once("value",function(c){angular.isArray(c.val())&&a.warn("Storing data using array indices in Firebase can result in unexpected behavior. See https://firebase.google.com/docs/database/web/structure-data for more information."),q(null,b)},q)}function g(a,b){o||(o=!0,a?i.reject(a):i.resolve(b))}function h(a,b){var d=c.when(a);d.then(function(a){a&&b(a)}),o||n.push(d)}var i=c.defer(),j=function(a,b){d&&h(d.$$added(a,b),function(a){d.$$process("child_added",a,b)})},k=function(a){if(d){var b=d.$getRecord(a.key);b&&h(d.$$updated(a),function(){d.$$process("child_changed",b)})}},l=function(a,b){if(d){var c=d.$getRecord(a.key);c&&h(d.$$moved(a,b),function(){d.$$process("child_moved",c,b)})}},m=function(a){if(d){var b=d.$getRecord(a.key);b&&h(d.$$removed(a),function(){d.$$process("child_removed",b)})}},n=[],o=!1,p=b.batch(function(a){g(a),d&&d.$$error(a)}),q=b.batch(g),r={destroy:e,isDestroyed:!1,init:f,ready:function(){return i.promise.then(function(a){return c.all(n).then(function(){return a})})}};return r}return d.prototype={$add:function(a){this._assertNotDestroyed("$add");var d,e=this,f=c.defer(),g=this.$ref().ref.push();try{d=b.toJSON(a)}catch(h){f.reject(h)}return"undefined"!=typeof d&&b.doSet(g,d).then(function(){e.$$notify("child_added",g.key),f.resolve(g)})["catch"](f.reject),f.promise},$save:function(a){this._assertNotDestroyed("$save");var d=this,e=d._resolveItem(a),f=d.$keyAt(e),g=c.defer();if(null!==f){var h,i=d.$ref().ref.child(f);try{h=b.toJSON(e)}catch(j){g.reject(j)}"undefined"!=typeof h&&b.doSet(i,h).then(function(){d.$$notify("child_changed",f),g.resolve(i)})["catch"](g.reject)}else g.reject("Invalid record; could not determine key for "+a);return g.promise},$remove:function(a){this._assertNotDestroyed("$remove");var d=this.$keyAt(a);if(null!==d){var e=this.$ref().ref.child(d);return b.doRemove(e).then(function(){return e})}return c.reject("Invalid record; could not determine key for "+a)},$keyAt:function(a){var b=this._resolveItem(a);return this.$$getKey(b)},$indexFor:function(a){var b=this,c=b._indexCache;if(!c.hasOwnProperty(a)||b.$keyAt(c[a])!==a){var d=b.$list.findIndex(function(c){return b.$$getKey(c)===a});-1!==d&&(c[a]=d)}return c.hasOwnProperty(a)?c[a]:-1},$loaded:function(a,b){var c=this._sync.ready();return arguments.length&&(c=c.then.call(c,a,b)),c},$ref:function(){return this._ref},$watch:function(a,b){var c=this._observers;return c.push([a,b]),function(){var d=c.findIndex(function(c){return c[0]===a&&c[1]===b});d>-1&&c.splice(d,1)}},$destroy:function(a){this._isDestroyed||(this._isDestroyed=!0,this._sync.destroy(a),this.$list.length=0)},$getRecord:function(a){var b=this.$indexFor(a);return b>-1?this.$list[b]:null},$$added:function(a){var c=this.$indexFor(a.key);if(-1===c){var d=a.val();return angular.isObject(d)||(d={$value:d}),d.$id=a.key,d.$priority=a.getPriority(),b.applyDefaults(d,this.$$defaults),d}return!1},$$removed:function(a){return this.$indexFor(a.key)>-1},$$updated:function(a){var c=!1,d=this.$getRecord(a.key);return angular.isObject(d)&&(c=b.updateRec(d,a),b.applyDefaults(d,this.$$defaults)),c},$$moved:function(a){var b=this.$getRecord(a.key);return angular.isObject(b)?(b.$priority=a.getPriority(),
!0):!1},$$error:function(b){a.error(b),this.$destroy(b)},$$getKey:function(a){return angular.isObject(a)?a.$id:null},$$process:function(a,b,c){var d,e=this.$$getKey(b),f=!1;switch(a){case"child_added":d=this.$indexFor(e);break;case"child_moved":d=this.$indexFor(e),this._spliceOut(e);break;case"child_removed":f=null!==this._spliceOut(e);break;case"child_changed":f=!0;break;default:throw new Error("Invalid event type: "+a)}return angular.isDefined(d)&&(f=this._addAfter(b,c)!==d),f&&this.$$notify(a,e,c),f},$$notify:function(a,b,c){var d={event:a,key:b};angular.isDefined(c)&&(d.prevChild=c),angular.forEach(this._observers,function(a){a[0].call(a[1],d)})},_addAfter:function(a,b){var c;return null===b?c=0:(c=this.$indexFor(b)+1,0===c&&(c=this.$list.length)),this.$list.splice(c,0,a),this._indexCache[this.$$getKey(a)]=c,c},_spliceOut:function(a){var b=this.$indexFor(a);return b>-1?(delete this._indexCache[a],this.$list.splice(b,1)[0]):null},_resolveItem:function(a){var b=this.$list;if(angular.isNumber(a)&&a>=0&&b.length>=a)return b[a];if(angular.isObject(a)){var c=this.$$getKey(a),d=this.$getRecord(c);return d===a?d:null}return null},_assertNotDestroyed:function(a){if(this._isDestroyed)throw new Error("Cannot call "+a+" method on a destroyed $firebaseArray object")}},d.$extend=function(a,c){return 1===arguments.length&&angular.isObject(a)&&(c=a,a=function(b){return this instanceof a?(d.apply(this,arguments),this.$list):new a(b)}),b.inherit(a,d,c)},d}]),angular.module("firebase").factory("$FirebaseArray",["$log","$firebaseArray",function(a,b){return function(){return a.warn("$FirebaseArray has been renamed. Use $firebaseArray instead."),b.apply(null,arguments)}}])}(),function(){"use strict";angular.module("firebase.database").factory("$firebaseObject",["$parse","$firebaseUtils","$log","$q",function(a,b,c,d){function e(a){if(!(this instanceof e))return new e(a);var c=this;this.$$conf={sync:new g(this,a),ref:a,binding:new f(this),listeners:[]},Object.defineProperty(this,"$$conf",{value:this.$$conf}),this.$id=a.ref.key,this.$priority=null,b.applyDefaults(this,this.$$defaults),this.$$conf.sync.init(),this.$resolved=!1,this.$loaded()["finally"](function(){c.$resolved=!0})}function f(a){this.subs=[],this.scope=null,this.key=null,this.rec=a}function g(a,e){function f(b){n.isDestroyed||(n.isDestroyed=!0,e.off("value",k),a=null,m(b||"destroyed"))}function g(){e.on("value",k,l),e.once("value",function(a){angular.isArray(a.val())&&c.warn("Storing data using array indices in Firebase can result in unexpected behavior. See https://firebase.google.com/docs/database/web/structure-data for more information. Also note that you probably wanted $firebaseArray and not $firebaseObject."),m(null)},m)}function h(b){i||(i=!0,b?j.reject(b):j.resolve(a))}var i=!1,j=d.defer(),k=b.batch(function(b){if(a){var c=a.$$updated(b);c&&a.$$notify()}}),l=b.batch(function(b){h(b),a&&a.$$error(b)}),m=b.batch(h),n={isDestroyed:!1,destroy:f,init:g,ready:function(){return j.promise}};return n}return e.prototype={$save:function(){var a,c=this,e=c.$ref(),f=d.defer();try{a=b.toJSON(c)}catch(g){f.reject(g)}return"undefined"!=typeof a&&b.doSet(e,a).then(function(){c.$$notify(),f.resolve(c.$ref())})["catch"](f.reject),f.promise},$remove:function(){var a=this;return b.trimKeys(a,{}),a.$value=null,b.doRemove(a.$ref()).then(function(){return a.$$notify(),a.$ref()})},$loaded:function(a,b){var c=this.$$conf.sync.ready();return arguments.length&&(c=c.then.call(c,a,b)),c},$ref:function(){return this.$$conf.ref},$bindTo:function(a,b){var c=this;return c.$loaded().then(function(){return c.$$conf.binding.bindTo(a,b)})},$watch:function(a,b){var c=this.$$conf.listeners;return c.push([a,b]),function(){var d=c.findIndex(function(c){return c[0]===a&&c[1]===b});d>-1&&c.splice(d,1)}},$destroy:function(a){var c=this;c.$isDestroyed||(c.$isDestroyed=!0,c.$$conf.sync.destroy(a),c.$$conf.binding.destroy(),b.each(c,function(a,b){delete c[b]}))},$$updated:function(a){var c=b.updateRec(this,a);return b.applyDefaults(this,this.$$defaults),c},$$error:function(a){c.error(a),this.$destroy(a)},$$scopeUpdated:function(a){var c=d.defer();return this.$ref().set(b.toJSON(a),b.makeNodeResolver(c)),c.promise},$$notify:function(){var a=this,b=this.$$conf.listeners.slice();angular.forEach(b,function(b){b[0].call(b[1],{event:"value",key:a.$id})})},forEach:function(a,c){return b.each(this,a,c)}},e.$extend=function(a,c){return 1===arguments.length&&angular.isObject(a)&&(c=a,a=function(b){return this instanceof a?void e.apply(this,arguments):new a(b)}),b.inherit(a,e,c)},f.prototype={assertNotBound:function(a){if(this.scope){var b="Cannot bind to "+a+" because this instance is already bound to "+this.key+"; one binding per instance (call unbind method or create another FirebaseObject instance)";return c.error(b),d.reject(b)}},bindTo:function(c,d){function e(e){function f(a){return angular.equals(a,k)&&a.$priority===k.$priority&&a.$value===k.$value}function g(a){j.assign(c,b.scopeData(a))}function h(){var a=j(c);return[a,a.$priority,a.$value]}var i=!1,j=a(d),k=e.rec;e.scope=c,e.varName=d;var l=b.debounce(function(a){var d=b.scopeData(a);k.$$scopeUpdated(d)["finally"](function(){i=!1,d.hasOwnProperty("$value")||(delete k.$value,delete j(c).$value),g(k)})},50,500),m=function(a){a=a[0],f(a)||(i=!0,l(a))},n=function(){i||f(j(c))||g(k)};return g(k),e.subs.push(c.$on("$destroy",e.unbind.bind(e))),e.subs.push(c.$watch(h,m,!0)),e.subs.push(k.$watch(n)),e.unbind.bind(e)}return this.assertNotBound(d)||e(this)},unbind:function(){this.scope&&(angular.forEach(this.subs,function(a){a()}),this.subs=[],this.scope=null,this.key=null)},destroy:function(){this.unbind(),this.rec=null}},e}]),angular.module("firebase").factory("$FirebaseObject",["$log","$firebaseObject",function(a,b){return function(){return a.warn("$FirebaseObject has been renamed. Use $firebaseObject instead."),b.apply(null,arguments)}}])}(),function(){"use strict";function a(){this.urls=null,this.registerUrl=function(a){"string"==typeof a&&(this.urls={},this.urls["default"]=a),angular.isObject(a)&&(this.urls=a)},this.$$checkUrls=function(a){return a?a["default"]?void 0:new Error('No default Firebase URL registered. Use firebaseRefProvider.registerUrl({ default: "https://<my-firebase-app>.firebaseio.com/"}).'):new Error("No Firebase URL registered. Use firebaseRefProvider.registerUrl() in the config phase. This is required if you are using $firebaseAuthService.")},this.$$createRefsFromUrlConfig=function(a){var b={},c=this.$$checkUrls(a);if(c)throw c;return angular.forEach(a,function(a,c){b[c]=firebase.database().refFromURL(a)}),b},this.$get=function(){return this.$$createRefsFromUrlConfig(this.urls)}}angular.module("firebase.database").provider("$firebaseRef",a)}(),function(){"use strict";angular.module("firebase").factory("$firebase",function(){return function(){throw new Error("$firebase has been removed. You may instantiate $firebaseArray and $firebaseObject directly now. For simple write operations, just use the Firebase ref directly. See the AngularFire 1.0.0 changelog for details: https://github.com/firebase/angularfire/releases/tag/v1.0.0")}})}(),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){if(void 0===this||null===this)throw new TypeError("'this' is null or not defined");var c=this.length>>>0;for(b=+b||0,Math.abs(b)===1/0&&(b=0),0>b&&(b+=c,0>b&&(b=0));c>b;b++)if(this[b]===a)return b;return-1}),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(a){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof a)throw new TypeError("predicate must be a function");for(var b,c=Object(this),d=c.length>>>0,e=arguments[1],f=0;d>f;f++)if(f in c&&(b=c[f],a.call(e,b,f,c)))return f;return-1}}),"function"!=typeof Object.create&&!function(){var a=function(){};Object.create=function(b){if(arguments.length>1)throw new Error("Second argument not supported");if(null===b)throw new Error("Cannot set a null [[Prototype]]");if("object"!=typeof b)throw new TypeError("Argument must be an object");return a.prototype=b,new a}}(),Object.keys||(Object.keys=function(){"use strict";var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var f,g,h=[];for(f in e)a.call(e,f)&&h.push(f);if(b)for(g=0;d>g;g++)a.call(e,c[g])&&h.push(c[g]);return h}}()),"function"!=typeof Object.getPrototypeOf&&("object"==typeof"test".__proto__?Object.getPrototypeOf=function(a){return a.__proto__}:Object.getPrototypeOf=function(a){return a.constructor.prototype}),function(){"use strict";function a(a,c){return{$progress:function(d){a.on("state_changed",function(){c.compile(function(){d(b(a.snapshot))})})},$error:function(b){a.on("state_changed",null,function(a){c.compile(function(){b(a)})})},$complete:function(d){a.on("state_changed",null,null,function(){c.compile(function(){d(b(a.snapshot))})})},$cancel:a.cancel,$resume:a.resume,$pause:a.pause,then:a.then,"catch":a["catch"],$snapshot:a.snapshot}}function b(a){return{bytesTransferred:a.bytesTransferred,downloadURL:a.downloadURL,metadata:a.metadata,ref:a.ref,state:a.state,task:a.task,totalBytes:a.totalBytes}}function c(a){return a=a||{},"function"==typeof a.put}function d(a){if(!c(a))throw new Error("$firebaseStorage expects a Storage reference")}function e(e,f){var g=function(b){return d(b),{$put:function(c,d){var f=b.put(c,d);return a(f,e)},$putString:function(c,d,f){var g=b.putString(c,d,f);return a(g,e)},$getDownloadURL:function(){return f.when(b.getDownloadURL())},$delete:function(){return f.when(b["delete"]())},$getMetadata:function(){return f.when(b.getMetadata())},$updateMetadata:function(a){return f.when(b.updateMetadata(a))},$toString:function(){return b.toString()}}};return g.utils={_unwrapStorageSnapshot:b,_isStorageRef:c,_assertStorageRef:d},g}angular.module("firebase.storage").factory("$firebaseStorage",["$firebaseUtils","$q",e])}(),function(){"use strict";function a(a,b){return{restrict:"A",priority:99,scope:{},link:function(c,d,e){e.$observe("firebaseSrc",function(c){if(""!==c){var e=b.storage().ref(c),f=a(e);f.$getDownloadURL().then(function(a){d[0].src=a})}})}}}a.$inject=["$firebaseStorage","firebase"],angular.module("firebase.storage").directive("firebaseSrc",a)}(),function(){"use strict";function a(b){if(!angular.isObject(b))return b;var c=angular.isArray(b)?[]:{};return angular.forEach(b,function(b,d){("string"!=typeof d||"$"!==d.charAt(0))&&(c[d]=a(b))}),c}angular.module("firebase.utils").factory("$firebaseConfig",["$firebaseArray","$firebaseObject","$injector",function(a,b,c){return function(d){var e=angular.extend({},d);return"string"==typeof e.objectFactory&&(e.objectFactory=c.get(e.objectFactory)),"string"==typeof e.arrayFactory&&(e.arrayFactory=c.get(e.arrayFactory)),angular.extend({arrayFactory:a,objectFactory:b},e)}}]).factory("$firebaseUtils",["$q","$timeout","$rootScope",function(b,c,d){var e={batch:function(a,b){return function(){var c=Array.prototype.slice.call(arguments,0);e.compile(function(){a.apply(b,c)})}},debounce:function(a,b,c,d){function f(){j&&(j(),j=null),i&&Date.now()-i>d?l||(l=!0,e.compile(g)):(i||(i=Date.now()),j=e.wait(g,c))}function g(){j=null,i=null,l=!1,a.apply(b,k)}function h(){k=Array.prototype.slice.call(arguments,0),f()}var i,j,k,l;if("number"==typeof b&&(d=c,c=b,b=null),"number"!=typeof c)throw new Error("Must provide a valid integer for wait. Try 0 for a default");if("function"!=typeof a)throw new Error("Must provide a valid function to debounce");return d||(d=10*c||100),h.running=function(){return i>0},h},assertValidRef:function(a,b){if(!angular.isObject(a)||"object"!=typeof a.ref||"function"!=typeof a.ref.transaction)throw new Error(b||"Invalid Firebase reference")},inherit:function(a,b,c){var d=a.prototype;return a.prototype=Object.create(b.prototype),a.prototype.constructor=a,angular.forEach(Object.keys(d),function(b){a.prototype[b]=d[b]}),angular.isObject(c)&&angular.extend(a.prototype,c),a},getPrototypeMethods:function(a,b,c){for(var d={},e=Object.getPrototypeOf({}),f=angular.isFunction(a)&&angular.isObject(a.prototype)?a.prototype:Object.getPrototypeOf(a);f&&f!==e;){for(var g in f)f.hasOwnProperty(g)&&!d.hasOwnProperty(g)&&(d[g]=!0,b.call(c,f[g],g,f));f=Object.getPrototypeOf(f)}},getPublicMethods:function(a,b,c){e.getPrototypeMethods(a,function(a,d){"function"==typeof a&&"_"!==d.charAt(0)&&b.call(c,a,d)})},makeNodeResolver:function(a){return function(b,c){null===b?(arguments.length>2&&(c=Array.prototype.slice.call(arguments,1)),a.resolve(c)):a.reject(b)}},wait:function(a,b){var d=c(a,b||0);return function(){d&&(c.cancel(d),d=null)}},compile:function(a){return d.$evalAsync(a||function(){})},deepCopy:function(a){if(!angular.isObject(a))return a;var b=angular.isArray(a)?a.slice():angular.extend({},a);for(var c in b)b.hasOwnProperty(c)&&angular.isObject(b[c])&&(b[c]=e.deepCopy(b[c]));return b},trimKeys:function(a,b){e.each(a,function(c,d){b.hasOwnProperty(d)||delete a[d]})},scopeData:function(a){var b={$id:a.$id,$priority:a.$priority},c=!1;return e.each(a,function(a,d){c=!0,b[d]=e.deepCopy(a)}),!c&&a.hasOwnProperty("$value")&&(b.$value=a.$value),b},updateRec:function(a,b){var c=b.val(),d=angular.extend({},a);return angular.isObject(c)?delete a.$value:(a.$value=c,c={}),e.trimKeys(a,c),angular.extend(a,c),a.$priority=b.getPriority(),!angular.equals(d,a)||d.$value!==a.$value||d.$priority!==a.$priority},applyDefaults:function(a,b){return angular.isObject(b)&&angular.forEach(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)}),a},dataKeys:function(a){var b=[];return e.each(a,function(a,c){b.push(c)}),b},each:function(a,b,c){if(angular.isObject(a)){for(var d in a)if(a.hasOwnProperty(d)){var e=d.charAt(0);"_"!==e&&"$"!==e&&"."!==e&&b.call(c,a[d],d,a)}}else if(angular.isArray(a))for(var f=0,g=a.length;g>f;f++)b.call(c,a[f],f,a);return a},toJSON:function(b){var c;return angular.isObject(b)||(b={$value:b}),angular.isFunction(b.toJSON)?c=b.toJSON():(c={},e.each(b,function(b,d){c[d]=a(b)})),angular.isDefined(b.$value)&&0===Object.keys(c).length&&null!==b.$value&&(c[".value"]=b.$value),angular.isDefined(b.$priority)&&Object.keys(c).length>0&&null!==b.$priority&&(c[".priority"]=b.$priority),angular.forEach(c,function(a,b){if(b.match(/[.$\[\]#\/]/)&&".value"!==b&&".priority"!==b)throw new Error("Invalid key "+b+" (cannot contain .$[]#/)");if(angular.isUndefined(a))throw new Error("Key "+b+" was undefined. Cannot pass undefined in JSON. Use null instead.")}),c},doSet:function(a,c){var d=b.defer();if(angular.isFunction(a.set)||!angular.isObject(c))try{a.set(c,e.makeNodeResolver(d))}catch(f){d.reject(f)}else{var g=angular.extend({},c);a.once("value",function(b){b.forEach(function(a){g.hasOwnProperty(a.key)||(g[a.key]=null)}),a.ref.update(g,e.makeNodeResolver(d))},function(a){d.reject(a)})}return d.promise},doRemove:function(a){var c=b.defer();return angular.isFunction(a.remove)?a.remove(e.makeNodeResolver(c)):a.once("value",function(b){var d=[];b.forEach(function(a){d.push(a.ref.remove())}),e.allPromises(d).then(function(){c.resolve(a)},function(a){c.reject(a)})},function(a){c.reject(a)}),c.promise},VERSION:"0.0.0",allPromises:b.all.bind(b)};return e}])}(),function(a){a(["jquery"],function(a){return function(){function b(a,b,c){return o({type:v.error,iconClass:p().iconClasses.error,message:a,optionsOverride:c,title:b})}function c(b,c){return b||(b=p()),r=a("#"+b.containerId),r.length?r:(c&&(r=l(b)),r)}function d(a,b,c){return o({type:v.info,iconClass:p().iconClasses.info,message:a,optionsOverride:c,title:b})}function e(a){s=a}function f(a,b,c){return o({type:v.success,iconClass:p().iconClasses.success,message:a,optionsOverride:c,title:b})}function g(a,b,c){return o({type:v.warning,iconClass:p().iconClasses.warning,message:a,optionsOverride:c,title:b})}function h(a,b){var d=p();r||c(d),k(a,d,b)||j(d)}function i(b){var d=p();return r||c(d),b&&0===a(":focus",b).length?void q(b):void(r.children().length&&r.remove())}function j(b){for(var c=r.children(),d=c.length-1;d>=0;d--)k(a(c[d]),b)}function k(b,c,d){var e=d&&d.force?d.force:!1;return b&&(e||0===a(":focus",b).length)?(b[c.hideMethod]({duration:c.hideDuration,easing:c.hideEasing,complete:function(){q(b)}}),!0):!1}function l(b){return r=a("<div/>").attr("id",b.containerId).addClass(b.positionClass),r.appendTo(a(b.target)),r}function m(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1}}function n(a){s&&s(a)}function o(b){function d(a){return null==a&&(a=""),a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function e(){i(),k(),l(),m(),o(),s(),j(),f()}function f(){var a="";switch(b.iconClass){case"toast-success":case"toast-info":a="polite";break;default:a="assertive"}D.attr("aria-live",a)}function g(){A.closeOnHover&&D.hover(y,x),!A.onclick&&A.tapToDismiss&&D.click(w),A.closeButton&&H&&H.click(function(a){a.stopPropagation?a.stopPropagation():void 0!==a.cancelBubble&&a.cancelBubble!==!0&&(a.cancelBubble=!0),A.onCloseClick&&A.onCloseClick(a),w(!0)}),A.onclick&&D.click(function(a){A.onclick(a),w()})}function h(){D.hide(),D[A.showMethod]({duration:A.showDuration,easing:A.showEasing,complete:A.onShown}),A.timeOut>0&&(C=setTimeout(w,A.timeOut),I.maxHideTime=parseFloat(A.timeOut),I.hideEta=(new Date).getTime()+I.maxHideTime,A.progressBar&&(I.intervalId=setInterval(z,10)))}function i(){b.iconClass&&D.addClass(A.toastClass).addClass(B)}function j(){A.newestOnTop?r.prepend(D):r.append(D)}function k(){if(b.title){var a=b.title;A.escapeHtml&&(a=d(b.title)),E.append(a).addClass(A.titleClass),D.append(E)}}function l(){if(b.message){var a=b.message;A.escapeHtml&&(a=d(b.message)),F.append(a).addClass(A.messageClass),D.append(F)}}function m(){A.closeButton&&(H.addClass(A.closeClass).attr("role","button"),D.prepend(H))}function o(){A.progressBar&&(G.addClass(A.progressClass),D.prepend(G))}function s(){A.rtl&&D.addClass("rtl")}function v(a,b){if(a.preventDuplicates){if(b.message===t)return!0;t=b.message}return!1}function w(b){var c=b&&A.closeMethod!==!1?A.closeMethod:A.hideMethod,d=b&&A.closeDuration!==!1?A.closeDuration:A.hideDuration,e=b&&A.closeEasing!==!1?A.closeEasing:A.hideEasing;return!a(":focus",D).length||b?(clearTimeout(I.intervalId),D[c]({duration:d,easing:e,complete:function(){q(D),clearTimeout(C),A.onHidden&&"hidden"!==J.state&&A.onHidden(),J.state="hidden",J.endTime=new Date,n(J)}})):void 0}function x(){(A.timeOut>0||A.extendedTimeOut>0)&&(C=setTimeout(w,A.extendedTimeOut),I.maxHideTime=parseFloat(A.extendedTimeOut),I.hideEta=(new Date).getTime()+I.maxHideTime)}function y(){clearTimeout(C),I.hideEta=0,D.stop(!0,!0)[A.showMethod]({duration:A.showDuration,easing:A.showEasing})}function z(){var a=(I.hideEta-(new Date).getTime())/I.maxHideTime*100;G.width(a+"%")}var A=p(),B=b.iconClass||A.iconClass;if("undefined"!=typeof b.optionsOverride&&(A=a.extend(A,b.optionsOverride),B=b.optionsOverride.iconClass||B),!v(A,b)){u++,r=c(A,!0);var C=null,D=a("<div/>"),E=a("<div/>"),F=a("<div/>"),G=a("<div/>"),H=a(A.closeHtml),I={intervalId:null,hideEta:null,maxHideTime:null},J={toastId:u,state:"visible",startTime:new Date,options:A,map:b};return e(),h(),g(),n(J),A.debug&&console&&console.log(J),D}}function p(){return a.extend({},m(),w.options)}function q(a){r||(r=c()),a.is(":visible")||(a.remove(),a=null,0===r.children().length&&(r.remove(),t=void 0))}var r,s,t,u=0,v={error:"error",info:"info",success:"success",warning:"warning"},w={clear:h,remove:i,error:b,getContainer:c,info:d,options:{},subscribe:e,success:f,version:"2.1.3",warning:g};return w}()})}("function"==typeof define&&define.amd?define:function(a,b){"undefined"!=typeof module&&module.exports?module.exports=b(require("jquery")):window.toastr=b(window.jQuery)}),function(){function a(a){var b,c=(a.length+8>>6)+1,d=[];for(b=0;16*c>b;b++)d[b]=0;for(b=0;b<a.length;b++)d[b>>2]|=a.charCodeAt(b)<<24-8*(3&b);return d[b>>2]|=128<<24-8*(3&b),d[16*c-1]=8*a.length,d}function b(a){var b,c="0123456789abcdef",d="";for(b=0;b<4*a.length;b++)d+=c.charAt(a[b>>2]>>8*(3-b%4)+4&15)+c.charAt(a[b>>2]>>8*(3-b%4)&15);return d}function c(a){var b,c,h,i,j,k,l,m,n=[],o=1732584193,p=4023233417,q=2562383102,r=271733878,s=3285377520;for(l=0;l<a.length;l+=16){for(b=o,c=p,h=q,i=r,j=s,m=0;80>m;m++)16>m?n[m]=a[l+m]:n[m]=g(n[m-3]^n[m-8]^n[m-14]^n[m-16],1),k=f(f(g(o,5),d(m,p,q,r)),f(f(s,n[m]),e(m))),s=r,r=q,q=g(p,30),p=o,o=k;o=f(o,b),p=f(p,c),q=f(q,h),r=f(r,i),s=f(s,j)}return[o,p,q,r,s]}function d(a,b,c,d){return 20>a?b&c|~b&d:40>a?b^c^d:60>a?b&c|b&d|c&d:b^c^d}function e(a){return 20>a?1518500249:40>a?1859775393:60>a?2400959708:3395469782}function f(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function g(a,b){return a<<b|a>>>32-b}function h(d){return b(c(a(d)))}var i=this;"function"==typeof define?define(function(){return h}):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=h),exports.sha1=h):i.sha1=h}.call(this),function(a,b){"use strict";function c(){function b(a){return function(){k.waitForVendorCount&&(m[a]||(m[a]=[]),m[a].push(arguments))}}function c(b,c,d){return n[b]||(n[b]=[]),n[b].push(c),o[c]=d,function(){if(!this.settings.optOut){var c=Array.prototype.slice.apply(arguments);return this.$inject(["$q",a.bind(this,function(d){return d.all(n[b].map(function(b){var e=o[b]||{};if(e.async){var f=d.defer(),g=a.copy(c);return g.unshift(f.resolve),b.apply(this,g),f.promise}return d.when(b.apply(this,c))},this))})])}}}function d(a,b){b?setTimeout(a,b):a()}function e(b,e,f){if(!j.developerMode){p[b]=c(b,e,f);var g=j[b],h=g?g.bufferFlushDelay:null,i=null!==h?h:j.bufferFlushDelay;a.forEach(m[b],function(a,b){d(function(){e.apply(this,a)},b*i)})}}function f(a){return a.replace(/^./,function(a){return a.toUpperCase()})}function g(a){var d="register"+f(a);q[d]=function(b,c){e(a,b,c)},p[a]=c(a,b(a))}function h(b,c,d){a.forEach(c,d);for(var e in b)i[e]=b[e]}var i=this,j={pageTracking:{autoTrackFirstPage:!0,autoTrackVirtualPages:!0,trackRelativePath:!1,trackRoutes:!0,trackStates:!0,autoBasePath:!1,basePath:"",excludedRoutes:[],queryKeysWhitelisted:[],queryKeysBlacklisted:[],filterUrlSegments:[]},eventTracking:{},bufferFlushDelay:1e3,trackExceptions:!1,optOut:!1,developerMode:!1},l=["pageTrack","eventTrack","exceptionTrack","transactionTrack","setAlias","setUsername","setUserProperties","setUserPropertiesOnce","setSuperProperties","setSuperPropertiesOnce","incrementProperty","userTimings","clearCookies"],m={},n={},o={},p={settings:j};p.setOptOut=function(a){this.settings.optOut=a,s()},p.getOptOut=function(){return this.settings.optOut};var q={$get:["$injector",function(a){return r(a)}],api:p,settings:j,virtualPageviews:function(a){this.settings.pageTracking.autoTrackVirtualPages=a},trackStates:function(a){this.settings.pageTracking.trackStates=a},trackRoutes:function(a){this.settings.pageTracking.trackRoutes=a},excludeRoutes:function(a){this.settings.pageTracking.excludedRoutes=a},queryKeysWhitelist:function(a){this.settings.pageTracking.queryKeysWhitelisted=a},queryKeysBlacklist:function(a){this.settings.pageTracking.queryKeysBlacklisted=a},filterUrlSegments:function(a){this.settings.pageTracking.filterUrlSegments=a},firstPageview:function(a){this.settings.pageTracking.autoTrackFirstPage=a},withBase:function(b){this.settings.pageTracking.basePath=b?a.element(document).find("base").attr("href"):""},withAutoBase:function(a){this.settings.pageTracking.autoBasePath=a},trackExceptions:function(a){this.settings.trackExceptions=a},developerMode:function(a){this.settings.developerMode=a}},r=function(b){return a.extend(p,{$inject:b.invoke})},s=function(){h(q,l,g)};h(q,l,g)}function d(b,c,d,e){function f(a){for(var b=0;b<d.settings.pageTracking.excludedRoutes.length;b++){var c=d.settings.pageTracking.excludedRoutes[b];if(c instanceof RegExp&&c.test(a)||a.indexOf(c)>-1)return!0}return!1}function g(a,b){for(var c=[],d=0;d<a.length;d++)-1===b.indexOf(a[d])&&c.push(a[d]);return c}function h(a,b,c){if(/\?/.test(a)&&b.length>0){for(var d=a.split("?"),e=d[0],f=d[1].split("&"),h=[],i=0;i<b.length;i++)for(var j=b[i],k=0;k<f.length;k++)(j instanceof RegExp&&j.test(f[k])||f[k].indexOf(j)>-1)&&h.push(f[k]);var l="white"==c?h:g(f,h);return l.length>0?e+"?"+l.join("&"):e}return a}function i(a){return h(a,d.settings.pageTracking.queryKeysWhitelisted,"white")}function j(a){return h(a,d.settings.pageTracking.queryKeysBlacklisted,"black")}function k(a){var b=d.settings.pageTracking.filterUrlSegments;if(b.length>0){for(var c=a.split("?"),e=c[0],f=e.split("/"),g=0;g<b.length;g++)for(var h=b[g],i=1;i<f.length;i++)(h instanceof RegExp&&h.test(f[i])||f[i].indexOf(h)>-1)&&(f[i]="FILTERED");return f.join("/")}return a}function l(a,b){f(a)||(a=i(a),a=j(a),a=k(a),d.pageTrack(a,b))}if(d.settings.pageTracking.autoTrackFirstPage){var m=!0;if(e.has("$route")){var n=e.get("$route");if(n)for(var o in n.routes){m=!1;break}else null===n&&(m=!1)}else if(e.has("$state")){var p=e.get("$state");p.get().length>1&&(m=!1)}m&&(d.settings.pageTracking.autoBasePath&&(d.settings.pageTracking.basePath=c.location.pathname),e.invoke(["$location",function(a){if(d.settings.pageTracking.trackRelativePath){var b=d.settings.pageTracking.basePath+a.url();l(b,a)}else l(a.absUrl(),a)}]))}if(d.settings.pageTracking.autoTrackVirtualPages){d.settings.pageTracking.autoBasePath&&(d.settings.pageTracking.basePath=c.location.pathname+"#");var m=!0;if(d.settings.pageTracking.trackRoutes&&e.has("$route")){var n=e.get("$route");if(n)for(var o in n.routes){m=!1;break}else null===n&&(m=!1);b.$on("$routeChangeSuccess",function(a,b){b&&(b.$$route||b).redirectTo||e.invoke(["$location",function(a){var b=d.settings.pageTracking.basePath+a.url();l(b,a)}])})}d.settings.pageTracking.trackStates&&(e.has("$state")&&!e.has("$transitions")&&(m=!1,b.$on("$stateChangeSuccess",function(a,b){e.invoke(["$location",function(a){var b=d.settings.pageTracking.basePath+a.url();l(b,a)}])})),e.has("$state")&&e.has("$transitions")&&(m=!1,e.invoke(["$transitions",function(a){a.onSuccess({},function(a){var b=a.options();b.notify&&e.invoke(["$location",function(a){var b=d.settings.pageTracking.basePath+a.url();l(b,a)}])})}]))),m&&b.$on("$locationChangeSuccess",function(a,b){b&&(b.$$route||b).redirectTo||e.invoke(["$location",function(a){if(d.settings.pageTracking.trackRelativePath){var b=d.settings.pageTracking.basePath+a.url();l(b,a)}else l(a.absUrl(),a)}])})}d.settings.developerMode&&a.forEach(d,function(a,b){"function"==typeof a&&(d[b]=function(){})})}function e(b){return{restrict:"A",link:function(c,d,e){var f=e.analyticsOn||"click",g={};a.forEach(e.$attr,function(a,b){i(b)&&(g[j(b)]=e[b],e.$observe(b,function(a){g[j(b)]=a}))}),a.element(d[0]).on(f,function(f){var i=e.analyticsEvent||h(d[0]);g.eventType=f.type,(!e.analyticsIf||c.$eval(e.analyticsIf))&&(e.analyticsProperties&&a.extend(g,c.$eval(e.analyticsProperties)),b.eventTrack(i,g))})}}}function f(a){a.decorator("$exceptionHandler",["$delegate","$injector",function(a,b){return function(c,d){var e=a(c,d),f=b.get("$analytics");return f.settings.trackExceptions&&f.exceptionTrack(c,d),e}}])}function g(a){return["a:","button:","button:button","button:submit","input:button","input:submit"].indexOf(a.tagName.toLowerCase()+":"+(a.type||""))>=0}function h(a){return g(a)?a.innerText||a.value:a.id||a.name||a.tagName}function i(a){return"analytics"===a.substr(0,9)&&-1===["On","Event","If","Properties","EventType"].indexOf(a.substr(9))}function j(a){var b=a.slice(9);return"undefined"!=typeof b&&null!==b&&b.length>0?b.substring(0,1).toLowerCase()+b.substring(1):b}var k=window.angulartics||(window.angulartics={});k.waitForVendorCount=0,k.waitForVendorApi=function(a,b,c,d,e){e||k.waitForVendorCount++,d||(d=c,c=void 0),!Object.prototype.hasOwnProperty.call(window,a)||void 0!==c&&void 0===window[a][c]?setTimeout(function(){k.waitForVendorApi(a,b,c,d,!0)},b):(k.waitForVendorCount--,d(window[a]))},a.module("angulartics",[]).provider("$analytics",c).run(["$rootScope","$window","$analytics","$injector",d]).directive("analyticsOn",["$analytics",e]).config(["$provide",f])}(angular),function(a,b,c){"use strict";b.module("angulartics.google.analytics",["angulartics"]).config(["$analyticsProvider","$windowProvider",function(d,e){function f(){var a=m.GoogleAnalyticsObject;return a&&m[a]}function g(){return!b.isUndefined(m._gaq)}function h(a){var b,c={};for(b in a)b.indexOf("dimension")&&b.indexOf("metric")||(c[b]=a[b]);return c}function i(a,c,e){var f,g,h=d.settings.ga.userId;if("require"===a&&"ecommerce"===c)return g=c,d.settings.ga.enhancedEcommerce&&(g="ec"),j([a,g],e);if(h&&b.isObject(c)&&(c.userId=h),d.settings.ga.transport&&(c.transport=d.settings.ga.transport),a.indexOf("ecommerce:")>-1&&d.settings.ga.enhancedEcommerce)switch(a){case"ecommerce:addTransaction":a=["ec:setAction","purchase"];break;case"ecommerce:addItem":a="ec:addProduct",c.id=c.sku;break;case"ecommerce:send":a="send",c.hitType="event",c.eventCategory="Angulartics Enhanced Ecommerce",c.eventAction="Purchase",c.nonInteraction=!0}f=a instanceof Array?a.concat(c):[a,c],j(f,e)}function j(a,c){var e,f=d.settings.ga.userId,g=m.GoogleAnalyticsObject;m[g].apply(this,a),c&&(e=b.copy(a),f&&!d.settings.ga.additionalAccountHitTypes.userId&&e[2]&&"object"==typeof e[2]&&delete e[2].userId,b.forEach(d.settings.ga.additionalAccountNames,function(b){e[0]=b+"."+a[0],m[g].apply(this,e)}))}function k(a,c,e){if("set"===a)return console.log('Classic Analytics does not support the "set" command or Custom Dimensions. Command ignored.');var f;if("send"===a)switch(c.hitType){case"pageview":f=["_trackPageview",c.page];break;case"event":f=["_trackEvent",c.eventCategory,c.eventAction,c.eventLabel,c.eventValue,c.nonInteraction];break;case"timing":f=["_trackTiming",c.timingCategory,c.timingVar,c.timingValue,c.timingLabel,c.optSampleRate]}return"ecommerce:addTransaction"===a&&(f=["_addTrans",c.id,c.affiliation,c.revenue,c.tax,c.shipping,c.billingCity,c.billingRegion,c.billingCountry]),"ecommerce:addItem"===a&&(f=["_addItem",c.id,c.sku,c.name,c.category,c.price,c.quantity]),"_set"===a&&(f=["_set","currencyCode",c]),"ecommerce:send"===a&&(f=["_trackTrans"]),f?(m._gaq.push(f),void(e&&b.forEach(d.settings.ga.additionalAccountNames,function(a){var b=[].slice.call(f);b[0]=a+"."+b[0],m._gaq.push(b)}))):console.log("Unable to find command "+a+" or fieldsObj missing required properties. Command ignored.")}function l(b){return b.page||n||m.location.hash.substring(1)||a.location.pathname}var m=e.$get();d.settings.pageTracking.trackRelativePath=!0;var n;d.settings.ga={additionalAccountNames:c,additionalAccountHitTypes:{pageview:!0,event:!0,exception:!1,ecommerce:!1,userTiming:!1,
setUserProperties:!1,userId:!1},disableEventTracking:null,disablePageTracking:null,enhancedEcommerce:!1,transport:null,userId:null},d.registerPageTrack(function(a,c){n=a,c=c||{},d.settings.ga.disablePageTracking||o("pageview","send",b.extend(b.copy(c),{hitType:"pageview",page:a}))}),d.registerEventTrack(function(a,c){if(!d.settings.ga.disableEventTracking&&(a||a+""=="0")){if(c=c||{},c.category=c.category||"Event",c.value){var e=parseInt(c.value,10);c.value=isNaN(e)?0:e}b.isFunction(c.hitCallback)||(c.hitCallback=null),c.nonInteraction=c.nonInteraction||c.noninteraction,o("event","send",b.extend(b.copy(c),{hitType:"event",eventCategory:c.category,eventAction:a,eventLabel:c.label,eventValue:c.value,nonInteraction:c.nonInteraction,page:l(c),hitCallback:c.hitCallback}))}}),d.registerExceptionTrack(function(a,b){o("exception","send",{hitType:"event",eventCategory:"Exceptions",eventAction:a.toString(),eventLabel:a.stack,nonInteraction:!0,page:l({}),isException:!0})}),d.registerSetUsername(function(a){d.settings.ga.userId=a}),d.registerSetUserProperties(function(a){a&&o("setUserProperties","set",h(a))}),d.registerUserTimings(function(a){return!b.isObject(a)||b.isArray(a)?console.log("Required argument properties is missing or not an object"):(b.forEach(["timingCategory","timingVar","timingValue"],function(c){return b.isUndefined(a[c])?console.log("Argument properties missing required property "+c):void 0}),void o("userTiming","send",{hitType:"timing",timingCategory:a.timingCategory,timingVar:a.timingVar,timingValue:a.timingValue,timingLabel:a.timingLabel,optSampleRate:a.optSampleRate,page:l(a)}))}),d.registerTransactionTrack(function(a){var c,d;if(o("ecommerce","require","ecommerce"),o("ecommerce","ecommerce:addTransaction",a),a.products)for(d=0;d<a.products.length;d++)c=a.products[d],c.sku=c.id,c.id=a.id,o("ecommerce","ecommerce:addItem",a.products[d]);a.currencyCode&&o("ecommerce","_set",a.currencyCode),o("ecommerce","ecommerce:send",b.copy(a))});var o=function(a,b,c){var e;if(g()&&(e=k),f()&&(e=i),e){var h=d.settings.ga.additionalAccountHitTypes[a];e(b,c,h)}}}])}(window,window.angular),function(a,b){"use strict";var c=864e5,d=function(){return b.userAgent&&(b.userAgent.match(/Android/i)||b.userAgent.match(/webOS/i)||b.userAgent.match(/iPhone/i)||b.userAgent.match(/iPad/i)||b.userAgent.match(/iPod/i)||b.userAgent.match(/BlackBerry/i)||b.userAgent.match(/Windows Phone/i))?!0:void 0}(),e=function(a,b,c){return c&&(d=!1),d?['<div class="_720kb-datepicker-calendar-header">','<div class="_720kb-datepicker-calendar-header-middle _720kb-datepicker-mobile-item _720kb-datepicker-calendar-month">','<select ng-model="month" title="{{ dateMonthTitle }}" ng-change="selectedMonthHandle(month)">','<option ng-repeat="item in months" ng-selected="item === month" ng-disabled=\'!isSelectableMaxDate(item + " " + day + ", " + year) || !isSelectableMinDate(item + " " + day + ", " + year)\' ng-value="$index + 1" value="$index + 1">',"{{ item }}","</option>","</select>","</div>","</div>",'<div class="_720kb-datepicker-calendar-header">','<div class="_720kb-datepicker-calendar-header-middle _720kb-datepicker-mobile-item _720kb-datepicker-calendar-month">','<select ng-model="mobileYear" title="{{ dateYearTitle }}" ng-change="setNewYear(mobileYear)">','<option ng-repeat="item in paginationYears track by $index" ng-selected="year === item" ng-disabled="!isSelectableMinYear(item) || !isSelectableMaxYear(item)" ng-value="item" value="item">',"{{ item }}","</option>","</select>","</div>","</div>"]:['<div class="_720kb-datepicker-calendar-header">','<div class="_720kb-datepicker-calendar-header-left">','<a class="_720kb-datepicker-calendar-month-button" href="javascript:void(0)" ng-class="{\'_720kb-datepicker-item-hidden\': !willPrevMonthBeSelectable()}" ng-click="prevMonth()" title="{{ buttonPrevTitle }}">',a,"</a>","</div>",'<div class="_720kb-datepicker-calendar-header-middle _720kb-datepicker-calendar-month">',"{{month}}&nbsp;",'<a href="javascript:void(0)" ng-click="paginateYears(year); showYearsPagination = !showYearsPagination;">',"<span>","{{year}}","<i ng-class=\"{'_720kb-datepicker-calendar-header-closed-pagination': !showYearsPagination, '_720kb-datepicker-calendar-header-opened-pagination': showYearsPagination}\"></i>","</span>","</a>","</div>",'<div class="_720kb-datepicker-calendar-header-right">','<a class="_720kb-datepicker-calendar-month-button" ng-class="{\'_720kb-datepicker-item-hidden\': !willNextMonthBeSelectable()}" href="javascript:void(0)" ng-click="nextMonth()" title="{{ buttonNextTitle }}">',b,"</a>","</div>","</div>"]},f=function(a,b){return['<div class="_720kb-datepicker-calendar-header" ng-show="showYearsPagination">','<div class="_720kb-datepicker-calendar-years-pagination">','<a ng-class="{\'_720kb-datepicker-active\': y === year, \'_720kb-datepicker-disabled\': !isSelectableMaxYear(y) || !isSelectableMinYear(y)}" href="javascript:void(0)" ng-click="setNewYear(y)" ng-repeat="y in paginationYears track by $index">',"{{y}}","</a>","</div>",'<div class="_720kb-datepicker-calendar-years-pagination-pages">','<a href="javascript:void(0)" ng-click="paginateYears(paginationYears[0])" ng-class="{\'_720kb-datepicker-item-hidden\': paginationYearsPrevDisabled}">',a,"</a>",'<a href="javascript:void(0)" ng-click="paginateYears(paginationYears[paginationYears.length -1 ])" ng-class="{\'_720kb-datepicker-item-hidden\': paginationYearsNextDisabled}">',b,"</a>","</div>","</div>"]},g=function(){return['<div class="_720kb-datepicker-calendar-days-header">','<div ng-repeat="d in daysInString">',"{{d}}","</div>","</div>"]},h=function(){return['<div class="_720kb-datepicker-calendar-body">','<a href="javascript:void(0)" ng-repeat="px in prevMonthDays" class="_720kb-datepicker-calendar-day _720kb-datepicker-disabled">',"{{px}}","</a>","<a href=\"javascript:void(0)\" ng-repeat=\"item in days\" ng-click=\"setDatepickerDay(item)\" ng-class=\"{'_720kb-datepicker-active': selectedDay === item && selectedMonth === monthNumber && selectedYear === year, '_720kb-datepicker-disabled': !isSelectableMinDate(year + '/' + monthNumber + '/' + item ) || !isSelectableMaxDate(year + '/' + monthNumber + '/' + item) || !isSelectableDate(monthNumber, year, item) || !isSelectableDay(monthNumber, year, item),'_720kb-datepicker-today': item === today.getDate() && monthNumber === (today.getMonth() + 1) && year === today.getFullYear() && !selectedDay}\" class=\"_720kb-datepicker-calendar-day\">","{{item}}","</a>",'<a href="javascript:void(0)" ng-repeat="nx in nextMonthDays" class="_720kb-datepicker-calendar-day _720kb-datepicker-disabled">',"{{nx}}","</a>","</div>"]},i=function(a,b,c){var d=['<div class="_720kb-datepicker-calendar {{datepickerClass}} {{datepickerID}}" ng-class="{\'_720kb-datepicker-forced-to-open\': checkVisibility()}" ng-blur="hideCalendar()">',"</div>"],i=e(a,b,c),j=f(a,b),k=g(),l=h(),m=function(a){d.splice(d.length-1,0,a)};return i.forEach(m),j.forEach(m),k.forEach(m),l.forEach(m),d.join("")},j=function(b,e,f,g,h,j){var k=function(k,l,m){var n,o,p,q=m.selector,r=a.element(q?l[0].querySelector("."+q):l[0].children[0]),s='<b class="_720kb-datepicker-default-button">&lang;</b>',t='<b class="_720kb-datepicker-default-button">&rang;</b>',u=m.buttonPrev||s,v=m.buttonNext||t,w=m.dateFormat,x=k.$eval(k.dateDisabledDates),y=k.$eval(k.dateEnabledDates),z=k.$eval(k.dateDisabledWeekdays),A=new Date,B=!1,C=!1,D="undefined"!=typeof m.datepickerMobile&&"false"!==m.datepickerMobile,E=f.DATETIME_FORMATS,F=864e5,G=i(u,v,D),H=function(){B||C||!n||k.hideCalendar()},I=function(a,b){var c,d,e,f,g,h=new Date(b,a,0).getDate(),i=new Date(b+"/"+a+"/1").getDay(),j=new Date(b+"/"+a+"/"+h).getDay(),l=[],m=[];for(k.days=[],k.dateWeekStartDay=k.validateWeekDay(k.dateWeekStartDay),g=(k.dateWeekStartDay+6)%7,c=1;h>=c;c+=1)k.days.push(c);if(i===k.dateWeekStartDay)k.prevMonthDays=[];else{for(e=i-k.dateWeekStartDay,i<k.dateWeekStartDay&&(e+=7),f=1===Number(a)?12:a-1,c=1;c<=new Date(b,f,0).getDate();c+=1)l.push(c);k.prevMonthDays=l.slice(-e)}if(j===g)k.nextMonthDays=[];else{for(d=6-j+k.dateWeekStartDay,j<k.dateWeekStartDay&&(d-=7),c=1;d>=c;c+=1)m.push(c);k.nextMonthDays=m}},J=function(){k.month=g("date")(new Date(k.dateMinLimit),"MMMM"),k.monthNumber=Number(g("date")(new Date(k.dateMinLimit),"MM")),k.day=Number(g("date")(new Date(k.dateMinLimit),"dd")),k.year=Number(g("date")(new Date(k.dateMinLimit),"yyyy")),I(k.monthNumber,k.year)},K=function(){k.month=g("date")(new Date(k.dateMaxLimit),"MMMM"),k.monthNumber=Number(g("date")(new Date(k.dateMaxLimit),"MM")),k.day=Number(g("date")(new Date(k.dateMaxLimit),"dd")),k.year=Number(g("date")(new Date(k.dateMaxLimit),"yyyy")),I(k.monthNumber,k.year)},L=function(){k.year=Number(k.year)-1},M=function(){k.year=Number(k.year)+1},N=function(a,b){var c,d,e,f,g,h,i,j,k,l=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|MMMM|MMM|MM|M|dd?d?|yy?yy?y?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;for(h=0;h<E.MONTH.length;h+=1){if(j=E.MONTH[h],k=E.SHORTMONTH[h],-1!==a.indexOf(j)){a=a.replace(j,h+1);break}if(-1!==a.indexOf(k)){a=a.replace(k,h+1);break}}for(d=a.split(/\D/).filter(function(a){return a.length>0}),c=b.match(l).filter(function(a){return null!==a.match(/^[a-zA-Z]+$/i)}),h=0;h<c.length;h+=1)switch(i=c[h],!0){case-1!==i.indexOf("d"):f=d[h-(c.length-d.length)];break;case-1!==i.indexOf("M"):e=d[h-(c.length-d.length)];break;case-1!==i.indexOf("y"):g=d[h-(c.length-d.length)]}return new Date(g+"/"+e+"/"+f)},O=function(){if(!k.isSelectableMinDate(k.year+"/"+k.monthNumber+"/"+k.day)||!k.isSelectableMaxDate(k.year+"/"+k.monthNumber+"/"+k.day))return!1;var a=new Date(k.year+"/"+k.monthNumber+"/"+k.day);m.dateFormat?r.val(g("date")(a,w)):r.val(a),r.triggerHandler("input"),r.triggerHandler("change")},P={add:function(a,b){var c;a.className.indexOf(b)>-1||(c=a.className.split(" "),c.push(b),a.className=c.join(" "))},remove:function(a,b){var c,d;if(-1!==a.className.indexOf(b)){for(d=a.className.split(" "),c=0;c<d.length;c+=1)if(d[c]===b){d=d.slice(0,c).concat(d.slice(c+1));break}a.className=d.join(" ")}}},Q=function(){o=b.document.getElementsByClassName("_720kb-datepicker-calendar"),a.forEach(o,function(a,b){o[b].classList?o[b].classList.remove("_720kb-datepicker-open"):P.remove(o[b],"_720kb-datepicker-open")}),n.classList?(n.classList.add("_720kb-datepicker-open"),A=w?N(r[0].value.toString(),w):new Date(r[0].value.toString()),k.selectedMonth=Number(g("date")(A,"MM")),k.selectedDay=Number(g("date")(A,"dd")),k.selectedYear=Number(g("date")(A,"yyyy"))):P.add(n,"_720kb-datepicker-open"),k.today=new Date,j(function(){k.selectedDay?(k.year=k.selectedYear,k.monthNumber=k.selectedMonth):(k.year=k.today.getFullYear(),k.monthNumber=k.today.getMonth()+1),k.month=g("date")(new Date(k.year,k.monthNumber-1),"MMMM"),I(k.monthNumber,k.year)},0)},R=function(){return k.datepickerToggle?k.$eval(k.datepickerToggle):!0},S=function(){return k.datepickerShow?(A=w?N(r[0].value.toString(),w):new Date(r[0].value.toString()),k.selectedMonth=Number(g("date")(A,"MM")),k.selectedDay=Number(g("date")(A,"dd")),k.selectedYear=Number(g("date")(A,"yyyy")),k.$eval(k.datepickerShow)):!1},T=k.$watch("dateSet",function(a){a&&!isNaN(Date.parse(a))&&(A=new Date(a),k.month=g("date")(A,"MMMM"),k.monthNumber=Number(g("date")(A,"MM")),k.day=Number(g("date")(A,"dd")),k.year=Number(g("date")(A,"yyyy")),I(k.monthNumber,k.year),"true"!==k.dateSetHidden&&O())}),U=k.$watch("dateMinLimit",function(a){a&&J()}),V=k.$watch("dateMaxLimit",function(a){a&&K()}),W=k.$watch("dateFormat",function(a){a&&O()}),X=k.$watch("dateDisabledDates",function(a){a&&(x=k.$eval(a),k.isSelectableDate(k.monthNumber,k.year,k.day)||(r.val(""),r.triggerHandler("input"),r.triggerHandler("change")))}),Y=k.$watch("dateEnabledDates",function(a){a&&(y=k.$eval(a),k.isSelectableDate(k.monthNumber,k.year,k.day)||(r.val(""),r.triggerHandler("input"),r.triggerHandler("change")))});for(k.nextMonth=function(){12===k.monthNumber?(k.monthNumber=1,M()):k.monthNumber+=1,k.dateMaxLimit&&(k.isSelectableMaxDate(k.year+"/"+k.monthNumber+"/"+k.days[0])||K()),k.month=g("date")(new Date(k.year,k.monthNumber-1),"MMMM"),I(k.monthNumber,k.year),k.day=void 0},k.willPrevMonthBeSelectable=function(){var a=k.monthNumber,b=k.year,c=g("date")(new Date(new Date(b+"/"+a+"/01").getTime()-F),"dd");return 1===a?(a=12,b-=1):a-=1,k.dateMinLimit&&!k.isSelectableMinDate(b+"/"+a+"/"+c)?!1:!0},k.willNextMonthBeSelectable=function(){var a=k.monthNumber,b=k.year;return 12===a?(a=1,b+=1):a+=1,k.dateMaxLimit&&!k.isSelectableMaxDate(b+"/"+a+"/01")?!1:!0},k.prevMonth=function(){1===k.monthNumber?(k.monthNumber=12,L()):k.monthNumber-=1,k.dateMinLimit&&(k.isSelectableMinDate(k.year+"/"+k.monthNumber+"/"+k.days[k.days.length-1])||J()),k.month=g("date")(new Date(k.year,k.monthNumber-1),"MMMM"),I(k.monthNumber,k.year),k.day=void 0},k.selectedMonthHandle=function(a){k.monthNumber=Number(g("date")(new Date(a+"/01/2000"),"MM")),I(k.monthNumber,k.year),O()},k.setNewYear=function(a){if(d||(k.day=void 0),k.dateMaxLimit&&k.year<Number(a)){if(!k.isSelectableMaxYear(a))return}else if(k.dateMinLimit&&k.year>Number(a)&&!k.isSelectableMinYear(a))return;k.paginateYears(a),k.showYearsPagination=!1,j(function(){k.year=Number(a),I(k.monthNumber,k.year)},0)},k.hideCalendar=function(){n.classList?n.classList.remove("_720kb-datepicker-open"):P.remove(n,"_720kb-datepicker-open")},k.setDatepickerDay=function(a){k.isSelectableDay(k.monthNumber,k.year,a)&&k.isSelectableDate(k.monthNumber,k.year,a)&&k.isSelectableMaxDate(k.year+"/"+k.monthNumber+"/"+a)&&k.isSelectableMinDate(k.year+"/"+k.monthNumber+"/"+a)&&(k.day=Number(a),k.selectedDay=k.day,k.selectedMonth=k.monthNumber,k.selectedYear=k.year,O(),m.hasOwnProperty("dateRefocus")&&r[0].focus(),k.hideCalendar())},k.paginateYears=function(a){var b,c=[],e=10,f=10;for(k.paginationYears=[],d&&(e=50,f=50,k.dateMinLimit&&k.dateMaxLimit&&(a=new Date(k.dateMaxLimit).getFullYear(),e=a-new Date(k.dateMinLimit).getFullYear(),f=1)),b=e;b>0;b-=1)c.push(Number(a)-b);for(b=0;f>b;b+=1)c.push(Number(a)+b);"true"===k.dateTyper&&r.on("keyup blur",function(){if(r[0].value&&r[0].value.length&&r[0].value.length>0)try{A=w?N(r[0].value.toString(),w):new Date(r[0].value.toString()),A.getFullYear()&&!isNaN(A.getDay())&&!isNaN(A.getMonth())&&k.isSelectableDay(A.getMonth(),A.getFullYear(),A.getDay())&&k.isSelectableDate(A.getMonth(),A.getFullYear(),A.getDay())&&k.isSelectableMaxDate(A)&&k.isSelectableMinDate(A)&&k.$apply(function(){k.month=g("date")(A,"MMMM"),k.monthNumber=Number(g("date")(A,"MM")),k.day=Number(g("date")(A,"dd")),4===A.getFullYear().toString().length&&(k.year=Number(g("date")(A,"yyyy"))),I(k.monthNumber,k.year)})}catch(a){return a}}),k.dateMaxLimit&&c&&c.length&&!k.isSelectableMaxYear(Number(c[c.length-1])+1)?k.paginationYearsNextDisabled=!0:k.paginationYearsNextDisabled=!1,k.dateMinLimit&&c&&c.length&&!k.isSelectableMinYear(Number(c[0])-1)?k.paginationYearsPrevDisabled=!0:k.paginationYearsPrevDisabled=!1,k.paginationYears=c},k.isSelectableDay=function(a,b,c){var d=0;if(z&&z.length>0)for(d;d<=z.length;d+=1)if(z[d]===new Date(a+"/"+c+"/"+b).getDay())return!1;return!0},k.isSelectableDate=function(a,b,c){var d=0;if(x&&x.length>0)for(d;d<=x.length;d+=1)if(new Date(x[d]).getTime()===new Date(a+"/"+c+"/"+b).getTime())return!1;if(y){for(d;d<=y.length;d+=1)if(new Date(y[d]).getTime()===new Date(a+"/"+c+"/"+b).getTime())return!0;return!1}return!0},k.isSelectableMinDate=function(a){return k.dateMinLimit&&new Date(k.dateMinLimit)&&new Date(a).getTime()<new Date(k.dateMinLimit).getTime()?!1:!0},k.isSelectableMaxDate=function(a){return k.dateMaxLimit&&new Date(k.dateMaxLimit)&&new Date(a).getTime()>new Date(k.dateMaxLimit).getTime()?!1:!0},k.isSelectableMaxYear=function(a){return k.dateMaxLimit&&a>new Date(k.dateMaxLimit).getFullYear()?!1:!0},k.isSelectableMinYear=function(a){return k.dateMinLimit&&a<new Date(k.dateMinLimit).getFullYear()?!1:!0},k.validateWeekDay=function(a){var b=Number(a,10);return(!b||0>b||b>6)&&(b=0),b},G=G.replace(/{{/g,h.startSymbol()).replace(/}}/g,h.endSymbol()),k.dateMonthTitle=k.dateMonthTitle||"Select month",k.dateYearTitle=k.dateYearTitle||"Select year",k.buttonNextTitle=k.buttonNextTitle||"Next",k.buttonPrevTitle=k.buttonPrevTitle||"Prev",k.month=g("date")(A,"MMMM"),k.monthNumber=Number(g("date")(A,"MM")),k.day=Number(g("date")(A,"dd")),k.dateWeekStartDay=k.validateWeekDay(k.dateWeekStartDay),k.dateMaxLimit?k.year=Number(g("date")(new Date(k.dateMaxLimit),"yyyy")):k.year=Number(g("date")(A,"yyyy")),k.months=E.MONTH,k.daysInString=[],p=k.dateWeekStartDay;p<=k.dateWeekStartDay+6;p+=1)k.daysInString.push(p%7);k.daysInString=k.daysInString.map(function(a){return g("date")(new Date(new Date("06/08/2014").valueOf()+c*a),"EEE")}),k.datepickerAppendTo&&-1!==k.datepickerAppendTo.indexOf(".")?(k.datepickerID="datepicker-id-"+(new Date).getTime()+(Math.floor(6*Math.random())+8),a.element(document.getElementsByClassName(k.datepickerAppendTo.replace(".",""))[0]).append(e(a.element(G))(k,function(b){n=a.element(b)[0]}))):k.datepickerAppendTo&&-1!==k.datepickerAppendTo.indexOf("#")?(k.datepickerID="datepicker-id-"+(new Date).getTime()+(Math.floor(6*Math.random())+8),a.element(document.getElementById(k.datepickerAppendTo.replace("#",""))).append(e(a.element(G))(k,function(b){n=a.element(b)[0]}))):k.datepickerAppendTo&&"body"===k.datepickerAppendTo?(k.datepickerID="datepicker-id-"+((new Date).getTime()+(Math.floor(6*Math.random())+8)),a.element(document).find("body").append(e(a.element(G))(k,function(b){n=a.element(b)[0]}))):(r.after(e(a.element(G))(k)),n=l[0].querySelector("._720kb-datepicker-calendar")),R()&&r.on("focus click focusin",function(){C=!0,B||C||!n?Q():k.hideCalendar()}),r.on("focusout blur",function(){C=!1}),a.element(n).on("mouseenter",function(){B=!0}),a.element(n).on("mouseleave",function(){B=!1}),a.element(n).on("focusin",function(){B=!0}),a.element(b).on("click focus focusin",H),(k.dateMinLimit&&!k.isSelectableMinYear(k.year)||!k.isSelectableMinDate(k.year+"/"+k.monthNumber+"/"+k.day))&&J(),(k.dateMaxLimit&&!k.isSelectableMaxYear(k.year)||!k.isSelectableMaxDate(k.year+"/"+k.monthNumber+"/"+k.day))&&K(),k.paginateYears(k.year),I(k.monthNumber,k.year),k.checkVisibility=S,k.$on("$destroy",function(){T(),U(),V(),W(),X(),Y(),r.off("focus click focusout blur"),a.element(n).off("mouseenter mouseleave focusin"),a.element(b).off("click focus focusin",H)})};return{restrict:"AEC",scope:{dateSet:"@",dateMinLimit:"@",dateMaxLimit:"@",dateMonthTitle:"@",dateYearTitle:"@",buttonNextTitle:"@",buttonPrevTitle:"@",dateDisabledDates:"@",dateEnabledDates:"@",dateDisabledWeekdays:"@",dateSetHidden:"@",dateTyper:"@",dateWeekStartDay:"@",datepickerAppendTo:"@",datepickerToggle:"@",datepickerClass:"@",datepickerShow:"@"},link:k}};a.module("720kb.datepicker",[]).directive("datepicker",["$window","$compile","$locale","$filter","$interpolate","$timeout",j])}(angular,navigator),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){"use strict";function a(){return Ed.apply(null,arguments)}function b(a){Ed=a}function c(a){return a instanceof Array||"[object Array]"===Object.prototype.toString.call(a)}function d(a){return null!=a&&"[object Object]"===Object.prototype.toString.call(a)}function e(a){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(a).length;var b;for(b in a)if(a.hasOwnProperty(b))return!1;return!0}function f(a){return void 0===a}function g(a){return"number"==typeof a||"[object Number]"===Object.prototype.toString.call(a)}function h(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function i(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function j(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function k(a,b){for(var c in b)j(b,c)&&(a[c]=b[c]);return j(b,"toString")&&(a.toString=b.toString),j(b,"valueOf")&&(a.valueOf=b.valueOf),a}function l(a,b,c,d){return zb(a,b,c,d,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function n(a){return null==a._pf&&(a._pf=m()),a._pf}function o(a){if(null==a._isValid){var b=n(a),c=Fd.call(b.parsedDateParts,function(a){return null!=a}),d=!isNaN(a._d.getTime())&&b.overflow<0&&!b.empty&&!b.invalidMonth&&!b.invalidWeekday&&!b.weekdayMismatch&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated&&(!b.meridiem||b.meridiem&&c);if(a._strict&&(d=d&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour),null!=Object.isFrozen&&Object.isFrozen(a))return d;a._isValid=d}return a._isValid}function p(a){var b=l(NaN);return null!=a?k(n(b),a):n(b).userInvalidated=!0,b}function q(a,b){var c,d,e;if(f(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject),f(b._i)||(a._i=b._i),f(b._f)||(a._f=b._f),f(b._l)||(a._l=b._l),f(b._strict)||(a._strict=b._strict),f(b._tzm)||(a._tzm=b._tzm),f(b._isUTC)||(a._isUTC=b._isUTC),f(b._offset)||(a._offset=b._offset),f(b._pf)||(a._pf=n(b)),f(b._locale)||(a._locale=b._locale),Gd.length>0)for(c=0;c<Gd.length;c++)d=Gd[c],e=b[d],f(e)||(a[d]=e);return a}function r(b){q(this,b),this._d=new Date(null!=b._d?b._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Hd===!1&&(Hd=!0,a.updateOffset(this),Hd=!1)}function s(a){return a instanceof r||null!=a&&null!=a._isAMomentObject}function t(a){return 0>a?Math.ceil(a)||0:Math.floor(a)}function u(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=t(b)),c}function v(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&u(a[d])!==u(b[d]))&&g++;return g+f}function w(b){a.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function x(b,c){var d=!0;return k(function(){if(null!=a.deprecationHandler&&a.deprecationHandler(null,b),d){for(var e,f=[],g=0;g<arguments.length;g++){if(e="","object"==typeof arguments[g]){e+="\n["+g+"] ";for(var h in arguments[0])e+=h+": "+arguments[0][h]+", ";e=e.slice(0,-2)}else e=arguments[g];f.push(e)}w(b+"\nArguments: "+Array.prototype.slice.call(f).join("")+"\n"+(new Error).stack),d=!1}return c.apply(this,arguments)},c)}function y(b,c){null!=a.deprecationHandler&&a.deprecationHandler(b,c),Id[b]||(w(c),Id[b]=!0)}function z(a){return a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}function A(a){var b,c;for(c in a)b=a[c],z(b)?this[c]=b:this["_"+c]=b;this._config=a,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function B(a,b){var c,e=k({},a);for(c in b)j(b,c)&&(d(a[c])&&d(b[c])?(e[c]={},k(e[c],a[c]),k(e[c],b[c])):null!=b[c]?e[c]=b[c]:delete e[c]);for(c in a)j(a,c)&&!j(b,c)&&d(a[c])&&(e[c]=k({},e[c]));return e}function C(a){null!=a&&this.set(a)}function D(a,b,c){var d=this._calendar[a]||this._calendar.sameElse;return z(d)?d.call(b,c):d}function E(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function F(){return this._invalidDate}function G(a){return this._ordinal.replace("%d",a)}function H(a,b,c,d){var e=this._relativeTime[c];return z(e)?e(a,b,c,d):e.replace(/%d/i,a)}function I(a,b){var c=this._relativeTime[a>0?"future":"past"];return z(c)?c(b):c.replace(/%s/i,b)}function J(a,b){var c=a.toLowerCase();Qd[c]=Qd[c+"s"]=Qd[b]=a}function K(a){return"string"==typeof a?Qd[a]||Qd[a.toLowerCase()]:void 0}function L(a){var b,c,d={};for(c in a)j(a,c)&&(b=K(c),b&&(d[b]=a[c]));return d}function M(a,b){Rd[a]=b}function N(a){var b=[];for(var c in a)b.push({unit:c,priority:Rd[c]});return b.sort(function(a,b){return a.priority-b.priority}),b}function O(a,b,c){var d=""+Math.abs(a),e=b-d.length,f=a>=0;return(f?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function P(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Vd[a]=e),b&&(Vd[b[0]]=function(){return O(e.apply(this,arguments),b[1],b[2])}),c&&(Vd[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function Q(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function R(a){var b,c,d=a.match(Sd);for(b=0,c=d.length;c>b;b++)Vd[d[b]]?d[b]=Vd[d[b]]:d[b]=Q(d[b]);return function(b){var e,f="";for(e=0;c>e;e++)f+=z(d[e])?d[e].call(b,a):d[e];return f}}function S(a,b){return a.isValid()?(b=T(b,a.localeData()),Ud[b]=Ud[b]||R(b),Ud[b](a)):a.localeData().invalidDate()}function T(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Td.lastIndex=0;d>=0&&Td.test(a);)a=a.replace(Td,c),Td.lastIndex=0,d-=1;return a}function U(a,b,c){le[a]=z(b)?b:function(a,d){return a&&c?c:b}}function V(a,b){return j(le,a)?le[a](b._strict,b._locale):new RegExp(W(a))}function W(a){return X(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}))}function X(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Y(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),g(b)&&(d=function(a,c){c[b]=u(a)}),c=0;c<a.length;c++)me[a[c]]=d}function Z(a,b){Y(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function $(a,b,c){null!=b&&j(me,a)&&me[a](b,c._a,c,a)}function _(a){return aa(a)?366:365}function aa(a){return a%4===0&&a%100!==0||a%400===0}function ba(){return aa(this.year())}function ca(b,c){return function(d){return null!=d?(ea(this,b,d),a.updateOffset(this,c),this):da(this,b)}}function da(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function ea(a,b,c){a.isValid()&&!isNaN(c)&&("FullYear"===b&&aa(a.year())&&1===a.month()&&29===a.date()?a._d["set"+(a._isUTC?"UTC":"")+b](c,a.month(),ia(c,a.month())):a._d["set"+(a._isUTC?"UTC":"")+b](c))}function fa(a){return a=K(a),z(this[a])?this[a]():this}function ga(a,b){if("object"==typeof a){a=L(a);for(var c=N(a),d=0;d<c.length;d++)this[c[d].unit](a[c[d].unit])}else if(a=K(a),z(this[a]))return this[a](b);return this}function ha(a,b){return(a%b+b)%b}function ia(a,b){if(isNaN(a)||isNaN(b))return NaN;var c=ha(b,12);return a+=(b-c)/12,1===c?aa(a)?29:28:31-c%7%2}function ja(a,b){return a?c(this._months)?this._months[a.month()]:this._months[(this._months.isFormat||ye).test(b)?"format":"standalone"][a.month()]:c(this._months)?this._months:this._months.standalone}function ka(a,b){return a?c(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[ye.test(b)?"format":"standalone"][a.month()]:c(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function la(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],d=0;12>d;++d)f=l([2e3,d]),this._shortMonthsParse[d]=this.monthsShort(f,"").toLocaleLowerCase(),this._longMonthsParse[d]=this.months(f,"").toLocaleLowerCase();return c?"MMM"===b?(e=we.call(this._shortMonthsParse,g),-1!==e?e:null):(e=we.call(this._longMonthsParse,g),-1!==e?e:null):"MMM"===b?(e=we.call(this._shortMonthsParse,g),-1!==e?e:(e=we.call(this._longMonthsParse,g),-1!==e?e:null)):(e=we.call(this._longMonthsParse,g),-1!==e?e:(e=we.call(this._shortMonthsParse,g),-1!==e?e:null))}function ma(a,b,c){var d,e,f;if(this._monthsParseExact)return la.call(this,a,b,c);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=l([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function na(a,b){var c;if(!a.isValid())return a;if("string"==typeof b)if(/^\d+$/.test(b))b=u(b);else if(b=a.localeData().monthsParse(b),!g(b))return a;return c=Math.min(a.date(),ia(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a}function oa(b){return null!=b?(na(this,b),a.updateOffset(this,!0),this):da(this,"Month")}function pa(){return ia(this.year(),this.month())}function qa(a){return this._monthsParseExact?(j(this,"_monthsRegex")||sa.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):(j(this,"_monthsShortRegex")||(this._monthsShortRegex=Be),this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex)}function ra(a){return this._monthsParseExact?(j(this,"_monthsRegex")||sa.call(this),a?this._monthsStrictRegex:this._monthsRegex):(j(this,"_monthsRegex")||(this._monthsRegex=Ce),this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex)}function sa(){function a(a,b){return b.length-a.length}var b,c,d=[],e=[],f=[];for(b=0;12>b;b++)c=l([2e3,b]),d.push(this.monthsShort(c,"")),e.push(this.months(c,"")),f.push(this.months(c,"")),f.push(this.monthsShort(c,""));for(d.sort(a),e.sort(a),f.sort(a),b=0;12>b;b++)d[b]=X(d[b]),e[b]=X(e[b]);for(b=0;24>b;b++)f[b]=X(f[b]);this._monthsRegex=new RegExp("^("+f.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+e.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")","i")}function ta(a,b,c,d,e,f,g){var h;return 100>a&&a>=0?(h=new Date(a+400,b,c,d,e,f,g),isFinite(h.getFullYear())&&h.setFullYear(a)):h=new Date(a,b,c,d,e,f,g),h}function ua(a){var b;if(100>a&&a>=0){var c=Array.prototype.slice.call(arguments);c[0]=a+400,b=new Date(Date.UTC.apply(null,c)),isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a)}else b=new Date(Date.UTC.apply(null,arguments));return b}function va(a,b,c){var d=7+b-c,e=(7+ua(a,0,d).getUTCDay()-b)%7;return-e+d-1}function wa(a,b,c,d,e){var f,g,h=(7+c-d)%7,i=va(a,d,e),j=1+7*(b-1)+h+i;return 0>=j?(f=a-1,g=_(f)+j):j>_(a)?(f=a+1,g=j-_(a)):(f=a,g=j),{year:f,dayOfYear:g}}function xa(a,b,c){var d,e,f=va(a.year(),b,c),g=Math.floor((a.dayOfYear()-f-1)/7)+1;return 1>g?(e=a.year()-1,d=g+ya(e,b,c)):g>ya(a.year(),b,c)?(d=g-ya(a.year(),b,c),e=a.year()+1):(e=a.year(),d=g),{week:d,year:e}}function ya(a,b,c){var d=va(a,b,c),e=va(a+1,b,c);return(_(a)-d+e)/7}function za(a){return xa(a,this._week.dow,this._week.doy).week}function Aa(){return this._week.dow}function Ba(){return this._week.doy}function Ca(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function Da(a){var b=xa(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function Ea(a,b){return"string"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),"number"==typeof a?a:null):parseInt(a,10)}function Fa(a,b){return"string"==typeof a?b.weekdaysParse(a)%7||7:isNaN(a)?null:a}function Ga(a,b){return a.slice(b,7).concat(a.slice(0,b))}function Ha(a,b){var d=c(this._weekdays)?this._weekdays:this._weekdays[a&&a!==!0&&this._weekdays.isFormat.test(b)?"format":"standalone"];return a===!0?Ga(d,this._week.dow):a?d[a.day()]:d}function Ia(a){return a===!0?Ga(this._weekdaysShort,this._week.dow):a?this._weekdaysShort[a.day()]:this._weekdaysShort}function Ja(a){return a===!0?Ga(this._weekdaysMin,this._week.dow):a?this._weekdaysMin[a.day()]:this._weekdaysMin}function Ka(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],d=0;7>d;++d)f=l([2e3,1]).day(d),this._minWeekdaysParse[d]=this.weekdaysMin(f,"").toLocaleLowerCase(),this._shortWeekdaysParse[d]=this.weekdaysShort(f,"").toLocaleLowerCase(),this._weekdaysParse[d]=this.weekdays(f,"").toLocaleLowerCase();return c?"dddd"===b?(e=we.call(this._weekdaysParse,g),-1!==e?e:null):"ddd"===b?(e=we.call(this._shortWeekdaysParse,g),-1!==e?e:null):(e=we.call(this._minWeekdaysParse,g),-1!==e?e:null):"dddd"===b?(e=we.call(this._weekdaysParse,g),-1!==e?e:(e=we.call(this._shortWeekdaysParse,g),
-1!==e?e:(e=we.call(this._minWeekdaysParse,g),-1!==e?e:null))):"ddd"===b?(e=we.call(this._shortWeekdaysParse,g),-1!==e?e:(e=we.call(this._weekdaysParse,g),-1!==e?e:(e=we.call(this._minWeekdaysParse,g),-1!==e?e:null))):(e=we.call(this._minWeekdaysParse,g),-1!==e?e:(e=we.call(this._weekdaysParse,g),-1!==e?e:(e=we.call(this._shortWeekdaysParse,g),-1!==e?e:null)))}function La(a,b,c){var d,e,f;if(this._weekdaysParseExact)return Ka.call(this,a,b,c);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;7>d;d++){if(e=l([2e3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(e,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(e,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(e,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[d]||(f="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[d]=new RegExp(f.replace(".",""),"i")),c&&"dddd"===b&&this._fullWeekdaysParse[d].test(a))return d;if(c&&"ddd"===b&&this._shortWeekdaysParse[d].test(a))return d;if(c&&"dd"===b&&this._minWeekdaysParse[d].test(a))return d;if(!c&&this._weekdaysParse[d].test(a))return d}}function Ma(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Ea(a,this.localeData()),this.add(a-b,"d")):b}function Na(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function Oa(a){if(!this.isValid())return null!=a?this:NaN;if(null!=a){var b=Fa(a,this.localeData());return this.day(this.day()%7?b:b-7)}return this.day()||7}function Pa(a){return this._weekdaysParseExact?(j(this,"_weekdaysRegex")||Sa.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex):(j(this,"_weekdaysRegex")||(this._weekdaysRegex=He),this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex)}function Qa(a){return this._weekdaysParseExact?(j(this,"_weekdaysRegex")||Sa.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(j(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ie),this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ra(a){return this._weekdaysParseExact?(j(this,"_weekdaysRegex")||Sa.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(j(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Je),this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Sa(){function a(a,b){return b.length-a.length}var b,c,d,e,f,g=[],h=[],i=[],j=[];for(b=0;7>b;b++)c=l([2e3,1]).day(b),d=this.weekdaysMin(c,""),e=this.weekdaysShort(c,""),f=this.weekdays(c,""),g.push(d),h.push(e),i.push(f),j.push(d),j.push(e),j.push(f);for(g.sort(a),h.sort(a),i.sort(a),j.sort(a),b=0;7>b;b++)h[b]=X(h[b]),i[b]=X(i[b]),j[b]=X(j[b]);this._weekdaysRegex=new RegExp("^("+j.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+g.join("|")+")","i")}function Ta(){return this.hours()%12||12}function Ua(){return this.hours()||24}function Va(a,b){P(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Wa(a,b){return b._meridiemParse}function Xa(a){return"p"===(a+"").toLowerCase().charAt(0)}function Ya(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function Za(a){return a?a.toLowerCase().replace("_","-"):a}function $a(a){for(var b,c,d,e,f=0;f<a.length;){for(e=Za(a[f]).split("-"),b=e.length,c=Za(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=_a(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&v(e,c,!0)>=b-1)break;b--}f++}return Ke}function _a(a){var b=null;if(!Oe[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=Ke._abbr;var c=require;c("./locale/"+a),ab(b)}catch(d){}return Oe[a]}function ab(a,b){var c;return a&&(c=f(b)?db(a):bb(a,b),c?Ke=c:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+a+" not found. Did you forget to load it?")),Ke._abbr}function bb(a,b){if(null!==b){var c,d=Ne;if(b.abbr=a,null!=Oe[a])y("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),d=Oe[a]._config;else if(null!=b.parentLocale)if(null!=Oe[b.parentLocale])d=Oe[b.parentLocale]._config;else{if(c=_a(b.parentLocale),null==c)return Pe[b.parentLocale]||(Pe[b.parentLocale]=[]),Pe[b.parentLocale].push({name:a,config:b}),null;d=c._config}return Oe[a]=new C(B(d,b)),Pe[a]&&Pe[a].forEach(function(a){bb(a.name,a.config)}),ab(a),Oe[a]}return delete Oe[a],null}function cb(a,b){if(null!=b){var c,d,e=Ne;d=_a(a),null!=d&&(e=d._config),b=B(e,b),c=new C(b),c.parentLocale=Oe[a],Oe[a]=c,ab(a)}else null!=Oe[a]&&(null!=Oe[a].parentLocale?Oe[a]=Oe[a].parentLocale:null!=Oe[a]&&delete Oe[a]);return Oe[a]}function db(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Ke;if(!c(a)){if(b=_a(a))return b;a=[a]}return $a(a)}function eb(){return Jd(Oe)}function fb(a){var b,c=a._a;return c&&-2===n(a).overflow&&(b=c[oe]<0||c[oe]>11?oe:c[pe]<1||c[pe]>ia(c[ne],c[oe])?pe:c[qe]<0||c[qe]>24||24===c[qe]&&(0!==c[re]||0!==c[se]||0!==c[te])?qe:c[re]<0||c[re]>59?re:c[se]<0||c[se]>59?se:c[te]<0||c[te]>999?te:-1,n(a)._overflowDayOfYear&&(ne>b||b>pe)&&(b=pe),n(a)._overflowWeeks&&-1===b&&(b=ue),n(a)._overflowWeekday&&-1===b&&(b=ve),n(a).overflow=b),a}function gb(a,b,c){return null!=a?a:null!=b?b:c}function hb(b){var c=new Date(a.now());return b._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()]}function ib(a){var b,c,d,e,f,g=[];if(!a._d){for(d=hb(a),a._w&&null==a._a[pe]&&null==a._a[oe]&&jb(a),null!=a._dayOfYear&&(f=gb(a._a[ne],d[ne]),(a._dayOfYear>_(f)||0===a._dayOfYear)&&(n(a)._overflowDayOfYear=!0),c=ua(f,0,a._dayOfYear),a._a[oe]=c.getUTCMonth(),a._a[pe]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=g[b]=d[b];for(;7>b;b++)a._a[b]=g[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[qe]&&0===a._a[re]&&0===a._a[se]&&0===a._a[te]&&(a._nextDay=!0,a._a[qe]=0),a._d=(a._useUTC?ua:ta).apply(null,g),e=a._useUTC?a._d.getUTCDay():a._d.getDay(),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[qe]=24),a._w&&"undefined"!=typeof a._w.d&&a._w.d!==e&&(n(a).weekdayMismatch=!0)}}function jb(a){var b,c,d,e,f,g,h,i;if(b=a._w,null!=b.GG||null!=b.W||null!=b.E)f=1,g=4,c=gb(b.GG,a._a[ne],xa(Ab(),1,4).year),d=gb(b.W,1),e=gb(b.E,1),(1>e||e>7)&&(i=!0);else{f=a._locale._week.dow,g=a._locale._week.doy;var j=xa(Ab(),f,g);c=gb(b.gg,a._a[ne],j.year),d=gb(b.w,j.week),null!=b.d?(e=b.d,(0>e||e>6)&&(i=!0)):null!=b.e?(e=b.e+f,(b.e<0||b.e>6)&&(i=!0)):e=f}1>d||d>ya(c,f,g)?n(a)._overflowWeeks=!0:null!=i?n(a)._overflowWeekday=!0:(h=wa(c,d,e,f,g),a._a[ne]=h.year,a._dayOfYear=h.dayOfYear)}function kb(a){var b,c,d,e,f,g,h=a._i,i=Qe.exec(h)||Re.exec(h);if(i){for(n(a).iso=!0,b=0,c=Te.length;c>b;b++)if(Te[b][1].exec(i[1])){e=Te[b][0],d=Te[b][2]!==!1;break}if(null==e)return void(a._isValid=!1);if(i[3]){for(b=0,c=Ue.length;c>b;b++)if(Ue[b][1].exec(i[3])){f=(i[2]||" ")+Ue[b][0];break}if(null==f)return void(a._isValid=!1)}if(!d&&null!=f)return void(a._isValid=!1);if(i[4]){if(!Se.exec(i[4]))return void(a._isValid=!1);g="Z"}a._f=e+(f||"")+(g||""),sb(a)}else a._isValid=!1}function lb(a,b,c,d,e,f){var g=[mb(a),Ae.indexOf(b),parseInt(c,10),parseInt(d,10),parseInt(e,10)];return f&&g.push(parseInt(f,10)),g}function mb(a){var b=parseInt(a,10);return 49>=b?2e3+b:999>=b?1900+b:b}function nb(a){return a.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ob(a,b,c){if(a){var d=Fe.indexOf(a),e=new Date(b[0],b[1],b[2]).getDay();if(d!==e)return n(c).weekdayMismatch=!0,c._isValid=!1,!1}return!0}function pb(a,b,c){if(a)return Xe[a];if(b)return 0;var d=parseInt(c,10),e=d%100,f=(d-e)/100;return 60*f+e}function qb(a){var b=We.exec(nb(a._i));if(b){var c=lb(b[4],b[3],b[2],b[5],b[6],b[7]);if(!ob(b[1],c,a))return;a._a=c,a._tzm=pb(b[8],b[9],b[10]),a._d=ua.apply(null,a._a),a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),n(a).rfc2822=!0}else a._isValid=!1}function rb(b){var c=Ve.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(kb(b),void(b._isValid===!1&&(delete b._isValid,qb(b),b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b)))))}function sb(b){if(b._f===a.ISO_8601)return void kb(b);if(b._f===a.RFC_2822)return void qb(b);b._a=[],n(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,j=0;for(e=T(b._f,b._locale).match(Sd)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(V(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&n(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),j+=d.length),Vd[f]?(d?n(b).empty=!1:n(b).unusedTokens.push(f),$(f,d,b)):b._strict&&!d&&n(b).unusedTokens.push(f);n(b).charsLeftOver=i-j,h.length>0&&n(b).unusedInput.push(h),b._a[qe]<=12&&n(b).bigHour===!0&&b._a[qe]>0&&(n(b).bigHour=void 0),n(b).parsedDateParts=b._a.slice(0),n(b).meridiem=b._meridiem,b._a[qe]=tb(b._locale,b._a[qe],b._meridiem),ib(b),fb(b)}function tb(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function ub(a){var b,c,d,e,f;if(0===a._f.length)return n(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=q({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],sb(b),o(b)&&(f+=n(b).charsLeftOver,f+=10*n(b).unusedTokens.length,n(b).score=f,(null==d||d>f)&&(d=f,c=b));k(a,c||b)}function vb(a){if(!a._d){var b=L(a._i);a._a=i([b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)}),ib(a)}}function wb(a){var b=new r(fb(xb(a)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function xb(a){var b=a._i,d=a._f;return a._locale=a._locale||db(a._l),null===b||void 0===d&&""===b?p({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),s(b)?new r(fb(b)):(h(b)?a._d=b:c(d)?ub(a):d?sb(a):yb(a),o(a)||(a._d=null),a))}function yb(b){var e=b._i;f(e)?b._d=new Date(a.now()):h(e)?b._d=new Date(e.valueOf()):"string"==typeof e?rb(b):c(e)?(b._a=i(e.slice(0),function(a){return parseInt(a,10)}),ib(b)):d(e)?vb(b):g(e)?b._d=new Date(e):a.createFromInputFallback(b)}function zb(a,b,f,g,h){var i={};return(f===!0||f===!1)&&(g=f,f=void 0),(d(a)&&e(a)||c(a)&&0===a.length)&&(a=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=h,i._l=f,i._i=a,i._f=b,i._strict=g,wb(i)}function Ab(a,b,c,d){return zb(a,b,c,d,!1)}function Bb(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return Ab();for(d=b[0],e=1;e<b.length;++e)(!b[e].isValid()||b[e][a](d))&&(d=b[e]);return d}function Cb(){var a=[].slice.call(arguments,0);return Bb("isBefore",a)}function Db(){var a=[].slice.call(arguments,0);return Bb("isAfter",a)}function Eb(a){for(var b in a)if(-1===we.call(_e,b)||null!=a[b]&&isNaN(a[b]))return!1;for(var c=!1,d=0;d<_e.length;++d)if(a[_e[d]]){if(c)return!1;parseFloat(a[_e[d]])!==u(a[_e[d]])&&(c=!0)}return!0}function Fb(){return this._isValid}function Gb(){return Zb(NaN)}function Hb(a){var b=L(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||b.isoWeek||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._isValid=Eb(b),this._milliseconds=+k+1e3*j+6e4*i+1e3*h*60*60,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=db(),this._bubble()}function Ib(a){return a instanceof Hb}function Jb(a){return 0>a?-1*Math.round(-1*a):Math.round(a)}function Kb(a,b){P(a,0,0,function(){var a=this.utcOffset(),c="+";return 0>a&&(a=-a,c="-"),c+O(~~(a/60),2)+b+O(~~a%60,2)})}function Lb(a,b){var c=(b||"").match(a);if(null===c)return null;var d=c[c.length-1]||[],e=(d+"").match(af)||["-",0,0],f=+(60*e[1])+u(e[2]);return 0===f?0:"+"===e[0]?f:-f}function Mb(b,c){var d,e;return c._isUTC?(d=c.clone(),e=(s(b)||h(b)?b.valueOf():Ab(b).valueOf())-d.valueOf(),d._d.setTime(d._d.valueOf()+e),a.updateOffset(d,!1),d):Ab(b).local()}function Nb(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Ob(b,c,d){var e,f=this._offset||0;if(!this.isValid())return null!=b?this:NaN;if(null!=b){if("string"==typeof b){if(b=Lb(ie,b),null===b)return this}else Math.abs(b)<16&&!d&&(b=60*b);return!this._isUTC&&c&&(e=Nb(this)),this._offset=b,this._isUTC=!0,null!=e&&this.add(e,"m"),f!==b&&(!c||this._changeInProgress?cc(this,Zb(b-f,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?f:Nb(this)}function Pb(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Qb(a){return this.utcOffset(0,a)}function Rb(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Nb(this),"m")),this}function Sb(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var a=Lb(he,this._i);null!=a?this.utcOffset(a):this.utcOffset(0,!0)}return this}function Tb(a){return this.isValid()?(a=a?Ab(a).utcOffset():0,(this.utcOffset()-a)%60===0):!1}function Ub(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Vb(){if(!f(this._isDSTShifted))return this._isDSTShifted;var a={};if(q(a,this),a=xb(a),a._a){var b=a._isUTC?l(a._a):Ab(a._a);this._isDSTShifted=this.isValid()&&v(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Wb(){return this.isValid()?!this._isUTC:!1}function Xb(){return this.isValid()?this._isUTC:!1}function Yb(){return this.isValid()?this._isUTC&&0===this._offset:!1}function Zb(a,b){var c,d,e,f=a,h=null;return Ib(a)?f={ms:a._milliseconds,d:a._days,M:a._months}:g(a)?(f={},b?f[b]=a:f.milliseconds=a):(h=bf.exec(a))?(c="-"===h[1]?-1:1,f={y:0,d:u(h[pe])*c,h:u(h[qe])*c,m:u(h[re])*c,s:u(h[se])*c,ms:u(Jb(1e3*h[te]))*c}):(h=cf.exec(a))?(c="-"===h[1]?-1:1,f={y:$b(h[2],c),M:$b(h[3],c),w:$b(h[4],c),d:$b(h[5],c),h:$b(h[6],c),m:$b(h[7],c),s:$b(h[8],c)}):null==f?f={}:"object"==typeof f&&("from"in f||"to"in f)&&(e=ac(Ab(f.from),Ab(f.to)),f={},f.ms=e.milliseconds,f.M=e.months),d=new Hb(f),Ib(a)&&j(a,"_locale")&&(d._locale=a._locale),d}function $b(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function _b(a,b){var c={};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function ac(a,b){var c;return a.isValid()&&b.isValid()?(b=Mb(b,a),a.isBefore(b)?c=_b(a,b):(c=_b(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0}}function bc(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(y(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Zb(c,d),cc(this,e,a),this}}function cc(b,c,d,e){var f=c._milliseconds,g=Jb(c._days),h=Jb(c._months);b.isValid()&&(e=null==e?!0:e,h&&na(b,da(b,"Month")+h*d),g&&ea(b,"Date",da(b,"Date")+g*d),f&&b._d.setTime(b._d.valueOf()+f*d),e&&a.updateOffset(b,g||h))}function dc(a,b){var c=a.diff(b,"days",!0);return-6>c?"sameElse":-1>c?"lastWeek":0>c?"lastDay":1>c?"sameDay":2>c?"nextDay":7>c?"nextWeek":"sameElse"}function ec(b,c){var d=b||Ab(),e=Mb(d,this).startOf("day"),f=a.calendarFormat(this,e)||"sameElse",g=c&&(z(c[f])?c[f].call(this,d):c[f]);return this.format(g||this.localeData().calendar(f,this,Ab(d)))}function fc(){return new r(this)}function gc(a,b){var c=s(a)?a:Ab(a);return this.isValid()&&c.isValid()?(b=K(b)||"millisecond","millisecond"===b?this.valueOf()>c.valueOf():c.valueOf()<this.clone().startOf(b).valueOf()):!1}function hc(a,b){var c=s(a)?a:Ab(a);return this.isValid()&&c.isValid()?(b=K(b)||"millisecond","millisecond"===b?this.valueOf()<c.valueOf():this.clone().endOf(b).valueOf()<c.valueOf()):!1}function ic(a,b,c,d){var e=s(a)?a:Ab(a),f=s(b)?b:Ab(b);return this.isValid()&&e.isValid()&&f.isValid()?(d=d||"()",("("===d[0]?this.isAfter(e,c):!this.isBefore(e,c))&&(")"===d[1]?this.isBefore(f,c):!this.isAfter(f,c))):!1}function jc(a,b){var c,d=s(a)?a:Ab(a);return this.isValid()&&d.isValid()?(b=K(b)||"millisecond","millisecond"===b?this.valueOf()===d.valueOf():(c=d.valueOf(),this.clone().startOf(b).valueOf()<=c&&c<=this.clone().endOf(b).valueOf())):!1}function kc(a,b){return this.isSame(a,b)||this.isAfter(a,b)}function lc(a,b){return this.isSame(a,b)||this.isBefore(a,b)}function mc(a,b,c){var d,e,f;if(!this.isValid())return NaN;if(d=Mb(a,this),!d.isValid())return NaN;switch(e=6e4*(d.utcOffset()-this.utcOffset()),b=K(b)){case"year":f=nc(this,d)/12;break;case"month":f=nc(this,d);break;case"quarter":f=nc(this,d)/3;break;case"second":f=(this-d)/1e3;break;case"minute":f=(this-d)/6e4;break;case"hour":f=(this-d)/36e5;break;case"day":f=(this-d-e)/864e5;break;case"week":f=(this-d-e)/6048e5;break;default:f=this-d}return c?f:t(f)}function nc(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return 0>b-f?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)||0}function oc(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function pc(a){if(!this.isValid())return null;var b=a!==!0,c=b?this.clone().utc():this;return c.year()<0||c.year()>9999?S(c,b?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):z(Date.prototype.toISOString)?b?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",S(c,"Z")):S(c,b?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function qc(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var a="moment",b="";this.isLocal()||(a=0===this.utcOffset()?"moment.utc":"moment.parseZone",b="Z");var c="["+a+'("]',d=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",e="-MM-DD[T]HH:mm:ss.SSS",f=b+'[")]';return this.format(c+d+e+f)}function rc(b){b||(b=this.isUtc()?a.defaultFormatUtc:a.defaultFormat);var c=S(this,b);return this.localeData().postformat(c)}function sc(a,b){return this.isValid()&&(s(a)&&a.isValid()||Ab(a).isValid())?Zb({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function tc(a){return this.from(Ab(),a)}function uc(a,b){return this.isValid()&&(s(a)&&a.isValid()||Ab(a).isValid())?Zb({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function vc(a){return this.to(Ab(),a)}function wc(a){var b;return void 0===a?this._locale._abbr:(b=db(a),null!=b&&(this._locale=b),this)}function xc(){return this._locale}function yc(a,b){return(a%b+b)%b}function zc(a,b,c){return 100>a&&a>=0?new Date(a+400,b,c)-kf:new Date(a,b,c).valueOf()}function Ac(a,b,c){return 100>a&&a>=0?Date.UTC(a+400,b,c)-kf:Date.UTC(a,b,c)}function Bc(b){var c;if(b=K(b),void 0===b||"millisecond"===b||!this.isValid())return this;var d=this._isUTC?Ac:zc;switch(b){case"year":c=d(this.year(),0,1);break;case"quarter":c=d(this.year(),this.month()-this.month()%3,1);break;case"month":c=d(this.year(),this.month(),1);break;case"week":c=d(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":c=d(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":c=d(this.year(),this.month(),this.date());break;case"hour":c=this._d.valueOf(),c-=yc(c+(this._isUTC?0:this.utcOffset()*hf),jf);break;case"minute":c=this._d.valueOf(),c-=yc(c,hf);break;case"second":c=this._d.valueOf(),c-=yc(c,gf)}return this._d.setTime(c),a.updateOffset(this,!0),this}function Cc(b){var c;if(b=K(b),void 0===b||"millisecond"===b||!this.isValid())return this;var d=this._isUTC?Ac:zc;switch(b){case"year":c=d(this.year()+1,0,1)-1;break;case"quarter":c=d(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":c=d(this.year(),this.month()+1,1)-1;break;case"week":c=d(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":c=d(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":c=d(this.year(),this.month(),this.date()+1)-1;break;case"hour":c=this._d.valueOf(),c+=jf-yc(c+(this._isUTC?0:this.utcOffset()*hf),jf)-1;break;case"minute":c=this._d.valueOf(),c+=hf-yc(c,hf)-1;break;case"second":c=this._d.valueOf(),c+=gf-yc(c,gf)-1}return this._d.setTime(c),a.updateOffset(this,!0),this}function Dc(){return this._d.valueOf()-6e4*(this._offset||0)}function Ec(){return Math.floor(this.valueOf()/1e3)}function Fc(){return new Date(this.valueOf())}function Gc(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function Hc(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function Ic(){return this.isValid()?this.toISOString():null}function Jc(){return o(this)}function Kc(){return k({},n(this))}function Lc(){return n(this).overflow}function Mc(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Nc(a,b){P(0,[a,a.length],0,b)}function Oc(a){return Sc.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Pc(a){return Sc.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)}function Qc(){return ya(this.year(),1,4)}function Rc(){var a=this.localeData()._week;return ya(this.year(),a.dow,a.doy)}function Sc(a,b,c,d,e){var f;return null==a?xa(this,d,e).year:(f=ya(a,d,e),b>f&&(b=f),Tc.call(this,a,b,c,d,e))}function Tc(a,b,c,d,e){var f=wa(a,b,c,d,e),g=ua(f.year,0,f.dayOfYear);return this.year(g.getUTCFullYear()),this.month(g.getUTCMonth()),this.date(g.getUTCDate()),this}function Uc(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Vc(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")}function Wc(a,b){b[te]=u(1e3*("0."+a))}function Xc(){return this._isUTC?"UTC":""}function Yc(){return this._isUTC?"Coordinated Universal Time":""}function Zc(a){return Ab(1e3*a)}function $c(){return Ab.apply(null,arguments).parseZone()}function _c(a){return a}function ad(a,b,c,d){var e=db(),f=l().set(d,b);return e[c](f,a)}function bd(a,b,c){if(g(a)&&(b=a,a=void 0),a=a||"",null!=b)return ad(a,b,c,"month");var d,e=[];for(d=0;12>d;d++)e[d]=ad(a,d,c,"month");return e}function cd(a,b,c,d){"boolean"==typeof a?(g(b)&&(c=b,b=void 0),b=b||""):(b=a,c=b,a=!1,g(b)&&(c=b,b=void 0),b=b||"");var e=db(),f=a?e._week.dow:0;if(null!=c)return ad(b,(c+f)%7,d,"day");var h,i=[];for(h=0;7>h;h++)i[h]=ad(b,(h+f)%7,d,"day");return i}function dd(a,b){return bd(a,b,"months")}function ed(a,b){return bd(a,b,"monthsShort")}function fd(a,b,c){return cd(a,b,c,"weekdays")}function gd(a,b,c){return cd(a,b,c,"weekdaysShort")}function hd(a,b,c){return cd(a,b,c,"weekdaysMin")}function id(){var a=this._data;return this._milliseconds=sf(this._milliseconds),this._days=sf(this._days),this._months=sf(this._months),a.milliseconds=sf(a.milliseconds),a.seconds=sf(a.seconds),a.minutes=sf(a.minutes),a.hours=sf(a.hours),a.months=sf(a.months),a.years=sf(a.years),this}function jd(a,b,c,d){var e=Zb(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function kd(a,b){return jd(this,a,b,1)}function ld(a,b){return jd(this,a,b,-1)}function md(a){return 0>a?Math.floor(a):Math.ceil(a)}function nd(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return f>=0&&g>=0&&h>=0||0>=f&&0>=g&&0>=h||(f+=864e5*md(pd(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=t(f/1e3),i.seconds=a%60,b=t(a/60),i.minutes=b%60,c=t(b/60),i.hours=c%24,g+=t(c/24),e=t(od(g)),h+=e,g-=md(pd(e)),d=t(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function od(a){return 4800*a/146097}function pd(a){return 146097*a/4800}function qd(a){if(!this.isValid())return NaN;var b,c,d=this._milliseconds;if(a=K(a),"month"===a||"quarter"===a||"year"===a)switch(b=this._days+d/864e5,c=this._months+od(b),a){case"month":return c;case"quarter":return c/3;case"year":return c/12}else switch(b=this._days+Math.round(pd(this._months)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}}function rd(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*u(this._months/12):NaN}function sd(a){return function(){return this.as(a)}}function td(){return Zb(this)}function ud(a){return a=K(a),this.isValid()?this[a+"s"]():NaN}function vd(a){return function(){return this.isValid()?this._data[a]:NaN}}function wd(){return t(this.days()/7)}function xd(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function yd(a,b,c){var d=Zb(a).abs(),e=Jf(d.as("s")),f=Jf(d.as("m")),g=Jf(d.as("h")),h=Jf(d.as("d")),i=Jf(d.as("M")),j=Jf(d.as("y")),k=e<=Kf.ss&&["s",e]||e<Kf.s&&["ss",e]||1>=f&&["m"]||f<Kf.m&&["mm",f]||1>=g&&["h"]||g<Kf.h&&["hh",g]||1>=h&&["d"]||h<Kf.d&&["dd",h]||1>=i&&["M"]||i<Kf.M&&["MM",i]||1>=j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,xd.apply(null,k)}function zd(a){return void 0===a?Jf:"function"==typeof a?(Jf=a,!0):!1}function Ad(a,b){return void 0===Kf[a]?!1:void 0===b?Kf[a]:(Kf[a]=b,"s"===a&&(Kf.ss=b-1),!0)}function Bd(a){if(!this.isValid())return this.localeData().invalidDate();var b=this.localeData(),c=yd(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function Cd(a){return(a>0)-(0>a)||+a}function Dd(){if(!this.isValid())return this.localeData().invalidDate();var a,b,c,d=Lf(this._milliseconds)/1e3,e=Lf(this._days),f=Lf(this._months);a=t(d/60),b=t(a/60),d%=60,a%=60,c=t(f/12),f%=12;var g=c,h=f,i=e,j=b,k=a,l=d?d.toFixed(3).replace(/\.?0+$/,""):"",m=this.asSeconds();if(!m)return"P0D";var n=0>m?"-":"",o=Cd(this._months)!==Cd(m)?"-":"",p=Cd(this._days)!==Cd(m)?"-":"",q=Cd(this._milliseconds)!==Cd(m)?"-":"";return n+"P"+(g?o+g+"Y":"")+(h?o+h+"M":"")+(i?p+i+"D":"")+(j||k||l?"T":"")+(j?q+j+"H":"")+(k?q+k+"M":"")+(l?q+l+"S":"")}var Ed,Fd;Fd=Array.prototype.some?Array.prototype.some:function(a){for(var b=Object(this),c=b.length>>>0,d=0;c>d;d++)if(d in b&&a.call(this,b[d],d,b))return!0;return!1};var Gd=a.momentProperties=[],Hd=!1,Id={};a.suppressDeprecationWarnings=!1,a.deprecationHandler=null;var Jd;Jd=Object.keys?Object.keys:function(a){var b,c=[];for(b in a)j(a,b)&&c.push(b);return c};var Kd={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ld={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Md="Invalid date",Nd="%d",Od=/\d{1,2}/,Pd={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Qd={},Rd={},Sd=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Td=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ud={},Vd={},Wd=/\d/,Xd=/\d\d/,Yd=/\d{3}/,Zd=/\d{4}/,$d=/[+-]?\d{6}/,_d=/\d\d?/,ae=/\d\d\d\d?/,be=/\d\d\d\d\d\d?/,ce=/\d{1,3}/,de=/\d{1,4}/,ee=/[+-]?\d{1,6}/,fe=/\d+/,ge=/[+-]?\d+/,he=/Z|[+-]\d\d:?\d\d/gi,ie=/Z|[+-]\d\d(?::?\d\d)?/gi,je=/[+-]?\d+(\.\d{1,3})?/,ke=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,le={},me={},ne=0,oe=1,pe=2,qe=3,re=4,se=5,te=6,ue=7,ve=8;P("Y",0,0,function(){var a=this.year();return 9999>=a?""+a:"+"+a}),P(0,["YY",2],0,function(){return this.year()%100}),P(0,["YYYY",4],0,"year"),P(0,["YYYYY",5],0,"year"),P(0,["YYYYYY",6,!0],0,"year"),J("year","y"),M("year",1),U("Y",ge),U("YY",_d,Xd),U("YYYY",de,Zd),U("YYYYY",ee,$d),U("YYYYYY",ee,$d),Y(["YYYYY","YYYYYY"],ne),Y("YYYY",function(b,c){c[ne]=2===b.length?a.parseTwoDigitYear(b):u(b)}),Y("YY",function(b,c){c[ne]=a.parseTwoDigitYear(b)}),Y("Y",function(a,b){b[ne]=parseInt(a,10)}),a.parseTwoDigitYear=function(a){return u(a)+(u(a)>68?1900:2e3)};var we,xe=ca("FullYear",!0);we=Array.prototype.indexOf?Array.prototype.indexOf:function(a){var b;for(b=0;b<this.length;++b)if(this[b]===a)return b;return-1},P("M",["MM",2],"Mo",function(){return this.month()+1}),P("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),P("MMMM",0,0,function(a){return this.localeData().months(this,a)}),J("month","M"),M("month",8),U("M",_d),U("MM",_d,Xd),U("MMM",function(a,b){return b.monthsShortRegex(a)}),U("MMMM",function(a,b){return b.monthsRegex(a)}),Y(["M","MM"],function(a,b){b[oe]=u(a)-1}),Y(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[oe]=e:n(c).invalidMonth=a});var ye=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ze="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ae="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Be=ke,Ce=ke;P("w",["ww",2],"wo","week"),P("W",["WW",2],"Wo","isoWeek"),J("week","w"),J("isoWeek","W"),M("week",5),M("isoWeek",5),U("w",_d),U("ww",_d,Xd),U("W",_d),U("WW",_d,Xd),Z(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=u(a)});var De={dow:0,doy:6};P("d",0,"do","day"),P("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),P("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),P("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),P("e",0,0,"weekday"),P("E",0,0,"isoWeekday"),J("day","d"),J("weekday","e"),J("isoWeekday","E"),M("day",11),M("weekday",11),M("isoWeekday",11),U("d",_d),U("e",_d),U("E",_d),U("dd",function(a,b){return b.weekdaysMinRegex(a)}),U("ddd",function(a,b){return b.weekdaysShortRegex(a)}),U("dddd",function(a,b){return b.weekdaysRegex(a)}),Z(["dd","ddd","dddd"],function(a,b,c,d){var e=c._locale.weekdaysParse(a,d,c._strict);null!=e?b.d=e:n(c).invalidWeekday=a}),Z(["d","e","E"],function(a,b,c,d){b[d]=u(a)});var Ee="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Fe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ge="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),He=ke,Ie=ke,Je=ke;P("H",["HH",2],0,"hour"),P("h",["hh",2],0,Ta),P("k",["kk",2],0,Ua),P("hmm",0,0,function(){return""+Ta.apply(this)+O(this.minutes(),2)}),P("hmmss",0,0,function(){return""+Ta.apply(this)+O(this.minutes(),2)+O(this.seconds(),2)}),P("Hmm",0,0,function(){return""+this.hours()+O(this.minutes(),2)}),P("Hmmss",0,0,function(){return""+this.hours()+O(this.minutes(),2)+O(this.seconds(),2)}),Va("a",!0),Va("A",!1),J("hour","h"),M("hour",13),U("a",Wa),U("A",Wa),U("H",_d),U("h",_d),U("k",_d),U("HH",_d,Xd),U("hh",_d,Xd),U("kk",_d,Xd),U("hmm",ae),U("hmmss",be),U("Hmm",ae),U("Hmmss",be),Y(["H","HH"],qe),Y(["k","kk"],function(a,b,c){var d=u(a);b[qe]=24===d?0:d}),Y(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),Y(["h","hh"],function(a,b,c){b[qe]=u(a),n(c).bigHour=!0}),Y("hmm",function(a,b,c){var d=a.length-2;b[qe]=u(a.substr(0,d)),b[re]=u(a.substr(d)),n(c).bigHour=!0}),Y("hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[qe]=u(a.substr(0,d)),b[re]=u(a.substr(d,2)),b[se]=u(a.substr(e)),n(c).bigHour=!0}),Y("Hmm",function(a,b,c){var d=a.length-2;b[qe]=u(a.substr(0,d)),b[re]=u(a.substr(d))}),Y("Hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[qe]=u(a.substr(0,d)),b[re]=u(a.substr(d,2)),b[se]=u(a.substr(e))});var Ke,Le=/[ap]\.?m?\.?/i,Me=ca("Hours",!0),Ne={calendar:Kd,longDateFormat:Ld,invalidDate:Md,ordinal:Nd,dayOfMonthOrdinalParse:Od,relativeTime:Pd,months:ze,monthsShort:Ae,
week:De,weekdays:Ee,weekdaysMin:Ge,weekdaysShort:Fe,meridiemParse:Le},Oe={},Pe={},Qe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Re=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Se=/Z|[+-]\d\d(?::?\d\d)?/,Te=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ue=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ve=/^\/?Date\((\-?\d+)/i,We=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Xe={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};a.createFromInputFallback=x("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),a.ISO_8601=function(){},a.RFC_2822=function(){};var Ye=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=Ab.apply(null,arguments);return this.isValid()&&a.isValid()?this>a?this:a:p()}),Ze=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=Ab.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:p()}),$e=function(){return Date.now?Date.now():+new Date},_e=["year","quarter","month","week","day","hour","minute","second","millisecond"];Kb("Z",":"),Kb("ZZ",""),U("Z",ie),U("ZZ",ie),Y(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=Lb(ie,a)});var af=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var bf=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,cf=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Zb.fn=Hb.prototype,Zb.invalid=Gb;var df=bc(1,"add"),ef=bc(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",a.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ff=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)}),gf=1e3,hf=60*gf,jf=60*hf,kf=3506328*jf;P(0,["gg",2],0,function(){return this.weekYear()%100}),P(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Nc("gggg","weekYear"),Nc("ggggg","weekYear"),Nc("GGGG","isoWeekYear"),Nc("GGGGG","isoWeekYear"),J("weekYear","gg"),J("isoWeekYear","GG"),M("weekYear",1),M("isoWeekYear",1),U("G",ge),U("g",ge),U("GG",_d,Xd),U("gg",_d,Xd),U("GGGG",de,Zd),U("gggg",de,Zd),U("GGGGG",ee,$d),U("ggggg",ee,$d),Z(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=u(a)}),Z(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),P("Q",0,"Qo","quarter"),J("quarter","Q"),M("quarter",7),U("Q",Wd),Y("Q",function(a,b){b[oe]=3*(u(a)-1)}),P("D",["DD",2],"Do","date"),J("date","D"),M("date",9),U("D",_d),U("DD",_d,Xd),U("Do",function(a,b){return a?b._dayOfMonthOrdinalParse||b._ordinalParse:b._dayOfMonthOrdinalParseLenient}),Y(["D","DD"],pe),Y("Do",function(a,b){b[pe]=u(a.match(_d)[0])});var lf=ca("Date",!0);P("DDD",["DDDD",3],"DDDo","dayOfYear"),J("dayOfYear","DDD"),M("dayOfYear",4),U("DDD",ce),U("DDDD",Yd),Y(["DDD","DDDD"],function(a,b,c){c._dayOfYear=u(a)}),P("m",["mm",2],0,"minute"),J("minute","m"),M("minute",14),U("m",_d),U("mm",_d,Xd),Y(["m","mm"],re);var mf=ca("Minutes",!1);P("s",["ss",2],0,"second"),J("second","s"),M("second",15),U("s",_d),U("ss",_d,Xd),Y(["s","ss"],se);var nf=ca("Seconds",!1);P("S",0,0,function(){return~~(this.millisecond()/100)}),P(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),P(0,["SSS",3],0,"millisecond"),P(0,["SSSS",4],0,function(){return 10*this.millisecond()}),P(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),P(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),P(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),P(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),P(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),J("millisecond","ms"),M("millisecond",16),U("S",ce,Wd),U("SS",ce,Xd),U("SSS",ce,Yd);var of;for(of="SSSS";of.length<=9;of+="S")U(of,fe);for(of="S";of.length<=9;of+="S")Y(of,Wc);var pf=ca("Milliseconds",!1);P("z",0,0,"zoneAbbr"),P("zz",0,0,"zoneName");var qf=r.prototype;qf.add=df,qf.calendar=ec,qf.clone=fc,qf.diff=mc,qf.endOf=Cc,qf.format=rc,qf.from=sc,qf.fromNow=tc,qf.to=uc,qf.toNow=vc,qf.get=fa,qf.invalidAt=Lc,qf.isAfter=gc,qf.isBefore=hc,qf.isBetween=ic,qf.isSame=jc,qf.isSameOrAfter=kc,qf.isSameOrBefore=lc,qf.isValid=Jc,qf.lang=ff,qf.locale=wc,qf.localeData=xc,qf.max=Ze,qf.min=Ye,qf.parsingFlags=Kc,qf.set=ga,qf.startOf=Bc,qf.subtract=ef,qf.toArray=Gc,qf.toObject=Hc,qf.toDate=Fc,qf.toISOString=pc,qf.inspect=qc,qf.toJSON=Ic,qf.toString=oc,qf.unix=Ec,qf.valueOf=Dc,qf.creationData=Mc,qf.year=xe,qf.isLeapYear=ba,qf.weekYear=Oc,qf.isoWeekYear=Pc,qf.quarter=qf.quarters=Uc,qf.month=oa,qf.daysInMonth=pa,qf.week=qf.weeks=Ca,qf.isoWeek=qf.isoWeeks=Da,qf.weeksInYear=Rc,qf.isoWeeksInYear=Qc,qf.date=lf,qf.day=qf.days=Ma,qf.weekday=Na,qf.isoWeekday=Oa,qf.dayOfYear=Vc,qf.hour=qf.hours=Me,qf.minute=qf.minutes=mf,qf.second=qf.seconds=nf,qf.millisecond=qf.milliseconds=pf,qf.utcOffset=Ob,qf.utc=Qb,qf.local=Rb,qf.parseZone=Sb,qf.hasAlignedHourOffset=Tb,qf.isDST=Ub,qf.isLocal=Wb,qf.isUtcOffset=Xb,qf.isUtc=Yb,qf.isUTC=Yb,qf.zoneAbbr=Xc,qf.zoneName=Yc,qf.dates=x("dates accessor is deprecated. Use date instead.",lf),qf.months=x("months accessor is deprecated. Use month instead",oa),qf.years=x("years accessor is deprecated. Use year instead",xe),qf.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Pb),qf.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Vb);var rf=C.prototype;rf.calendar=D,rf.longDateFormat=E,rf.invalidDate=F,rf.ordinal=G,rf.preparse=_c,rf.postformat=_c,rf.relativeTime=H,rf.pastFuture=I,rf.set=A,rf.months=ja,rf.monthsShort=ka,rf.monthsParse=ma,rf.monthsRegex=ra,rf.monthsShortRegex=qa,rf.week=za,rf.firstDayOfYear=Ba,rf.firstDayOfWeek=Aa,rf.weekdays=Ha,rf.weekdaysMin=Ja,rf.weekdaysShort=Ia,rf.weekdaysParse=La,rf.weekdaysRegex=Pa,rf.weekdaysShortRegex=Qa,rf.weekdaysMinRegex=Ra,rf.isPM=Xa,rf.meridiem=Ya,ab("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===u(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),a.lang=x("moment.lang is deprecated. Use moment.locale instead.",ab),a.langData=x("moment.langData is deprecated. Use moment.localeData instead.",db);var sf=Math.abs,tf=sd("ms"),uf=sd("s"),vf=sd("m"),wf=sd("h"),xf=sd("d"),yf=sd("w"),zf=sd("M"),Af=sd("Q"),Bf=sd("y"),Cf=vd("milliseconds"),Df=vd("seconds"),Ef=vd("minutes"),Ff=vd("hours"),Gf=vd("days"),Hf=vd("months"),If=vd("years"),Jf=Math.round,Kf={ss:44,s:45,m:45,h:22,d:26,M:11},Lf=Math.abs,Mf=Hb.prototype;return Mf.isValid=Fb,Mf.abs=id,Mf.add=kd,Mf.subtract=ld,Mf.as=qd,Mf.asMilliseconds=tf,Mf.asSeconds=uf,Mf.asMinutes=vf,Mf.asHours=wf,Mf.asDays=xf,Mf.asWeeks=yf,Mf.asMonths=zf,Mf.asQuarters=Af,Mf.asYears=Bf,Mf.valueOf=rd,Mf._bubble=nd,Mf.clone=td,Mf.get=ud,Mf.milliseconds=Cf,Mf.seconds=Df,Mf.minutes=Ef,Mf.hours=Ff,Mf.days=Gf,Mf.weeks=wd,Mf.months=Hf,Mf.years=If,Mf.humanize=Bd,Mf.toISOString=Dd,Mf.toString=Dd,Mf.toJSON=Dd,Mf.locale=wc,Mf.localeData=xc,Mf.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Dd),Mf.lang=ff,P("X",0,0,"unix"),P("x",0,0,"valueOf"),U("x",ge),U("X",je),Y("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),Y("x",function(a,b,c){c._d=new Date(u(a))}),a.version="2.24.0",b(Ab),a.fn=qf,a.min=Cb,a.max=Db,a.now=$e,a.utc=l,a.unix=Zc,a.months=dd,a.isDate=h,a.locale=ab,a.invalid=p,a.duration=Zb,a.isMoment=s,a.weekdays=fd,a.parseZone=$c,a.localeData=db,a.isDuration=Ib,a.monthsShort=ed,a.weekdaysMin=hd,a.defineLocale=bb,a.updateLocale=cb,a.locales=eb,a.weekdaysShort=gd,a.normalizeUnits=K,a.relativeTimeRounding=zd,a.relativeTimeThreshold=Ad,a.calendarFormat=dc,a.prototype=qf,a.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},a}),!function(a){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],a);else if("object"==typeof exports)module.exports=a(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";a(jQuery,moment)}}(function(a,b){"use strict";if(!b)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var c=function(c,d){var e,f,g,h,i,j,k,l={},m=!0,n=!1,o=!1,p=0,q=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],r=["days","months","years","decades"],s=["top","bottom","auto"],t=["left","right","auto"],u=["default","top","bottom"],v={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t","delete":46,46:"delete"},w={},x=function(){return void 0!==b.tz&&void 0!==d.timeZone&&null!==d.timeZone&&""!==d.timeZone},y=function(a){var c;return c=void 0===a||null===a?b():b.isDate(a)||b.isMoment(a)?b(a):x()?b.tz(a,j,d.useStrict,d.timeZone):b(a,j,d.useStrict),x()&&c.tz(d.timeZone),c},z=function(a){if("string"!=typeof a||a.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(a){case"y":return-1!==i.indexOf("Y");case"M":return-1!==i.indexOf("M");case"d":return-1!==i.toLowerCase().indexOf("d");case"h":case"H":return-1!==i.toLowerCase().indexOf("h");case"m":return-1!==i.indexOf("m");case"s":return-1!==i.indexOf("s");default:return!1}},A=function(){return z("h")||z("m")||z("s")},B=function(){return z("y")||z("M")||z("d")},C=function(){var b=a("<thead>").append(a("<tr>").append(a("<th>").addClass("prev").attr("data-action","previous").append(a("<span>").addClass(d.icons.previous))).append(a("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",d.calendarWeeks?"6":"5")).append(a("<th>").addClass("next").attr("data-action","next").append(a("<span>").addClass(d.icons.next)))),c=a("<tbody>").append(a("<tr>").append(a("<td>").attr("colspan",d.calendarWeeks?"8":"7")));return[a("<div>").addClass("datepicker-days").append(a("<table>").addClass("table-condensed").append(b).append(a("<tbody>"))),a("<div>").addClass("datepicker-months").append(a("<table>").addClass("table-condensed").append(b.clone()).append(c.clone())),a("<div>").addClass("datepicker-years").append(a("<table>").addClass("table-condensed").append(b.clone()).append(c.clone())),a("<div>").addClass("datepicker-decades").append(a("<table>").addClass("table-condensed").append(b.clone()).append(c.clone()))]},D=function(){var b=a("<tr>"),c=a("<tr>"),e=a("<tr>");return z("h")&&(b.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(a("<span>").addClass(d.icons.up)))),c.append(a("<td>").append(a("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:d.tooltips.pickHour}).attr("data-action","showHours"))),e.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(a("<span>").addClass(d.icons.down))))),z("m")&&(z("h")&&(b.append(a("<td>").addClass("separator")),c.append(a("<td>").addClass("separator").html(":")),e.append(a("<td>").addClass("separator"))),b.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(a("<span>").addClass(d.icons.up)))),c.append(a("<td>").append(a("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:d.tooltips.pickMinute}).attr("data-action","showMinutes"))),e.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(a("<span>").addClass(d.icons.down))))),z("s")&&(z("m")&&(b.append(a("<td>").addClass("separator")),c.append(a("<td>").addClass("separator").html(":")),e.append(a("<td>").addClass("separator"))),b.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(a("<span>").addClass(d.icons.up)))),c.append(a("<td>").append(a("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:d.tooltips.pickSecond}).attr("data-action","showSeconds"))),e.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(a("<span>").addClass(d.icons.down))))),h||(b.append(a("<td>").addClass("separator")),c.append(a("<td>").append(a("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:d.tooltips.togglePeriod}))),e.append(a("<td>").addClass("separator"))),a("<div>").addClass("timepicker-picker").append(a("<table>").addClass("table-condensed").append([b,c,e]))},E=function(){var b=a("<div>").addClass("timepicker-hours").append(a("<table>").addClass("table-condensed")),c=a("<div>").addClass("timepicker-minutes").append(a("<table>").addClass("table-condensed")),d=a("<div>").addClass("timepicker-seconds").append(a("<table>").addClass("table-condensed")),e=[D()];return z("h")&&e.push(b),z("m")&&e.push(c),z("s")&&e.push(d),e},F=function(){var b=[];return d.showTodayButton&&b.push(a("<td>").append(a("<a>").attr({"data-action":"today",title:d.tooltips.today}).append(a("<span>").addClass(d.icons.today)))),!d.sideBySide&&B()&&A()&&b.push(a("<td>").append(a("<a>").attr({"data-action":"togglePicker",title:d.tooltips.selectTime}).append(a("<span>").addClass(d.icons.time)))),d.showClear&&b.push(a("<td>").append(a("<a>").attr({"data-action":"clear",title:d.tooltips.clear}).append(a("<span>").addClass(d.icons.clear)))),d.showClose&&b.push(a("<td>").append(a("<a>").attr({"data-action":"close",title:d.tooltips.close}).append(a("<span>").addClass(d.icons.close)))),a("<table>").addClass("table-condensed").append(a("<tbody>").append(a("<tr>").append(b)))},G=function(){var b=a("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),c=a("<div>").addClass("datepicker").append(C()),e=a("<div>").addClass("timepicker").append(E()),f=a("<ul>").addClass("list-unstyled"),g=a("<li>").addClass("picker-switch"+(d.collapse?" accordion-toggle":"")).append(F());return d.inline&&b.removeClass("dropdown-menu"),h&&b.addClass("usetwentyfour"),z("s")&&!h&&b.addClass("wider"),d.sideBySide&&B()&&A()?(b.addClass("timepicker-sbs"),"top"===d.toolbarPlacement&&b.append(g),b.append(a("<div>").addClass("row").append(c.addClass("col-md-6")).append(e.addClass("col-md-6"))),"bottom"===d.toolbarPlacement&&b.append(g),b):("top"===d.toolbarPlacement&&f.append(g),B()&&f.append(a("<li>").addClass(d.collapse&&A()?"collapse in":"").append(c)),"default"===d.toolbarPlacement&&f.append(g),A()&&f.append(a("<li>").addClass(d.collapse&&B()?"collapse":"").append(e)),"bottom"===d.toolbarPlacement&&f.append(g),b.append(f))},H=function(){var b,e={};return b=c.is("input")||d.inline?c.data():c.find("input").data(),b.dateOptions&&b.dateOptions instanceof Object&&(e=a.extend(!0,e,b.dateOptions)),a.each(d,function(a){var c="date"+a.charAt(0).toUpperCase()+a.slice(1);void 0!==b[c]&&(e[a]=b[c])}),e},I=function(){var b,e=(n||c).position(),f=(n||c).offset(),g=d.widgetPositioning.vertical,h=d.widgetPositioning.horizontal;if(d.widgetParent)b=d.widgetParent.append(o);else if(c.is("input"))b=c.after(o).parent();else{if(d.inline)return void(b=c.append(o));b=c,c.children().first().after(o)}if("auto"===g&&(g=f.top+1.5*o.height()>=a(window).height()+a(window).scrollTop()&&o.height()+c.outerHeight()<f.top?"top":"bottom"),"auto"===h&&(h=b.width()<f.left+o.outerWidth()/2&&f.left+o.outerWidth()>a(window).width()?"right":"left"),"top"===g?o.addClass("top").removeClass("bottom"):o.addClass("bottom").removeClass("top"),"right"===h?o.addClass("pull-right"):o.removeClass("pull-right"),"static"===b.css("position")&&(b=b.parents().filter(function(){return"static"!==a(this).css("position")}).first()),0===b.length)throw new Error("datetimepicker component should be placed within a non-static positioned container");o.css({top:"top"===g?"auto":e.top+c.outerHeight(),bottom:"top"===g?b.outerHeight()-(b===c?0:e.top):"auto",left:"left"===h?b===c?0:e.left:"auto",right:"left"===h?"auto":b.outerWidth()-c.outerWidth()-(b===c?0:e.left)})},J=function(a){"dp.change"===a.type&&(a.date&&a.date.isSame(a.oldDate)||!a.date&&!a.oldDate)||c.trigger(a)},K=function(a){"y"===a&&(a="YYYY"),J({type:"dp.update",change:a,viewDate:f.clone()})},L=function(a){o&&(a&&(k=Math.max(p,Math.min(3,k+a))),o.find(".datepicker > div").hide().filter(".datepicker-"+q[k].clsName).show())},M=function(){var b=a("<tr>"),c=f.clone().startOf("w").startOf("d");for(d.calendarWeeks===!0&&b.append(a("<th>").addClass("cw").text("#"));c.isBefore(f.clone().endOf("w"));)b.append(a("<th>").addClass("dow").text(c.format("dd"))),c.add(1,"d");o.find(".datepicker-days thead").append(b)},N=function(a){return d.disabledDates[a.format("YYYY-MM-DD")]===!0},O=function(a){return d.enabledDates[a.format("YYYY-MM-DD")]===!0},P=function(a){return d.disabledHours[a.format("H")]===!0},Q=function(a){return d.enabledHours[a.format("H")]===!0},R=function(b,c){if(!b.isValid())return!1;if(d.disabledDates&&"d"===c&&N(b))return!1;if(d.enabledDates&&"d"===c&&!O(b))return!1;if(d.minDate&&b.isBefore(d.minDate,c))return!1;if(d.maxDate&&b.isAfter(d.maxDate,c))return!1;if(d.daysOfWeekDisabled&&"d"===c&&-1!==d.daysOfWeekDisabled.indexOf(b.day()))return!1;if(d.disabledHours&&("h"===c||"m"===c||"s"===c)&&P(b))return!1;if(d.enabledHours&&("h"===c||"m"===c||"s"===c)&&!Q(b))return!1;if(d.disabledTimeIntervals&&("h"===c||"m"===c||"s"===c)){var e=!1;if(a.each(d.disabledTimeIntervals,function(){return b.isBetween(this[0],this[1])?(e=!0,!1):void 0}),e)return!1}return!0},S=function(){for(var b=[],c=f.clone().startOf("y").startOf("d");c.isSame(f,"y");)b.push(a("<span>").attr("data-action","selectMonth").addClass("month").text(c.format("MMM"))),c.add(1,"M");o.find(".datepicker-months td").empty().append(b)},T=function(){var b=o.find(".datepicker-months"),c=b.find("th"),g=b.find("tbody").find("span");c.eq(0).find("span").attr("title",d.tooltips.prevYear),c.eq(1).attr("title",d.tooltips.selectYear),c.eq(2).find("span").attr("title",d.tooltips.nextYear),b.find(".disabled").removeClass("disabled"),R(f.clone().subtract(1,"y"),"y")||c.eq(0).addClass("disabled"),c.eq(1).text(f.year()),R(f.clone().add(1,"y"),"y")||c.eq(2).addClass("disabled"),g.removeClass("active"),e.isSame(f,"y")&&!m&&g.eq(e.month()).addClass("active"),g.each(function(b){R(f.clone().month(b),"M")||a(this).addClass("disabled")})},U=function(){var a=o.find(".datepicker-years"),b=a.find("th"),c=f.clone().subtract(5,"y"),g=f.clone().add(6,"y"),h="";for(b.eq(0).find("span").attr("title",d.tooltips.prevDecade),b.eq(1).attr("title",d.tooltips.selectDecade),b.eq(2).find("span").attr("title",d.tooltips.nextDecade),a.find(".disabled").removeClass("disabled"),d.minDate&&d.minDate.isAfter(c,"y")&&b.eq(0).addClass("disabled"),b.eq(1).text(c.year()+"-"+g.year()),d.maxDate&&d.maxDate.isBefore(g,"y")&&b.eq(2).addClass("disabled");!c.isAfter(g,"y");)h+='<span data-action="selectYear" class="year'+(c.isSame(e,"y")&&!m?" active":"")+(R(c,"y")?"":" disabled")+'">'+c.year()+"</span>",c.add(1,"y");a.find("td").html(h)},V=function(){var a,c=o.find(".datepicker-decades"),g=c.find("th"),h=b({y:f.year()-f.year()%100-1}),i=h.clone().add(100,"y"),j=h.clone(),k=!1,l=!1,m="";for(g.eq(0).find("span").attr("title",d.tooltips.prevCentury),g.eq(2).find("span").attr("title",d.tooltips.nextCentury),c.find(".disabled").removeClass("disabled"),(h.isSame(b({y:1900}))||d.minDate&&d.minDate.isAfter(h,"y"))&&g.eq(0).addClass("disabled"),g.eq(1).text(h.year()+"-"+i.year()),(h.isSame(b({y:2e3}))||d.maxDate&&d.maxDate.isBefore(i,"y"))&&g.eq(2).addClass("disabled");!h.isAfter(i,"y");)a=h.year()+12,k=d.minDate&&d.minDate.isAfter(h,"y")&&d.minDate.year()<=a,l=d.maxDate&&d.maxDate.isAfter(h,"y")&&d.maxDate.year()<=a,m+='<span data-action="selectDecade" class="decade'+(e.isAfter(h)&&e.year()<=a?" active":"")+(R(h,"y")||k||l?"":" disabled")+'" data-selection="'+(h.year()+6)+'">'+(h.year()+1)+" - "+(h.year()+12)+"</span>",h.add(12,"y");m+="<span></span><span></span><span></span>",c.find("td").html(m),g.eq(1).text(j.year()+1+"-"+h.year())},W=function(){var b,c,g,h=o.find(".datepicker-days"),i=h.find("th"),j=[],k=[];if(B()){for(i.eq(0).find("span").attr("title",d.tooltips.prevMonth),i.eq(1).attr("title",d.tooltips.selectMonth),i.eq(2).find("span").attr("title",d.tooltips.nextMonth),h.find(".disabled").removeClass("disabled"),i.eq(1).text(f.format(d.dayViewHeaderFormat)),R(f.clone().subtract(1,"M"),"M")||i.eq(0).addClass("disabled"),R(f.clone().add(1,"M"),"M")||i.eq(2).addClass("disabled"),b=f.clone().startOf("M").startOf("w").startOf("d"),g=0;42>g;g++)0===b.weekday()&&(c=a("<tr>"),d.calendarWeeks&&c.append('<td class="cw">'+b.week()+"</td>"),j.push(c)),k=["day"],b.isBefore(f,"M")&&k.push("old"),b.isAfter(f,"M")&&k.push("new"),b.isSame(e,"d")&&!m&&k.push("active"),R(b,"d")||k.push("disabled"),b.isSame(y(),"d")&&k.push("today"),0!==b.day()&&6!==b.day()||k.push("weekend"),J({type:"dp.classify",date:b,classNames:k}),c.append('<td data-action="selectDay" data-day="'+b.format("L")+'" class="'+k.join(" ")+'">'+b.date()+"</td>"),b.add(1,"d");h.find("tbody").empty().append(j),T(),U(),V()}},X=function(){var b=o.find(".timepicker-hours table"),c=f.clone().startOf("d"),d=[],e=a("<tr>");for(f.hour()>11&&!h&&c.hour(12);c.isSame(f,"d")&&(h||f.hour()<12&&c.hour()<12||f.hour()>11);)c.hour()%4===0&&(e=a("<tr>"),d.push(e)),e.append('<td data-action="selectHour" class="hour'+(R(c,"h")?"":" disabled")+'">'+c.format(h?"HH":"hh")+"</td>"),c.add(1,"h");b.empty().append(d)},Y=function(){for(var b=o.find(".timepicker-minutes table"),c=f.clone().startOf("h"),e=[],g=a("<tr>"),h=1===d.stepping?5:d.stepping;f.isSame(c,"h");)c.minute()%(4*h)===0&&(g=a("<tr>"),e.push(g)),g.append('<td data-action="selectMinute" class="minute'+(R(c,"m")?"":" disabled")+'">'+c.format("mm")+"</td>"),c.add(h,"m");b.empty().append(e)},Z=function(){for(var b=o.find(".timepicker-seconds table"),c=f.clone().startOf("m"),d=[],e=a("<tr>");f.isSame(c,"m");)c.second()%20===0&&(e=a("<tr>"),d.push(e)),e.append('<td data-action="selectSecond" class="second'+(R(c,"s")?"":" disabled")+'">'+c.format("ss")+"</td>"),c.add(5,"s");b.empty().append(d)},$=function(){var a,b,c=o.find(".timepicker span[data-time-component]");h||(a=o.find(".timepicker [data-action=togglePeriod]"),b=e.clone().add(e.hours()>=12?-12:12,"h"),a.text(e.format("A")),R(b,"h")?a.removeClass("disabled"):a.addClass("disabled")),c.filter("[data-time-component=hours]").text(e.format(h?"HH":"hh")),c.filter("[data-time-component=minutes]").text(e.format("mm")),c.filter("[data-time-component=seconds]").text(e.format("ss")),X(),Y(),Z()},_=function(){o&&(W(),$())},aa=function(a){var b=m?null:e;if(!a)return m=!0,g.val(""),c.data("date",""),J({type:"dp.change",date:!1,oldDate:b}),void _();if(a=a.clone().locale(d.locale),x()&&a.tz(d.timeZone),1!==d.stepping)for(a.minutes(Math.round(a.minutes()/d.stepping)*d.stepping).seconds(0);d.minDate&&a.isBefore(d.minDate);)a.add(d.stepping,"minutes");R(a)?(e=a,f=e.clone(),g.val(e.format(i)),c.data("date",e.format(i)),m=!1,_(),J({type:"dp.change",date:e.clone(),oldDate:b})):(d.keepInvalid?J({type:"dp.change",date:a,oldDate:b}):g.val(m?"":e.format(i)),J({type:"dp.error",date:a,oldDate:b}))},ba=function(){var b=!1;return o?(o.find(".collapse").each(function(){var c=a(this).data("collapse");return!c||!c.transitioning||(b=!0,!1)}),b?l:(n&&n.hasClass("btn")&&n.toggleClass("active"),o.hide(),a(window).off("resize",I),o.off("click","[data-action]"),o.off("mousedown",!1),o.remove(),o=!1,J({type:"dp.hide",date:e.clone()}),g.blur(),f=e.clone(),l)):l},ca=function(){aa(null)},da=function(a){return void 0===d.parseInputDate?(!b.isMoment(a)||a instanceof Date)&&(a=y(a)):a=d.parseInputDate(a),a},ea={next:function(){var a=q[k].navFnc;f.add(q[k].navStep,a),W(),K(a)},previous:function(){var a=q[k].navFnc;f.subtract(q[k].navStep,a),W(),K(a)},pickerSwitch:function(){L(1)},selectMonth:function(b){var c=a(b.target).closest("tbody").find("span").index(a(b.target));f.month(c),k===p?(aa(e.clone().year(f.year()).month(f.month())),d.inline||ba()):(L(-1),W()),K("M")},selectYear:function(b){var c=parseInt(a(b.target).text(),10)||0;f.year(c),k===p?(aa(e.clone().year(f.year())),d.inline||ba()):(L(-1),W()),K("YYYY")},selectDecade:function(b){var c=parseInt(a(b.target).data("selection"),10)||0;f.year(c),k===p?(aa(e.clone().year(f.year())),d.inline||ba()):(L(-1),W()),K("YYYY")},selectDay:function(b){var c=f.clone();a(b.target).is(".old")&&c.subtract(1,"M"),a(b.target).is(".new")&&c.add(1,"M"),aa(c.date(parseInt(a(b.target).text(),10))),A()||d.keepOpen||d.inline||ba()},incrementHours:function(){var a=e.clone().add(1,"h");R(a,"h")&&aa(a)},incrementMinutes:function(){var a=e.clone().add(d.stepping,"m");R(a,"m")&&aa(a)},incrementSeconds:function(){var a=e.clone().add(1,"s");R(a,"s")&&aa(a)},decrementHours:function(){var a=e.clone().subtract(1,"h");R(a,"h")&&aa(a)},decrementMinutes:function(){var a=e.clone().subtract(d.stepping,"m");R(a,"m")&&aa(a)},decrementSeconds:function(){var a=e.clone().subtract(1,"s");R(a,"s")&&aa(a)},togglePeriod:function(){aa(e.clone().add(e.hours()>=12?-12:12,"h"))},togglePicker:function(b){var c,e=a(b.target),f=e.closest("ul"),g=f.find(".in"),h=f.find(".collapse:not(.in)");if(g&&g.length){if(c=g.data("collapse"),c&&c.transitioning)return;g.collapse?(g.collapse("hide"),h.collapse("show")):(g.removeClass("in"),h.addClass("in")),e.is("span")?e.toggleClass(d.icons.time+" "+d.icons.date):e.find("span").toggleClass(d.icons.time+" "+d.icons.date)}},showPicker:function(){o.find(".timepicker > div:not(.timepicker-picker)").hide(),o.find(".timepicker .timepicker-picker").show()},showHours:function(){o.find(".timepicker .timepicker-picker").hide(),o.find(".timepicker .timepicker-hours").show()},showMinutes:function(){o.find(".timepicker .timepicker-picker").hide(),o.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){o.find(".timepicker .timepicker-picker").hide(),o.find(".timepicker .timepicker-seconds").show()},selectHour:function(b){var c=parseInt(a(b.target).text(),10);h||(e.hours()>=12?12!==c&&(c+=12):12===c&&(c=0)),aa(e.clone().hours(c)),ea.showPicker.call(l)},selectMinute:function(b){aa(e.clone().minutes(parseInt(a(b.target).text(),10))),ea.showPicker.call(l)},selectSecond:function(b){aa(e.clone().seconds(parseInt(a(b.target).text(),10))),ea.showPicker.call(l)},clear:ca,today:function(){var a=y();R(a,"d")&&aa(a)},close:ba},fa=function(b){return!a(b.currentTarget).is(".disabled")&&(ea[a(b.currentTarget).data("action")].apply(l,arguments),!1)},ga=function(){var b,c={year:function(a){return a.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(a){return a.date(1).hours(0).seconds(0).minutes(0)},day:function(a){return a.hours(0).seconds(0).minutes(0)},hour:function(a){return a.seconds(0).minutes(0)},minute:function(a){return a.seconds(0)}};return g.prop("disabled")||!d.ignoreReadonly&&g.prop("readonly")||o?l:(void 0!==g.val()&&0!==g.val().trim().length?aa(da(g.val().trim())):m&&d.useCurrent&&(d.inline||g.is("input")&&0===g.val().trim().length)&&(b=y(),"string"==typeof d.useCurrent&&(b=c[d.useCurrent](b)),aa(b)),o=G(),M(),S(),o.find(".timepicker-hours").hide(),o.find(".timepicker-minutes").hide(),o.find(".timepicker-seconds").hide(),_(),L(),a(window).on("resize",I),o.on("click","[data-action]",fa),o.on("mousedown",!1),n&&n.hasClass("btn")&&n.toggleClass("active"),I(),o.show(),d.focusOnShow&&!g.is(":focus")&&g.focus(),J({type:"dp.show"}),l)},ha=function(){return o?ba():ga()},ia=function(a){var b,c,e,f,g=null,h=[],i={},j=a.which,k="p";w[j]=k;for(b in w)w.hasOwnProperty(b)&&w[b]===k&&(h.push(b),parseInt(b,10)!==j&&(i[b]=!0));for(b in d.keyBinds)if(d.keyBinds.hasOwnProperty(b)&&"function"==typeof d.keyBinds[b]&&(e=b.split(" "),e.length===h.length&&v[j]===e[e.length-1])){for(f=!0,c=e.length-2;c>=0;c--)if(!(v[e[c]]in i)){f=!1;break}if(f){g=d.keyBinds[b];break}}g&&(g.call(l,o),a.stopPropagation(),a.preventDefault())},ja=function(a){w[a.which]="r",a.stopPropagation(),a.preventDefault()},ka=function(b){var c=a(b.target).val().trim(),d=c?da(c):null;return aa(d),b.stopImmediatePropagation(),!1},la=function(){g.on({change:ka,blur:d.debug?"":ba,keydown:ia,keyup:ja,focus:d.allowInputToggle?ga:""}),c.is("input")?g.on({focus:ga}):n&&(n.on("click",ha),n.on("mousedown",!1))},ma=function(){g.off({change:ka,blur:blur,keydown:ia,keyup:ja,focus:d.allowInputToggle?ba:""}),c.is("input")?g.off({focus:ga}):n&&(n.off("click",ha),n.off("mousedown",!1))},na=function(b){var c={};return a.each(b,function(){var a=da(this);a.isValid()&&(c[a.format("YYYY-MM-DD")]=!0)}),!!Object.keys(c).length&&c},oa=function(b){var c={};return a.each(b,function(){c[this]=!0}),!!Object.keys(c).length&&c},pa=function(){var a=d.format||"L LT";i=a.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(a){var b=e.localeData().longDateFormat(a)||a;return b.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(a){return e.localeData().longDateFormat(a)||a})}),j=d.extraFormats?d.extraFormats.slice():[],j.indexOf(a)<0&&j.indexOf(i)<0&&j.push(i),h=i.toLowerCase().indexOf("a")<1&&i.replace(/\[.*?\]/g,"").indexOf("h")<1,z("y")&&(p=2),z("M")&&(p=1),z("d")&&(p=0),k=Math.max(p,k),m||aa(e)};if(l.destroy=function(){ba(),ma(),c.removeData("DateTimePicker"),c.removeData("date")},l.toggle=ha,l.show=ga,l.hide=ba,l.disable=function(){return ba(),n&&n.hasClass("btn")&&n.addClass("disabled"),g.prop("disabled",!0),l},l.enable=function(){return n&&n.hasClass("btn")&&n.removeClass("disabled"),g.prop("disabled",!1),l},l.ignoreReadonly=function(a){if(0===arguments.length)return d.ignoreReadonly;if("boolean"!=typeof a)throw new TypeError("ignoreReadonly () expects a boolean parameter");return d.ignoreReadonly=a,l},l.options=function(b){if(0===arguments.length)return a.extend(!0,{},d);if(!(b instanceof Object))throw new TypeError("options() options parameter should be an object");return a.extend(!0,d,b),a.each(d,function(a,b){if(void 0===l[a])throw new TypeError("option "+a+" is not recognized!");l[a](b)}),l},l.date=function(a){if(0===arguments.length)return m?null:e.clone();if(!(null===a||"string"==typeof a||b.isMoment(a)||a instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");
return aa(null===a?null:da(a)),l},l.format=function(a){if(0===arguments.length)return d.format;if("string"!=typeof a&&("boolean"!=typeof a||a!==!1))throw new TypeError("format() expects a string or boolean:false parameter "+a);return d.format=a,i&&pa(),l},l.timeZone=function(a){if(0===arguments.length)return d.timeZone;if("string"!=typeof a)throw new TypeError("newZone() expects a string parameter");return d.timeZone=a,l},l.dayViewHeaderFormat=function(a){if(0===arguments.length)return d.dayViewHeaderFormat;if("string"!=typeof a)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return d.dayViewHeaderFormat=a,l},l.extraFormats=function(a){if(0===arguments.length)return d.extraFormats;if(a!==!1&&!(a instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return d.extraFormats=a,j&&pa(),l},l.disabledDates=function(b){if(0===arguments.length)return d.disabledDates?a.extend({},d.disabledDates):d.disabledDates;if(!b)return d.disabledDates=!1,_(),l;if(!(b instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return d.disabledDates=na(b),d.enabledDates=!1,_(),l},l.enabledDates=function(b){if(0===arguments.length)return d.enabledDates?a.extend({},d.enabledDates):d.enabledDates;if(!b)return d.enabledDates=!1,_(),l;if(!(b instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return d.enabledDates=na(b),d.disabledDates=!1,_(),l},l.daysOfWeekDisabled=function(a){if(0===arguments.length)return d.daysOfWeekDisabled.splice(0);if("boolean"==typeof a&&!a)return d.daysOfWeekDisabled=!1,_(),l;if(!(a instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(d.daysOfWeekDisabled=a.reduce(function(a,b){return b=parseInt(b,10),b>6||0>b||isNaN(b)?a:(-1===a.indexOf(b)&&a.push(b),a)},[]).sort(),d.useCurrent&&!d.keepInvalid){for(var b=0;!R(e,"d");){if(e.add(1,"d"),31===b)throw"Tried 31 times to find a valid date";b++}aa(e)}return _(),l},l.maxDate=function(a){if(0===arguments.length)return d.maxDate?d.maxDate.clone():d.maxDate;if("boolean"==typeof a&&a===!1)return d.maxDate=!1,_(),l;"string"==typeof a&&("now"!==a&&"moment"!==a||(a=y()));var b=da(a);if(!b.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+a);if(d.minDate&&b.isBefore(d.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+b.format(i));return d.maxDate=b,d.useCurrent&&!d.keepInvalid&&e.isAfter(a)&&aa(d.maxDate),f.isAfter(b)&&(f=b.clone().subtract(d.stepping,"m")),_(),l},l.minDate=function(a){if(0===arguments.length)return d.minDate?d.minDate.clone():d.minDate;if("boolean"==typeof a&&a===!1)return d.minDate=!1,_(),l;"string"==typeof a&&("now"!==a&&"moment"!==a||(a=y()));var b=da(a);if(!b.isValid())throw new TypeError("minDate() Could not parse date parameter: "+a);if(d.maxDate&&b.isAfter(d.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+b.format(i));return d.minDate=b,d.useCurrent&&!d.keepInvalid&&e.isBefore(a)&&aa(d.minDate),f.isBefore(b)&&(f=b.clone().add(d.stepping,"m")),_(),l},l.defaultDate=function(a){if(0===arguments.length)return d.defaultDate?d.defaultDate.clone():d.defaultDate;if(!a)return d.defaultDate=!1,l;"string"==typeof a&&(a="now"===a||"moment"===a?y():y(a));var b=da(a);if(!b.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+a);if(!R(b))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return d.defaultDate=b,(d.defaultDate&&d.inline||""===g.val().trim())&&aa(d.defaultDate),l},l.locale=function(a){if(0===arguments.length)return d.locale;if(!b.localeData(a))throw new TypeError("locale() locale "+a+" is not loaded from moment locales!");return d.locale=a,e.locale(d.locale),f.locale(d.locale),i&&pa(),o&&(ba(),ga()),l},l.stepping=function(a){return 0===arguments.length?d.stepping:(a=parseInt(a,10),(isNaN(a)||1>a)&&(a=1),d.stepping=a,l)},l.useCurrent=function(a){var b=["year","month","day","hour","minute"];if(0===arguments.length)return d.useCurrent;if("boolean"!=typeof a&&"string"!=typeof a)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof a&&-1===b.indexOf(a.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+b.join(", "));return d.useCurrent=a,l},l.collapse=function(a){if(0===arguments.length)return d.collapse;if("boolean"!=typeof a)throw new TypeError("collapse() expects a boolean parameter");return d.collapse===a?l:(d.collapse=a,o&&(ba(),ga()),l)},l.icons=function(b){if(0===arguments.length)return a.extend({},d.icons);if(!(b instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return a.extend(d.icons,b),o&&(ba(),ga()),l},l.tooltips=function(b){if(0===arguments.length)return a.extend({},d.tooltips);if(!(b instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return a.extend(d.tooltips,b),o&&(ba(),ga()),l},l.useStrict=function(a){if(0===arguments.length)return d.useStrict;if("boolean"!=typeof a)throw new TypeError("useStrict() expects a boolean parameter");return d.useStrict=a,l},l.sideBySide=function(a){if(0===arguments.length)return d.sideBySide;if("boolean"!=typeof a)throw new TypeError("sideBySide() expects a boolean parameter");return d.sideBySide=a,o&&(ba(),ga()),l},l.viewMode=function(a){if(0===arguments.length)return d.viewMode;if("string"!=typeof a)throw new TypeError("viewMode() expects a string parameter");if(-1===r.indexOf(a))throw new TypeError("viewMode() parameter must be one of ("+r.join(", ")+") value");return d.viewMode=a,k=Math.max(r.indexOf(a),p),L(),l},l.toolbarPlacement=function(a){if(0===arguments.length)return d.toolbarPlacement;if("string"!=typeof a)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===u.indexOf(a))throw new TypeError("toolbarPlacement() parameter must be one of ("+u.join(", ")+") value");return d.toolbarPlacement=a,o&&(ba(),ga()),l},l.widgetPositioning=function(b){if(0===arguments.length)return a.extend({},d.widgetPositioning);if("[object Object]"!=={}.toString.call(b))throw new TypeError("widgetPositioning() expects an object variable");if(b.horizontal){if("string"!=typeof b.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(b.horizontal=b.horizontal.toLowerCase(),-1===t.indexOf(b.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+t.join(", ")+")");d.widgetPositioning.horizontal=b.horizontal}if(b.vertical){if("string"!=typeof b.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(b.vertical=b.vertical.toLowerCase(),-1===s.indexOf(b.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+s.join(", ")+")");d.widgetPositioning.vertical=b.vertical}return _(),l},l.calendarWeeks=function(a){if(0===arguments.length)return d.calendarWeeks;if("boolean"!=typeof a)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return d.calendarWeeks=a,_(),l},l.showTodayButton=function(a){if(0===arguments.length)return d.showTodayButton;if("boolean"!=typeof a)throw new TypeError("showTodayButton() expects a boolean parameter");return d.showTodayButton=a,o&&(ba(),ga()),l},l.showClear=function(a){if(0===arguments.length)return d.showClear;if("boolean"!=typeof a)throw new TypeError("showClear() expects a boolean parameter");return d.showClear=a,o&&(ba(),ga()),l},l.widgetParent=function(b){if(0===arguments.length)return d.widgetParent;if("string"==typeof b&&(b=a(b)),null!==b&&"string"!=typeof b&&!(b instanceof a))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return d.widgetParent=b,o&&(ba(),ga()),l},l.keepOpen=function(a){if(0===arguments.length)return d.keepOpen;if("boolean"!=typeof a)throw new TypeError("keepOpen() expects a boolean parameter");return d.keepOpen=a,l},l.focusOnShow=function(a){if(0===arguments.length)return d.focusOnShow;if("boolean"!=typeof a)throw new TypeError("focusOnShow() expects a boolean parameter");return d.focusOnShow=a,l},l.inline=function(a){if(0===arguments.length)return d.inline;if("boolean"!=typeof a)throw new TypeError("inline() expects a boolean parameter");return d.inline=a,l},l.clear=function(){return ca(),l},l.keyBinds=function(a){return 0===arguments.length?d.keyBinds:(d.keyBinds=a,l)},l.getMoment=function(a){return y(a)},l.debug=function(a){if("boolean"!=typeof a)throw new TypeError("debug() expects a boolean parameter");return d.debug=a,l},l.allowInputToggle=function(a){if(0===arguments.length)return d.allowInputToggle;if("boolean"!=typeof a)throw new TypeError("allowInputToggle() expects a boolean parameter");return d.allowInputToggle=a,l},l.showClose=function(a){if(0===arguments.length)return d.showClose;if("boolean"!=typeof a)throw new TypeError("showClose() expects a boolean parameter");return d.showClose=a,l},l.keepInvalid=function(a){if(0===arguments.length)return d.keepInvalid;if("boolean"!=typeof a)throw new TypeError("keepInvalid() expects a boolean parameter");return d.keepInvalid=a,l},l.datepickerInput=function(a){if(0===arguments.length)return d.datepickerInput;if("string"!=typeof a)throw new TypeError("datepickerInput() expects a string parameter");return d.datepickerInput=a,l},l.parseInputDate=function(a){if(0===arguments.length)return d.parseInputDate;if("function"!=typeof a)throw new TypeError("parseInputDate() sholud be as function");return d.parseInputDate=a,l},l.disabledTimeIntervals=function(b){if(0===arguments.length)return d.disabledTimeIntervals?a.extend({},d.disabledTimeIntervals):d.disabledTimeIntervals;if(!b)return d.disabledTimeIntervals=!1,_(),l;if(!(b instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return d.disabledTimeIntervals=b,_(),l},l.disabledHours=function(b){if(0===arguments.length)return d.disabledHours?a.extend({},d.disabledHours):d.disabledHours;if(!b)return d.disabledHours=!1,_(),l;if(!(b instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(d.disabledHours=oa(b),d.enabledHours=!1,d.useCurrent&&!d.keepInvalid){for(var c=0;!R(e,"h");){if(e.add(1,"h"),24===c)throw"Tried 24 times to find a valid date";c++}aa(e)}return _(),l},l.enabledHours=function(b){if(0===arguments.length)return d.enabledHours?a.extend({},d.enabledHours):d.enabledHours;if(!b)return d.enabledHours=!1,_(),l;if(!(b instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(d.enabledHours=oa(b),d.disabledHours=!1,d.useCurrent&&!d.keepInvalid){for(var c=0;!R(e,"h");){if(e.add(1,"h"),24===c)throw"Tried 24 times to find a valid date";c++}aa(e)}return _(),l},l.viewDate=function(a){if(0===arguments.length)return f.clone();if(!a)return f=e.clone(),l;if(!("string"==typeof a||b.isMoment(a)||a instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return f=da(a),K(),l},c.is("input"))g=c;else if(g=c.find(d.datepickerInput),0===g.length)g=c.find("input");else if(!g.is("input"))throw new Error('CSS class "'+d.datepickerInput+'" cannot be applied to non input element');if(c.hasClass("input-group")&&(n=0===c.find(".datepickerbutton").length?c.find(".input-group-addon"):c.find(".datepickerbutton")),!d.inline&&!g.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return e=y(),f=e.clone(),a.extend(!0,d,H()),l.options(d),pa(),la(),g.prop("disabled")&&l.disable(),g.is("input")&&0!==g.val().trim().length?aa(da(g.val().trim())):d.defaultDate&&void 0===g.attr("placeholder")&&aa(d.defaultDate),d.inline&&ga(),l};return a.fn.datetimepicker=function(b){b=b||{};var d,e=Array.prototype.slice.call(arguments,1),f=!0,g=["destroy","hide","show","toggle"];if("object"==typeof b)return this.each(function(){var d,e=a(this);e.data("DateTimePicker")||(d=a.extend(!0,{},a.fn.datetimepicker.defaults,b),e.data("DateTimePicker",c(e,d)))});if("string"==typeof b)return this.each(function(){var c=a(this),g=c.data("DateTimePicker");if(!g)throw new Error('bootstrap-datetimepicker("'+b+'") method was called on an element that is not using DateTimePicker');d=g[b].apply(g,e),f=d===g}),f||a.inArray(b,g)>-1?this:d;throw new TypeError("Invalid arguments for DateTimePicker: "+b)},a.fn.datetimepicker.defaults={timeZone:"",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:b.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(a){if(a){var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")?this.date(b.clone().subtract(7,"d")):this.date(b.clone().add(this.stepping(),"m"))}},down:function(a){if(!a)return void this.show();var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")?this.date(b.clone().add(7,"d")):this.date(b.clone().subtract(this.stepping(),"m"))},"control up":function(a){if(a){var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")?this.date(b.clone().subtract(1,"y")):this.date(b.clone().add(1,"h"))}},"control down":function(a){if(a){var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")?this.date(b.clone().add(1,"y")):this.date(b.clone().subtract(1,"h"))}},left:function(a){if(a){var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")&&this.date(b.clone().subtract(1,"d"))}},right:function(a){if(a){var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")&&this.date(b.clone().add(1,"d"))}},pageUp:function(a){if(a){var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")&&this.date(b.clone().subtract(1,"M"))}},pageDown:function(a){if(a){var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")&&this.date(b.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(a){a&&a.find(".timepicker").is(":visible")&&a.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},"delete":function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1},a.fn.datetimepicker}),function(a){"use strict";a.module("angulartics.google.tagmanager.cordova",["angulartics"]).provider("googleTagManagerCordova",function(){var b=["$q","$log","ready","debug","trackingId","period",function(a,b,c,d,e,f){function g(){d&&b.info(arguments)}function h(a){d&&b.error(a)}var i=a.defer(),j=!1;document.addEventListener("deviceReady",function(){j=!0,i.resolve()},!1),document.addEventListener("pause",function(){var a=window.plugins&&window.plugins.TagManager;a&&a.dispatch(g,h)},!1),document.addEventListener("resign",function(){var a=window.plugins&&window.plugins.TagManager;a&&a.dispatch(g,h)},!1),setTimeout(function(){j||i.resolve()},3e3),this.init=function(){return i.promise.then(function(){var a=window.plugins&&window.plugins.TagManager;a?a.init(function(){c(a,g,h)},h,e,f||30):d&&b.error("Google Tag Manager for Cordova is not available")})}}];return{$get:["$injector",function(c){return c.instantiate(b,{ready:this._ready||a.noop,debug:this.debug,trackingId:this.trackingId,period:this.period})}],ready:function(a){this._ready=a}}}).config(["$analyticsProvider","googleTagManagerCordovaProvider",function(a,b){b.ready(function(b,c,d){a.registerPageTrack(function(a){b.trackPage(c,d,a)}),a.registerEventTrack(function(a,e){b.trackEvent(c,d,e.category,a,e.label,e.value)})})}]).run(["googleTagManagerCordova",function(a){a.init()}])}(angular);